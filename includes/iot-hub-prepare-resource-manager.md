## <a name="prepare-to-authenticate-azure-resource-manager-requests"></a>Προετοιμασία για τον έλεγχο ταυτότητας αιτήσεις Azure διαχείρισης πόρων

Απαιτείται έλεγχος ταυτότητας όλες τις λειτουργίες που εκτελείτε στους πόρους χρησιμοποιώντας τη [Διαχείριση πόρων Azure] [ lnk-authenticate-arm] με Azure Active Directory (AD). Ο πιο εύκολος τρόπος για να ρυθμίσετε τις παραμέτρους σε αυτό είναι να χρησιμοποιήσετε PowerShell ή Azure CLI.

Θα πρέπει να εγκαταστήσετε [Azure PowerShell 1.0] [ lnk-powershell-install] ή νεότερη έκδοση, πριν να συνεχίσετε.

Τα παρακάτω βήματα δείχνουν πώς μπορείτε να ρυθμίσετε τον έλεγχο ταυτότητας κωδικού πρόσβασης για μια εφαρμογή AD χρησιμοποιώντας PowerShell. Μπορείτε να εκτελέσετε αυτές τις εντολές σε μια τυπική περίοδο λειτουργίας PowerShell.

1. Συνδεθείτε με τη συνδρομή σας Azure χρησιμοποιώντας την ακόλουθη εντολή:

    ```
    Login-AzureRmAccount
    ```

2. Σημειώστε τα **TenantId** και **SubscriptionId**. Θα τις χρειαστείτε αργότερα.

3. Δημιουργία νέας εφαρμογής υπηρεσίας καταλόγου Active Directory Azure χρησιμοποιώντας την παρακάτω εντολή, αντικαθιστώντας τα σύμβολα κράτησης θέσης:

    - **{Εμφανιζόμενο όνομα}:** ένα εμφανιζόμενο όνομα για την εφαρμογή σας όπως **MySampleApp**
    - **{URL αρχικής σελίδας}:** τη διεύθυνση URL της κεντρικής σελίδας από την εφαρμογή σας όπως **http://mysampleapp/home**. Αυτή η διεύθυνση URL δεν πρέπει να οδηγεί σε μια πραγματική εφαρμογή.
    - **{Αναγνωριστικό εφαρμογής}:** Ένα μοναδικό αναγνωριστικό, όπως **http://mysampleapp**. Αυτή η διεύθυνση URL δεν πρέπει να οδηγεί σε μια πραγματική εφαρμογή.
    - **{Κωδικός πρόσβασης}:** Ο κωδικός πρόσβασης που χρησιμοποιείτε για τον έλεγχο ταυτότητας με την εφαρμογή σας.

    ```
    New-AzureRmADApplication -DisplayName {Display name} -HomePage {Home page URL} -IdentifierUris {Application identifier} -Password {Password}
    ```
    
4. Σημειώστε τα **αναγνωριστικά εφαρμογής** της εφαρμογής που δημιουργήσατε. Θα χρειαστείτε αυτό αργότερα.

5. Δημιουργία μιας νέας υπηρεσίας κύρια χρησιμοποιώντας την παρακάτω εντολή, αντικαθιστώντας το **{MyApplicationId}** με τα **αναγνωριστικά εφαρμογής** από το προηγούμενο βήμα:

    ```
    New-AzureRmADServicePrincipal -ApplicationId {MyApplicationId}
    ```
    
6. Μια εκχώρηση ρόλου χρησιμοποιώντας την παρακάτω εντολή, αντικαθιστώντας το **{MyApplicationId}** με σας **αναγνωριστικά εφαρμογής**του προγράμματος εγκατάστασης.

    ```
    New-AzureRmRoleAssignment -RoleDefinitionName Owner -ServicePrincipalName {MyApplicationId}
    ```
    
Τώρα, έχετε ολοκληρώσει τη δημιουργία της εφαρμογής Azure AD που θα σας επιτρέψει να πραγματοποιήσει έλεγχο ταυτότητας από την προσαρμοσμένη εφαρμογή C#. Παρακάτω σε αυτό το πρόγραμμα εκμάθησης, θα χρειαστείτε τις παρακάτω τιμές:

- TenantId
- SubscriptionId
- Αναγνωριστικά εφαρμογής
- Κωδικός πρόσβασης

[lnk-authenticate-arm]: https://msdn.microsoft.com/library/azure/dn790557.aspx
[lnk-powershell-install]: ../articles/powershell-install-configure.md
