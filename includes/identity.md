Διαχείριση της ταυτότητάς είναι εξίσου σημαντικό στο cloud δημόσια ως έχει εσωτερικής εγκατάστασης. Για να σας βοηθήσει με αυτό, Azure υποστηρίζει πολλές διαφορετικές cloud ταυτότητας τεχνολογίες. Περιλαμβάνουν τα εξής:

- Μπορείτε να εκτελέσετε το Windows Server υπηρεσίας καταλόγου Active Directory (συνήθως ονομάζεται απλώς AD) στο cloud χρησιμοποιώντας εικονικές μηχανές που δημιουργήθηκαν με Azure εικονικές μηχανές. Αυτή η προσέγγιση έχει νόημα όταν χρησιμοποιείτε Azure για να επεκτείνετε το κέντρο δεδομένων εσωτερικής εγκατάστασης στο cloud.


- Μπορείτε να χρησιμοποιήσετε Azure Active Directory για να δώσετε σας χρήστες καθολικής σύνδεσης για τις εφαρμογές του [λογισμικού ως υπηρεσία (ΑΠΑ)](https://azure.microsoft.com/overview/what-is-saas/) . Του Microsoft Office 365 χρησιμοποιεί αυτήν την τεχνολογία, για παράδειγμα, και εφαρμογές που εκτελούνται σε Azure ή άλλες πλατφόρμες cloud επίσης να το χρησιμοποιήσετε.


- Εφαρμογές που εκτελούνται στο cloud ή εσωτερικής εγκατάστασης να χρησιμοποιήσετε Azure Active Directory τον έλεγχο πρόσβασης για να επιτρέπει στους χρήστες καταγραφής χρησιμοποιώντας τις ταυτότητες από το Facebook, Google, Microsoft και άλλες υπηρεσίες παροχής ταυτότητας.


Σε αυτό το άρθρο περιγράφει τις τρεις από αυτές τις επιλογές.

## <a name="table-of-contents"></a>Πίνακας περιεχομένων

- [Εκτέλεση του Windows Server υπηρεσίας καταλόγου Active Directory σε εικονικές μηχανές](#adinvm)

- [Χρήση του καταλόγου Azure Active Directory](#ad)

- [Χρήση του ελέγχου πρόσβασης καταλόγου Azure Active Directory](#ac)


## <a name="adinvm"></a>Εκτέλεση του Windows Server υπηρεσίας καταλόγου Active Directory σε εικονικές μηχανές

Εκτέλεση AD του Windows Server σε εικονικές μηχανές Windows Azure μοιάζει πολύ με την εκτέλεση εσωτερικής εγκατάστασης. [Το σχήμα 1](#fig1) δείχνει ένα τυπικό παράδειγμα τον τρόπο εμφάνισης.

![Καταλόγου Azure Active Directory σε εικονική μηχανή](./media/identity/identity_01_ADinVM.png)


<a name="Fig1"></a>Εικόνα 1: Windows Server υπηρεσίας καταλόγου Active Directory να εκτελέσετε στο Azure εικονικές μηχανές συνδεδεμένη με μια εταιρεία εσωτερικής εγκατάστασης, κέντρο δεδομένων χρησιμοποιώντας Azure εικονικού δικτύου.

Στο παράδειγμα που φαίνεται εδώ, Windows Server AD εκτελείται στο ΣΠΣ που δημιουργούνται με χρήση εικονικές μηχανές Windows Azure, τεχνολογία IaaS της πλατφόρμας. Αυτά τα ΣΠΣ και μερικά άλλα άτομα είναι ομαδοποιημένα σε ένα εικονικό δίκτυο συνδεδεμένο με ένα κέντρο δεδομένων εσωτερικής εγκατάστασης χρησιμοποιώντας Azure εικονικού δικτύου. Αφαιρεί το εικονικό δίκτυο εκτός μιας ομάδας cloud εικονικές μηχανές που αλληλεπιδρούν με το δίκτυο εσωτερικής εγκατάστασης μέσω σύνδεσης εικονικού ιδιωτικού δικτύου (VPN). Σας επιτρέπει να κάνετε αυτές τις Azure εικονικές μηχανές μοιάζει με απλώς μια άλλη υποδικτύου με το κέντρο δεδομένων εσωτερικής εγκατάστασης. Όπως δείχνει η εικόνα, δύο από αυτά τα ΣΠΣ εκτελούνται ελεγκτές τομέα του Windows Server AD. Τις άλλες εικονικές μηχανές του εικονικού δικτύου μπορεί να εκτελεί εφαρμογές, όπως το SharePoint ή να χρησιμοποιείται σε άλλο τρόπο, όπως για ανάπτυξη και δοκιμές. Το κέντρο δεδομένων εσωτερικής εγκατάστασης εκτελείται επίσης δύο ελεγκτές τομέα AD του Windows Server.

Υπάρχουν αρκετές επιλογές για τη σύνδεση ελεγκτές τομέα στο cloud με εκείνους που εκτελούν εσωτερικής εγκατάστασης:

- Πραγματοποίηση όλες τις ανήκει σε ένα μεμονωμένο τομέα υπηρεσίας καταλόγου Active Directory.

- Δημιουργία ξεχωριστή AD τομέων εσωτερικής εγκατάστασης και στο cloud που αποτελούν μέρος στο ίδιο δάσος.

- Δημιουργία ξεχωριστή συμπλεγμάτων δομών AD στο cloud και εσωτερικής εγκατάστασης και, στη συνέχεια, συνδεθείτε το συμπλεγμάτων δομών χρησιμοποιώντας αξιοπιστίας σταυρό δάσος ή Windows Server υπηρεσίες Active Directory Federation (AD FS), που μπορούν να εκτελούνται επίσης σε εικονικές μηχανές Azure.

Ανεξάρτητα από προεπιλογή, ο διαχειριστής πρέπει να βεβαιωθείτε ότι αιτήσεις ελέγχου ταυτότητας από χρήστες εσωτερικής μεταβείτε στο cloud ελεγκτές τομέα μόνο όταν είναι απαραίτητο, επειδή η σύνδεση στο cloud είναι πιθανό να είναι μικρότερη από δίκτυα εσωτερικής εγκατάστασης. Ένας άλλος παράγοντας για να λάβετε υπόψη σας στο cloud συνδετικές και ελεγκτές τομέα εσωτερικής εγκατάστασης είναι η κίνηση που δημιουργείται από την αναπαραγωγή. Οι ελεγκτές τομέα στο cloud είναι συνήθως στη δική τους τοποθεσία AD, η οποία επιτρέπει στο διαχειριστή για να προγραμματίσετε πόσο συχνά γίνεται αναπαραγωγή. Azure χρεώσεις για την κίνηση που αποστέλλονται από ένα κέντρο δεδομένων του Azure, παρόλο που δεν για byte αποστολή, στο οποίο μπορεί να επηρεάσει τις επιλογές αναπαραγωγής του διαχειριστή. Επίσης, είναι αξίζει παραπέμπουν σε ενώ Azure παρέχει υποστήριξη δικό του συστήματος ονομάτων τομέα (DNS), αυτή η υπηρεσία δεν διαθέτει δυνατότητες που απαιτούνται από την υπηρεσία καταλόγου Active Directory (όπως υποστήριξη για τις εγγραφές DNS δυναμικής και SRV). Αυτόν το λόγο, εκτελούν τον Windows Server AD σε Azure απαιτεί τη ρύθμιση οι διακομιστές DNS τη δική σας στο cloud.

Εκτελούν τον Windows Server AD στο ΣΠΣ Azure μπορεί να έχει νόημα σε πολλές διαφορετικές καταστάσεις. Ακολουθούν ορισμένα παραδείγματα:

- Εάν χρησιμοποιείτε εικονικές μηχανές Windows Azure ως επέκταση του δικού σας κέντρου δεδομένων, ενδέχεται να μπορείτε να εκτελέσετε τις εφαρμογές στο cloud που χρειάζεστε ελεγκτές τοπικό τομέα για να χειριστούν πράγματα όπως αιτήσεις ενσωματωμένο έλεγχο ταυτότητας των Windows ή ερωτήματα LDAP. SharePoint, για παράδειγμα, αλληλεπιδρά συχνά με την υπηρεσία καταλόγου Active Directory και, επομένως, ενώ είναι δυνατό να εκτελέσετε μια συστοιχία του SharePoint στο Azure χρησιμοποιώντας έναν κατάλογο εσωτερικής εγκατάστασης, τη ρύθμιση του τομέα ελεγκτές στο cloud σημαντικά βελτιώνουν τις επιδόσεις. (Αυτό είναι σημαντικό να γνωρίζετε ότι δεν είναι απαραίτητα απαιτείται, ωστόσο, αρκετός διαθέσιμος εφαρμογές να εκτελέσετε με επιτυχία στο cloud χρησιμοποιώντας μόνο ελεγκτές τομέα εσωτερικής εγκατάστασης.)

- Ας υποθέσουμε ότι ένα μακρινές υποκατάστημα δεν διαθέτει τους πόρους για να εκτελέσετε τη δική ελεγκτές τομέα. Σήμερα, οι χρήστες πρέπει να ελέγχουν την ταυτότητα για ελεγκτές τομέα στην άλλη πλευρά του κόσμου: οι συνδέσεις είναι αργή. Εκτέλεση υπηρεσίας καταλόγου Active Directory στο Azure σε μια πιο κοντινή κέντρου δεδομένων του Microsoft να επιταχύνετε αυτό χωρίς να απαιτείται περισσότερων διακομιστών στο υποκατάστημα του.

- Μια εταιρεία που χρησιμοποιεί Azure για αποκατάσταση μπορεί να διατηρούν μια μικρή ομάδα ενεργό ΣΠΣ στο cloud, όπως έναν ελεγκτή τομέα. Μπορεί να είναι προετοιμασμένοι, στη συνέχεια, για να αναπτύξετε αυτήν την τοποθεσία όπως απαιτείται για να αναλάβετε τον έλεγχο για σφάλματα σε κάποιο άλλο σημείο.

Υπάρχουν επίσης άλλες δυνατότητες. Για παράδειγμα, δεν είστε απαιτείται να συνδεθείτε Windows Server AD στο cloud σε ένα κέντρο δεδομένων εσωτερικής εγκατάστασης. Εάν θέλετε να εκτελέσετε μια συστοιχία του SharePoint που λειτουργούσαν ένα συγκεκριμένο σύνολο χρηστών, για παράδειγμα, όλους τους οποίους θα συνδεθείτε στο αποκλειστικά με τις ταυτότητες που βασίζεται στο cloud, ενδέχεται να μπορείτε να δημιουργήσετε μια μεμονωμένη δάσος σε Azure. Πώς μπορείτε να χρησιμοποιήσετε αυτήν την τεχνολογία εξαρτάται από το τι είναι οι τους στόχους σας. (Για πιο λεπτομερείς οδηγίες σχετικά με τη χρήση του Windows Server AD με Azure, [δείτε εδώ](http://msdn.microsoft.com/library/windowsazure/jj156090.aspx).)

## <a name="ad"></a>Χρήση του καταλόγου Azure Active Directory

Καθώς οι εφαρμογές ΑΔΑ γίνονται και πιο κοινές, μπορούν να επιβάλλουν μια εμφανή ερώτηση: τι είδους υπηρεσία καταλόγου πρέπει να χρησιμοποιήσετε αυτές τις εφαρμογές που βασίζεται στο cloud; Της Microsoft απάντηση στην ερώτηση αυτή είναι Azure Active Directory.

Υπάρχουν δύο βασικές επιλογές για τη χρήση αυτής της υπηρεσίας καταλόγου στο cloud:

- Άτομα και εταιρείες που χρησιμοποιούν μόνο ΑΔΑ εφαρμογές μπορούν να βασίζονται σε Azure Active Directory ως υπηρεσία τους αποκλειστικά καταλόγου.

- Εταιρείες, οι οποίοι εκτελούν τον Windows Server υπηρεσίας καταλόγου Active Directory μπορεί να συνδεθείτε τους εσωτερικής καταλόγου Azure Active Directory, στη συνέχεια, χρησιμοποιήστε το για να δώσετε τους χρήστες καθολικής σύνδεσης σε εφαρμογές ΑΔΑ.


[Εικόνα 2](#fig2) απεικονίζει την πρώτη από αυτές τις δύο επιλογές, όπου Azure Active Directory είναι το σύνολο που είναι απαραίτητη.

![Καταλόγου Azure Active Directory σε εικονική μηχανή](./media/identity/identity_02_AD.png)

<a name="fig2"></a>Εικόνα 2: Azure Active Directory παρέχει μια εταιρεία χρήστες καθολικής σύνδεσης σε εφαρμογές ΑΔΑ, συμπεριλαμβανομένου του Office 365.

Όπως δείχνει η εικόνα, Azure AD είναι μια υπηρεσία πολλών μισθωτή. Αυτό σημαίνει ότι ταυτόχρονα να υποστηρίζει πολλές διαφορετικές εταιρείες, την αποθήκευση πληροφοριών καταλόγου σχετικά με τους χρήστες σε κάθε μία από αυτές. Σε αυτό το παράδειγμα, ενός χρήστη στην εταιρεία A προσπαθεί να αποκτήσετε πρόσβαση σε μια εφαρμογή ΑΔΑ. Αυτή η εφαρμογή μπορεί να είναι μέρος του Office 365, όπως το SharePoint Online, ή μπορεί να είναι κάτι άλλο - εφαρμογές που δεν ανήκουν στη Microsoft επίσης να χρησιμοποιήσετε αυτήν την τεχνολογία. Επειδή το Azure AD υποστηρίζει το πρωτόκολλο SAML 2.0, μόνο που είναι απαραίτητη από μια εφαρμογή είναι η δυνατότητα αλληλεπίδρασης χρησιμοποιώντας αυτό το πρότυπο κλάδο. (Στην πραγματικότητα, οι εφαρμογές που χρησιμοποιούν Azure AD δυνατό να εκτελεστεί σε οποιαδήποτε κέντρα δεδομένων, όχι μόνο μια Azure κέντρου δεδομένων.)

Η διαδικασία ξεκινά όταν ο χρήστης αποκτά πρόσβαση σε μια εφαρμογή ΑΔΑ (βήμα 1). Για να χρησιμοποιήσετε αυτήν την εφαρμογή, ο χρήστης πρέπει να παρουσιάσει ενός διακριτικού εκδοθεί από Azure AD.

Το διακριτικό αυτό περιέχει πληροφορίες που προσδιορίζει το χρήστη και έχει υπογραφεί ψηφιακά από Azure AD. Για να λάβετε το διακριτικό, ο χρήστης πραγματοποιεί έλεγχο ταυτότητας ο ίδιος στο Azure AD, παρέχοντας ένα όνομα χρήστη και τον κωδικό πρόσβασης (βήμα 2). Azure AD, στη συνέχεια, επιστρέφει το διακριτικό εσείς χρειάζεται (βήμα 3).

Αυτό το διακριτικό, στη συνέχεια, θα σταλεί στην εφαρμογή ΑΔΑ (βήμα 4), το οποίο επικυρώσει το διακριτικό υπογραφής και χρησιμοποιεί τα περιεχόμενά (βήμα 5). Συνήθως, η εφαρμογή θα χρησιμοποιήσει τις πληροφορίες ταυτότητας που περιέχει το διακριτικό για να αποφασίσετε ποιες πληροφορίες που επιτρέπονται για το χρήστη στην access και ίσως με άλλους τρόπους.

Εάν η εφαρμογή χρειάζεται περισσότερες πληροφορίες σχετικά με το χρήστη από όσα περιέχονται στο διακριτικό, μπορεί να ζητά αυτό απευθείας από το Azure AD με χρήση του API Azure AD Graph (βήμα 6). Στην αρχική έκδοση του Azure AD, σχήμα της υπηρεσίας καταλόγου είναι αρκετά απλή: περιέχει μόνο χρήστες και ομάδες και σχέσεις μεταξύ τους. Εφαρμογές μπορούν να χρησιμοποιήσουν αυτές τις πληροφορίες για να μάθετε σχετικά με τις συνδέσεις μεταξύ των χρηστών. Για παράδειγμα, ας υποθέσουμε ότι μια εφαρμογή πρέπει να γνωρίζετε ποιος είναι διαχειριστής αυτού του χρήστη για να αποφασίσετε εάν αυτός περιλαμβάνει επιτρέπεται η πρόσβαση σε ορισμένες μπλοκ δεδομένων. Το να το μάθετε με την υποβολή ερωτημάτων Azure AD μέσω του API Graph.

Το API Graph χρησιμοποιεί μια κανονική RESTful πρωτόκολλο, το οποίο σας επιτρέπει να απλές για να χρησιμοποιήσετε από τα περισσότερα προγράμματα-πελάτες, συμπεριλαμβανομένων των κινητών συσκευών. Το API υποστηρίζει επίσης τις επεκτάσεις που ορίζονται από το OData, προσθέτοντας πράγματα όπως μια γλώσσα ερωτημάτων για να επιτρέψετε σε προγράμματα-πελάτες πρόσβαση σε δεδομένα με πιο χρήσιμο τρόπους. (Για περισσότερες πληροφορίες σχετικά με το OData, ανατρέξτε στο θέμα [Εισαγωγή OData](http://download.microsoft.com/download/E/5/A/E5A59052-EE48-4D64-897B-5F7C608165B8/IntroducingOData.pdf).) Επειδή το API Graph μπορούν να χρησιμοποιηθούν για να μάθετε σχετικά με τις σχέσεις μεταξύ των χρηστών, σας επιτρέπει να εφαρμογές Κατανόηση κοινωνικό γράφημα που είναι ενσωματωμένο στο σχήμα Azure AD για ένα συγκεκριμένο οργανισμό (το οποίο είναι ο λόγος που ονομάζεται το API Graph). Και για τον έλεγχο ταυτότητας ίδια Azure AD για αιτήσεις Graph API, μια εφαρμογή χρησιμοποιεί διακριτικό 2.0.

Εάν μια εταιρεία δεν χρησιμοποιεί Windows Server υπηρεσίας καταλόγου Active Directory - δεν έχει διακομιστών εσωτερικής ή τομείς - και βασίζεται μόνο στο cloud εφαρμογές που χρησιμοποιούν Azure AD, χρησιμοποιώντας απλώς αυτόν τον κατάλογο cloud θα δώσει της επιχείρησης χρήστες καθολικής σύνδεσης σε όλες τις. Ακόμη ενώ αυτό το σενάριο λαμβάνει πιο κοινές καθημερινά, οι περισσότερες εταιρείες εξακολουθεί να χρήση εσωτερικής τομείς που δημιουργήθηκαν με Windows Server υπηρεσίας καταλόγου Active Directory. Azure AD έχει χρήσιμο ρόλο για την αναπαραγωγή εδώ, όπως δείχνει η [εικόνα 3](#fig3) .

![Azure Active Directory σε εικονική μηχανή](./media/identity/identity_03_AD.png)
<a id="fig3"></a>εικόνα 3: μια εταιρεία να δημιουργήσετε Ομοσπονδία Windows Server υπηρεσίας καταλόγου Active Directory με το Azure Active Directory για να δώσετε τις χρήστες καθολικής σύνδεσης για τις εφαρμογές του ΑΔΑ.

Σε αυτό το σενάριο, ένας χρήστης στην εταιρεία B θέλει να έχει πρόσβαση μια εφαρμογή ΑΔΑ. Πριν από την κάνει το κάνει αυτό, διαχειριστές καταλόγου της εταιρείας πρέπει να δημιουργήσετε μια σχέση Ομοσπονδία με Azure AD χρησιμοποιώντας AD FS, όπως φαίνεται στο σχήμα. Αυτές οι διαχειριστές επίσης πρέπει να ρυθμίσετε τις παραμέτρους Συγχρονισμός δεδομένων μεταξύ της εταιρείας Windows Server εσωτερικής AD και Azure AD. Αυτό αντιγράφει αυτόματα πληροφορίες χρηστών και ομάδων από τον κατάλογο εσωτερικής εγκατάστασης στο Azure AD. Παρατηρήστε αυτό επιτρέπει: σε ισχύ, η εταιρεία είναι επέκταση του καταλόγου εσωτερικής εγκατάστασης στο cloud. Συνδυασμός Windows Server AD και Azure AD με αυτόν τον τρόπο παρέχει εταιρεία μια υπηρεσία καταλόγου που μπορεί να γίνει διαχείριση ως μία οντότητα, ενώ εξακολουθείτε να αντιμετωπίζετε ένα αποτύπωμα δύο εσωτερικής εγκατάστασης και στο cloud.

Για να χρησιμοποιήσετε Azure AD, ο χρήστης πρώτα συνδέεται με το τομέα Active Directory εσωτερικής εγκατάστασης ως συνήθως (βήμα 1). Όταν ο χρήστης προσπαθήσει να αποκτήσει πρόσβαση στην εφαρμογή ΑΔΑ (βήμα 2), η διαδικασία Ομοσπονδία αποτέλεσμα Azure AD εκδίδει εκείνη ενός διακριτικού για αυτήν την εφαρμογή (βήμα 3). (Για περισσότερες πληροφορίες σχετικά με τον τρόπο λειτουργίας ομοσπονδίας, ανατρέξτε στο θέμα [ταυτότητας βάσει αξιώσεων για τα Windows: τεχνολογίες και σενάρια](http://www.davidchappell.com/writing/white_papers/Claims-Based_Identity_for_Windows_v3.0--Chappell.docx).) Καθώς παλαιότερα, το διακριτικό αυτό περιέχει πληροφορίες που προσδιορίζει το χρήστη και έχει υπογραφεί ψηφιακά από Azure AD. Αυτό το διακριτικό, στη συνέχεια, θα σταλεί στην εφαρμογή ΑΔΑ (βήμα 4), το οποίο επικυρώσει το διακριτικό υπογραφής και χρησιμοποιεί τα περιεχόμενά (βήμα 5). Και είναι στο προηγούμενο σενάριο, η ΑΠΑ εφαρμογή μπορεί να χρησιμοποιήσει το API του γραφήματος για να μάθετε περισσότερα σχετικά με αυτόν το χρήστη, εάν είναι απαραίτητο (βήμα 6).

Σήμερα, Azure AD δεν ολοκληρωθεί αντικαθιστά Windows Server εσωτερικής εγκατάστασης AD. Όπως έχει ήδη αναφερθεί, ο κατάλογος cloud έχει ένα πολύ πιο απλά σχήμα και, επίσης λείπουν πράγματα όπως η πολιτική ομάδας, τη δυνατότητα να αποθηκεύσετε πληροφορίες σχετικά με τις μηχανές και υποστήριξης για το LDAP. (Στην πραγματικότητα, έναν υπολογιστή Windows δεν είναι δυνατό να ρυθμιστεί ώστε να επιτρέπει στους χρήστες να χρησιμοποιώντας τίποτα αλλά Azure AD - αυτή δεν είναι μια υποστηριζόμενη σενάριο.) Αντί για αυτό, το αρχικό τους στόχους του Azure AD περιλαμβάνουν επιτρέποντάς εφαρμογές access της επιχείρησής τους χρήστες στο cloud χωρίς να διατηρήσετε μια ξεχωριστή σύνδεση και απελευθέρωση εσωτερικής διαχειριστές καταλόγου από το συγχρονισμό με μη αυτόματο τρόπο τους κατάλογο εσωτερικής εγκατάστασης με κάθε εφαρμογή ΑΔΑ χρησιμοποιεί οργανισμού τους. Διάρκεια του χρόνου, ωστόσο, περιμένετε αυτήν την υπηρεσία καταλόγου cloud για να αντιμετωπίσετε ένα ευρύτερο πλήθος σενάρια.

## <a name="ac"></a>Χρήση του ελέγχου πρόσβασης καταλόγου Azure Active Directory

Τεχνολογίες ταυτότητας που βασίζεται στο cloud μπορεί να χρησιμοποιηθεί για την επίλυση διάφορα προβλήματα. Καταλόγου Azure Active Directory να δώσετε μια εταιρεία χρήστες καθολικής σύνδεσης σε πολλές εφαρμογές ΑΔΑ, για παράδειγμα. Αλλά τεχνολογίες ταυτότητα στο cloud μπορεί επίσης να χρησιμοποιηθεί με άλλους τρόπους.

Ας υποθέσουμε, για παράδειγμα, ότι μια εφαρμογή ευχές για τους χρήστες να συνδεθείτε χρησιμοποιώντας τα διακριτικά εκδοθεί από πολλές *υπηρεσίες παροχής ταυτότητας (IdPs)*. Πολλές υπηρεσίες παροχής ταυτότητας διαφορετικό υπάρχει σήμερα, συμπεριλαμβανομένων των Facebook, Google, Microsoft και άλλα άτομα, και εφαρμογές συχνά επιτρέπουν στους χρήστες να συνδεθώ χρησιμοποιώντας μία από αυτές τις ταυτότητες. Γιατί θα πρέπει να μια εφαρμογή σας ενοχλήσει ξανά, για να διατηρήσετε τη δική του λίστα των χρηστών και κωδικούς πρόσβασης, όταν το αντί για αυτό να εξαρτώνται από τις ταυτότητες που υπάρχουν ήδη; Αποδοχή υπάρχουσες ταυτότητες κάνει ζωή απλούστερο τόσο για τους χρήστες που έχουν ένα λιγότερο όνομα χρήστη και τον κωδικό πρόσβασης για να θυμάστε, καθώς και για τα άτομα που δημιουργούν την εφαρμογή, που δεν χρειάζεστε πλέον για να διατηρήσετε τις δικές τους λίστες με τα ονόματα των χρηστών και τους κωδικούς πρόσβασης.

Αλλά ενώ κάθε υπηρεσία παροχής ταυτότητας ζητήματα κάποιο είδος διακριτικό, αυτά τα διακριτικά δεν είναι τυπική - κάθε IdP διαθέτει δικό του μορφοποίηση. Επιπλέον, οι πληροφορίες σε αυτά τα διακριτικά επίσης δεν είναι τυπική. Μια εφαρμογή η οποία ευχές για να αποδεχτείτε διακριτικά εκδοθεί από, πείτε, Facebook, Google και Microsoft είναι Αντιμέτωπος με το δύσκολο γραφής μοναδικό κωδικό για το χειρισμό κάθε μία από αυτές τις διαφορετικές μορφές.

Όμως, γιατί να το κάνετε αυτό; Γιατί να μην δημιουργήσετε ενός ενδιάμεσου που μπορεί να δημιουργήσει μια μεμονωμένη διακριτικού μορφή με μια κοινές αναπαράσταση των πληροφοριών ταυτότητας; Αυτή η προσέγγιση θα το έκανε ζωή απλούστερο για τους προγραμματιστές που δημιουργούν εφαρμογές, επειδή τώρα πρέπει να χειριστείτε μόνο ένα είδος διακριτικού. Azure Active Directory τον έλεγχο πρόσβασης κάνει ακριβώς αυτό, παρέχοντας ενδιάμεσο στο cloud για την εργασία με τα διακριτικά διάφορων τύπων. [Εικόνα 4](#fig4) εμφανίζει τον τρόπο που λειτουργεί

![Azure Active Directory σε εικονική μηχανή](./media/identity/identity_04_IdentityProviders.png)
<a id="fig4"></a>εικόνα 4: Azure Active Directory τον έλεγχο πρόσβασης διευκολύνει για αποδοχή διακριτικά ταυτότητας εκδοθεί από υπηρεσίες παροχής ταυτότητας διαφορετικές εφαρμογές.

Η διαδικασία ξεκινά όταν ένας χρήστης επιχειρεί να αποκτήσετε πρόσβαση στην εφαρμογή από ένα πρόγραμμα περιήγησης. Η εφαρμογή ανακατευθύνει της να μια IdP από την επιλογή (και ότι η εφαρμογή εμπιστεύεται επίσης). Χρήστης πραγματοποιεί έλεγχο ταυτότητας τον εαυτό της σε αυτό το IdP, όπως εισάγοντας ένα όνομα χρήστη και τον κωδικό πρόσβασης (βήμα 1), και το IdP επιστρέφει ένα διακριτικό που περιέχει πληροφορίες σχετικά με το (βήμα 2).

Όπως δείχνει η εικόνα, μια περιοχή διαφορετική IdPs βασίζεται στο cloud, όπως οι λογαριασμοί που δημιουργήθηκε από το Google, Yahoo, Facebook, Microsoft (γνωστό παλαιότερα ως Windows Live ID) και οποιαδήποτε υπηρεσία παροχής OpenID υποστηρίζει το στοιχείο ελέγχου πρόσβασης. Επίσης, υποστηρίζει τις ταυτότητες που δημιουργούνται με χρήση Azure Active Directory και, μέσω Ομοσπονδία με AD FS, Windows Server υπηρεσίας καταλόγου Active Directory. Ο στόχος είναι να καλύπτει τις πιο συχνά χρησιμοποιούμενες ταυτότητες σήμερα, εάν είστε που εκδίδονται από IdPs στο cloud ή εσωτερικής εγκατάστασης.

Μόλις περιήγησης του χρήστη διαθέτει ένα διακριτικό IdP από την επιλεγμένη IdP, αποστέλλει αυτό διακριτικού ελέγχου πρόσβασης (βήμα 3). Έλεγχος πρόσβασης επικυρώσει το διακριτικό, βεβαιωθείτε ότι το πραγματικά έχει εκδοθεί από αυτό IdP, στη συνέχεια, δημιουργεί έναν νέο κωδικό σύμφωνα με τους κανόνες που έχουν οριστεί για αυτήν την εφαρμογή. Όπως Azure Active Directory, ο έλεγχος πρόσβασης είναι μια υπηρεσία πολλών μισθωτή, αλλά το μισθωτές είναι εφαρμογές και όχι εταιρείες πελατών. Κάθε εφαρμογή μπορεί να λάβετε το δικό του χώρο ονομάτων, όπως φαίνεται στο σχήμα και να ορίσετε διάφορες κανόνες σχετικά με την άδεια και πολλά άλλα.

Αυτοί οι κανόνες σας επιτρέπουν να ορίσετε πώς διακριτικά από διάφορες IdPs θα πρέπει να μετατρέπονται σε ένα διακριτικό έλεγχο πρόσβασης διαχειριστή κάθε εφαρμογή. Για παράδειγμα, εάν διαφορετική IdPs χρησιμοποιούν διαφορετικούς τύπους για που αντιπροσωπεύει τα ονόματα των χρηστών, κανόνες ελέγχου πρόσβασης να μετατρέψετε όλες αυτές τις διαδικασίες στο κοινό τύπο όνομα χρήστη. Έλεγχος πρόσβασης, στη συνέχεια, στέλνει αυτό το διακριτικό νέο πρόγραμμα περιήγησης (βήμα 4), το οποίο υποβάλλει στην εφαρμογή (βήμα 5). Όταν έχει το διακριτικό έλεγχο πρόσβασης, η εφαρμογή επαληθεύει ότι αυτό το διακριτικό πραγματικά έχει εκδοθεί από τον έλεγχο πρόσβασης, στη συνέχεια, χρησιμοποιεί τις πληροφορίες που περιέχει (βήμα 6).

Ενώ αυτή η διαδικασία μπορεί να φαίνεται λίγο περίπλοκη, στην πραγματικότητα βγάζει ζωή σημαντικά απλούστερο για το δημιουργό της εφαρμογής. Αντί να χειριστείτε διάφορων τύπων διακριτικά που περιέχει διαφορετικές πληροφορίες, η εφαρμογή μπορεί να αποδεχτεί ταυτότητες εκδοθεί από πολλές υπηρεσίες παροχής ταυτότητας ενώ εξακολουθείτε να λαμβάνετε μόνο ένα μεμονωμένο διακριτικό με γνωστές πληροφορίες. Επίσης, αντί να απαιτούν κάθε εφαρμογή να ρυθμιστεί ώστε να θεωρηθεί αξιόπιστος διάφορα IdPs, αυτές οι σχέσεις αξιοπιστίας διατηρούνται αντί για αυτό, έλεγχος πρόσβασης - μια εφαρμογή του μόνο το χρειάζεστε αξιοπιστίας.

Αξίζει να παραπέμπουν σε ότι τίποτα για τον έλεγχο πρόσβασης είναι συνδεδεμένη με το Windows - απλώς καθώς και θα μπορούσε να χρησιμοποιηθεί από μια εφαρμογή Linux που έγινε αποδεκτή μόνο ταυτότητες Google και το Facebook. Και ακόμη και αν ο έλεγχος πρόσβασης είναι μέρος της οικογένειας Azure Active Directory, μπορείτε να θεωρήσετε το ως υπηρεσία διακριτές εντελώς από το τι περιγράφηκε στην προηγούμενη ενότητα. Ενώ και οι δύο τεχνολογίες εργαστείτε με ταυτότητα, αυτές αντιμετωπίζουν προβλήματα αρκετά διαφορετικά (παρόλο που η Microsoft έχει said που θεωρεί ότι για να ενσωματώσετε τις δύο κάποια στιγμή).

Εργασία με ταυτότητα είναι σημαντικό σε σχεδόν κάθε εφαρμογή του. Είναι ο στόχος ελέγχου πρόσβασης ώστε να είναι πιο εύκολη για τους προγραμματιστές για να δημιουργήσετε εφαρμογές που δέχονται τις ταυτότητες από υπηρεσίες παροχής ταυτότητας διάφορων τύπων. Όταν εισάγετε αυτήν την υπηρεσία στο cloud, Microsoft έχει κάνει διαθέσιμες σε οποιαδήποτε εφαρμογή εκτελείται σε οποιαδήποτε πλατφόρμα.

##<a name="about-the-author"></a>Πληροφορίες για το συντάκτη

Ο Γιώργος κάνει Chappell είναι κεφαλαίου της Chappell & Associates [www.davidchappell.com](http://www.davidchappell.com) στο Σαν Φρανσίσκο, Καλιφόρνια.
