<properties
   pageTitle="Χρήση δυναμικής DNS για την καταχώρηση ονόματα"
   description="Αυτή η σελίδα παρέχει λεπτομέρειες σχετικά με τη ρύθμιση του δυναμικού DNS για να καταχωρήσετε ονόματα στο δικό σας διακομιστές DNS."
   services="dns"
   documentationCenter="na"
   authors="GarethBradshawMSFT"
   manager="carmonm"
   editor="" />
<tags
   ms.service="dns"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="08/31/2016"
   ms.author="sewhee" />

# <a name="using-dynamic-dns-to-register-hostnames-in-your-own-dns-server"></a>Χρήση του δυναμικού DNS για να καταχωρήσετε ονόματα στο δικό σας διακομιστή DNS

[Azure παρέχει επίλυση ονομάτων](virtual-networks-name-resolution-for-vms-and-role-instances.md) για εικονικές μηχανές (ΣΠΣ) και παρουσίες ρόλο. Ωστόσο, όταν η επίλυση ονομάτων χρειάζεται πέρα από αυτά που παρέχονται από Azure, μπορείτε να παρέχετε τις δικές σας διακομιστές DNS. Το αποτέλεσμα για να προσαρμόσετε τη λύση σας DNS σύμφωνα με τις συγκεκριμένες ανάγκες το δικό σας. Για παράδειγμα, ίσως χρειαστεί να αποκτήσετε πρόσβαση σε πόρους στην εσωτερική εγκατάσταση μέσω του ελεγκτή τομέα της υπηρεσίας καταλόγου Active Directory.

Όταν το προσαρμοσμένο διακομιστές DNS φιλοξενούνται ως ΣΠΣ Azure μπορείτε να προωθήσετε ερωτήματα όνομα κεντρικού υπολογιστή για το ίδιο vnet σε Azure για να επιλύσετε ονόματα. Εάν δεν θέλετε να χρησιμοποιήσετε αυτήν τη μέθοδο, μπορείτε να καταχωρήσετε την Εικονική ονόματα στο διακομιστή DNS χρησιμοποιώντας DNS δυναμικές.  Azure δεν έχει τη δυνατότητα (π.χ., διαπιστευτήρια) για να δημιουργήσετε απευθείας εγγραφές σε διακομιστές DNS, ώστε να απαιτούνται συχνά εναλλακτικών λύσεων. Ακολουθούν ορισμένα κοινά σενάρια με εναλλακτικές λύσεις.

## <a name="windows-clients"></a>Προγράμματα-πελάτες των Windows

Προγράμματα-πελάτες του Windows συμμετοχή αυτήν την τομέα επιχειρήσετε μη ασφαλές ενημερώσεις δυναμικής DNS (DDNS) όταν που κάνει εκκίνηση ή όταν αλλάζει η διεύθυνση IP. Το όνομα DNS είναι το όνομα κεντρικού υπολογιστή συν το επίθημα πρωτεύοντος DNS. Azure αφήνει το επίθημα πρωτεύοντος DNS κενά, αλλά μπορείτε να το ορίσετε σε η Εικονική, μέσω του [περιβάλλοντος εργασίας Χρήστη](https://technet.microsoft.com/library/cc794784.aspx) ή [με τη χρήση αυτοματισμού](https://social.technet.microsoft.com/forums/windowsserver/3720415a-6a9a-4bca-aa2a-6df58a1a47d7/change-primary-dns-suffix).

Προγράμματα-πελάτες του Windows τομέα καταχώρηση διευθύνσεις IP του ελεγκτή τομέα με τη χρήση ασφαλούς δυναμικής DNS. Η διαδικασία τομέα συμμετοχή ορίζει το επίθημα πρωτεύοντος DNS του υπολογιστή-πελάτη και δημιουργεί και διατηρεί τη σχέση αξιοπιστίας.

## <a name="linux-clients"></a>Προγράμματα-πελάτες του Linux

Προγράμματα-πελάτες του Linux γενικά δεν εγγράφονται με το διακομιστή DNS κατά την εκκίνηση, αναλαμβάνουν το διακομιστήDHCP σημαίνει το. Διακομιστές DHCP του Azure δεν έχουν τη δυνατότητα ή διαπιστευτήρια για να καταχωρήσετε τις εγγραφές στο διακομιστή DNS.  Μπορείτε να χρησιμοποιήσετε ένα εργαλείο που ονομάζεται *nsupdate*, που περιλαμβάνεται στο πακέτο σύνδεση, για να στείλετε ενημερώσεις δυναμικής DNS. Επειδή το πρωτόκολλο δυναμικής DNS είναι τυποποιημένες, μπορείτε να χρησιμοποιήσετε *nsupdate* ακόμα και όταν δεν χρησιμοποιείτε σύνδεση στο διακομιστή DNS.

Μπορείτε να χρησιμοποιήσετε τα άγκιστρα που παρέχονται από το πρόγραμμα-πελάτη DHCP για να δημιουργήσετε και να διατηρήσετε την καταχώρηση όνομα κεντρικού υπολογιστή του διακομιστή DNS. Κατά τη διάρκεια του κύκλου DHCP, ο υπολογιστής-πελάτης εκτελεί τις δέσμες ενεργειών */etc/dhcp/dhclient-exit-hooks.d/*. Αυτό μπορεί να χρησιμοποιηθεί για να καταχωρήσετε τη νέα διεύθυνση IP με τη χρήση *nsupdate*. Για παράδειγμα:

        #!/bin/sh
        requireddomain=mydomain.local

        # only execute on the primary nic
        if [ "$interface" != "eth0" ]
        then
            return
        fi

        # when we have a new IP, perform nsupdate
        if [ "$reason" = BOUND ] || [ "$reason" = RENEW ] ||
           [ "$reason" = REBIND ] || [ "$reason" = REBOOT ]
        then
            host=`hostname`
            nsupdatecmds=/var/tmp/nsupdatecmds
              echo "update delete $host.$requireddomain a" > $nsupdatecmds
              echo "update add $host.$requireddomain 3600 a $new_ip_address" >> $nsupdatecmds
              echo "send" >> $nsupdatecmds

              nsupdate $nsupdatecmds
        fi

        #done
        exit 0;

Μπορείτε επίσης να χρησιμοποιήσετε την εντολή *nsupdate* για την εκτέλεση ενημερώσεων ασφαλούς δυναμικής DNS. [Για παράδειγμα, όταν χρησιμοποιείτε ένα διακομιστή DNS δεσμεύσετε, ένα ζεύγος δημόσιων-ιδιωτικών κλειδιών δημιουργείται.](http://linux.yyz.us/nsupdate/)  Ο διακομιστής DNS είναι [έχει ρυθμιστεί](http://linux.yyz.us/dns/ddns-server.html) με το δημόσιο τμήμα του αριθμού-κλειδιού, έτσι ώστε να μπορέσει να επιβεβαιώσει την υπογραφή στην αίτηση. Πρέπει να χρησιμοποιήσετε την επιλογή *-k* για την παροχή του αριθμού-κλειδιού ζεύγους *nsupdate* για τη δυναμική DNS ενημέρωση αίτηση προς υπογραφή.

Όταν χρησιμοποιείτε ένα διακομιστή DNS των Windows, μπορείτε να χρησιμοποιήσετε τον έλεγχο ταυτότητας Kerberos με την παράμετρο *-g* στο *nsupdate* (δεν είναι διαθέσιμη στην έκδοση Windows του *nsupdate*). Για να κάνετε αυτό, χρησιμοποιήστε *kinit* για να φορτώσετε τα διαπιστευτήρια (π.χ., από ένα [αρχείο keytab](http://www.itadmintools.com/2011/07/creating-kerberos-keytab-files.html)). Στη συνέχεια, *nsupdate -g* θα σηκώστε τα διαπιστευτήρια από το cache.

Εάν είναι απαραίτητο, μπορείτε να προσθέσετε ένα επίθημα DNS αναζήτησης για να σας ΣΠΣ. Το επίθημα DNS έχει καθοριστεί στο αρχείο */etc/resolv.conf* . Οι περισσότερες Linux distros να διαχειρίζεστε αυτόματα το περιεχόμενο αυτού του αρχείου, επομένως, συνήθως δεν μπορείτε να επεξεργαστείτε το. Ωστόσο, μπορείτε να παρακάμψετε το επίθημα, χρησιμοποιώντας την εντολή *αντικαθιστά* το DHCP του υπολογιστή-πελάτη. Για να κάνετε αυτό, στο */etc/dhcp/dhclient.conf*, να προσθέσετε:

        supersede domain-name <required-dns-suffix>;

