<properties
   pageTitle="Προσαρμοσμένα πεδία στο αρχείο καταγραφής ανάλυσης | Microsoft Azure"
   description="Τη δυνατότητα προσαρμοσμένα πεδία του αρχείου καταγραφής ανάλυσης σας επιτρέπει να δημιουργήσετε τα δικά σας με δυνατότητα αναζήτησης πεδία από τα δεδομένα OMS που προσθέσετε στις ιδιότητες μιας εγγραφής που έχουν συλλεχθεί.  Σε αυτό το άρθρο περιγράφει τη διαδικασία για να δημιουργήσετε ένα προσαρμοσμένο πεδίο και παρέχει μια λεπτομερή ανάλυση με ένα συμβάν δείγμα."
   services="log-analytics"
   documentationCenter=""
   authors="bwren"
   manager="jwhit"
   editor="tysonn" />
<tags
   ms.service="log-analytics"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="10/18/2016"
   ms.author="bwren" />

# <a name="custom-fields-in-log-analytics"></a>Προσαρμοσμένα πεδία στο αρχείο καταγραφής ανάλυσης

Η δυνατότητα **Προσαρμοσμένα πεδία** του αρχείου καταγραφής ανάλυσης σάς επιτρέπει να επεκτείνετε τις υπάρχουσες εγγραφές στο αποθετήριο OMS, προσθέτοντας τα δικά σας πεδία με δυνατότητα αναζήτησης.  Προσαρμοσμένα πεδία συμπληρώνονται αυτόματα από τα δεδομένα που έχουν εξαχθεί από τις άλλες ιδιότητες στην ίδια εγγραφή.

![Επισκόπηση προσαρμοσμένα πεδία](media/log-analytics-custom-fields/overview.png)

Για παράδειγμα, το παρακάτω δείγμα εγγραφή έχει χρήσιμα δεδομένα θα ήταν θαμμένοι στη η περιγραφή του συμβάντος.  Εξαγωγή αυτών των δεδομένων σε ξεχωριστό ιδιότητες είναι διαθέσιμες για λειτουργίες ενέργειες όπως ταξινόμηση και φιλτράρισμα.

![Κουμπί αναζήτησης αρχείου καταγραφής](media/log-analytics-custom-fields/sample-extract.png)

>[AZURE.NOTE] Στην προεπισκόπηση, είστε υποχρεωμένοι να το 100 προσαρμοσμένα πεδία στο χώρο εργασίας σας.  Αυτό το όριο θα αναπτυχθούν όταν αυτή η δυνατότητα φτάσει γενικής διαθεσιμότητας.

## <a name="creating-a-custom-field"></a>Δημιουργία προσαρμοσμένου πεδίου

Όταν δημιουργείτε ένα προσαρμοσμένο πεδίο, καταγραφής ανάλυσης πρέπει να κατανοήσετε των δεδομένων που θα χρησιμοποιήσετε για τη συμπλήρωση της τιμής.  Χρησιμοποιεί μια τεχνολογία από τη Microsoft Research που ονομάζεται FlashExtract για να εντοπίσετε γρήγορα τα δεδομένα.  Αντί να χρειάζεται να παρέχετε οδηγίες ρητή, ανάλυση καταγραφής μαθαίνει σχετικά με τα δεδομένα που θέλετε να εξαγάγετε από παραδείγματα που παρέχετε.

Οι παρακάτω ενότητες παρέχουν τη διαδικασία για να δημιουργήσετε ένα προσαρμοσμένο πεδίο.  Στο κάτω μέρος αυτού του άρθρου είναι αναλυτικές οδηγίες για ένα δείγμα εξαγωγής.

> [!NOTE] Το προσαρμοσμένο πεδίο συμπληρώνεται καθώς εγγραφές που ταιριάζουν με τα καθορισμένα κριτήρια προστίθενται στο χώρο αποθήκευσης δεδομένων OMS, ώστε να εμφανίζεται μόνο σε εγγραφές που συλλέγονται αφού δημιουργηθεί το προσαρμοσμένο πεδίο.  Το προσαρμοσμένο πεδίο δεν θα προστεθεί σε εγγραφές που βρίσκονται ήδη στο χώρο αποθήκευσης δεδομένων κατά τη δημιουργία.

### <a name="step-1--identify-records-that-will-have-the-custom-field"></a>Βήμα 1-προσδιορισμό εγγραφών που θα έχει το προσαρμοσμένο πεδίο
Το πρώτο βήμα είναι να εντοπίζετε τις εγγραφές που θα σας βοηθήσουν το προσαρμοσμένο πεδίο.  Ξεκινήστε με μια [Τυπική καταγραφής αναζήτησης](log-analytics-log-searches.md) και, στη συνέχεια, επιλέξετε μια εγγραφή για να λειτουργήσει ως το μοντέλο που θα μάθετε ανάλυση καταγραφής από.  Όταν καθορίζετε ότι πρόκειται να εξαγάγετε δεδομένα σε ένα προσαρμοσμένο πεδίο, ανοίγει ο **Οδηγός εξαγωγής πεδίο** όπου επικύρωση και βελτιώστε τα κριτήριά σας.

2. Μεταβείτε στο **Αρχείο καταγραφής αναζήτησης** και χρησιμοποιήστε ένα [ερώτημα για την ανάκτηση των εγγραφών](log-analytics-log-searches.md) που θα έχει το προσαρμοσμένο πεδίο.
2. Επιλέξτε μια εγγραφή που θα χρησιμοποιήσει η ανάλυση καταγραφής ως ένα μοντέλο για την εξαγωγή δεδομένων για να συμπληρώσετε το προσαρμοσμένο πεδίο.  Θα μπορείτε να προσδιορίσετε τα δεδομένα που θέλετε να εξαγάγετε από αυτήν την εγγραφή και καταγραφής ανάλυση θα χρησιμοποιήσει αυτές τις πληροφορίες για τον καθορισμό της λογικής για να συμπληρώσετε το προσαρμοσμένο πεδίο για όλες τις εγγραφές παρόμοια.
3. Κάντε κλικ στο κουμπί στα αριστερά του οποιαδήποτε ιδιότητα κείμενο της εγγραφής και επιλέξτε **εξαγωγή πεδίων από**.
4. Το **ανοίξετε Οδηγό εξαγωγής πεδίο**και την εγγραφή που έχετε επιλέξει εμφανίζεται στο **Παράδειγμα κύρια** στήλη.  Το προσαρμοσμένο πεδίο θα οριστεί για αυτές τις εγγραφές με τις ίδιες τιμές στις ιδιότητες που έχουν επιλεγεί.  
5. Εάν η επιλογή δεν είναι ακριβώς αυτό που θέλετε, επιλέξτε πρόσθετα πεδία για να περιορίσετε τα κριτήρια.  Για να αλλάξετε τις τιμές πεδίων για τα κριτήρια, πρέπει να μπορείτε να ακυρώσετε και να επιλέξετε μια διαφορετική εγγραφή με τα κριτήρια που θέλετε.

### <a name="step-2---perform-initial-extract"></a>Βήμα 2 - εκτελέστε αρχικό εξαγωγή.
Αφού έχετε προσδιορίσει τις εγγραφές που θα έχει το προσαρμοσμένο πεδίο, μπορείτε να προσδιορίσετε τα δεδομένα που θέλετε να εξαγάγετε.  Ανάλυση καταγραφής θα χρησιμοποιήσει αυτές τις πληροφορίες για να προσδιορίσετε μοτίβα παρόμοια παρόμοια των εγγραφών.  Στο βήμα μετά από αυτό θα μπορούν να επικυρώσετε των αποτελεσμάτων και δώστε περαιτέρω λεπτομέρειες για το αρχείο καταγραφής αναλυτικών στοιχείων χρήσης στο την ανάλυσή.

1. Επισημάνετε το κείμενο της εγγραφής δείγμα που θέλετε να συμπληρώσετε το προσαρμοσμένο πεδίο.  Στη συνέχεια, θα εμφανιστεί ένα παράθυρο διαλόγου για να δώσετε ένα όνομα για το πεδίο και να εκτελέσετε το αρχικό απόσπασμα.  Οι χαρακτήρες ** \_CF** θα προσαρτώνται αυτόματα.
2. Κάντε κλικ στην επιλογή **Εξαγωγή** για να εκτελέσετε μια ανάλυση των εγγραφών που έχουν συλλεχθεί.  
3. Οι ενότητες **Σύνοψη** και τα **Αποτελέσματα της αναζήτησης** εμφανίζονται τα αποτελέσματα του αποσπάσματος, ώστε να μπορείτε να ελέγξετε την ακρίβεια.  **Σύνοψη** εμφανίζει τα κριτήρια που χρησιμοποιούνται για τον προσδιορισμό εγγραφών και μια καταμέτρηση για κάθε μία από τις τιμές των δεδομένων που έχουν προσδιοριστεί.  **Αποτελέσματα αναζήτησης** παρέχει μια λεπτομερή λίστα των εγγραφών που ικανοποιούν τα κριτήρια.


### <a name="step-3--verify-accuracy-of-the-extract-and-create-custom-field"></a>Βήμα 3-επαλήθευση ακρίβειας του αποσπάσματος και δημιουργία προσαρμοσμένου πεδίου

Αφού ολοκληρώσετε το αρχικό απόσπασμα, ανάλυση καταγραφής θα εμφανίζονται τα αποτελέσματα που βασίζονται σε δεδομένα που έχουν συλλεχθεί ήδη.  Εάν τα αποτελέσματα εμφανίζονται με ακρίβεια, στη συνέχεια, μπορείτε να δημιουργήσετε το προσαρμοσμένο πεδίο με χωρίς περαιτέρω εργασία.  Εάν όχι, στη συνέχεια, μπορείτε να περιορίσετε τα αποτελέσματα έτσι ώστε να ανάλυση καταγραφής μπορεί να βελτιώσει την λογική.

2.  Εάν τυχόν τιμές στο αρχικό αποσπάσματος δεν είναι σωστές, στη συνέχεια, κάντε κλικ στο εικονίδιο **Επεξεργασία** δίπλα σε μια ακριβή εγγραφή και επιλέξτε **τροποποίηση αυτή η επισήμανση** προκειμένου να τροποποιήσετε την επιλογή.
3.  Η εγγραφή αντιγράφεται στην ενότητα **πρόσθετες παραδείγματα** κάτω από το **Κύριο παράδειγμα**.  Μπορείτε να προσαρμόσετε την επισήμανση εδώ για να σας βοηθήσει καταγραφής ανάλυσης Κατανόηση της επιλογής, θα πρέπει να έχετε κάνει.
4.  Κάντε κλικ στην επιλογή **Εξαγωγή** για να χρησιμοποιήσετε αυτές τις νέες πληροφορίες για την αξιολόγηση όλες τις υπάρχουσες εγγραφές.  Τα αποτελέσματα μπορεί να τροποποιηθεί για εγγραφές εκτός από το που τροποποιήσατε που βασίζονται σε αυτό νέα πληροφοριών.
5.  Συνεχίστε να προσθέτετε διορθώσεις έως ότου όλες τις εγγραφές του αποσπάσματος προσδιορίζουν σωστά τα δεδομένα για να συμπληρώσετε το νέο προσαρμοσμένο πεδίο.
6. Όταν είστε ικανοποιημένοι με τα αποτελέσματα, κάντε κλικ στην επιλογή **Αποθήκευση εξαγωγή** .  Το προσαρμοσμένο πεδίο έχει οριστεί τώρα, αλλά αυτό δεν θα προστεθούν στο οποιεσδήποτε εγγραφές ακόμη.
7.  Περιμένετε για νέες εγγραφές που ταιριάζουν με τα καθορισμένα κριτήρια που συλλέγονται και, στη συνέχεια, εκτελέστε ξανά την αναζήτηση του αρχείου καταγραφής. Νέες εγγραφές, πρέπει να έχει το προσαρμοσμένο πεδίο.
8.  Χρησιμοποιήστε το προσαρμοσμένο πεδίο όπως οποιαδήποτε άλλη εγγραφή ιδιότητα.  Μπορείτε να το χρησιμοποιήσετε για να συγκεντρωτικών αποτελεσμάτων και ομαδοποίηση δεδομένων και να χρησιμοποιήσετε ακόμη και για να δημιουργήσουν νέες ιδέες.


## <a name="viewing-custom-fields"></a>Προβολή προσαρμοσμένα πεδία
Μπορείτε να προβάλετε μια λίστα με όλα τα προσαρμοσμένα πεδία στο σας ομάδα διαχείρισης από το πλακίδιο **Ρυθμίσεις** του πίνακα εργαλείων OMS.  Επιλέξτε **δεδομένα** και, στη συνέχεια, **προσαρμοσμένα πεδία** για μια λίστα με όλα τα προσαρμοσμένα πεδία στο χώρο εργασίας σας.  

![Προσαρμοσμένα πεδία](media/log-analytics-custom-fields/list.png)

## <a name="removing-a-custom-field"></a>Η κατάργηση ενός προσαρμοσμένου πεδίου
Υπάρχουν δύο τρόποι για να καταργήσετε ένα προσαρμοσμένο πεδίο.  Το πρώτο είναι η επιλογή **Κατάργηση** για κάθε πεδίο κατά την προβολή την πλήρη λίστα, όπως περιγράφεται παραπάνω.  Είναι η άλλη μέθοδος για να ανακτήσετε μια εγγραφή και κάντε κλικ στο κουμπί στα αριστερά του πεδίου.  Το μενού θα έχει μια επιλογή για να καταργήσετε το προσαρμοσμένο πεδίο.

## <a name="sample-walkthrough"></a>Δείγμα αναλυτικές οδηγίες

Ενότητα που ακολουθεί παρουσιάζει ένα παράδειγμα ολοκλήρωση της δημιουργίας προσαρμοσμένου πεδίου.  Αυτό το παράδειγμα εξάγει το όνομα της υπηρεσίας στο συμβάντων των Windows που δηλώνουν αλλαγή κατάστασης υπηρεσίας.  Αυτό βασίζεται σε συμβάντα που δημιουργήθηκε από τη Διαχείριση ελέγχου υπηρεσίας στο αρχείο καταγραφής συστήματος σε υπολογιστές με Windows.  Εάν θέλετε να παρακολουθήσετε αυτό το παράδειγμα, πρέπει να [συλλέγει πληροφορίες συμβάντων για το αρχείο καταγραφής του συστήματος](log-analytics-data-sources-windows-events.md).

Θα σας πληκτρολογήστε το ακόλουθο ερώτημα για να επαναφέρετε όλα τα συμβάντα από τη Διαχείριση ελέγχου υπηρεσιών που έχουν Αναγνωριστικό συμβάντος 7036 που είναι το συμβάν που υποδεικνύει μια υπηρεσία Έναρξη ή διακοπή.

![Ερώτημα](media/log-analytics-custom-fields/query.png)

Θα σας, στη συνέχεια, επιλέξτε οποιαδήποτε εγγραφή με το συμβάν 7036 Αναγνωριστικό.

![Προέλευση εγγραφής](media/log-analytics-custom-fields/source-record.png)

Θέλουμε το όνομα της υπηρεσίας που εμφανίζεται στην ιδιότητα **RenderedDescription** και επιλέξτε το κουμπί δίπλα σε αυτήν την ιδιότητα.

![Εξαγάγετε τα πεδία](media/log-analytics-custom-fields/extract-fields.png)

Ανοίγει ο **Οδηγός εξαγωγής πεδίο** και τα πεδία **αρχείο καταγραφής συμβάντων** και **EventID** έχουν επιλεγεί στη στήλη **Κύριες παράδειγμα** .  Αυτό υποδεικνύει ότι το προσαρμοσμένο πεδίο θα οριστεί για συμβάντα από το αρχείο καταγραφής του συστήματος με το Αναγνωριστικό συμβάντος 7036.  Αυτό είναι αρκετό ώστε να μην χρειαζόμαστε για να επιλέξετε άλλα πεδία.

![Παράδειγμα κύρια](media/log-analytics-custom-fields/main-example.png)

Θα σας επισημάνετε το όνομα της υπηρεσίας στην ιδιότητα **RenderedDescription** και χρησιμοποιήστε **υπηρεσίας** για να προσδιορίσετε το όνομα της υπηρεσίας.  Το προσαρμοσμένο πεδίο θα ονομάζεται **Service_CF**.

![Το πεδίο τίτλου](media/log-analytics-custom-fields/field-title.png)

Θα δούμε ότι το όνομα της υπηρεσίας αναγνωρίζεται σωστά για ορισμένες εγγραφές, αλλά όχι για άλλους χρήστες.   Τα **Αποτελέσματα της αναζήτησης** εμφανίζονται ότι δεν ήταν επιλεγμένο τμήμα του ονόματος του **Προσαρμογέα επιδόσεων WMI** .  Στη **Σύνοψη** εμφανίζει ότι τέσσερις εγγραφές με την υπηρεσία **DPRMA** περιλαμβάνονται λάθος μια επιπλέον λέξη και δύο εγγραφές που έχουν προσδιοριστεί **Installer λειτουργικές μονάδες** αντί για το **Windows Installer λειτουργικές μονάδες**.  

![Αποτελέσματα αναζήτησης](media/log-analytics-custom-fields/search-results-01.png)

Ξεκινήσουμε με την εγγραφή **Προσαρμογέα επιδόσεων WMI** .  Θα σας επιλέξτε το εικονίδιο επεξεργασίας και, στη συνέχεια, **Τροποποίηση αυτό επισήμανσης**.  

![Τροποποίηση επισήμανσης](media/log-analytics-custom-fields/modify-highlight.png)

Θα σας αύξηση την επισήμανση για να συμπεριλάβετε τη λέξη **WMI** και, στη συνέχεια, εκτελέστε ξανά το απόσπασμα.  

![Επιπλέον παράδειγμα](media/log-analytics-custom-fields/additional-example-01.png)

Μπορούμε να δούμε ότι έχουν διορθωθεί τις καταχωρήσεις για **Προσαρμογέα επιδόσεων WMI** και ανάλυση καταγραφής χρησιμοποιείται επίσης αυτές τις πληροφορίες για να διορθώσετε τις εγγραφές για **Windows Installer λειτουργική μονάδα**.  Παρόλο που **DPMRA** εξακολουθεί να μην που προσδιορίζεται σωστά, μπορούμε να δούμε στην ενότητα **Σύνοψη** .

![Αποτελέσματα αναζήτησης](media/log-analytics-custom-fields/search-results-02.png)

Εργαζόμαστε κύλιση σε μια εγγραφή με την υπηρεσία DPMRA και χρησιμοποιήστε την ίδια διαδικασία για να διορθώσετε αυτήν την εγγραφή.

![Επιπλέον παράδειγμα](media/log-analytics-custom-fields/additional-example-02.png)

 Όταν μπορούμε να εκτελέσουμε την εξαγωγή, μπορούμε να δούμε ότι όλα τα αποτελέσματα είναι τώρα ακριβείς.

![Αποτελέσματα αναζήτησης](media/log-analytics-custom-fields/search-results-03.png)

Μπορούμε να δούμε ότι **Service_CF** δημιουργείται αλλά ακόμα δεν προστίθεται σε οποιεσδήποτε εγγραφές.

![Αρχικός αριθμός](media/log-analytics-custom-fields/initial-count.png)

Αφού έχει περάσει αρκετός χρόνος ώστε νέα συλλέγονται συμβάντα, μπορούμε να δούμε ότι το πεδίο **Service_CF** που προστίθεται τώρα για να τις εγγραφές που ταιριάζουν με τα κριτήρια.

![Τελικά αποτελέσματα](media/log-analytics-custom-fields/final-results.png)

Τώρα μπορούμε να χρησιμοποιήσουμε το προσαρμοσμένο πεδίο όπως οποιαδήποτε άλλη εγγραφή ιδιότητα.  Για να παρουσιάζουν αυτό το παράδειγμα, μπορούμε να δημιουργήσουμε ένα ερώτημα που ομαδοποιεί κατά το νέο **Service_CF** πεδίο για να ελέγξετε ποιες υπηρεσίες θα είναι το μεγαλύτερο μέρος του ενεργού.

![Ομαδοποίηση κατά ερώτημα](media/log-analytics-custom-fields/query-group.png)

## <a name="next-steps"></a>Επόμενα βήματα

- Μάθετε σχετικά με το [αρχείο καταγραφής αναζητήσεις](log-analytics-log-searches.md) για τη δημιουργία ερωτημάτων με προσαρμοσμένα πεδία για τα κριτήρια.
- Παρακολουθήστε τα [προσαρμοσμένα αρχεία καταγραφής](log-analytics-data-sources-custom-logs.md) που ανάλυση χρησιμοποιώντας προσαρμοσμένα πεδία.