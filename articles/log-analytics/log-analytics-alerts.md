<properties 
   pageTitle="Ειδοποιήσεις στο αρχείο καταγραφής ανάλυσης | Microsoft Azure"
   description="Ειδοποιήσεις στο αρχείο καταγραφής αναλυτικών στοιχείων αναγνώριση σημαντικές πληροφορίες στο αποθετήριο σας OMS και να εκ των προτέρων ειδοποιεί ζητημάτων ή κλήση ενέργειες για να προσπαθήσετε να τα διορθώσετε.  Σε αυτό το άρθρο περιγράφει τον τρόπο για να δημιουργήσετε έναν κανόνα ειδοποίησης και λεπτομέρειες τις διαφορετικές ενέργειες που μπορούν να λαμβάνουν."
   services="log-analytics"
   documentationCenter=""
   authors="bwren"
   manager="jwhit"
   editor="tysonn" />
<tags 
   ms.service="log-analytics"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="08/22/2016"
   ms.author="bwren" />

# <a name="alerts-in-log-analytics"></a>Ειδοποιήσεις στο αρχείο καταγραφής ανάλυσης

Ειδοποιήσεις στο αρχείο καταγραφής ανάλυσης Προσδιορισμός σημαντικές πληροφορίες στο αποθετήριο σας OMS.  Ειδοποίησης κανόνες αυτόματη εκτέλεση αναζητήσεις καταγραφής σύμφωνα με ένα χρονοδιάγραμμα και Δημιουργία εγγραφής ειδοποίησης, αν τα αποτελέσματα ταιριάζουν με συγκεκριμένο κριτήριο.  Ο κανόνας, στη συνέχεια, να εκτελέσετε αυτόματα μία ή περισσότερες ενέργειες για εκ των προτέρων ειδοποιεί της ειδοποίησης ή κλήση άλλη διεργασία.   

![Ειδοποιήσεις ανάλυσης αρχείου καταγραφής](media/log-analytics-alerts/overview.png)

## <a name="creating-an-alert-rule"></a>Δημιουργία κανόνα ειδοποίησης
Για να δημιουργήσετε έναν κανόνα ειδοποίησης, ξεκινάτε με τη δημιουργία μιας αναζήτησης καταγραφής για τις εγγραφές που θα πρέπει να ενεργοποιήσει την ειδοποίηση.  Το κουμπί " **ειδοποίηση** ", στη συνέχεια, θα είναι διαθέσιμη, ώστε να μπορείτε να δημιουργήσετε και να ρυθμίσετε τις παραμέτρους του ειδοποίησης κανόνα.

1.  Από τη σελίδα Επισκόπηση OMS, κάντε κλικ στο **Αρχείο καταγραφής αναζήτησης**.
2.  Δημιουργήστε ένα νέο ερώτημα αναζήτησης αρχείου καταγραφής είτε επιλέξτε μια αναζήτηση αποθηκευμένο αρχείο καταγραφής. 
3.  Κάντε κλικ στην επιλογή **ειδοποίησης** στο επάνω μέρος της σελίδας για να ανοίξετε την οθόνη **Προσθήκη ειδοποίησης κανόνα** .
4. Ανατρέξτε στους πίνακες παρακάτω για λεπτομέρειες σχετικά με τις επιλογές για να ρυθμίσετε τις παραμέτρους της ειδοποίησης.
5. Όταν δώσετε του χρονικού διαστήματος για τον κανόνα ειδοποίησης, θα εμφανίζεται ο αριθμός των υπαρχουσών εγγραφών που ικανοποιούν τα κριτήρια αναζήτησης για αυτό το παράθυρο χρόνου.  Αυτό μπορεί να σας βοηθήσει να καθορίσετε τη συχνότητα που θα σας δώσει τον αριθμό των αποτελεσμάτων που αναμένετε.
4.  Κάντε κλικ στο κουμπί **Αποθήκευση** για να ολοκληρώσετε τον κανόνα ειδοποίησης.  Αυτό θα ξεκινήσει η εκτέλεση αμέσως.


![Προσθήκη ειδοποίησης κανόνα](media/log-analytics-alerts/add-alert-rule.png)

| Ιδιότητα | Περιγραφή |
|:--|:--|
| **Πληροφορίες ειδοποίησης** | |
| Όνομα |  Μοναδικό όνομα για τον προσδιορισμό του ειδοποίησης κανόνα. |
| Σοβαρότητας | Σοβαρότητας της ειδοποίησης που δημιουργείται από αυτόν τον κανόνα. |
| Ερώτημα αναζήτησης | Επιλέξτε **χρήση του τρέχοντος ερωτήματος αναζήτησης** για να χρησιμοποιήσετε το τρέχον ερώτημα ή επιλέξτε μια αποθηκευμένη αναζήτηση από τη λίστα.  Η σύνταξη του ερωτήματος παρέχονται στο πλαίσιο κειμένου όπου μπορείτε να τροποποιήσετε το εάν είναι απαραίτητο.  |
| Παράθυρο χρόνου | Καθορίζει το εύρος χρόνου για το ερώτημα.  Το ερώτημα επιστρέφει μόνο τις εγγραφές που έχουν δημιουργηθεί σε αυτήν την περιοχή της τρέχουσας ώρας.  Αυτό μπορεί να είναι οποιαδήποτε τιμή μεταξύ 5 λεπτά και 24 ώρες.  Αυτό πρέπει να είναι μεγαλύτερο ή ίσο με τη συχνότητα προειδοποιήσεων.  <br><br> Για παράδειγμα, εάν έχει οριστεί του χρονικού διαστήματος σε 60 λεπτά και την εκτέλεση του ερωτήματος στο 1:15 μ.μ., θα επιστραφούν μόνο οι εγγραφές που δημιουργούνται μεταξύ 12:15 μ.μ. και 1:15 Μ.Μ. |
| **Χρονοδιάγραμμα** |     
| Όριο | Κριτήρια για το χρόνο για να δημιουργήσετε μια ειδοποίηση.  Εάν ο αριθμός των εγγραφών που επιστρέφονται από το ερώτημα αντιστοιχεί σε αυτά τα κριτήρια, δημιουργείται μια ειδοποίηση. |
| Συχνότητα προειδοποιήσεων | Καθορίζει πόσο συχνά θα πρέπει να εκτελέσετε το ερώτημα.  Μπορεί να είναι οποιαδήποτε τιμή μεταξύ 5 λεπτά και 24 ώρες.  Πρέπει να είναι ίση ή μικρότερη από το παράθυρο της ώρας. |
| Απόκρυψη ειδοποιήσεων | Όταν ενεργοποιήσετε την απόκρυψη για τον κανόνα ειδοποίησης, ενέργειες για τον κανόνα έχουν απενεργοποιηθεί για ένα καθορισμένο χρονικό διάστημα μετά τη δημιουργία μιας νέας ειδοποίησης.  Ο κανόνας εκτελείται ακόμη και θα δημιουργήσετε ειδοποίησης εγγραφές, εάν πληρούνται τα κριτήρια.  Πρόκειται για να επιτρέψετε έχετε χρόνο για να διορθώσετε το πρόβλημα χωρίς την εκτέλεση ενεργειών διπλότυπων. |
| **Ενέργειες** | |
| Ειδοποίηση μέσω ηλεκτρονικού ταχυδρομείου | Καθορίστε **Ναι** εάν θέλετε ένα μήνυμα ηλεκτρονικού ταχυδρομείου που θα αποσταλεί όταν η προειδοποίηση ενεργοποιείται. |
| Θέμα    | Θέμα στο μήνυμα ηλεκτρονικού ταχυδρομείου.  Δεν μπορείτε να τροποποιήσετε το σώμα της αλληλογραφίας. |
| Οι παραλήπτες | Οι διευθύνσεις ηλεκτρονικού ταχυδρομείου όλων των παραληπτών.  Εάν καθορίσετε περισσότερες από μία διευθύνσεις, στη συνέχεια, διαχωρίστε τις διευθύνσεις με ελληνικό ερωτηματικό (;). |
| Webhook | Καθορίστε **Ναι** εάν θέλετε να καλέσετε μια webhook κατά την ενεργοποίηση της ειδοποίησης. |
| Διεύθυνση URL Webhook | Η διεύθυνση URL του webhook. |
| Συμπερίληψη προσαρμοσμένων φορτίου JSON | Ορίστε αυτήν την επιλογή εάν θέλετε να αντικαταστήσετε το προεπιλεγμένο φορτίο με ένα προσαρμοσμένο φορτίο. |
| Εισαγάγετε το προσαρμοσμένο φορτίου JSON | Το προσαρμοσμένο φορτίο για το webhook.  Δείτε την προηγούμενη ενότητα για λεπτομέρειες. |
| Runbook | Καθορίστε **Ναι** εάν θέλετε να ξεκινήσετε μια runbook αυτοματισμού Azure κατά την ενεργοποίηση της ειδοποίησης. |
| Επιλέξτε μια runbook | Επιλέξτε runbook για να ξεκινήσετε από την runbooks στο λογαριασμό αυτοματισμού έχει ρυθμιστεί στη λύση σας αυτοματισμού. |
| Εκτελείται σε | Επιλέξτε **Azure** για να εκτελέσετε runbook στο Azure cloud.  Επιλέξτε **Υβριδική εργασίας** για να εκτελέσετε runbook σε μια [Υβριδική Runbook εργαζόμενου](..\automation\automation-hybrid-runbook-worker.md) στο περιβάλλον του τοπικού. |


## <a name="manage-alert-rules"></a>Διαχείριση κανόνων προειδοποίησης
Μπορείτε να λάβετε μια λίστα όλων των κανόνων προειδοποίησης στο μενού **ειδοποιήσεων** στην ανάλυση καταγραφής **Ρυθμίσεις**.  

![Διαχείριση ειδοποιήσεων](./media/log-analytics-alerts/configure.png)

1. Στην κονσόλα OMS, επιλέξτε το πλακίδιο **Ρυθμίσεις** .
2. Επιλέξτε **ειδοποιήσεις**.

Μπορείτε να εκτελέσετε πολλές ενέργειες από αυτήν την προβολή.

- Απενεργοποίηση ενός κανόνα επιλέγοντας το στοιχείο **Απενεργοποίηση** δίπλα της.
- Επεξεργασία κανόνα ειδοποίησης, κάνοντας κλικ στο εικονίδιο μολυβιού δίπλα της.
- Κατάργηση μιας ειδοποίησης κανόνα επιλέγοντας το εικονίδιο **X** δίπλα της. 


## <a name="setting-time-windows"></a>Ρύθμιση των windows 

### <a name="event-alerts"></a>Ειδοποιήσεις συμβάντος

Συμβάντα περιλαμβάνουν προελεύσεις δεδομένων, όπως αρχεία καταγραφής συμβάντων των Windows, Syslog, και προσαρμοσμένα αρχεία καταγραφής.  Ενδέχεται να θέλετε να δημιουργήσετε μια ειδοποίηση όταν λαμβάνει δημιουργήσει ένα συγκεκριμένο σφάλμα συμβάν ή όταν δημιουργούνται συμβάντων πολλά σφάλματα εντός ενός συγκεκριμένου χρονικού διαστήματος.

Για να ειδοποιηθείτε σε ένα μεμονωμένο συμβάν, ορίστε τον αριθμό των αποτελεσμάτων για μεγαλύτερος του 0 και τόσο τη συχνότητα και χρονικού διαστήματος για 5 λεπτά.  Που θα εκτελέσετε το ερώτημα κάθε 5 λεπτά και να ελέγξετε την εμφάνιση ένα μεμονωμένο συμβάν που δημιουργήθηκε από την τελευταία φορά που ήταν η εκτέλεση του ερωτήματος.  Μια μεγαλύτερη συχνότητα μπορεί να καθυστέρηση της ώρας μεταξύ το συμβάν που συλλέγονται και την ειδοποίηση που δημιουργούνται.

Ορισμένες εφαρμογές ενδέχεται να καταγράψουν περιστασιακό σφάλμα που δεν πρέπει να αυξήσετε απαραίτητα ειδοποίησης.  Για παράδειγμα, η εφαρμογή ενδέχεται να επαναλάβετε τη διεργασία που δημιουργήθηκε το συμβάν σφάλματος και είναι επιτυχής, στη συνέχεια, την επόμενη φορά.  Σε αυτήν την περίπτωση, δεν μπορείτε να δημιουργήσετε την ειδοποίηση, εκτός εάν έχουν δημιουργηθεί συμβάντων πολλά εντός ενός συγκεκριμένου χρονικού διαστήματος.  

Σε ορισμένες περιπτώσεις, ίσως θέλετε να δημιουργήσετε μια ειδοποίηση κατά την απουσία του συμβάντος.  Για παράδειγμα, μια διαδικασία μπορεί να συνδεθείτε κανονική συμβάντων για να υποδείξει ότι λειτουργεί σωστά.  Εάν αυτό δεν καταγράφει ένα από αυτά τα συμβάντα εντός ενός συγκεκριμένου χρονικού διαστήματος, στη συνέχεια, θα πρέπει να δημιουργηθεί μια ειδοποίηση.  Σε αυτήν την περίπτωση θα μπορείτε να ορίσετε το όριο σε *λιγότερο από 1*.

### <a name="performance-alerts"></a>Ειδοποιήσεις επιδόσεων

Απόδοση τα [δεδομένα](log-analytics-data-sources-performance-counters.md) αποθηκεύονται ως εγγραφές στο αποθετήριο OMS παρόμοια με τα συμβάντα.  Η τιμή σε κάθε εγγραφή είναι ο μέσος όρος υπολογίζεται πάνω από το προηγούμενο 30 λεπτά.  Εάν θέλετε να υπάρχει προειδοποίηση όταν μετρητή επιδόσεων υπερβαίνει ένα συγκεκριμένο όριο, στη συνέχεια, αυτό το όριο θα πρέπει να συμπεριλαμβάνεται στο ερώτημα.

Για παράδειγμα, εάν θέλατε να ειδοποίηση όταν εκτελείται ο επεξεργαστής 90% επί 30 λεπτά, θα μπορείτε να χρησιμοποιήσετε ένα ερώτημα όπως *Τύπος = όνομα αντικειμένου επιδόσεων = το Όνομα_μετρητή Επεξεργαστής = "% Χρόνος επεξεργαστή" CounterValue > 90* και το όριο για τον κανόνα ειδοποίησης για *μεγαλύτερη του 0*.  

 Επειδή το [επιδόσεων εγγραφές](log-analytics-data-sources-performance-counters.md) έχουν συναθροιστεί κάθε 30 λεπτά ανεξάρτητα από τη συχνότητα που συλλέγετε κάθε μετρητή, ένα παράθυρο χρόνου που είναι μικρότερη από 30 λεπτά ενδέχεται να επιστρέψει χωρίς εγγραφές.  Ρύθμιση του χρονικού διαστήματος σε 30 λεπτά θα ώστε να έχετε μία εγγραφή για κάθε συνδεδεμένο αρχείο προέλευσης που αντιπροσωπεύει τον μέσο όρο πάνω από εκείνη τη στιγμή.

## <a name="alert-actions"></a>Ενέργειες ειδοποίησης

Εκτός από τη δημιουργία μιας ειδοποίησης εγγραφής, μπορείτε να ρυθμίσετε τον ειδοποίησης κανόνα για την αυτόματη εκτέλεση μία ή περισσότερες ενέργειες.  Ενέργειες εκ των προτέρων μπορεί να σας ειδοποιεί της ειδοποίησης ή κλήση κάποια διεργασία που προσπαθεί να διορθώσετε το πρόβλημα που εντοπίστηκε.  Οι παρακάτω ενότητες περιγράφουν τις ενέργειες που είναι διαθέσιμοι.

### <a name="email-actions"></a>Ενέργειες ηλεκτρονικού ταχυδρομείου
Ενέργειες ηλεκτρονικού ταχυδρομείου αποστολή μηνύματος ηλεκτρονικού ταχυδρομείου με τις λεπτομέρειες της ειδοποίησης για έναν ή περισσότερους παραλήπτες.  Μπορείτε να καθορίσετε το θέμα της αλληλογραφίας, αλλά το περιεχόμενο είναι μια τυπική μορφή συνταχθεί από αρχείο καταγραφής αναλυτικών στοιχείων.  Περιλαμβάνει συνοπτικές πληροφορίες όπως το όνομα της ειδοποίησης εκτός από τις λεπτομέρειες της έως δέκα εγγραφές που επιστρέφονται από την αναζήτηση του αρχείου καταγραφής.  Περιλαμβάνει επίσης μια σύνδεση προς μια αναζήτηση αρχείου καταγραφής στο αρχείο καταγραφής αναλυτικών στοιχείων που θα επιστρέψει ολόκληρο το σύνολο των εγγραφών από το ερώτημα.   Ο αποστολέας της αλληλογραφίας είναι *ομάδα οικογένεια προγραμμάτων του Microsoft λειτουργίες διαχείρισης &lt; noreply@oms.microsoft.com *. 


### <a name="webhook-actions"></a>Ενέργειες Webhook

Ενέργειες Webhook σάς επιτρέπουν να καλέσετε μια εξωτερική διαδικασία μέσω μιας μεμονωμένης αίτησης HTTP POST.  Η υπηρεσία που ονομάζεται πρέπει να υποστηρίζει webhooks και να καθορίζουν πώς θα χρησιμοποιήσει οποιοδήποτε φορτίο λάβει.  Μπορείτε, επίσης, θα μπορούσε να καλέσετε μια REST API που δεν υποστηρίζει ρητά webhooks με την προϋπόθεση ότι η αίτηση είναι σε μορφή που το API κατανοούν.  Παραδείγματα χρήσης webhook μια απάντηση σε μια ειδοποίηση χρησιμοποιείτε μια υπηρεσία όπως [αδράνεια](http://slack.com) για να στείλετε ένα μήνυμα με τις λεπτομέρειες της ειδοποίησης ή τη δημιουργία ενός περιστατικού σε μια υπηρεσία, όπως [PagerDuty](http://pagerduty.com/).  

Ολοκλήρωση αναλυτικές οδηγίες για τη δημιουργία μιας ειδοποίησης κανόνα με ένα webhook για να καλέσετε μια υπηρεσία του δείγματος είναι διαθέσιμη από την [Webhooks στην ανάλυση καταγραφής ειδοποιήσεων](log-analytics-alerts-webhooks.md).

Webhooks περιλαμβάνουν μια διεύθυνση URL και ένα φορτίο μορφοποιημένο με JSON που είναι τα δεδομένα που αποστέλλονται με την εξωτερική υπηρεσία.  Από προεπιλογή, το φορτίο θα περιλαμβάνει τις τιμές στον παρακάτω πίνακα.  Μπορείτε να επιλέξετε για να αντικαταστήσετε αυτό φορτίο με ένα προσαρμοσμένο δική σας.  Σε αυτήν την περίπτωση μπορείτε να χρησιμοποιήσετε τις μεταβλητές στον πίνακα για κάθε μία από τις παραμέτρους για να συμπεριλάβετε τους τιμή στη το προσαρμοσμένο φορτίο του.


| Παράμετρος | Μεταβλητή | Περιγραφή |
|:--|:--|:--|
| AlertRuleName | #alertrulename | Το όνομα του κανόνα ειδοποίησης. |
| AlertThresholdOperator | #thresholdoperator | Όριο τελεστής για τον κανόνα ειδοποίησης.  *Μεγαλύτερο* ή *μικρότερο από*. |
| AlertThresholdValue | #thresholdvalue | Οριακή τιμή για τον κανόνα ειδοποίησης. |
| LinkToSearchResults | #linktosearchresults | Σύνδεση με ανάλυση καταγραφής καταγραφής αναζήτησης που επιστρέφει τις εγγραφές από το ερώτημα που δημιούργησε την ειδοποίηση. |
| ResultCount  | #searchresultcount | Αριθμός των εγγραφών στα αποτελέσματα αναζήτησης. |
| SearchIntervalEndtimeUtc  | #searchintervalendtimeutc | Ώρα λήξης για το ερώτημα σε μορφή UTC. |
| SearchIntervalInSeconds | #searchinterval | Παράθυρο χρόνου για τον κανόνα ειδοποίησης. |
| SearchIntervalStartTimeUtc  | #searchintervalstarttimeutc | Ώρα έναρξης για το ερώτημα σε μορφή UTC. |
| SearchQuery | #searchquery | Ερώτημα αναζήτησης καταγραφής που χρησιμοποιείται από τον κανόνα ειδοποίησης. |
| SearchResults | Δείτε παρακάτω | Οι εγγραφές που επιστρέφονται από το ερώτημα σε μορφή JSON.  Μόνο στην πρώτη 5.000 εγγραφών. |
| WorkspaceID | #workspaceid | Το Αναγνωριστικό του χώρου εργασίας σας OMS. |


Για παράδειγμα, ενδέχεται να μπορείτε να καθορίσετε το εξής προσαρμοσμένες φορτίο που περιλαμβάνει μία παράμετρο που ονομάζεται *κειμένου*.  Η υπηρεσία που καλεί αυτό webhook θα είναι αναμένεται η παράμετρος αυτή.

    {
        "text":"#alertrulename fired with #searchresultcount over threshold of #thresholdvalue."
    }

Σε αυτό το παράδειγμα φορτίο θα επιλύεται κάτι παρόμοιο με τα εξής κατά την αποστολή για να το webhook.

    {
        "text":"My Alert Rule fired with 18 records over threshold of 10 ."
    }

Για να συμπεριλάβετε αποτελεσμάτων αναζήτησης σε μια προσαρμοσμένη φορτίο, προσθέστε την ακόλουθη γραμμή ως ιδιότητα ανώτατου επιπέδου στο φορτίο json.  

    "IncludeSearchResults":true

Για παράδειγμα, για να δημιουργήσετε μια προσαρμοσμένη φορτίου που περιλαμβάνει μόνο το όνομα του ειδοποίησης και τα αποτελέσματα της αναζήτησης, μπορείτε να χρησιμοποιήσετε τα εξής. 

    {
       "alertname":"#alertrulename",
       "IncludeSearchResults":true
    }


Μπορείτε να καθοδηγήσετε μέσω μια ολοκληρωμένη παράδειγμα τη δημιουργία μιας ειδοποίησης κανόνα με ένα webhook για να ξεκινήσετε μια εξωτερική υπηρεσία στην [ανάλυση καταγραφής λαμβάνω webhook δείγμα](log-analytics-alerts-webhooks.md).

### <a name="runbook-actions"></a>Ενέργειες Runbook

Ενέργειες Runbook ξεκινήστε μια runbook Azure αυτοματισμού.  Για να χρησιμοποιήσετε αυτόν τον τύπο ενέργειας, πρέπει να έχετε τη [λύση αυτοματισμού](log-analytics-add-solutions.md) εγκατασταθεί και ρυθμιστεί στο χώρο εργασίας σας OMS.  Εάν δεν έχετε εγκαταστήσει όταν δημιουργείτε έναν νέο κανόνα ειδοποίησης, εμφανίζεται μια σύνδεση για την εγκατάσταση.  Μπορείτε να επιλέξετε από το runbooks στο λογαριασμό αυτοματισμού που έχετε ρυθμίσει τις παραμέτρους της λύσης αυτοματισμού.

Ενέργειες Runbook Έναρξη runbook χρησιμοποιώντας μια [webhook](../automation/automation-webhooks.md).  Όταν δημιουργείτε τον κανόνα ειδοποίησης, θα δημιουργήσει αυτόματα ένα νέο webhook για runbook με το όνομα του **Επιδιόρθωση ειδοποίηση OMS** ακολουθούμενο από ένα GUID.  

Δεν μπορείτε να συμπληρώσετε απευθείας τις παραμέτρους του runbook, αλλά η [παράμετρος $WebhookData](../automation/automation-webhooks.md) θα περιλαμβάνει τις λεπτομέρειες της ειδοποίησης, συμπεριλαμβανομένων των αποτελεσμάτων της αναζήτησης στο αρχείο καταγραφής που δημιουργήθηκε.  Runbook θα πρέπει να ορίσετε **$WebhookData** ως παράμετρο, για να αποκτήσετε πρόσβαση στις ιδιότητες της ειδοποίησης.  Τα δεδομένα ειδοποίησης είναι διαθέσιμα σε μορφή json σε μία μόνο ιδιότητα που ονομάζεται **SearchResults** στην ιδιότητα **RequestBody** **$WebhookData**.  Αυτό θα έχει με τις ιδιότητες στον παρακάτω πίνακα.


| Κόμβου | Περιγραφή |
|:--|:--|
| αναγνωριστικό         | Διαδρομή και GUID της αναζήτησης. |
| __metadata | Πληροφορίες σχετικά με την ειδοποίηση, συμπεριλαμβανομένου του αριθμού εγγραφών και την κατάσταση των αποτελεσμάτων αναζήτησης. |
|  τιμή     |  Ξεχωριστή καταχώρηση για κάθε εγγραφή στα αποτελέσματα αναζήτησης.  Τις λεπτομέρειες της καταχώρησης θα ταιριάζουν με τις ιδιότητες και τις τιμές της εγγραφής.   |

Για παράδειγμα, παρακάτω runbook να εξαγάγετε τις εγγραφές που επιστρέφονται από την αναζήτηση του αρχείου καταγραφής και αντιστοιχίστε διαφορετικές ιδιότητες με βάση τον τύπο της κάθε εγγραφή.  Σημειώστε ότι runbook ξεκινά με τη μετατροπή **RequestBody** από json, έτσι ώστε να μπορούν να εργαστούν με ως αντικείμενο σε PowerShell.

    param ( 
        [object]$WebhookData
    )

    $RequestBody = ConvertFrom-JSON -InputObject $WebhookData.RequestBody
    $Records     = $RequestBody.SearchResults.value
    
    foreach ($Record in $Records)
    {
        $Computer = $Record.Computer
        
        if ($Record.Type -eq 'Event')
        {
            $EventNo    = $Record.EventID
            $EventLevel = $Record.EventLevelName
            $EventData  = $Record.EventData
        }
        
        if ($Record.Type -eq 'Perf')
        {
            $Object    = $Record.ObjectName
            $Counter   = $Record.CounterName
            $Instance  = $Record.InstanceName
            $Value     = $Record.CounterValue
        }
    }


## <a name="alert-records"></a>Ειδοποίηση εγγραφών

Ειδοποίηση εγγραφές που δημιουργούνται από ειδοποίησης κανόνων στο αρχείο καταγραφής αναλυτικών στοιχείων έχουν έναν **τύπο** **ειδοποίηση** και μια **SourceSystem** του **OMS**.  Έχουν τις ιδιότητες στον παρακάτω πίνακα.

| Ιδιότητα | Περιγραφή |
|:--|:--|
| Τύπος          | *Ειδοποίηση* |
| SourceSystem  | *OMS* |
| AlertSeverity | Επίπεδο σοβαρότητας της ειδοποίησης. |
| AlertName     | Όνομα της ειδοποίησης. |
| Ερώτημα         | Κείμενο του ερωτήματος που εκτελέστηκε.  |
| QueryExecutionEndTime   | Τέλος της περιοχής ώρας για το ερώτημα. |
| QueryExecutionStartTime | Έναρξη του χρονικού διαστήματος για το ερώτημα.  |
| TimeGenerated | Ημερομηνία και ώρα της ειδοποίησης που δημιουργήθηκε. |

Υπάρχουν άλλα είδη ειδοποίησης καρτέλες που δημιουργήθηκαν με τη [λύση διαχείρισης ειδοποίησης](log-analytics-solution-alert-management.md) και με [εξάγει Power BI](log-analytics-powerbi.md).  Αυτά όλα έχουν **τύπο** της **ειδοποίησης** αλλά διακρίνονται από τους **SourceSystem**.




## <a name="next-steps"></a>Επόμενα βήματα

- Εγκαταστήστε τη [λύση ειδοποίησης διαχείρισης](log-analytics-solution-alert-management.md) για την ανάλυση ειδοποιήσεις που δημιουργήθηκαν στο αρχείο καταγραφής ανάλυσης μαζί με τις ειδοποιήσεις που συλλέγονται από το σύστημα κέντρο Operations Manager (SCOM).
- Διαβάστε περισσότερα σχετικά με τις [αναζητήσεις καταγραφής](log-analytics-log-searches.md) που μπορούν να δημιουργούν ειδοποιήσεις.
- Ολοκληρώστε τις αναλυτικές οδηγίες για [τη ρύθμιση των παραμέτρων ενός webook](log-analytics-alerts-webhooks.md) με έναν κανόνα ειδοποίησης.  
- Μάθετε πώς να συντάξετε [runbooks στο Azure αυτοματισμού](https://azure.microsoft.com/documentation/services/automation) για τη διόρθωση προβλημάτων που προσδιορίζονται από τις ειδοποιήσεις.