<properties
   pageTitle="Εφαρμογή web μεταβλητού μεγέθους | Αρχιτεκτονική Azure αναφοράς | Microsoft Azure"
   description="Βελτίωση της κλιμάκωση σε μια εφαρμογή web που εκτελείται στο Microsoft Azure."
   services="app-service,app-service\web,sql-database"
   documentationCenter="na"
   authors="MikeWasson"
   manager="roshar"
   editor=""
   tags=""/>

<tags
   ms.service="guidance"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/12/2016"
   ms.author="mwasson"/>


# <a name="improving-scalability-in-a-web-application"></a>Βελτίωση της κλιμάκωση σε μια εφαρμογή web 

[AZURE.INCLUDE [pnp-RA-branding](../../includes/guidance-pnp-header-include.md)]

Σε αυτό το άρθρο παρουσιάζει μια προτεινόμενη αρχιτεκτονική για τη βελτίωση της κλιμάκωσης και των επιδόσεων σε μια εφαρμογή web που εκτελούνται στο Microsoft Azure. Η αρχιτεκτονική δημιουργεί [αρχιτεκτονική Azure αναφορά: εφαρμογή web βασικές][basic-web-app]. Οι προτάσεις και ζητήματα από αυτό το άρθρο ισχύουν για αυτήν την αρχιτεκτονική καθώς και.

>[AZURE.NOTE] Azure έχει δύο διαφορετικές ανάπτυξης μοντέλα: Διαχείριση πόρων και κλασική. Σε αυτό το άρθρο χρησιμοποιεί διαχείριση πόρων, η οποία η Microsoft συνιστά για νέες αναπτύξεις.

## <a name="architecture-diagram"></a>Διάγραμμα αρχιτεκτονικής

![[0]][0]

Η αρχιτεκτονική περιλαμβάνει τα παρακάτω στοιχεία:

- **Ομάδα πόρων**. [Ομάδα πόρων] [ resource-group] είναι ένα λογικό κοντέινερ για Azure πόρους. 

- ** [Εφαρμογής web] [ app-service-web-app] ** και ** [εφαρμογή API][app-service-api-app]**. Μια τυπική σύγχρονη εφαρμογή ενδέχεται να περιλαμβάνουν μια τοποθεσία Web και μία ή περισσότερες RESTful web APIs. Web API ενδέχεται να καταναλωθεί από προγράμματα-πελάτες περιήγησης μέσω AJAX, από εφαρμογές προγράμματος-πελάτη εγγενών ή από εφαρμογές πλευρά του διακομιστή. Για ζητήματα στο σχεδιασμό web APIs, ανατρέξτε στο θέμα [οδηγίες σχεδίασης API][api-guidance].    

- **WebJob**. Χρήση του [Azure WebJobs] [ webjobs] για να εκτελέσετε εργασίες μεγάλη διάρκεια εκτέλεσης στο παρασκήνιο. WebJobs μπορεί να εκτελεστεί σε ένα χρονοδιάγραμμα, continously, ή απόκριση σε ένα έναυσμα, όπως με ένα μήνυμα σε μια ουρά. Μια WebJob εκτελείται ως διαδικασία στο παρασκήνιο στο περιβάλλον της εφαρμογής υπηρεσίας εφαρμογής. 

- **Ουρά**. Στην αρχιτεκτονική εμφανίζεται εδώ, η εφαρμογή ουρές εργασίες παρασκηνίου, τοποθετώντας ένα μήνυμα στο χώρο [Αποθήκευσης ουρά Azure] [ queue-storage] ουρά. Το μήνυμα εκκινεί μια συνάρτηση σε το WebJob. 

    Εναλλακτικά, μπορείτε να χρησιμοποιήσετε ουρές Bus υπηρεσίας. Για μια σύγκριση, ανατρέξτε στο θέμα [Azure ουρές και και υπηρεσία Bus - σύγκριση και υπενθύμισης και χρωματικές][queues-compared].

- **Cache**. Αποθήκευση ημι-στατική δεδομένων στο [Azure Redis Cache][azure-redis].  

- **CDN**. Χρησιμοποιήστε [Δίκτυο παροχής περιεχομένου Azure] [ azure-cdn] (CDN) στο cache διαθέσιμη στο κοινό περιεχόμενο, για κάτω λανθάνων χρόνος και ταχύτερη παράδοση του περιεχομένου.

- **Χώρος αποθήκευσης δεδομένων.** Χρήση [Βάσης δεδομένων SQL Azure] [ sql-db] για σχεσιακών δεδομένων. Για μη σχεσιακών δεδομένων, εξετάστε το ενδεχόμενο να κατάστημα NoSQL, όπως το χώρο αποθήκευσης πινάκων του Azure ή [DocumentDB][documentdb].

- **Αναζήτηση azure**. Χρησιμοποιήστε την [Αναζήτηση Azure] [ azure-search] για να προσθέσετε λειτουργικότητα αναζήτησης, συμπεριλαμβανομένων των προτάσεις αναζήτησης, θολό αναζήτησης και αναζήτηση συγκεκριμένη γλώσσα. Azure αναζήτησης χρησιμοποιείται συνήθως σε συνδυασμό με μια άλλη χώρου αποθήκευσης δεδομένων, ειδικά αν ο χώρος αποθήκευσης δεδομένων πρωτεύον απαιτεί αυστηρών συνέπειας. Σε αυτήν την προσέγγιση, θα κάνατε των έγκυρων δεδομένων σε άλλα χώρου αποθήκευσης δεδομένων και τοποθέτηση το ευρετήριο αναζήτησης σε Azure αναζήτησης. Azure αναζήτησης μπορεί επίσης να χρησιμοποιηθεί για τη συνολική εικόνα ένα ευρετήριο αναζήτησης μόνο από πολλούς χώρους αποθήκευσης δεδομένων.  

- **Μήνυμα ηλεκτρονικού ταχυδρομείου/SMS**. Εάν η εφαρμογή σας πρέπει να στείλετε μήνυμα ηλεκτρονικού ταχυδρομείου ή μηνύματα SMS, χρησιμοποιήστε μια υπηρεσία άλλου κατασκευαστή, όπως SendGrid ή Twilio, αντί να δημιουργείτε αυτή η λειτουργία απευθείας στην εφαρμογή.

## <a name="recommendations"></a>Συστάσεις

### <a name="app-service-apps"></a>Εφαρμογές εφαρμογής υπηρεσίας 

Συνιστάται η δημιουργία της εφαρμογής web και το API web ως ξεχωριστή εφαρμογής υπηρεσίας εφαρμογών. Αυτήν τη σχεδίαση σας επιτρέπει να εκτελέσετε τους σε ξεχωριστά τα προγράμματα εφαρμογής υπηρεσίας, οποία με τη σειρά σάς επιτρέπει να κλιμακωθεί τους ξεχωριστά. Εάν δεν χρειάζεστε αυτό το επίπεδο κλιμάκωση στο πρώτα, μπορείτε να αναπτύξετε τις εφαρμογές στο ίδιο σχέδιο και να τις μετακινήσετε σε ξεχωριστή σχέδια αργότερα, εάν είναι απαραίτητο. (Για τα προγράμματα Basic, τυπική και Premium, χρέωσης για τις παρουσίες Εικονική στο σχέδιο, όχι ανά εφαρμογή. Δείτε [τις πληροφορίες τιμολόγησης εφαρμογής υπηρεσίας][app-service-pricing])

Εάν σκοπεύετε να χρησιμοποιήσετε την *Εύκολη πίνακες* ή *Εύκολο APIs* δυνατότητες των εφαρμογών υπηρεσίας Mobile, δημιουργήστε μια ξεχωριστή εφαρμογή εφαρμογής υπηρεσίας για το σκοπό.  Αυτές οι δυνατότητες που βασίζονται σε ένα πλαίσιο συγκεκριμένη εφαρμογή για να ενεργοποιήσετε τους.

### <a name="webjobs"></a>WebJobs

Εάν το WebJob είναι πόρους, εξετάστε το ενδεχόμενο την ανάπτυξή του σε μια κενή εφαρμογή εφαρμογής υπηρεσίας μέσα σε ένα ξεχωριστό πρόγραμμα εφαρμογής υπηρεσίας, για την παροχή αποκλειστικό παρουσίες του WebJob. Ανατρέξτε στις [οδηγίες εργασίες φόντο][webjobs-guidance].  

### <a name="cache"></a>Cache

Μπορείτε να βελτιώσετε τις επιδόσεις και κλιμάκωση με χρήση του [Azure Redis Cache] [ azure-redis] στη μνήμη cache ορισμένα δεδομένα. Εξετάστε το ενδεχόμενο χρήσης Redis μνήμης Cache για:

- Ημι-στατική συναλλαγής δεδομένα.

- Κατάσταση περιόδου λειτουργίας.

- Αποτέλεσμα HTML. Αυτό μπορεί να είναι χρήσιμη στις εφαρμογές που απόδοση σύνθετες εξόδου HTML. 

Για πιο λεπτομερείς οδηγίες σχετικά με τη σχεδίαση μιας σε cache στρατηγικής, ανατρέξτε στο θέμα [σε cache καθοδήγηση][caching-guidance].

### <a name="cdn"></a>CDN 

Χρήση του [Azure CDN] [ azure-cdn] σε cache στατικό περιεχόμενο. Το βασικό πλεονέκτημα της ένα CDN είναι να μειώσετε λανθάνων χρόνος για τους χρήστες, επειδή το περιεχόμενο είναι αποθηκευμένο στο cache στο *άκρο διακομιστή* που γεωγραφικά μοιάζει με το χρήστη. CDN επίσης να μειώσετε φόρτωσης σχετικά με την εφαρμογή, επειδή η κυκλοφορία δεν γίνεται από την εφαρμογή.

- Εάν η εφαρμογή σας αποτελείται κυρίως στατικών σελίδων, εξετάστε το ενδεχόμενο χρήσης CDN στη μνήμη cache ολόκληρη την εφαρμογή. Ανατρέξτε στο θέμα [χρήση του Azure CDN στο Azure εφαρμογής υπηρεσίας][cdn-app-service].

- Διαφορετικά, τοποθέτηση στατικό περιεχόμενο, όπως εικόνες, CSS και HTML αρχεία, στο χώρο αποθήκευσης Azure και χρήση CDN στη μνήμη cache αυτά τα αρχεία. Ανατρέξτε στο θέμα [ενσωμάτωση ενός λογαριασμού χώρου αποθήκευσης με CDN][cdn-storage-account].

> [AZURE.NOTE] Azure CDN δεν μπορεί να λειτουργήσει περιεχόμενο που απαιτεί έλεγχο ταυτότητας.

Για πιο λεπτομερείς οδηγίες, ανατρέξτε στις [οδηγίες περιεχομένου παράδοσης δικτύου (CDN)][cdn-guidance]. 

### <a name="storage"></a>Χώρος αποθήκευσης

Μοντέρνα εφαρμογές επεξεργασία συχνά μεγάλες ποσότητες δεδομένων. Για να περιορίσετε το μέγεθος για το cloud, είναι σημαντικό να επιλέξετε τον τύπο δεξιά χώρου αποθήκευσης. Εδώ θα βρείτε ορισμένες προτάσεις γραμμής βάσης.  Για πιο λεπτομερείς οδηγίες, ανατρέξτε στο θέμα [Εκτίμηση δυνατότητες αποθήκευσης δεδομένων για λύσεις διατήρησης Polyglot][polyglot-storage].

Τι θέλετε να αποθηκεύσετε | Παράδειγμα | Προτεινόμενα χώρου αποθήκευσης
--- | --- | ---
Αρχεία | Εικόνες, έγγραφα, τα αρχεία PDF | Χώρος αποθήκευσης αντικειμένων Blob του Azure
Ζεύγη κλειδιού/τιμής | Αναζήτηση δεδομένων προφίλ χρήστη κατά Αναγνωριστικό χρήστη | Χώρος αποθήκευσης πινάκων του Azure
Σύντομα μηνύματα που προορίζονται για την ενεργοποίηση περαιτέρω επεξεργασία | Προσκλήσεις σε σειρά | Αποθήκευση Azure ουράς, Bus απεσταλμένων ή το θέμα Bus υπηρεσίας
Μη σχεσιακών δεδομένων, με μια ευέλικτη διάταξη, που απαιτεί βασικές υποβολή ερωτημάτων | Κατάλογος προϊόντων | Βάση δεδομένων του εγγράφου, όπως Azure DocumentDB, MongoDB ή Apache CouchDB
Σχεσιακών δεδομένων, που απαιτεί πιο πλούσια υποστήριξη ερωτημάτων, σχήματος ή/και ισχυρό συνέπειας | Απόθεμα του προϊόντος | Βάση δεδομένων SQL Azure

## <a name="scalability-considerations"></a>Ζητήματα κλιμάκωση

### <a name="app-service-app"></a>Εφαρμογή εφαρμογής υπηρεσίας

Εάν η λύση περιλαμβάνει πολλές εφαρμογές εφαρμογής υπηρεσίας, εξετάστε το ενδεχόμενο ανάπτυξη τους για να διαχωρίσετε τα σχέδια εφαρμογής υπηρεσίας. Αυτή η προσέγγιση σάς επιτρέπει να κλιμακωθεί τους ανεξάρτητα από αυτό, επειδή εκτελούνται σε ξεχωριστές περιόδους λειτουργίας. Για περισσότερες πληροφορίες σχετικά με την κλιμάκωση ανάληψη, ανατρέξτε στο θέμα τα [ζητήματα κλιμάκωση] [ basic-web-app-scalability] ενότητας σε η [αρχιτεκτονική της εφαρμογής web βασικές][basic-web-app].

Ομοίως, μπορείτε να θέσετε μια WebJob σε δικό του σχεδίου, ώστε να εργασίες στο παρασκήνιο δεν εκτελείται σε το ίδιο εμφανίσεις που χειρισμού των αιτήσεων HTTP.  

### <a name="sql-database"></a>Βάση δεδομένων SQL

Αύξηση κλιμάκωση από μια βάση δεδομένων SQL κατά *sharding* τη βάση δεδομένων &mdash; , δηλαδή διαμερισμάτων οριζόντια τη βάση δεδομένων. Sharding σάς επιτρέπει να κλιμακωθεί οριζόντια εκτός της βάσης δεδομένων χρησιμοποιώντας [Εργαλεία βάσης δεδομένων ελαστικά][sql-elastic]. Πιθανά οφέλη από την sharding περιλαμβάνουν τα εξής:

- Καλύτερη μετάδοσης κίνησης.

- Τα ερωτήματα μπορεί να εκτελείται πιο γρήγορα πάνω από ένα υποσύνολο των δεδομένων. 

### <a name="azure-search"></a>Azure αναζήτησης

Azure αναζήτησης καταργεί το επιβάρυνσης του εκτελεί τις αναζητήσεις σύνθετα δεδομένα από το χώρο αποθήκευσης κύριων δεδομένων και το μπορεί να περιορίσετε το μέγεθος για το χειρισμό φόρτου. Ανατρέξτε στο άρθρο [κλίμακα επίπεδα πόρων για το ερώτημα και δημιουργίας ευρετηρίου φόρτους εργασίας του στο πλαίσιο Αναζήτηση Azure][azure-search-scaling].

## <a name="security-considerations"></a>Ζητήματα ασφαλείας

### <a name="cross-origin-resource-sharing-cors"></a>Κοινή χρήση (CORS) σταυρό Origin πόρων

Εάν δημιουργήσετε μια τοποθεσία Web και API web ως ξεχωριστή εφαρμογές, στην τοποθεσία Web δεν είναι δυνατό να πραγματοποιήσετε κλήσεις AJAX πλευρά του προγράμματος-πελάτη για το API εκτός εάν ενεργοποιήσετε CORS. 

> [AZURE.NOTE] Ασφάλεια του προγράμματος περιήγησης δεν επιτρέπει σε ιστοσελίδα να κάνουν αιτήσεις AJAX σε άλλον τομέα. Αυτός ο περιορισμός ονομάζεται την πολιτική ίδια προέλευση και αποτρέπει την ανάγνωση δεδομένων sentitive από άλλη τοποθεσία μια επιβλαβή τοποθεσία. CORS είναι ένα πρότυπο W3C που επιτρέπει στο διακομιστή να χαλαρώσετε την πολιτική ίδια προέλευση και να επιτρέψετε ορισμένες αιτήσεις σταυρό origin κατά την απόρριψη άλλους χρήστες.

Εφαρμογή υπηρεσιών περιλαμβάνει ενσωματωμένη υποστήριξη για CORS, χωρίς να χρειάζεται να γράφετε κώδικα εφαρμογής. Ανατρέξτε στο θέμα [ανάλωση εφαρμογής API από JavaScript χρησιμοποιώντας CORS][cors]. Προσθήκη της τοποθεσίας Web στη λίστα των επιτρεπόμενων προελεύσεων για το API. 

### <a name="sql-database-encryption"></a>Κρυπτογράφηση βάσης δεδομένων SQL

Χρήση της [Κρυπτογράφησης διαφανή δεδομένων] [ sql-encryption] Εάν χρειάζεστε για την κρυπτογράφηση των δεδομένων στο υπόλοιπο στη βάση δεδομένων. Αυτή η δυνατότητα εκτελεί σε πραγματικό χρόνο κρυπτογράφηση και αποκρυπτογράφηση μιας ολόκληρης βάσης δεδομένων (όπως αντίγραφα ασφαλείας και αρχεία καταγραφής συναλλαγών), χωρίς να απαιτείται αλλαγές στην εφαρμογή. Κρυπτογράφηση Προσθήκη ορισμένες λανθάνων χρόνος, ώστε να είναι μια καλή πρακτική για να διαχωρίσετε τα δεδομένα που πρέπει να είναι ασφαλής σε ξεχωριστή βάση δεδομένων, και να ενεργοποιήσετε την κρυπτογράφηση μόνο για αυτήν τη βάση δεδομένων.  

## <a name="next-steps"></a>Επόμενα βήματα

- Για μεγαλύτερη διαθεσιμότητα, ανάπτυξη της εφαρμογής σε περισσότερες από μία περιοχή και χρησιμοποιήστε τη [Διαχείριση κίνηση Azure] [ tm] για ανακατεύθυνση. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [αρχιτεκτονική Azure αναφορά: εφαρμογή Web με υψηλή διαθεσιμότητα][web-app-multi-region].    

<!-- links -->

[api-guidance]: ../best-practices-api-design.md
[app-service-web-app]: ../app-service-web/app-service-web-overview.md
[app-service-api-app]: ../app-service-api/app-service-api-apps-why-best-platform.md
[app-service-pricing]: https://azure.microsoft.com/en-us/pricing/details/app-service/
[azure-cdn]: https://azure.microsoft.com/en-us/services/cdn/
[azure-redis]: https://azure.microsoft.com/en-us/services/cache/
[azure-search]: https://azure.microsoft.com/en-us/documentation/services/search/
[azure-search-scaling]: ../search/search-capacity-planning.md
[background-jobs]: ../best-practices-background-jobs.md
[basic-web-app]: guidance-web-apps-basic.md
[basic-web-app-scalability]: guidance-web-apps-basic.md#scalability-considerations 
[caching-guidance]: ../best-practices-caching.md
[cdn-app-service]: ../app-service-web/cdn-websites-with-cdn.md
[cdn-storage-account]: ../cdn/cdn-create-a-storage-account-with-cdn.md
[cdn-guidance]: ../best-practices-cdn.md
[cors]: ../app-service-api/app-service-api-cors-consume-javascript.md
[documentdb]: https://azure.microsoft.com/en-us/documentation/services/documentdb/
[polyglot-storage]: https://github.com/mspnp/azure-guidance/blob/master/Polyglot-Solutions.md
[queue-storage]: ../storage/storage-dotnet-how-to-use-queues.md
[queues-compared]: ../service-bus-messaging/service-bus-azure-and-service-bus-queues-compared-contrasted.md
[resource-group]: ../resource-group-overview.md
[sql-db]: https://azure.microsoft.com/en-us/documentation/services/sql-database/
[sql-elastic]: ../sql-database/sql-database-elastic-scale-introduction.md
[sql-encryption]: https://msdn.microsoft.com/en-us/library/dn948096.aspx
[tm]: https://azure.microsoft.com/en-us/services/traffic-manager/
[web-app-multi-region]: ./guidance-web-apps-multi-region.md
[webjobs-guidance]: ../best-practices-background-jobs.md
[webjobs]: ../app-service/app-service-webjobs-readme.md
[0]: ./media/blueprints/paas-web-scalability.png "Εφαρμογή Web στο Azure με βελτιωμένη δυνατότητα κλιμάκωσης"