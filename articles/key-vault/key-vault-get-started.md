<properties
    pageTitle="Γρήγορα αποτελέσματα με το Azure κλειδί θάλαμο | Microsoft Azure"
    description="Χρησιμοποιήστε αυτό το πρόγραμμα εκμάθησης για να σας βοηθήσει να ξεκινήσετε με το Azure θάλαμο αριθμού-κλειδιού για να δημιουργήσετε ένα κοντέινερ υψηλό επίπεδο ασφαλείας στο Azure, για να αποθηκεύσετε και να διαχειριστείτε κλειδιών κρυπτογράφησης και απόρρητο στο Azure."
    services="key-vault"
    documentationCenter=""
    authors="cabailey"
    manager="mbaldwin"
    tags="azure-resource-manager"/>

<tags
    ms.service="key-vault"
    ms.workload="identity"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="hero-article"
    ms.date="10/24/2016"
    ms.author="cabailey"/>

# <a name="get-started-with-azure-key-vault"></a>Γρήγορα αποτελέσματα με το Azure θάλαμο αριθμού-κλειδιού #
Azure θάλαμο κλειδί είναι διαθέσιμη στις περισσότερες περιοχές. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα το [κλειδί θάλαμο τιμολόγησης σελίδας](https://azure.microsoft.com/pricing/details/key-vault/).

## <a name="introduction"></a>Εισαγωγή  
Χρησιμοποιήστε αυτό το πρόγραμμα εκμάθησης για να σας βοηθήσει να ξεκινήσετε με το Azure θάλαμο αριθμού-κλειδιού για να δημιουργήσετε ένα κοντέινερ υψηλό επίπεδο ασφαλείας (ένα θάλαμο) στο Azure, για να αποθηκεύσετε και να διαχειριστείτε κλειδιών κρυπτογράφησης και απόρρητο στο Azure. Σας καθοδηγεί κατά τη διαδικασία χρησιμοποιώντας το Azure PowerShell για να δημιουργήσετε ένα θάλαμο που περιέχει έναν αριθμό-κλειδί ή τον κωδικό πρόσβασης που μπορείτε να χρησιμοποιήσετε με μια εφαρμογή του Azure. Στη συνέχεια, βλέπετε πώς να χρησιμοποιήσετε μια εφαρμογή που αριθμό-κλειδί ή τον κωδικό πρόσβασης.

**Εκτιμώμενη χρόνο για να ολοκληρωθεί:** 20 λεπτά την

>[AZURE.NOTE]  Αυτό το πρόγραμμα εκμάθησης δεν περιλαμβάνει οδηγίες για το πώς να συντάξετε το Azure εφαρμογή ότι ένα από τα βήματα περιλαμβάνει, δηλαδή τον τρόπο για να εξουσιοδοτήσετε μια εφαρμογή για να χρησιμοποιήσετε έναν αριθμό-κλειδί ή μυστικό στο του κλειδιού θάλαμο.
>
>Αυτό το πρόγραμμα εκμάθησης χρησιμοποιεί Azure PowerShell. Για οδηγίες περιβάλλον γραμμής εντολών πλατφόρμες, ανατρέξτε [σε αυτό το πρόγραμμα εκμάθησης ισοδύναμο](key-vault-manage-with-cli.md).

Για επισκόπηση πληροφορίες σχετικά με το Azure κλειδί θάλαμο, ανατρέξτε στο θέμα [Τι είναι το Azure κλειδί θάλαμο;](key-vault-whatis.md)

## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

Για να ολοκληρώσετε αυτό το πρόγραμμα εκμάθησης, πρέπει να έχετε τα εξής:

- Μια συνδρομή στο Microsoft Azure. Εάν δεν έχετε ένα, μπορείτε να εγγραφείτε για έναν [δωρεάν λογαριασμό](https://azure.microsoft.com/pricing/free-trial/).
- Azure PowerShell, την **Ελάχιστη έκδοση του 1.1.0**. Για να εγκαταστήσετε Azure PowerShell και να συσχετίσετε με τη συνδρομή σας στο Azure, δείτε [πώς μπορείτε να εγκαταστήσετε και να ρυθμίσετε τις παραμέτρους του PowerShell Azure](../powershell-install-configure.md). Εάν έχετε ήδη εγκαταστήσει το Azure PowerShell και δεν γνωρίζετε την έκδοση, από την κονσόλα Azure PowerShell, πληκτρολογήστε `(Get-Module azure -ListAvailable).Version`. Όταν έχετε Azure PowerShell 0.9.1 έως 0.9.8 εγκατεστημένη έκδοση, μπορείτε να χρησιμοποιήσετε αυτό το πρόγραμμα εκμάθησης με ορισμένες αλλαγές μικρής σημασίας. Για παράδειγμα, πρέπει να χρησιμοποιήσετε το `Switch-AzureMode AzureResourceManager` εντολών και ορισμένες από τις εντολές θάλαμο κλειδί Azure έχουν αλλάξει. Για μια λίστα με τα cmdlet θάλαμο αριθμού-κλειδιού για τις εκδόσεις 0.9.1 έως 0.9.8, ανατρέξτε στο θέμα [Azure κλειδί θάλαμο cmdlet](https://msdn.microsoft.com/library/azure/dn868052\(v=azure.98\).aspx). 
- Μια εφαρμογή που θα ρυθμιστεί για να χρησιμοποιήσετε το κλειδί ή τον κωδικό πρόσβασης που δημιουργείτε σε αυτό το πρόγραμμα εκμάθησης. Ένα δείγμα εφαρμογής είναι διαθέσιμη από το [Κέντρο λήψης της Microsoft](http://www.microsoft.com/en-us/download/details.aspx?id=45343). Για οδηγίες, ανατρέξτε στο θέμα συνοδευτικό αρχείο Readme.


Αυτό το πρόγραμμα εκμάθησης έχει σχεδιαστεί για αρχάριους Azure PowerShell, αλλά αυτό προϋποθέτει ότι γνωρίζετε τις βασικές έννοιες, όπως λειτουργικές μονάδες, των cmdlet και οι περίοδοι λειτουργίας. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Γρήγορα αποτελέσματα με το Windows PowerShell](https://technet.microsoft.com/library/hh857337.aspx).

Για να λάβετε αναλυτικές πληροφορίες Βοήθειας για οποιαδήποτε cmdlet που βλέπετε σε αυτό το πρόγραμμα εκμάθησης, χρησιμοποιήστε το cmdlet **Get-Βοήθεια** .

    Get-Help <cmdlet-name> -Detailed

Για παράδειγμα, για να λάβετε Βοήθεια για το cmdlet **AzureRmAccount σύνδεσης** , πληκτρολογήστε:

    Get-Help Login-AzureRmAccount -Detailed

Μπορείτε, επίσης, να διαβάσετε τα παρακάτω προγράμματα εκμάθησης για να εξοικειωθείτε με τη διαχείριση πόρων Azure στο Azure PowerShell:

- [Πώς να εγκαταστήσετε και να ρυθμίσετε τις παραμέτρους του PowerShell Azure](../powershell-install-configure.md)
- [Χρήση του Azure PowerShell με τη διαχείριση πόρων](../powershell-azure-resource-manager.md)


## <a id="connect"></a>Σύνδεση με τις συνδρομές σας ##

Ξεκινήστε μια περίοδο λειτουργίας Azure PowerShell και πραγματοποιήστε είσοδο στο λογαριασμό σας Azure με την ακόλουθη εντολή:  

    Login-AzureRmAccount 

Λάβετε υπόψη ότι, εάν χρησιμοποιείτε μια συγκεκριμένη παρουσία της Azure, για παράδειγμα, Azure για δημόσιους οργανισμούς, χρησιμοποιήστε την περιβάλλον παράμετρο - με αυτήν την εντολή. Για παράδειγμα:`Login-AzureRmAccount –Environment (Get-AzureRmEnvironment –Name AzureUSGovernment)`

Στο παράθυρο περιήγησης αναδυόμενο, εισαγάγετε το όνομα χρήστη λογαριασμός Azure και τον κωδικό πρόσβασης. Azure PowerShell λαμβάνει όλες τις συνδρομές που σχετίζονται με αυτόν το λογαριασμό και από προεπιλογή, χρησιμοποιεί το πρώτο.

Εάν έχετε πολλές συνδρομές και θέλετε να καθορίσετε κάποια συγκεκριμένη για να χρησιμοποιήσετε για Azure θάλαμο κλειδί, πληκτρολογήστε τα εξής για να δείτε τις συνδρομές για το λογαριασμό σας:

    Get-AzureRmSubscription

Στη συνέχεια, για να καθορίσετε τη συνδρομή για να χρησιμοποιήσετε, πληκτρολογήστε:

    Set-AzureRmContext -SubscriptionId <subscription ID>

Για περισσότερες πληροφορίες σχετικά με τη ρύθμιση των παραμέτρων Azure PowerShell, ανατρέξτε στο θέμα [Πώς να εγκαταστήσετε και να ρυθμίσετε τις παραμέτρους Azure PowerShell](../powershell-install-configure.md).


## <a id="resource"></a>Δημιουργία νέας ομάδας πόρων ##

Όταν χρησιμοποιείτε τη διαχείριση πόρων Azure, όλους τους πόρους σχετικά δημιουργούνται μέσα σε μια ομάδα πόρων. Θα δημιουργήσουμε μια νέα ομάδα πόρων με το όνομα **ContosoResourceGroup** για αυτό το πρόγραμμα εκμάθησης:

    New-AzureRmResourceGroup –Name 'ContosoResourceGroup' –Location 'East Asia'


## <a id="vault"></a>Δημιουργία ενός κλειδιού θάλαμο ##

Χρησιμοποιήστε το cmdlet [New-AzureRmKeyVault](https://msdn.microsoft.com/library/azure/mt603736\(v=azure.300\).aspx) για να δημιουργήσετε ένα πλήκτρο θάλαμο. Αυτό το cmdlet περιλαμβάνει τρία υποχρεωτικές παράμετροι: ένα **όνομα ομάδας πόρων**, ένα **όνομα κλειδιού θάλαμο**και τη **γεωγραφική θέση**.

Για παράδειγμα, εάν χρησιμοποιείτε το όνομα θάλαμο του **ContosoKeyVault**, το όνομα της ομάδας πόρων της **ContosoResourceGroup**και τη θέση της **Ανατολικής Ασίας**, πληκτρολογήστε:

    New-AzureRmKeyVault -VaultName 'ContosoKeyVault' -ResourceGroupName 'ContosoResourceGroup' -Location 'East Asia'

Το αποτέλεσμα της αυτό το cmdlet εμφανίζει ιδιοτήτων του κλειδιού θάλαμο που μόλις δημιουργήσατε. Οι δύο σημαντικότερες ιδιότητες είναι οι εξής:

- **Όνομα θάλαμο**: στο παράδειγμα, αυτό είναι **ContosoKeyVault**. Θα χρησιμοποιήσετε αυτό το όνομα για άλλες cmdlet του αριθμού-κλειδιού θάλαμο.
- **URI θάλαμο**: στο παράδειγμα, αυτό είναι https://contosokeyvault.vault.azure.net/. Εφαρμογές που χρησιμοποιούν το θάλαμο έως το REST API πρέπει να χρησιμοποιήσετε αυτό URI.

Azure το λογαριασμό σας τώρα είναι εξουσιοδοτημένοι να εκτελούν τις λειτουργίες σε αυτό κλειδιού θάλαμο. Προς το παρόν, κανείς δεν είναι.

>[AZURE.NOTE]  Εάν βλέπετε το σφάλμα **η συνδρομή δεν έχει καταχωρηθεί για να χρησιμοποιήσετε το χώρο ονομάτων 'Microsoft.KeyVault'** όταν προσπαθείτε να δημιουργήσετε το νέο κλειδί θάλαμο, εκτελέστε `Register-AzureRmResourceProvider -ProviderNamespace "Microsoft.KeyVault"` και, στη συνέχεια, εκτελέστε ξανά την εντολή Δημιουργία AzureRmKeyVault σας. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Register AzureRmResourceProvider](https://msdn.microsoft.com/library/azure/mt759831\(v=azure.300\).aspx).
>

## <a id="add"></a>Προσθήκη αριθμού-κλειδιού ή μυστικό του κλειδιού θάλαμο ##

Εάν θέλετε το Azure θάλαμο αριθμού-κλειδιού για να δημιουργήσετε έναν αριθμό-κλειδί προστατεύεται με λογισμικό για εσάς, χρησιμοποιήστε το cmdlet [Προσθήκη AzureKeyVaultKey](https://msdn.microsoft.com/library/azure/dn868048\(v=azure.300\).aspx) και πληκτρολογήστε τα εξής:

    $key = Add-AzureKeyVaultKey -VaultName 'ContosoKeyVault' -Name 'ContosoFirstKey' -Destination 'Software'

Ωστόσο, εάν έχετε ένα υπάρχον κλειδί προστατεύεται με λογισμικό ένα. Αρχείο PFX που αποθηκεύεται στη μονάδα δίσκου C:\ σε ένα αρχείο με το όνομα softkey.pfx που θέλετε να αποστείλετε θάλαμο κλειδί Azure, πληκτρολογήστε τα εξής για να ορίσετε τη μεταβλητή **securepfxpwd** για έναν κωδικό πρόσβασης του **123** για το. Αρχείο PFX:

    $securepfxpwd = ConvertTo-SecureString –String '123' –AsPlainText –Force

Στη συνέχεια, πληκτρολογήστε τα εξής για να εισαγάγετε το κλειδί από το. Αρχείο PFX, το οποίο προστατεύει το κλειδί από λογισμικό στην υπηρεσία θάλαμο αριθμού-κλειδιού:

    $key = Add-AzureKeyVaultKey -VaultName 'ContosoKeyVault' -Name 'ContosoFirstKey' -KeyFilePath 'c:\softkey.pfx' -KeyFilePassword $securepfxpwd


Μπορείτε τώρα να αναφέρετε αυτό το κλειδί που δημιουργήσατε ή αποστολή του σε θάλαμο κλειδί Azure, χρησιμοποιώντας το URI. Χρησιμοποιήστε **https://ContosoKeyVault.vault.azure.net/keys/ContosoFirstKey** για να έχετε πάντα την τρέχουσα έκδοση και χρησιμοποιήστε **https://ContosoKeyVault.vault.azure.net/keys/ContosoFirstKey/cgacf4f763ar42ffb0a1gca546aygd87** για να λάβετε αυτήν τη συγκεκριμένη έκδοση.  

Για να εμφανίσετε το URI για αυτό το κλειδί, πληκτρολογήστε:

    $Key.key.kid

Για να προσθέσετε έναν μυστικό το θάλαμο, που είναι έναν κωδικό πρόσβασης που ονομάζεται SQLPassword και έχει την τιμή του Azure κλειδί θάλαμο Pa$ $w0rd, πρώτα μετατροπή της τιμής του Pa$ $w0rd σε μια συμβολοσειρά ασφαλούς, πληκτρολογώντας τα εξής:

    $secretvalue = ConvertTo-SecureString 'Pa$$w0rd' -AsPlainText -Force

Στη συνέχεια, πληκτρολογήστε τα εξής:

    $secret = Set-AzureKeyVaultSecret -VaultName 'ContosoKeyVault' -Name 'SQLPassword' -SecretValue $secretvalue

Μπορείτε τώρα να αναφέρετε αυτόν τον κωδικό πρόσβασης που έχετε προσθέσει στο θάλαμο κλειδί Azure, χρησιμοποιώντας το URI. Χρησιμοποιήστε **https://ContosoVault.vault.azure.net/secrets/SQLPassword** για να έχετε πάντα την τρέχουσα έκδοση και χρησιμοποιήστε **https://ContosoVault.vault.azure.net/secrets/SQLPassword/90018dbb96a84117a0d2847ef8e7189d** για να λάβετε αυτήν τη συγκεκριμένη έκδοση.

Για να εμφανίσετε το URI για αυτό το μυστικό, πληκτρολογήστε:

    $secret.Id

Ας προβολή του αριθμού-κλειδιού ή μυστικό που μόλις δημιουργήσατε:

- Για να δείτε τον αριθμό-κλειδί, πληκτρολογήστε:`Get-AzureKeyVaultKey –VaultName 'ContosoKeyVault'`
- Για να προβάλετε το μυστικό, πληκτρολογήστε:`Get-AzureKeyVaultSecret –VaultName 'ContosoKeyVault'`

Τώρα, το πλήκτρο θάλαμο και αριθμού-κλειδιού ή μυστικό είναι έτοιμη για να χρησιμοποιήσετε τις εφαρμογές. Πρέπει να εγκρίνετε εφαρμογές για να τις χρησιμοποιήσετε.  

## <a id="register"></a>Καταχωρήστε μια εφαρμογή του Azure Active Directory ##

Αυτό το βήμα μπορεί να γίνει συνήθως από έναν προγραμματιστή, σε διαφορετικό υπολογιστή. Δεν είναι συγκεκριμένη για θάλαμο κλειδί Azure, αλλά περιλαμβάνεται εδώ για λόγους πληρότητας.


>[AZURE.IMPORTANT] Για να ολοκληρώσετε το πρόγραμμα εκμάθησης, το λογαριασμό σας, το θάλαμο και την εφαρμογή που θα καταχώρηση σε αυτό το βήμα πρέπει να είναι στον ίδιο Azure κατάλογο.

Εφαρμογές που χρησιμοποιούν ένα πλήκτρο θάλαμο πρέπει να τον έλεγχο ταυτότητας με τη χρήση ενός διακριτικού από το Azure Active Directory. Τον κάτοχο της εφαρμογής, να το κάνετε αυτό, πρέπει πρώτα να καταχωρήσετε την εφαρμογή στο τους Azure Active Directory. Στο τέλος της καταχώρησης, τον κάτοχο της εφαρμογής λαμβάνει τις ακόλουθες τιμές:


- Ένα **Αναγνωριστικό εφαρμογής** (γνωστό και ως Αναγνωριστικό υπολογιστή-πελάτη) και το **κλειδί ελέγχου ταυτότητας** (γνωστό και ως το κοινόχρηστο μυστικό). Η εφαρμογή πρέπει να παρουσιάσετε και οι δύο αυτές τις τιμές σε Azure Active Directory, για να λάβετε ένα διακριτικό. Πώς η εφαρμογή έχει ρυθμιστεί να το κάνετε αυτό εξαρτάται από την εφαρμογή. Για το δείγμα εφαρμογής θάλαμο αριθμού-κλειδιού, ο κάτοχος της εφαρμογής ορίζει αυτές τις τιμές στο αρχείο app.config.

Για να καταχωρήσετε την εφαρμογή στο Azure Active Directory:

1. Είσοδος στην πύλη του Azure κλασική.
2. Στα αριστερά, κάντε κλικ στην επιλογή **Υπηρεσία καταλόγου Active Directory**και, στη συνέχεια, επιλέξτε τον κατάλογο στην οποία θα μπορείτε να καταχωρήσετε την εφαρμογή σας. <br> <br> **Σημείωση:** Πρέπει να επιλέξετε το ίδιο κατάλογο που περιέχει το Azure συνδρομή με τον οποίο δημιουργήσατε το πλήκτρο θάλαμο. Εάν δεν γνωρίζετε ποια καταλόγου αυτό είναι, κάντε κλικ στην επιλογή **Ρυθμίσεις**, να προσδιορίσετε τη συνδρομή με τον οποίο δημιουργήσατε το πλήκτρο θάλαμο και σημειώστε το όνομα του τον κατάλογο που εμφανίζεται στην τελευταία στήλη.

3. Κάντε κλικ στην επιλογή **ΕΦΑΡΜΟΓΈΣ**. Εάν δεν υπάρχει εφαρμογές που έχουν προστεθεί στον κατάλογό σας, αυτή η σελίδα εμφανίζει μόνο τη σύνδεση **Προσθήκη εφαρμογής** . Κάντε κλικ στη σύνδεση ή Εναλλακτικά, μπορείτε να κάντε κλικ στην επιλογή **ΠΡΟΣΘΉΚΗ** στη γραμμή εντολών.
4.  Στον οδηγό **Προσθήκη ΕΦΑΡΜΟΓΉΣ** , σε το **Τι θέλετε να κάνετε;** σελίδα, κάντε κλικ στην επιλογή **Προσθήκη εφαρμογής ανάπτυξη την εταιρεία μου**.
5.  Στη σελίδα **πείτε μας σχετικά με την εφαρμογή σας** , καθορίστε ένα όνομα για την εφαρμογή σας και, στη συνέχεια, επιλέξτε **Το API WEB ή/και ΕΦΑΡΜΟΓΏΝ WEB** (προεπιλογή). Κάντε κλικ στο εικονίδιο **Επόμενο** .
6.  Στη σελίδα **Ιδιότητες εφαρμογής** , καθορίστε τη **Διεύθυνση URL ΕΙΣΌΔΟΥ ON** και **URI Αναγνωριστικό Εφαρμογής** για την εφαρμογή web. Εάν η εφαρμογή σας δεν διαθέτει αυτές τις τιμές, μπορείτε να τα κάνετε για χρήση με αυτό το βήμα (για παράδειγμα, θα μπορούσατε να καθορίσετε http://test1.contoso.com για δύο πλαίσια). Δεν έχει σημασία αν υπάρχουν αυτές τις τοποθεσίες. Τι είναι το σημαντικό είναι ότι η εφαρμογή URI Αναγνωριστικό για κάθε εφαρμογή είναι διαφορετικό για κάθε εφαρμογή στον κατάλογό σας. Ο κατάλογος χρησιμοποιεί αυτήν τη συμβολοσειρά για τον προσδιορισμό της εφαρμογής σας.
7.  Κάντε κλικ στο εικονίδιο **ολοκλήρωσης** για να αποθηκεύσετε τις αλλαγές σας στον οδηγό.
8.  Στη σελίδα **Γρήγορη εκκίνηση** , κάντε κλικ στην επιλογή **Ρύθμιση ΠΑΡΑΜΈΤΡΩΝ**.
9.  Κάντε κύλιση στην ενότητα **πλήκτρα** , επιλέξτε τη διάρκεια και, στη συνέχεια, κάντε κλικ στην επιλογή **ΑΠΟΘΉΚΕΥΣΗ**. Η σελίδα ανανεώνεται και εμφανίζει τώρα μια τιμή κλειδιού. Πρέπει να ρυθμίσετε την εφαρμογή σας με αυτήν την τιμή κλειδιού και την τιμή **Αναγνωριστικό υπολογιστή-ΠΕΛΆΤΗ** . (Οδηγίες για αυτήν τη ρύθμιση παραμέτρων είναι συγκεκριμένη εφαρμογή).
10. Αντιγράψτε την τιμή Αναγνωριστικού προγράμματος-πελάτη από αυτήν τη σελίδα που θα χρησιμοποιήσετε στο επόμενο βήμα για να ορίσετε δικαιώματα για το θάλαμο.

## <a id="authorize"></a>Εγκρίνετε την εφαρμογή για να χρησιμοποιήσετε το κλειδί ή το μυστικό ##

Για να εγκρίνετε την εφαρμογή για να αποκτήσετε πρόσβαση το κλειδί ή το μυστικό στο το θάλαμο, χρησιμοποιήστε το cmdlet  [Set-AzureRmKeyVaultAccessPolicy](https://msdn.microsoft.com/library/azure/mt603625\(v=azure.300\).aspx) .

Για παράδειγμα, εάν το όνομά σας θάλαμο είναι **ContosoKeyVault** και την εφαρμογή που θέλετε να εξουσιοδοτήσετε έχει ένα Αναγνωριστικό υπολογιστή-πελάτη του 8f8c4bbd-485b-45fd-98f7-ec6300b7b4ed και θέλετε να εγκρίνετε την εφαρμογή για να αποκρυπτογραφήσετε και συνδεθείτε με πλήκτρα στο θάλαμο σας, εκτελέστε τα εξής:


    Set-AzureRmKeyVaultAccessPolicy -VaultName 'ContosoKeyVault' -ServicePrincipalName 8f8c4bbd-485b-45fd-98f7-ec6300b7b4ed -PermissionsToKeys decrypt,sign

Εάν θέλετε να εγκρίνετε ίδια αίτηση για να διαβάσετε απόρρητο στο θάλαμο σας, εκτελέστε τα εξής:


    Set-AzureRmKeyVaultAccessPolicy -VaultName 'ContosoKeyVault' -ServicePrincipalName 8f8c4bbd-485b-45fd-98f7-ec6300b7b4ed -PermissionsToSecrets Get

## <a id="HSM"></a>Εάν θέλετε να χρησιμοποιήσετε μια λειτουργική μονάδα ασφαλείας υλικού (HSM) ##

Για πρόσθετες εξασφάλισης αναβάθμισης, μπορείτε να εισαγάγετε ή να δημιουργία των κλειδιών στο υλικό ασφαλείας λειτουργικές μονάδες (HSMs) που ποτέ αποχώρηση από το όριο HSM. Το HSMs είναι FIPS 140-2 επιπέδου 2 επικύρωση. Εάν αυτή η απαίτηση δεν ισχύει για εσάς, παραλείψτε αυτήν την ενότητα και μεταβείτε για να [διαγράψετε το πλήκτρο θάλαμο και σχετικές κλειδιά και απορρήτου](#delete).

Για να δημιουργήσετε αυτά τα κλειδιά που προστατεύονται με HSM, πρέπει να χρησιμοποιήσετε το [επίπεδο υπηρεσιών Azure Premium θάλαμο αριθμού-κλειδιού για την υποστήριξη προστασία HSM πλήκτρα](https://azure.microsoft.com/pricing/free-trial/). Επίσης, σημειώστε ότι αυτή η λειτουργία δεν είναι διαθέσιμη για την Κίνα Azure.


Κατά τη δημιουργία του κλειδιού θάλαμο, προσθέστε την παράμετρο **- SKU** :


    New-AzureRmKeyVault -VaultName 'ContosoKeyVaultHSM' -ResourceGroupName 'ContosoResourceGroup' -Location 'East Asia' -SKU 'Premium'



Μπορείτε να προσθέσετε προστασία λογισμικού (όπως φαίνεται παραπάνω) και προστασία HSM κλειδιά σε αυτό κλειδιού θάλαμο. Για να δημιουργήσετε ένα κλειδί προστασία HSM, ορίστε το **-προορισμού** παράμετρος 'HSM':

    $key = Add-AzureKeyVaultKey -VaultName 'ContosoKeyVaultHSM' -Name 'ContosoFirstHSMKey' -Destination 'HSM'

Μπορείτε να χρησιμοποιήσετε την παρακάτω εντολή για να εισαγάγετε έναν αριθμό-κλειδί από μια. Αρχείο PFX στον υπολογιστή σας. Αυτή η εντολή εισάγει τον αριθμό-κλειδί σε HSMs στην υπηρεσία θάλαμο αριθμού-κλειδιού:

    $key = Add-AzureKeyVaultKey -VaultName 'ContosoKeyVaultHSM' -Name 'ContosoFirstHSMKey' -KeyFilePath 'c:\softkey.pfx' -KeyFilePassword $securepfxpwd -Destination 'HSM'


Η επόμενη εντολή εισάγει μια "μεταφορά το δικό σας κλειδί" πακέτο (BYOK). Αυτό το σενάριο σάς επιτρέπει να δημιουργούν τον αριθμό-κλειδί στον τοπικό σας HSM, και να μεταφέρετε το HSMs στην υπηρεσία θάλαμο αριθμού-κλειδιού, χωρίς να κλείσετε το όριο HSM τον αριθμό-κλειδί:

    $key = Add-AzureKeyVaultKey -VaultName 'ContosoKeyVaultHSM' -Name 'ContosoFirstHSMKey' -KeyFilePath 'c:\ITByok.byok' -Destination 'HSM'

Για πιο λεπτομερείς οδηγίες σχετικά με τον τρόπο για τη δημιουργία αυτού του πακέτου BYOK, ανατρέξτε στο θέμα [Πώς να δημιουργείτε και μεταφορά προστασία HSM κλειδιά για Azure κλειδί θάλαμο](key-vault-hsm-protected-keys.md).

## <a id="delete"></a>Διαγράψτε το πλήκτρο θάλαμο και σχετικές πλήκτρα και απορρήτου ##

Εάν δεν χρειάζεστε πλέον το πλήκτρο θάλαμο και το πλήκτρο ή το μυστικό που περιέχει, μπορείτε να διαγράψετε το κλειδί θάλαμο χρησιμοποιώντας το cmdlet [Κατάργηση AzureRmKeyVault](https://msdn.microsoft.com/library/azure/mt619485\(v=azure.300\).aspx) :

    Remove-AzureRmKeyVault -VaultName 'ContosoKeyVault'

Εναλλακτικά, μπορείτε να διαγράψετε μια ομάδα ολόκληρο Azure πόρων, η οποία περιλαμβάνει το πλήκτρο θάλαμο και τυχόν άλλους πόρους που έχετε συμπεριλάβει στη συγκεκριμένη ομάδα:

    Remove-AzureRmResourceGroup -ResourceGroupName 'ContosoResourceGroup'


## <a id="other"></a>Άλλες cmdlet του Azure PowerShell ##

Άλλες εντολές που μπορεί να σας φανούν χρήσιμες για τη Διαχείριση Azure θάλαμο αριθμού-κλειδιού:

- `$Keys = Get-AzureKeyVaultKey -VaultName 'ContosoKeyVault'`: Αυτή η εντολή λαμβάνει μια εμφάνιση σε μορφή πίνακα των όλα τα κλειδιά και επιλεγμένες ιδιότητες.
- `$Keys[0]`: Αυτή η εντολή εμφανίζει μια πλήρη λίστα των ιδιοτήτων για το συγκεκριμένο κλειδί
- `Get-AzureKeyVaultSecret`: Αυτή η εντολή παραθέτει μια σε μορφή πίνακα Εμφάνιση των όλα τα ονόματα μυστικού και επιλεγμένες ιδιότητες.
- `Remove-AzureKeyVaultKey -VaultName 'ContosoKeyVault' -Name 'ContosoFirstKey'`: Παράδειγμα πώς μπορείτε να καταργήσετε έναν συγκεκριμένο αριθμό-κλειδί.
- `Remove-AzureKeyVaultSecret -VaultName 'ContosoKeyVault' -Name 'SQLPassword'`: Παράδειγμα πώς μπορείτε να καταργήσετε ένα συγκεκριμένο μυστικό.


## <a id="next"></a>Επόμενα βήματα ##

Για ένα παρακολούθησης πρόγραμμα εκμάθησης που χρησιμοποιεί Azure θάλαμο αριθμού-κλειδιού σε μια εφαρμογή web, ανατρέξτε στο θέμα [Χρήση Azure θάλαμο κλειδί από μια εφαρμογή Web](key-vault-use-from-web-application.md).

Για να δείτε τον τρόπο χρήσης του κλειδιού θάλαμο, ανατρέξτε στο θέμα [Καταγραφή θάλαμο κλειδί Azure](key-vault-logging.md).

Για μια λίστα με την πιο πρόσφατη Azure PowerShell cmdlet για θάλαμο κλειδί Azure, ανατρέξτε στο θέμα [Azure κλειδί θάλαμο cmdlet](https://msdn.microsoft.com/library/azure/dn868052\(v=azure.300\).aspx). 
 

Για τον προγραμματισμό αναφορών, ανατρέξτε στο θέμα [Οδηγός για προγραμματιστές του Azure θάλαμο αριθμού-κλειδιού](key-vault-developers-guide.md).
