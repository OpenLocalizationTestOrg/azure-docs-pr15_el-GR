<properties
    pageTitle="DocumentDB χώρου αποθήκευσης και επιδόσεων | Microsoft Azure" 
    description="Μάθετε σχετικά με την αποθήκευση δεδομένων και αποθήκευση εγγράφων στο DocumentDB και πώς μπορείτε να κλιμακωθεί DocumentDB ώστε να ανταποκρίνεται στις ανάγκες χωρητικότητα της εφαρμογής σας." 
    keywords="αποθήκευση εγγράφων"
    services="documentdb" 
    authors="syamkmsft" 
    manager="jhubbard" 
    editor="cgronlun" 
    documentationCenter=""/>

<tags 
    ms.service="documentdb" 
    ms.workload="data-services" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="08/18/2016" 
    ms.author="syamk"/>

# <a name="learn-about-storage-and-predictable-performance-provisioning-in-documentdb"></a>Μάθετε περισσότερα σχετικά με χώρου αποθήκευσης και προβλέψιμα επιδόσεων προμήθεια στο DocumentDB
Azure DocumentDB είναι μια πλήρως διαχειριζόμενων, με δυνατότητα κλιμάκωσης προσανατολισμένος σε έγγραφο NoSQL βάσης δεδομένων υπηρεσία για έγγραφα JSON. Με DocumentDB, δεν χρειάζεται να ενοικίαση εικονικές μηχανές, ανάπτυξη λογισμικού ή παρακολούθηση βάσεις δεδομένων. DocumentDB είναι διαχειρίζεται και συνεχώς παρακολουθείται από μηχανικοί της Microsoft για την παράδοση διαθεσιμότητα κλάσης κόσμο, επιδόσεων και προστασία των δεδομένων.  

Μπορείτε να ξεκινήσετε με DocumentDB με [τη δημιουργία ενός λογαριασμού βάσης δεδομένων](documentdb-create-account.md) και μια [βάση δεδομένων DocumentDB](documentdb-create-database.md) μέσω της [πύλης Azure](https://portal.azure.com/). Βάσεις δεδομένων DocumentDB παρέχεται στο χώρο αποθήκευσης μονάδες οπτικοί μονάδα δίσκου (SSD) αντίγραφα και απόδοση. Αυτές οι μονάδες αποθήκευσης έχουν παρασχεθεί, [τη δημιουργία συλλογών βάσης δεδομένων](documentdb-create-collection.md) μέσα στο λογαριασμό σας βάση δεδομένων, κάθε συλλογή με δεσμευμένες μεταγωγή που μπορεί να γίνει κλιμάκωση προς τα επάνω ή προς τα κάτω ανά πάσα στιγμή να πληροί τις απαιτήσεις της εφαρμογής σας. 

Εάν η εφαρμογή σας υπερβαίνει το δεσμευμένο μετάδοσης για μία ή πολλές συλλογές, αιτήσεις περιορίζονται σε βάση ανά συλλογή. Αυτό σημαίνει ότι ορισμένες αιτήσεις εφαρμογής μπορεί να επιτύχει ενώ άλλοι μπορεί να επιβραδύνει.

Σε αυτό το άρθρο παρέχει μια επισκόπηση των πόρων και μετρικά που είναι διαθέσιμες για τη Διαχείριση χωρητικότητα και σχεδιασμός χώρου αποθήκευσης δεδομένων. 

## <a name="database-account"></a>Λογαριασμός βάσης δεδομένων
Ως ένα Azure συνδρομητών, που μπορούν να προμηθεύσουν έναν ή περισσότερους λογαριασμούς βάσης δεδομένων DocumentDB για να διαχειριστείτε τους πόρους σας βάσης δεδομένων. Κάθε συνδρομής είναι συσχετισμένη με μια μεμονωμένη Azure συνδρομή. 

Λογαριασμοί DocumentDB μπορούν να δημιουργηθούν μέσω της [πύλης Azure](documentdb-create-account.md)ή χρησιμοποιώντας [ένα πρότυπο ARM ή Azure CLI](documentdb-automation-resource-manager-cli.md).

## <a name="databases"></a>Βάσεις δεδομένων
Βάση δεδομένων μία μόνο DocumentDB μπορεί να περιέχει σχεδόν απεριόριστο χώρο αποθήκευσης εγγράφων που είναι ομαδοποιημένα σε συλλογές. Συλλογές παρέχουν απομόνωσης απόδοσης - κάθε συλλογή μπορεί να καθοριστεί με μεταγωγή που δεν είναι κοινόχρηστο με άλλες συλλογές κατά την ίδια βάση δεδομένων ή το λογαριασμό. DocumentDB είναι μια βάση δεδομένων ελαστικότητας σε μέγεθος, μεταξύ του GB χώρου αποθήκευσης εγγράφων TBs SSD αντίγραφα και απόδοση προμήθεια του φακέλου. Σε αντίθεση με μια παραδοσιακή βάση δεδομένων RDBMS, μια βάση δεδομένων σε DocumentDB δεν έχει εύρος σε έναν υπολογιστή και μπορεί να εκτείνεται σε πολλές μηχανές ή συμπλεγμάτων.  

Με DocumentDB, χρειάζεστε για να περιορίσετε το μέγεθος των εφαρμογών σας, μπορείτε να δημιουργήσετε περισσότερες συλλογές ή βάσεις δεδομένων ή και τα δύο. Βάσεις δεδομένων μπορούν να δημιουργηθούν μέσω του [Azure πύλη](documentdb-create-database.md) ή μέσω κάθε ένα από τα [DocumentDB SDK](documentdb-dotnet-samples.md).   

## <a name="database-collections"></a>Συλλογές βάσης δεδομένων
Κάθε DocumentDB βάσης δεδομένων μπορεί να περιέχει μία ή περισσότερες συλλογές. Συλλογές λειτουργεί ως διαμερίσματα ιδιαίτερα διαθέσιμη δεδομένων για την επεξεργασία και αποθήκευση εγγράφων. Κάθε συλλογή μπορούν να αποθηκεύουν έγγραφα με ετερογενή σχήμα. Δυνατότητες ερωτήματος και του DocumentDB αυτόματης δημιουργίας ευρετηρίου για σάς επιτρέπουν να φιλτράρετε και να ανακτήσετε έγγραφα εύκολα. Μια συλλογή παρέχει την εμβέλεια για χώρο αποθήκευσης και ερωτήματος εκτέλεσης εγγράφου. Μια συλλογή είναι επίσης τομέα συναλλαγής για όλα τα έγγραφα που περιέχονται σε αυτό. Συλλογές εκχωρούνται με βάση την τιμή που έχει οριστεί στην πύλη του Azure ή μέσω του SDK μεταγωγή. 

Συλλογές δημιουργούνται αυτόματα διαμερίσματα σε έναν ή περισσότερους φυσικής διακομιστές με DocumentDB. Όταν δημιουργείτε μια συλλογή, μπορείτε να καθορίσετε την προμήθεια του φακέλου μετάδοσης όσον αφορά τις μονάδες αίτηση ανά δευτερόλεπτο και μια ιδιότητα κλειδιού διαμερίσματα. Η τιμή αυτής της ιδιότητας χρησιμοποιείται από DocumentDB για τη διανομή εγγράφων μεταξύ διαμερίσματα και δρομολόγηση αιτήσεις όπως ερωτήματα. Η τιμή του κλειδιού partition λειτουργεί επίσης ως το όριο συναλλαγής για αποθηκευμένες διαδικασίες και εναύσματα. Κάθε συλλογή έχει δεσμευμένη ποσότητα μετάδοσης ειδικά για συγκεκριμένη συλλογή, η οποία δεν είναι κοινόχρηστα με άλλες συλλογές στον ίδιο λογαριασμό. Γι ' αυτό, μπορείτε να κλιμάκωση την εφαρμογή τόσο όσον αφορά χώρου αποθήκευσης και απόδοση. 

Συλλογές μπορούν να δημιουργηθούν μέσω του [Azure πύλη](documentdb-create-collection.md) ή μέσω κάθε ένα από τα [DocumentDB SDK](documentdb-sdk-dotnet.md).   
 
## <a name="request-units-and-database-operations"></a>Αίτηση μονάδες και τις λειτουργίες της βάσης δεδομένων

Όταν δημιουργείτε μια συλλογή, μπορείτε να δεσμεύσετε μετάδοσης όσον αφορά τις [μονάδες αίτηση (RU)](documentdb-request-units.md) ανά δευτερόλεπτο. Αντί για αυτό σκέφτεται και τη Διαχείριση πόροι υλικού, μπορείτε να θεωρήσετε μια **πρόσκληση σε μονάδα** ως μία μέτρηση για τους πόρους που απαιτείται για να εκτελέσετε διάφορες λειτουργίες βάσης δεδομένων και υπηρεσιών αίτησης εφαρμογής. Μια ανάγνωση ενός εγγράφου 1 KB καταναλώνει το ίδιο 1 RU ανεξάρτητα από τον αριθμό των στοιχείων που είναι αποθηκευμένα στη συλλογή ή τον αριθμό των ταυτόχρονες αιτήσεις εκτελείται ταυτόχρονα. Όλες τις αιτήσεις σε σχέση με DocumentDB, συμπεριλαμβανομένων των εργασιών, σύνθετα ερωτήματα SQL έχετε μια προβλέψιμα RU τιμή που μπορεί να προσδιοριστεί κατά το χρόνο ανάπτυξης. Εάν γνωρίζετε το μέγεθος των εγγράφων σας και τη συχνότητα κάθε λειτουργίας (διαβάζει, εγγραφών και τα ερωτήματα) για την υποστήριξη για την εφαρμογή σας, μπορείτε να παρέχετε την ακριβή τιμή μετάδοσης ώστε να ανταποκρίνεται στις ανάγκες της εφαρμογής σας και κλιμάκωση τη βάση δεδομένων προς τα επάνω και προς τα κάτω, καθώς μεταβάλλονται οι ανάγκες των επιδόσεων του. 

Κάθε συλλογή μπορεί να είναι δεσμευμένο με μετάδοση σε μπλοκ 100 τεμάχια αίτηση ανά δευτερόλεπτο, από εκατοντάδες έως εκατομμύρια αίτησης μονάδες ανά δευτερόλεπτο. Την προμήθεια του φακέλου μετάδοσης μπορούν να προσαρμοστούν όλη τη διάρκεια μιας συλλογής για να προσαρμόσετε στις ανάγκες αλλαγή επεξεργασίας και πρόσβασης μοτίβα της εφαρμογής σας. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [επιδόσεις DocumentDB](documentdb-performance-levels.md). 

>[AZURE.IMPORTANT] Οι συλλογές είναι χρεώσιμων οντοτήτων. Το κόστος προσδιορίζεται από την προμήθεια του φακέλου μετάδοσης της συλλογής μετράται σε αίτηση μονάδες ανά δευτερόλεπτο μαζί με το συνολικό χώρο αποθήκευσης αναλωμένες σε gigabyte. 

Πόσες μονάδες αίτηση θα εκμετάλλευση μια συγκεκριμένη λειτουργία όπως εισαγωγή, διαγραφή, ερωτήματος ή αποθηκευμένη διαδικασία εκτέλεσης; Μια μονάδα αίτηση είναι μια κανονικοποιημένη μέτρηση της πρόσκλησης σε επεξεργασία κόστος. Μια ανάγνωση ενός εγγράφου 1 KB είναι 1 RU, αλλά μια αίτηση για να εισαγάγετε, να αντικαταστήσετε ή να διαγράψετε το ίδιο έγγραφο θα εκμετάλλευση περισσότερες επεξεργασία από την υπηρεσία και συνεπώς περισσότερες μονάδες αίτηση. Κάθε απάντηση από την υπηρεσία περιλαμβάνει μια προσαρμοσμένη κεφαλίδα (`x-ms-request-charge`) που αναφέρει την αίτηση μονάδες που καταναλώθηκε για την αίτηση. Αυτή η κεφαλίδα είναι επίσης προσβάσιμο μέσω του [SDK](documentdb-sdk-dotnet.md). Στο .NET SDK, [RequestCharge](https://msdn.microsoft.com/library/azure/dn933057.aspx#P:Microsoft.Azure.Documents.Client.ResourceResponse`1.RequestCharge) είναι μια ιδιότητα του αντικειμένου [ResourceResponse](https://msdn.microsoft.com/library/azure/dn799209.aspx) . Εάν θέλετε να υπολογίσετε τις ανάγκες σας μετάδοσης πριν να πραγματοποιήσετε μια κλήση μόνο, μπορείτε να χρησιμοποιήσετε τη [δυνατότητα οργάνωσης](documentdb-request-units.md#estimating-throughput-needs) για να σας βοηθήσει με αυτό εκτίμησης. 

>[AZURE.NOTE] Η γραμμή βάσης 1 μονάδας αίτηση για ένα έγγραφο 1 KB αντιστοιχεί σε μια απλή ΛΉΨΗ του εγγράφου με [Συνέπεια περιόδου λειτουργίας](documentdb-consistency-levels.md). 

Υπάρχουν πολλοί παράγοντες που επηρεάζουν τις μονάδες αίτηση που καταναλώθηκε για μια εργασία σε σχέση με ένα λογαριασμό DocumentDB βάσης δεδομένων. Συμπεριλάβετε τους παρακάτω παράγοντες:

- Μέγεθος του εγγράφου. Ως έγγραφο μεγέθη αύξηση των μονάδων που καταναλώθηκε ανάγνωσης ή εγγραφής, θα αυξήσετε επίσης τα δεδομένα.
- Το πλήθος ιδιότητας. Έχει προεπιλεγμένη δημιουργίας ευρετηρίου για όλες τις ιδιότητες, τις μονάδες που καταναλώθηκε για να γράψετε ένα έγγραφο, θα αυξήσετε ως η ιδιότητα αυξάνεται count.
- Συνέπεια δεδομένων. Όταν χρησιμοποιείτε επίπεδα συνέπειας δεδομένων έντονη ή δεσμεύεται Staleness, επιπλέον μονάδες θα καταναλωθεί για να διαβάσετε έγγραφα.
- Ιδιότητες με ευρετήριο. Μια πολιτική ευρετήριο σε κάθε συλλογή καθορίζει τις ιδιότητες που έχουν καταχωρηθεί στο ευρετήριο από προεπιλογή. Μπορείτε να μειώσετε την κατανάλωση μονάδας αίτηση με περιορισμό του αριθμού των ιδιοτήτων με ευρετήριο. 
- Η δημιουργία ευρετηρίου εγγράφου. Από προεπιλογή κάθε έγγραφο δημιουργείται αυτόματα ένα ευρετήριο, θα εκμετάλλευση λιγότερες μονάδες αίτηση Εάν επιλέξετε να μην δημιουργήσετε ευρετήριο ορισμένα από τα έγγραφά σας.

Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [DocumentDB αίτηση μονάδες](documentdb-request-units.md). 

Για παράδειγμα, ακολουθεί ένας πίνακας που εμφανίζει τον αριθμό των μονάδων αίτηση για την παροχή των με τρία μεγέθη άλλο έγγραφο (1KB 4KB και 64KB) και σε δύο επίπεδα διαφορετικών επιδόσεων (500 διαβάζει/δευτερόλεπτο + 100 εγγραφές/δευτερόλεπτο και 500 διαβάζει/δευτερόλεπτο + 500 εγγραφές/δευτερόλεπτο). Τη συνέπεια δεδομένων έχει ρυθμιστεί στην περίοδο λειτουργίας και η πολιτική δημιουργίας ευρετηρίου έχει οριστεί σε κανένα.

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><strong>Μέγεθος εγγράφου</strong></p></td>
            <td valign="top"><p><strong>Διαβάζει/δευτερόλεπτο</strong></p></td>
            <td valign="top"><p><strong>Εγγραφές/δευτερόλεπτο</strong></p></td>
            <td valign="top"><p><strong>Αίτηση μονάδες</strong></p></td>
        </tr>
        <tr>
            <td valign="top"><p>1 KB</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>100</p></td>
            <td valign="top"><p>(500 *1) + (100* 5) = 1.000 RU/s</p></td>
        </tr>
        <tr>
            <td valign="top"><p>1 KB</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>(500 *5) + (100* 5) = 3.000 RU/s</p></td>
        </tr>
        <tr>
            <td valign="top"><p>4 KB</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>100</p></td>
            <td valign="top"><p>(500 *1.3) + (100* 7) = 1,350 RU/s</p></td>
        </tr>
        <tr>
            <td valign="top"><p>4 KB</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>(500 *1.3) + (500* 7) = 4,150 RU/s</p></td>
        </tr>
        <tr>
            <td valign="top"><p>64 KB</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>100</p></td>
            <td valign="top"><p>(500 *10) + (100* 48) = 9,800 RU/s</p></td>
        </tr>
        <tr>
            <td valign="top"><p>64 KB</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>500</p></td>
            <td valign="top"><p>(500 *10) + (500* 48) = 29,000 RU/s</p></td>
        </tr>
    </tbody>
</table>

Ερωτήματα, αποθηκευμένες διαδικασίες και εναύσματα εκμετάλλευση αίτηση μονάδες με βάση την πολυπλοκότητα του τις λειτουργίες που εκτελούνται. Όπως μπορείτε να αναπτύξετε την εφαρμογή σας, έλεγχος επικεφαλίδα τόκων αίτηση για να κατανοήσετε καλύτερα πώς κάθε λειτουργίας καταναλώνει χωρητικότητα μονάδας αίτηση.  


## <a name="choice-of-consistency-level-and-throughput"></a>Επιλογή του επιπέδου συνέπειας και απόδοση
Η επιλογή της συνέπειας προεπιλεγμένο επίπεδο έχει επιπτώσεις στην απόδοση και λανθάνοντος χρόνου. Μπορείτε να ορίσετε το προεπιλεγμένο επίπεδο συνέπειας τόσο μέσω προγραμματισμού και μέσω της πύλης Azure. Μπορείτε επίσης να αντικαταστήσετε το επίπεδο συνέπειας σε βάση ανά αίτηση. Από προεπιλογή, το επίπεδο συνέπειας έχει οριστεί σε **περίοδο λειτουργίας**, που παρέχει μονότονη ανάγνωσης/εγγραφής και διαβάστε τις εγγυήσεις της εγγραφής σας. Συνέπειας περιόδου λειτουργίας είναι ιδανική για τις εφαρμογές του χρήστη επίκεντρο και παρέχει μια ιδανική ισορροπία συνέπειας και επιδόσεων τα ανταλλάγματα.    

Για οδηγίες σχετικά με την αλλαγή του επιπέδου συνέπειας στην πύλη του Azure, ανατρέξτε στο θέμα [πώς μπορείτε να διαχειριστείτε ένα λογαριασμό DocumentDB](documentdb-manage-account.md#consistency). Εναλλακτικά, για περισσότερες πληροφορίες σχετικά με τα επίπεδα συνέπειας, ανατρέξτε στο θέμα [Χρήση συνέπειας επίπεδα](documentdb-consistency-levels.md).

## <a name="provisioned-document-storage-and-index-overhead"></a>Προμήθεια του φακέλου εγγράφων επιβάρυνσης χώρου αποθήκευσης και ευρετηρίου
DocumentDB υποστηρίζει τη δημιουργία των διαμερισμάτων μίας και διαμερίσματα συλλογών. Κάθε διαμερίσματα στο DocumentDB υποστηρίζει έως και 10 GB χώρου αποθήκευσης SSD αντίγραφα. Τα 10GB χώρου αποθήκευσης εγγράφου περιλαμβάνει τα έγγραφα συν χώρου αποθήκευσης για το ευρετήριο. Από προεπιλογή, μια συλλογή DocumentDB έχει ρυθμιστεί ώστε να αυτόματα ευρετήριο για όλα τα έγγραφα χωρίς να απαιτείται ρητά οποιαδήποτε δευτερεύοντα δεικτών ή το σχήμα. Ανάλογα με τις εφαρμογές που χρησιμοποιούν DocumentDB, το τυπικό ευρετηρίου επιβάρυνσης είναι μεταξύ 2-20%. Το δημιουργίας ευρετηρίου τεχνολογία που χρησιμοποιείται από DocumentDB εξασφαλίζει ότι ανεξάρτητα από τις τιμές από τις ιδιότητες, το ευρετήριο επιβάρυνσης δεν υπερβαίνει περισσότερο από 80% του μεγέθους των εγγράφων με τις προεπιλεγμένες ρυθμίσεις. 

Από προεπιλογή όλα τα έγγραφα που έχουν καταχωρηθεί στο ευρετήριο από DocumentDB αυτόματα. Ωστόσο, εάν θέλετε να ρυθμίσετε με ακρίβεια το επιβάρυνσης ευρετήριο, μπορείτε να επιλέξετε να καταργήσετε ορισμένα έγγραφα από που έχει τεθεί σε ευρετήριο κατά την εισαγωγή ή αντικατάσταση ενός εγγράφου, όπως περιγράφεται στο [DocumentDB πολιτικές δημιουργίας ευρετηρίου](documentdb-indexing-policies.md). Μπορείτε να ρυθμίσετε μια συλλογή DocumentDB για να αποκλείσετε όλα τα έγγραφα μέσα στη συλλογή από δημιουργίας ευρετηρίου. Μπορείτε επίσης να ρυθμίσετε μια συλλογή DocumentDB να συμπεριλάβετε στο ευρετήριο επιλεκτικής μόνο ορισμένες ιδιότητες ή διαδρομές με χαρακτήρες μπαλαντέρ των εγγράφων σας JSON, όπως περιγράφεται στο [τη ρύθμιση των παραμέτρων της πολιτικής δημιουργίας ευρετηρίου μιας συλλογής](documentdb-indexing-policies.md#configuring-the-indexing-policy-of-a-collection). Εξαίρεση ιδιότητες ή τα έγγραφα βελτιώνει επίσης η ταχύτητα εγγραφής – γεγονός που σημαίνει ότι θα εκμετάλλευση λιγότερες μονάδες αίτηση.   

## <a name="next-steps"></a>Επόμενα βήματα

Για να συνεχίσετε εκμάθησης σχετικά με τη λειτουργία DocumentDB, ανατρέξτε στο θέμα [διαμέριση και κλίμακας στο Azure DocumentDB](documentdb-partition-data.md).

Για οδηγίες σχετικά με την Εποπτεία επιδόσεων επιπέδων στην πύλη του Azure, ανατρέξτε στο θέμα [παρακολούθηση ενός λογαριασμού DocumentDB](documentdb-monitor-accounts.md). Για περισσότερες πληροφορίες σχετικά με την επιλογή επιδόσεις για τις συλλογές, ανατρέξτε στο θέμα [επιδόσεις επίπεδα στο DocumentDB](documentdb-performance-levels.md).
 
