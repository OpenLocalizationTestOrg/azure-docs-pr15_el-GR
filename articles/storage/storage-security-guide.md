<properties
    pageTitle="Οδηγός ασφάλειας Azure αποθήκευσης | Microsoft Azure"
    description="Λεπτομέρειες τις πολλές μεθόδους ασφάλιση αποθήκευσης Azure, συμπεριλαμβανομένης ενδεικτικά RBAC, κρυπτογράφηση της υπηρεσίας χώρου αποθήκευσης, κρυπτογράφησης πλευρά του προγράμματος-πελάτη, 3.0 Ερωτήσεων και Azure δίσκου κρυπτογράφησης."
    services="storage"
    documentationCenter=".net"
    authors="robinsh"
    manager="carmonm"
    editor="tysonn"/>

<tags
    ms.service="storage"
    ms.workload="storage"
    ms.tgt_pltfrm="na"
    ms.devlang="dotnet"
    ms.topic="article"
    ms.date="09/08/2016"
    ms.author="robinsh"/>

#<a name="azure-storage-security-guide"></a>Οδηγός ασφάλειας Azure χώρου αποθήκευσης

##<a name="overview"></a>Επισκόπηση

Azure αποθήκευσης παρέχει ένα ολοκληρωμένο σύνολο δυνατοτήτων ασφαλείας που επιτρέπουν μαζί τους προγραμματιστές για τη δημιουργία ασφαλούς εφαρμογές. Μπορείτε να προστατεύσετε τα ίδιο το λογαριασμό χώρου αποθήκευσης με χρήση του ελέγχου πρόσβασης βάσει ρόλων και Azure Active Directory. Μπορείτε να προστατεύσετε τα δεδομένα κατά τη μεταφορά ανάμεσα σε μια εφαρμογή και Azure χρησιμοποιώντας [Κρυπτογράφηση πλευρά του προγράμματος-πελάτη](storage-client-side-encryption.md), HTTPS ή 3.0 Ερωτήσεων. Δεδομένα μπορούν να λάβουν αυτόματα είναι κρυπτογραφημένα κατά την εγγραφή στο χώρο αποθήκευσης Azure χρησιμοποιώντας [Κρυπτογράφηση υπηρεσία αποθήκευσης (SSE)](storage-service-encryption.md). Μπορεί να οριστεί δίσκων λειτουργικό σύστημα και τα δεδομένα που χρησιμοποιούνται από εικονικές μηχανές κρυπτογράφησης χρησιμοποιεί [Κρυπτογράφηση δίσκου Azure](../security/azure-security-disk-encryption.md). Ανάθεση πρόσβαση στα αντικείμενα δεδομένων στο χώρο αποθήκευσης Azure μπορούν να λάβουν χρήση [Υπογραφών πρόσβασης σε κοινή χρήση](storage-dotnet-shared-access-signature-part-1.md).

Σε αυτό το άρθρο παρέχει μια επισκόπηση του κάθε μία από αυτές τις δυνατότητες ασφαλείας που μπορούν να χρησιμοποιηθούν με το χώρο αποθήκευσης Azure. Συνδέσεις παρέχονται για άρθρα που θα σας δώσει λεπτομέρειες από κάθε δυνατότητα αυτό μπορεί να γίνει εύκολα περαιτέρω έρευνα σχετικά με κάθε θέμα.

Εδώ θα βρείτε τα θέματα να καλύπτονται σε αυτό το άρθρο:

-   [Ασφάλεια επιπέδου διαχείρισης](#management-plane-security) – ασφάλιση το λογαριασμό χώρου αποθήκευσης

    Το επίπεδο διαχείρισης αποτελείται από τους πόρους που χρησιμοποιούνται για να διαχειριστείτε το λογαριασμό χώρου αποθήκευσης. Σε αυτήν την ενότητα, θα αναφερθούμε το μοντέλο ανάπτυξης διαχείρισης πόρων Azure και πώς μπορείτε να χρησιμοποιήσετε έλεγχο πρόσβασης βάσει ρόλων (RBAC) για να ελέγχετε την πρόσβαση σε λογαριασμούς χώρου αποθήκευσης. Επίσης, θα σας θα μιλήσετε σχετικά με τη διαχείριση των αριθμών-κλειδιών λογαριασμού χώρου αποθήκευσης και πώς μπορείτε να αναδημιουργήσετε τις.

-   [Δεδομένα επίπεδο ασφάλειας](#data-plane-security) – ασφάλιση πρόσβαση στα δεδομένα σας

    Σε αυτήν την ενότητα, θα εξετάσουμε παρέχει πρόσβαση στα αντικείμενα πραγματικά δεδομένα σε λογαριασμού χώρου αποθήκευσης, όπως αντικείμενα blob, αρχεία, ουρές και πίνακες, χρήση υπογραφών πρόσβασης σε κοινή χρήση και είναι αποθηκευμένο πολιτικές πρόσβασης. Θα ασχοληθούμε συσχετισμών Ασφαλείας συστοιχίας και συσχετισμούς Ασφαλείας επίπεδο λογαριασμού. Επίσης, θα σας θα δείτε πώς μπορείτε να περιορίσετε την πρόσβαση σε μια συγκεκριμένη διεύθυνση IP (ή περιοχή διευθύνσεων IP), πώς να περιορίσετε το πρωτόκολλο που χρησιμοποιείται σε HTTPS και πώς μπορείτε να ανακαλέσετε μια υπογραφή πρόσβασης σε κοινή χρήση χωρίς να περιμένουν για να λήξει.

-   [Κρυπτογράφηση κατά τη μεταφορά](#encryption-in-transit)

    Αυτή η ενότητα περιγράφει τον τρόπο για την ασφάλιση δεδομένων κατά τη μεταφορά μέσα ή έξω από το χώρο αποθήκευσης Azure. Θα αναφερθούμε την προτεινόμενη χρήση HTTPS και την κρυπτογράφηση που χρησιμοποιείται από το 3.0 Ερωτήσεων για Azure κοινόχρηστα στοιχεία αρχείων. Επίσης, θα σας θα Ρίξτε μια ματιά κρυπτογράφηση πλευρά του προγράμματος-πελάτη, η οποία σας επιτρέπει να κρυπτογραφεί τα δεδομένα πριν να μεταφερθούν στο χώρο αποθήκευσης σε μια εφαρμογή προγράμματος-πελάτη και να αποκρυπτογραφήσετε τα δεδομένα αφού μεταφέρεται από το χώρο αποθήκευσης.

-   [Κρυπτογράφηση στο υπόλοιπο](#encryption-at-rest)

    Θα αναφερθούμε κρυπτογράφησης υπηρεσία αποθήκευσης (SSE) και πώς μπορείτε να ενεργοποιήσετε για ένα λογαριασμό χώρου αποθήκευσης, σας μπλοκ αντικείμενα blob, αντικείμενα BLOB σελίδας, με αποτέλεσμα και να προσαρτήσετε αντικείμενα BLOB που κρυπτογραφούνται αυτόματα κατά την εγγραφή στο χώρο αποθήκευσης Azure. Θα επίσης εξετάσουμε πώς μπορείτε να χρησιμοποιήσετε κρυπτογράφηση δίσκου Azure και να εξερευνήσετε το βασικές διαφορές και τα κουτιά κρυπτογράφησης δίσκου έναντι SSE έναντι της κρυπτογράφησης πλευρά του προγράμματος-πελάτη. Θα περιγράφει συνοπτικά εξετάσουμε συμμόρφωση FIPS για υπολογιστές κυβέρνησης των ΗΠΑ.

-   Χρήση [Ανάλυσης χώρου αποθήκευσης](#storage-analytics) για τον έλεγχο πρόσβασης Azure χώρου αποθήκευσης

    Αυτή η ενότητα περιγράφει πώς μπορείτε να βρείτε τις πληροφορίες στα αρχεία καταγραφής ανάλυσης χώρου αποθήκευσης για μια αίτηση. Θα Ρίξτε μια ματιά ανάλυση πραγματικός χώρος αποθήκευσης δεδομένων του αρχείου καταγραφής και θα δείτε πώς μπορείτε να διακρίνουν εάν μια αίτηση γίνεται με το κλειδί λογαριασμού χώρου αποθήκευσης, με υπογραφή πρόσβασης σε κοινή χρήση, ή ανώνυμα και, εάν ολοκληρώθηκε με επιτυχία ή απέτυχε.

-   [Ενεργοποίηση πελάτες που βασίζονται σε πρόγραμμα περιήγησης χρησιμοποιώντας CORS](#Cross-Origin-Resource-Sharing-CORS)

    Αυτή η ενότητα ακρόασης σχετικά με τον τρόπο για να επιτρέψετε σε σταυρό origin πόρων κοινής χρήσης (CORS). Θα αναφερθούμε πρόσβασης μεταξύ τομέων και τον τρόπο χειρισμού του με τις δυνατότητες CORS ενσωματωμένο στο χώρο αποθήκευσης Azure.

##<a name="management-plane-security"></a>Ασφάλεια επιπέδου διαχείρισης

Το επίπεδο διαχείρισης αποτελείται από λειτουργίες που επηρεάζουν το ίδιο το λογαριασμό χώρου αποθήκευσης. Για παράδειγμα, που μπορούν να δημιουργία ή διαγραφή ενός λογαριασμού χώρου αποθήκευσης, λάβετε μια λίστα με τους λογαριασμούς χώρου αποθήκευσης στη συνδρομή, ανακτήσετε τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης, ή αναδημιουργήσετε τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης.

Όταν δημιουργείτε ένα νέο λογαριασμό του χώρου αποθήκευσης, μπορείτε να επιλέξετε ένα μοντέλο ανάπτυξης του Classic ή διαχείριση πόρων. Το μοντέλο κλασική της δημιουργίας πόρους στο Azure επιτρέπει μόνο ολόκληρη ή καθόλου πρόσβαση για τη συνδρομή, και απενεργοποίηση, το λογαριασμό χώρου αποθήκευσης.

Αυτός ο οδηγός εστιάζει σε μοντέλο διαχείριση πόρων, η οποία είναι το προτεινόμενο μέσο για τη δημιουργία λογαριασμών του χώρου αποθήκευσης. Με το λογαριασμούς χώρου αποθήκευσης για τη διαχείριση πόρων, αντί να παρέχει πρόσβαση σε ολόκληρη τη συνδρομή, μπορείτε να ελέγχετε την πρόσβαση σε ένα επίπεδο πιο πεπερασμένο προς το επίπεδο διαχείρισης χρησιμοποιώντας έλεγχο πρόσβασης βάσει ρόλων (RBAC).

###<a name="how-to-secure-your-storage-account-with-role-based-access-control-rbac"></a>Πώς να ασφαλές το λογαριασμό χώρου αποθήκευσης με έλεγχο πρόσβασης βάσει ρόλων (RBAC)

Ας μιλήσουμε για τη RBAC και πώς μπορείτε να το χρησιμοποιήσετε. Κάθε Azure συνδρομή έχει μια Azure Active Directory. Οι χρήστες, ομάδες και εφαρμογές από αυτόν τον κατάλογο μπορεί να σας εκχωρηθεί πρόσβαση για να διαχειριστείτε πόρους στην Azure συνδρομής που χρησιμοποιούν το μοντέλο ανάπτυξης διαχείρισης πόρων. Αυτό αναφέρεται ως έλεγχος πρόσβασης βάσει ρόλων (RBAC). Για να διαχειριστείτε την πρόσβαση σε αυτήν, μπορείτε να χρησιμοποιήσετε την [πύλη του Azure](https://portal.azure.com/), τα [Εργαλεία Azure CLI](../xplat-cli-install.md), [PowerShell](../powershell-install-configure.md)ή τα [APIs ΥΠΌΛΟΙΠΟ της υπηρεσίας παροχής Azure χώρου αποθήκευσης πόρων](https://msdn.microsoft.com/library/azure/mt163683.aspx).

Με το μοντέλο από διαχειριστή πόρων, τοποθετείτε το λογαριασμό χώρου αποθήκευσης σε μια ομάδα και έλεγχος πρόσβασης πόρων προς το επίπεδο διαχείρισης αυτού του χώρου αποθήκευσης συγκεκριμένες λογαριασμού με χρήση Azure Active Directory. Για παράδειγμα, μπορείτε να δώσετε συγκεκριμένους χρήστες τη δυνατότητα να αποκτήσετε πρόσβαση στα κλειδιά λογαριασμού χώρου αποθήκευσης, ενώ οι άλλοι χρήστες να προβάλετε πληροφορίες σχετικά με το λογαριασμό χώρου αποθήκευσης, αλλά δεν είναι δυνατό να αποκτήσετε πρόσβαση στα κλειδιά λογαριασμού χώρου αποθήκευσης.

####<a name="granting-access"></a>Εκχώρηση πρόσβασης

Η πρόσβαση παρέχεται αναθέτοντας τον κατάλληλο ρόλο RBAC χρηστών, ομάδων και εφαρμογές, στο δεξιό εύρος. Για να εκχωρήσετε πρόσβαση σε ολόκληρη τη συνδρομή, μπορείτε να αντιστοιχίσετε ένα ρόλο στο επίπεδο της συνδρομής. Μπορείτε να εκχωρήσετε πρόσβαση σε όλους τους πόρους σε μια ομάδα πόρων, την εκχώρηση δικαιωμάτων στην ίδια την ομάδα πόρων. Μπορείτε επίσης να αντιστοιχίσετε συγκεκριμένους ρόλους σε συγκεκριμένους πόρους, όπως λογαριασμοί χώρου αποθήκευσης.

Εδώ θα βρείτε τα κύρια σημεία που πρέπει να γνωρίζετε σχετικά με τη χρήση RBAC για να αποκτήσετε πρόσβαση τις λειτουργίες διαχείρισης ενός λογαριασμού αποθήκευσης Azure:

-   Όταν εκχωρείτε πρόσβαση, στην ουσία εκχώρηση ρόλου με το λογαριασμό που θέλετε να έχετε πρόσβαση. Μπορείτε να ελέγχετε την πρόσβαση για τις εργασίες που χρησιμοποιούνται για τη Διαχείριση αυτόν το λογαριασμό χώρου αποθήκευσης, αλλά όχι να τα αντικείμενα δεδομένων στο λογαριασμό. Για παράδειγμα, μπορείτε να εκχωρήσετε δικαιώματα για την ανάκτηση των ιδιοτήτων του λογαριασμού χώρου αποθήκευσης (όπως πλεονασμού), αλλά όχι σε ένα κοντέινερ ή δεδομένων μέσα σε ένα κοντέινερ μέσα αποθήκευσης αντικειμένων Blob.

-   Για κάποιον να έχουν το δικαίωμα πρόσβασης στα αντικείμενα δεδομένων στο λογαριασμό χώρου αποθήκευσης, μπορείτε να τους δώσετε δικαιώματα για να διαβάσετε τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης και αυτόν το χρήστη, στη συνέχεια, να χρησιμοποιήσετε αυτά τα πλήκτρα πρόσβασης τα αντικείμενα blob, ουρές, πίνακες και αρχεία.

-   Ρόλοι μπορούν να αντιστοιχιστούν ενός συγκεκριμένου λογαριασμού χρήστη, μια ομάδα χρηστών ή σε μια συγκεκριμένη εφαρμογή.

-   Κάθε ρόλο έχει μια λίστα των ενεργειών και των ενεργειών δεν. Για παράδειγμα, ο ρόλος συμβολής εικονική μηχανή έχει μια ενέργεια από "listKeys" σας επιτρέπει τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης για ανάγνωση. Το συμβολής έχει "Δεν ενέργειες" όπως ενημερώνετε την πρόσβαση για τους χρήστες στην υπηρεσία καταλόγου Active Directory.

-   Ρόλοι για χώρο αποθήκευσης περιλαμβάνουν (αλλά δεν περιορίζονται) τα εξής:

    -   Κάτοχος – μπορούν να διαχειρίζονται τα πάντα, συμπεριλαμβανομένης της πρόσβασης.

    -   Συνεργάτης – μπορεί να κάνει οτιδήποτε ο κάτοχος μπορεί να εκτός από την εκχώρηση πρόσβασης. Κάποιος με αυτόν το ρόλο να προβάλετε και να δημιουργήσετε ξανά τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης. Με τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης, μπορούν να έχουν πρόσβαση στα αντικείμενα δεδομένων.

    -   Πρόγραμμα ανάγνωσης – μπορούν να προβάλλουν πληροφορίες σχετικά με το λογαριασμό χώρου αποθήκευσης, εκτός από απορρήτου. Για παράδειγμα, εάν αντιστοιχίσετε ένα ρόλο με δικαιώματα ανάγνωσης για το λογαριασμό χώρου αποθήκευσης σε κάποιον, μπορούν να προβάλουν τις ιδιότητες του λογαριασμού χώρου αποθήκευσης, αλλά δεν μπορούν να κάνετε αλλαγές στις ιδιότητες ή να προβάλετε τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης.

    -   Συνεργάτης λογαριασμού χώρου αποθήκευσης – μπορούν να διαχειρίζονται το λογαριασμό χώρου αποθήκευσης – μπορεί να διαβάσει τη συνδρομή ομάδες πόρων και τους πόρους και να δημιουργήσετε και να διαχειριστείτε τη συνδρομή αναπτύξεις ομάδα πόρων. Μπορούν επίσης να έχουν πρόσβαση τα πλήκτρα λογαριασμού χώρου αποθήκευσης, δηλαδή με τη σειρά μπορούν να έχουν πρόσβαση στο επίπεδο δεδομένων.

    -   Διαχειριστής πρόσβασης χρήστη – μπορούν να διαχειρίζονται πρόσβασης χρήστη για το λογαριασμό χώρου αποθήκευσης. Για παράδειγμα, μπορεί να παραχωρήσει πρόσβαση ανάγνωσης σε έναν συγκεκριμένο χρήστη.

    -   Εικονική μηχανή συμβολής – μπορούν να διαχειρίζονται εικονικές μηχανές, αλλά όχι το λογαριασμό χώρου αποθήκευσης στο οποίο είστε συνδεδεμένοι. Αυτός ο ρόλος να παραθέσετε τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης, γεγονός που σημαίνει ότι ο χρήστης στους οποίους μπορείτε να εκχωρήσετε αυτόν το ρόλο μπορεί να ενημερώσει το επίπεδο δεδομένων.

        Σειρά για ένα χρήστη για να δημιουργήσετε μια εικονική μηχανή, πρέπει να έχετε τη δυνατότητα για να δημιουργήσετε το αντίστοιχο αρχείο VHD σε ένα λογαριασμό του χώρου αποθήκευσης. Για να το κάνετε αυτό, θα πρέπει να είναι σε θέση να ανακτήσει το κλειδί λογαριασμού χώρου αποθήκευσης και το μεταβιβάζουν για το API τη δημιουργία του Εικονική. Επομένως, πρέπει να έχουν αυτό το δικαίωμα, ώστε να μπορούν να αναφέρουν τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης.

- Η δυνατότητα για να ορίσετε μια προσαρμοσμένη ρόλους είναι μια δυνατότητα που σας επιτρέπει να συντάξετε ένα σύνολο ενεργειών από μια λίστα των διαθέσιμων ενεργειών που μπορούν να εκτελεστούν σε Azure πόρους.

- Ο χρήστης πρέπει να ρυθμιστεί στο σας Azure Active Directory πριν μπορέσετε να αντιστοιχίσετε ένα ρόλο σε αυτά.

- Μπορείτε να δημιουργήσετε μια αναφορά που έχει παραχωρήσει/ανακληθεί τι είδους πρόσβασης προς/από τους οποίους και σε ποια εμβέλειας με τη χρήση του PowerShell ή το Azure CLI.

####<a name="resources"></a>Πόροι

-   [Έλεγχος πρόσβασης βάσει ρόλων καταλόγου Azure Active Directory](../active-directory/role-based-access-control-configure.md)

    Σε αυτό το άρθρο εξηγεί τον έλεγχο πρόσβασης βάσει ρόλων Active Directory Azure και τον τρόπο που λειτουργεί.

-   [RBAC: Ενσωματωμένη ρόλους](../active-directory/role-based-access-built-in-roles.md)

    Σε αυτό το άρθρο λεπτομέρειες για όλα τα ενσωματωμένα ρόλους που είναι διαθέσιμοι στο RBAC.

-   [Κατανόηση της διαχείρισης πόρων ανάπτυξης και κλασική ανάπτυξης](../resource-manager-deployment-model.md)

    Σε αυτό το άρθρο εξηγεί τις ανάπτυξης διαχείρισης πόρων και τα μοντέλα κλασική ανάπτυξης και εξηγεί τα οφέλη της χρήσης των ομάδων διαχείρισης πόρων και πόρων

-   [Azure υπολογισμού, δικτύου και υπηρεσίες παροχής χώρου αποθήκευσης στην περιοχή Azure διαχείριση πόρων](../virtual-machines/virtual-machines-windows-compare-deployment-models.md)

    Σε αυτό το άρθρο εξηγεί πώς λειτουργούν οι τον υπολογισμό Azure, δικτύου και υπηρεσίες παροχής χώρου αποθήκευσης στην περιοχή του μοντέλου από διαχειριστή πόρων.

-   [Διαχείριση έλεγχος πρόσβασης βάσει ρόλων με το REST API](../active-directory/role-based-access-control-manage-access-rest.md)

    Σε αυτό το άρθρο παρουσιάζει πώς μπορείτε να χρησιμοποιήσετε το REST API για τη Διαχείριση RBAC.

-   [Azure αποθήκευσης πόρων παροχής REST API αναφοράς](https://msdn.microsoft.com/library/azure/mt163683.aspx)

    Αυτή είναι η αναφορά για τα API που μπορείτε να χρησιμοποιήσετε για να διαχειριστείτε το λογαριασμό χώρου αποθήκευσης μέσω προγραμματισμού.

-   [Οδηγός για προγραμματιστές να auth με το API διαχείρισης πόρων Azure](http://www.dushyantgill.com/blog/2015/05/23/developers-guide-to-auth-with-azure-resource-manager-api/)

    Αυτό το άρθρο παρουσιάζει πώς μπορείτε να τον έλεγχο ταυτότητας χρησιμοποιώντας τα API διαχείρισης πόρων.

-   [Έλεγχος πρόσβασης βάσει ρόλων για το Microsoft Azure από Ignite](https://channel9.msdn.com/events/Ignite/2015/BRK2707)

    Αυτή είναι μια σύνδεση με βίντεο στο κανάλι 9 από τη διάσκεψη Ignite 2015 MS. Σε αυτήν την περίοδο λειτουργίας, μιλήσουμε για πρόσβαση διαχείρισης και δυνατότητες αναφοράς στο Azure και την Εξερεύνηση βέλτιστων πρακτικών που αφορούν την ασφάλεια των πρόσβασης Azure συνδρομές χρησιμοποιώντας Azure Active Directory.

###<a name="managing-your-storage-account-keys"></a>Διαχείριση των αριθμών-κλειδιών λογαριασμού χώρου αποθήκευσης

Πλήκτρα για το λογαριασμό χώρου αποθήκευσης είναι συμβολοσειρές 512-bit που δημιουργήθηκε από Azure που, μαζί με το όνομα του λογαριασμού χώρου αποθήκευσης, μπορεί να χρησιμοποιηθεί για πρόσβαση στα αντικείμενα δεδομένων που είναι αποθηκευμένα στο λογαριασμό χώρου αποθήκευσης, π.χ. αντικείμενα blob, οντοτήτων μέσα σε έναν πίνακα, ουρά μηνυμάτων και τα αρχεία σε μια κοινή χρήση αρχείων Azure. Έλεγχος της πρόσβασης σε το χώρο αποθήκευσης πλήκτρα στοιχεία ελέγχου πρόσβασης σε λογαριασμό στο επίπεδο δεδομένων για τον συγκεκριμένο λογαριασμό χώρου αποθήκευσης.

Κάθε λογαριασμό χώρου αποθήκευσης έχει δύο κλειδιά που αναφέρονται ως "Αριθμός-κλειδί 1" και "Βασικές 2" στην [πύλη του Azure](http://portal.azure.com/) και τα cmdlet του PowerShell. Αυτές μπορεί να αναπαραχθεί με μη αυτόματο τρόπο χρησιμοποιώντας μία από διάφορες μεθόδους, συμπεριλαμβανομένων, αλλά δεν περιορίζεται σε χρησιμοποιώντας την [πύλη του Azure](https://portal.azure.com/), PowerShell, την CLI Azure ή μέσω προγραμματισμού βιβλιοθήκη προγράμματος-πελάτη του .NET χώρου αποθήκευσης ή το χώρο αποθήκευσης Azure υπηρεσίες REST API.

Υπάρχουν οποιονδήποτε αριθμό λόγοι για να αναδημιουργήσετε το πλήκτρα λογαριασμού χώρου αποθήκευσης.

-   Ενδέχεται να μπορείτε να αναδημιουργήσετε τους σε τακτική βάση για λόγους ασφαλείας.

-   Μπορείτε να αναδημιουργήσετε σας πλήκτρα λογαριασμού χώρου αποθήκευσης εάν κάποιος διαχειριζόμενων να κλαπεί σε μια εφαρμογή και να ανακτήσετε το κλειδί που έχει οποίος καθορίζεται ή αποθηκευτεί σε ένα αρχείο ρύθμισης παραμέτρων, παρέχοντας πλήρη πρόσβαση στο λογαριασμό σας χώρο αποθήκευσης.

-   Άλλη περίπτωση για αναδημιουργία κλειδιών είναι εάν την ομάδα σας χρησιμοποιεί μια εφαρμογή Εξερεύνηση χώρου αποθήκευσης που διατηρεί το κλειδί λογαριασμού χώρου αποθήκευσης και αφήνει ένα από τα μέλη της ομάδας. Η εφαρμογή θα συνεχίσει να λειτουργεί, αποκτώντας πρόσβαση στο λογαριασμό σας χώρο αποθήκευσης αφού είναι πλέον. Αυτό είναι στην πραγματικότητα ο κύριος λόγος δημιούργησε επίπεδο λογαριασμού θέσει σε κοινή χρήση υπογραφών πρόσβασης – μπορείτε να χρησιμοποιήσετε ένα λογαριασμό επιπέδου συσχετισμών Ασφαλείας αντί για την αποθήκευση των πλήκτρων πρόσβασης σε ένα αρχείο ρύθμισης παραμέτρων.

####<a name="key-regeneration-plan"></a>Πρόγραμμα αναδημιουργία κλειδιών

Δεν θέλετε να Μόλις δημιουργήσετε ξανά το κλειδί που χρησιμοποιείτε χωρίς κάποιο σχεδιασμό. Εάν κάνετε αυτό, θα μπορούσε να αποκοπεί όλη την πρόσβαση σε αυτόν το λογαριασμό χώρου αποθήκευσης, που μπορεί να προκαλέσει διαταραχή της κύριας. Αυτός είναι ο λόγος υπάρχουν δύο κλειδιά. Θα πρέπει να μπορείτε να αναδημιουργήσετε ένα πλήκτρο κάθε φορά.

Πριν από την ανάθεση των αριθμών-κλειδιών, βεβαιωθείτε ότι έχετε μια λίστα με όλες τις εφαρμογές που εξαρτώνται από το λογαριασμό χώρου αποθήκευσης, καθώς και άλλες υπηρεσίες που χρησιμοποιείτε στο Azure. Για παράδειγμα, εάν χρησιμοποιείτε τις υπηρεσίες πολυμέσων Azure που εξαρτώνται από το λογαριασμό χώρου αποθήκευσης, που πρέπει να επαναλάβετε το συγχρονισμό των πλήκτρων πρόσβασης με την υπηρεσία πολυμέσων αφού δημιουργήσετε ξανά το κλειδί. Εάν χρησιμοποιείτε τις εφαρμογές, όπως ένα Εξερεύνηση χώρου αποθήκευσης, θα πρέπει να παρέχουν τη νέα κλειδιά που καθώς και αυτές τις εφαρμογές. Λάβετε υπόψη ότι εάν έχετε ΣΠΣ των οποίων τα αρχεία VHD είναι αποθηκευμένα στο χώρο αποθήκευσης στο λογαριασμό, αυτά θα δεν επηρεάζονται από αναδημιουργία τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης.

Μπορείτε να αναδημιουργήσετε των αριθμών-κλειδιών στην πύλη του Azure. Όταν τα κλειδιά δημιουργούνται μπορούν να πάρουν έως 10 λεπτά για να συγχρονιστεί σε υπηρεσίες αποθήκευσης.

Όταν είστε έτοιμοι, θα δείτε τη γενική διαδικασία που περιγράφει με λεπτομέρεια πώς θα πρέπει να αλλάξετε τον αριθμό-κλειδί. Σε αυτήν την περίπτωση, υπόθεση είναι ότι τη δεδομένη στιγμή χρησιμοποιείτε κλειδί 1 και που πρόκειται να αλλάξετε όλα τα στοιχεία για τη χρήση αριθμού-κλειδιού 2 αντί για αυτό.

1.  Αναδημιουργήσετε το κλειδί 2 για να βεβαιωθείτε ότι είναι ασφαλής. Μπορείτε να το κάνετε στην πύλη του Azure.

2.  Σε όλες τις εφαρμογές όπου είναι αποθηκευμένο το κλειδί αποθήκευσης, αλλάξτε το κλειδί αποθήκευσης για χρήση του αριθμού-κλειδιού 2 νέα τιμή. Δοκιμή και δημοσίευση της εφαρμογής.

3.  Τελικά από τις εφαρμογές και υπηρεσίες που βρίσκονται επάνω και εκτελείται με επιτυχία, αναδημιουργήσετε το κλειδί 1. Αυτό εξασφαλίζει ότι οποιοσδήποτε στους οποίους δεν έχετε δώσει το νέο κλειδί ρητά δεν είναι πλέον θα έχουν πρόσβαση στο λογαριασμό του χώρου αποθήκευσης.

Εάν χρησιμοποιείτε τη συγκεκριμένη στιγμή κλειδί 2, μπορείτε να χρησιμοποιήσετε την ίδια διαδικασία, αλλά αντιστρέψετε τα ονόματα των βασικών.

Μπορείτε να κάνετε μετεγκατάσταση πάνω από δύο ημέρες, να αλλάξετε κάθε εφαρμογή για να χρησιμοποιήσετε το νέο κλειδί και δημοσίευσή του. Αφού έχετε ολοκληρώσει όλες τις, μπορείτε, στη συνέχεια, θα πρέπει να επιστρέψετε και να δημιουργήσετε ξανά το παλιό κλειδί, ώστε να δεν λειτουργεί πλέον.

Μια άλλη επιλογή είναι να τοποθετήσετε τον αριθμό-κλειδί λογαριασμού χώρου αποθήκευσης σε ένα [Θάλαμο κλειδί Azure](https://azure.microsoft.com/services/key-vault/) ως ένα μυστικό και να έχετε τις εφαρμογές σας ανάκτηση του κλειδιού από εκεί. Στη συνέχεια, όταν δημιουργήσετε ξανά το κλειδί και ενημερώστε το Azure θάλαμο αριθμού-κλειδιού, τις εφαρμογές δεν θα χρειαστεί να να επαναληφθεί η ανάπτυξη επειδή αυτά θα σηκώστε το νέο κλειδί από το Azure θάλαμο κλειδί αυτόματα. Σημειώστε ότι μπορείτε να έχετε την εφαρμογή, διαβάστε το πλήκτρο κάθε φορά που χρειάζεστε, ή μπορείτε να το cache στη μνήμη και εάν αποτύχει κατά τη χρήση, ανάκτηση του κλειδιού ξανά από το Azure θάλαμο αριθμού-κλειδιού.

Χρήση θάλαμο κλειδί Azure προσθέτει επίσης ένα άλλο επίπεδο ασφάλειας για τα κλειδιά χώρου αποθήκευσης. Εάν χρησιμοποιείτε αυτήν τη μέθοδο, θα έχετε ποτέ το χώρο αποθήκευσης κλειδιού anonymoususername σε ένα αρχείο ρύθμισης παραμέτρων, το οποίο καταργεί συγκεκριμένο τρόπος της κάποιος γρήγορα πρόσβαση στα κλειδιά χωρίς ρητή άδεια.

Ένα άλλο πλεονέκτημα της χρήσης θάλαμο κλειδί Azure είναι μπορείτε επίσης να ελέγχετε την πρόσβαση σε των αριθμών-κλειδιών με χρήση Azure Active Directory. Αυτό σημαίνει ότι μπορείτε να εκχωρήσετε πρόσβαση σε το μερικές από τις εφαρμογές που χρειάζεστε για να ανακτήσετε τα πλήκτρα από θάλαμο κλειδί Azure και γνωρίζετε ότι άλλες εφαρμογές, δεν θα μπορούν να έχουν πρόσβαση τα πλήκτρα χωρίς ανάγκη για εκχώρηση δικαιωμάτων συγκεκριμένα.

Σημείωση: καλό είναι να χρησιμοποιήσετε μόνο ένα από τα πλήκτρα σε όλες τις εφαρμογές σας την ίδια στιγμή. Εάν χρησιμοποιείτε το κλειδί 1 σε ορισμένες περιοχές και 2 αριθμού-κλειδιού σε άλλους χρήστες, δεν θα μπορείτε να περιστρέψετε των αριθμών-κλειδιών χωρίς κάποια εφαρμογή απώλεια πρόσβασης.

####<a name="resources"></a>Πόροι

-   [Σχετικά με τους λογαριασμούς Azure χώρου αποθήκευσης](storage-create-storage-account.md#regenerate-storage-access-keys)

    Σε αυτό το άρθρο παρέχει μια επισκόπηση του χώρου αποθήκευσης λογαριασμούς και αναλύει προβολή, αντιγραφή και αναδημιουργία πλήκτρα πρόσβασης χώρου αποθήκευσης.

-   [Azure αποθήκευσης πόρων παροχής REST API αναφοράς](https://msdn.microsoft.com/library/mt163683.aspx)

    Σε αυτό το άρθρο περιέχει συνδέσεις σε συγκεκριμένα άρθρα σχετικά με την ανάκτηση τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης και αναδημιουργία τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης για ένα λογαριασμό Azure χρησιμοποιώντας το REST API. Σημείωση: Αυτή είναι για λογαριασμούς του χώρου αποθήκευσης για τη διαχείριση πόρων.

-   [Λειτουργίες λογαριασμούς χώρου αποθήκευσης](https://msdn.microsoft.com/library/ee460790.aspx)

    Σε αυτό το άρθρο στην αναφορά χώρου αποθήκευσης Service Manager REST API περιέχει συνδέσεις σε συγκεκριμένα άρθρα σχετικά με την ανάκτηση και αναδημιουργία τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης χρησιμοποιώντας το REST API. Σημείωση: Αυτό είναι για τους λογαριασμούς κλασική χώρου αποθήκευσης.

-   [Πείτε περιττών βασικές διαχείρισης – διαχειριστείτε την πρόσβαση στα δεδομένα αποθήκευσης Azure χρησιμοποιώντας Azure AD](http://www.dushyantgill.com/blog/2015/04/26/say-goodbye-to-key-management-manage-access-to-azure-storage-data-using-azure-ad/)

    Αυτό το άρθρο παρουσιάζει τον τρόπο χρήσης του καταλόγου Active Directory για να ελέγχετε την πρόσβαση σε σας κλειδιά αποθήκευσης Azure θάλαμο κλειδί Azure. Εμφανίζει επίσης πώς μπορείτε να χρησιμοποιήσετε μια εργασία αυτοματισμού Azure για να αναδημιουργήσετε τα πλήκτρα σε ωριαία βάση.

##<a name="data-plane-security"></a>Ασφάλεια επιπέδου δεδομένων

Ασφάλεια επιπέδου δεδομένων αναφέρεται σε τις μεθόδους που χρησιμοποιούνται για την ασφάλιση τα αντικείμενα δεδομένων που είναι αποθηκευμένα στο χώρο αποθήκευσης Azure – τα αντικείμενα blob, ουρές, πίνακες και αρχεία. Θα σας έχετε δει μεθόδους για την κρυπτογράφηση των δεδομένων και ασφάλειας κατά τη μεταφορά των δεδομένων, αλλά πώς μπορείτε να επιτρέπετε την πρόσβαση στα αντικείμενα;

Βασικά υπάρχουν δύο μέθοδοι για τον έλεγχο της πρόσβασης στα αντικείμενα δεδομένων τον εαυτό τους. Είναι η πρώτη κατά τον έλεγχο της πρόσβασης σε λογαριασμό κλειδιά του χώρου αποθήκευσης και το δεύτερο χρησιμοποιεί θέσει σε κοινή χρήση υπογραφών Access για να εκχωρήσετε πρόσβαση σε αντικείμενα συγκεκριμένα δεδομένα για ένα συγκεκριμένο χρονικό διάστημα.

Μία εξαίρεση σε σημείωση είναι ότι μπορείτε να επιτρέψετε δημόσιας πρόσβασης για να σας αντικείμενα blob, ορίζοντας το επίπεδο πρόσβασης για το κοντέινερ που περιέχει τα αντικείμενα BLOB αντίστοιχα. Εάν ορίσετε πρόσβασης για ένα κοντέινερ αντικειμένων Blob ή κοντέινερ, αυτό θα σας επιτρέψει δημόσια πρόσβαση για ανάγνωση για τα αντικείμενα BLOB σε αυτό το κοντέινερ. Αυτό σημαίνει ότι όλα τα άτομα με μια διεύθυνση URL που δείχνει σε ένα αντικείμενο blob σε αυτό το κοντέινερ να το ανοίξετε σε ένα πρόγραμμα περιήγησης χωρίς χρήση μιας υπογραφής πρόσβασης σε κοινή χρήση ή να αντιμετωπίζετε τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης.

###<a name="storage-account-keys"></a>Πλήκτρα για το λογαριασμό χώρου αποθήκευσης

Πλήκτρα για το λογαριασμό χώρου αποθήκευσης είναι συμβολοσειρές 512-bit που δημιουργήθηκε από Azure που, μαζί με το όνομα του λογαριασμού χώρου αποθήκευσης, μπορεί να χρησιμοποιηθεί για πρόσβαση στα αντικείμενα δεδομένων που είναι αποθηκευμένα στο χώρο αποθήκευσης στο λογαριασμό.

Για παράδειγμα, μπορείτε να διαβάσετε αντικείμενα blob, εγγραφή σε ουρές, δημιουργήσετε πίνακες, και τροποποίηση αρχείων. Πολλές από αυτές τις ενέργειες μπορεί να πραγματοποιηθεί μέσω της πύλης Azure, ή χρησιμοποιώντας μία από τις πολλές εφαρμογές Εξερεύνηση χώρου αποθήκευσης. Μπορείτε επίσης να συντάξετε κώδικα για να χρησιμοποιήσετε το REST API ή μία από τις βιβλιοθήκες προγράμματος-πελάτη του χώρου αποθήκευσης για την εκτέλεση αυτών των λειτουργιών.

Όπως περιγράφεται στην ενότητα για την [Ασφάλεια επιπέδου διαχείρισης](#management-plane-security), μπορεί να αποκτήσει πρόσβαση στα κλειδιά χώρου αποθήκευσης για ένα λογαριασμό του χώρου αποθήκευσης κλασική παρέχοντας πλήρη πρόσβαση με τη συνδρομή Azure. Πρόσβαση στα κλειδιά χώρου αποθήκευσης για ένα λογαριασμό χώρο αποθήκευσης χρησιμοποιείτε το μοντέλο από διαχειριστή πόρων Azure μπορεί να ελέγχεται μέσω έλεγχο πρόσβασης βάσει ρόλων (RBAC).

###<a name="how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies"></a>Πώς μπορείτε να την πρόσβαση σε αντικείμενα στο λογαριασμό σας χρησιμοποιώντας το υπογραφές Access θέσει σε κοινή χρήση και είναι αποθηκευμένο πολιτικές πρόσβασης πληρεξουσίων

Μια υπογραφή πρόσβασης σε κοινή χρήση είναι μια συμβολοσειρά που περιέχει έναν κωδικό ασφαλείας που μπορεί να συνδεθεί σε μια URI που σας επιτρέπει να δικαίωμα πρόσβασης πληρεξούσιου στο χώρο αποθήκευσης αντικειμένων και να καθορίσετε τους περιορισμούς όπως τα δικαιώματα και την περιοχή ημερομηνίας/ώρας της access.

Μπορείτε να εκχωρήσετε πρόσβαση σε αντικείμενα blob, κοντέινερ, μηνύματα ουράς, αρχεία και τους πίνακες. Με πίνακες, μπορείτε να εκχωρήσετε στην πραγματικότητα δικαιώματα πρόσβασης σε μια περιοχή οντοτήτων στον πίνακα καθορίζοντας τα διαμερίσματα γραμμής κλειδιού περιοχών και στην οποία θέλετε να έχει πρόσβαση ο χρήστης. Για παράδειγμα, εάν έχετε δεδομένα που είναι αποθηκευμένα με έναν αριθμό-κλειδί partition γεωγραφική κατάστασης, μπορείτε να δώσετε σε κάποιον πρόσβαση μόνο στα δεδομένα για Καλιφόρνια.

Σε ένα άλλο παράδειγμα, μπορεί να δίνετε μια εφαρμογή web ενός διακριτικού συσχετισμών Ασφαλείας που σας δίνει τη δυνατότητα να κάνει εγγραφή καταχωρήσεις σε μια ουρά και δώστε εργαζόμενος ρόλων εφαρμογής ενός διακριτικού συσχετισμών Ασφαλείας για τη λήψη μηνυμάτων από την ουρά και να τις επεξεργαστείτε. Ή θα μπορούσατε να δώσετε έναν πελάτη ενός διακριτικού συσχετισμών Ασφαλείας μπορούν να χρησιμοποιήσετε για την αποστολή εικόνων σε ένα κοντέινερ στο χώρο αποθήκευσης αντικειμένων Blob και να δώσετε μια δικαιώματα εφαρμογής web για να διαβάσετε αυτές τις εικόνες. Και στις δύο περιπτώσεις, υπάρχει μια διαχωρισμό των ανησυχίες-κάθε εφαρμογή μπορούν να έχουν μόνο την πρόσβαση που χρειάζονται για να εκτελέσετε την εργασία. Αυτό είναι δυνατό με τη χρήση υπογραφών πρόσβασης σε κοινή χρήση.

####<a name="why-you-want-to-use-shared-access-signatures"></a>Γιατί που θέλετε να χρησιμοποιήσετε κοινόχρηστα υπογραφές πρόσβασης

Γιατί μπορεί να θελήσετε να χρησιμοποιήσετε ένα συσχετισμών Ασφαλείας αντί απλώς δίνετε το κλειδί λογαριασμού χώρου αποθήκευσης, το οποίο είναι πολύ πιο εύκολη; Δίνετε το κλειδί λογαριασμού χώρου αποθήκευσης είναι όπως κοινή χρήση των κλειδιών του Βασιλείου του χώρου αποθήκευσης. Το εκχωρεί πλήρη πρόσβαση. Κάποιος μπορεί να χρησιμοποιήστε τα πλήκτρα και να αποστείλετε τους ολόκληρη τη βιβλιοθήκη μουσικής στο λογαριασμό σας χώρου αποθήκευσης. Αυτά επίσης μπορεί να αντικαταστήσετε τα αρχεία σας με εκδόσεις επηρεαστεί από ιούς ή να υποκλέψουν τα δεδομένα σας. Δωρεάν απεριόριστη πρόσβαση στο λογαριασμό σας χώρου αποθήκευσης είναι κάτι που δεν πρέπει να πραγματοποιηθούν απαλά.

Με τις υπογραφές πρόσβασης σε κοινή χρήση, μπορείτε να δώσετε ένα πρόγραμμα-πελάτη μόνο τα δικαιώματα που απαιτούνται για ένα περιορισμένο χρονικό διάστημα. Για παράδειγμα, εάν κάποιος αποστολή ένα blob στο λογαριασμό σας, μπορείτε να τους παραχωρήσετε πρόσβαση εγγραφής για απλώς αρκετό χρόνο για να αποστείλετε το αντικείμενο blob (ανάλογα με το μέγεθος των αντικειμένων blob του, φυσικά). Και εάν αλλάξετε γνώμη, μπορείτε να ανακαλέσετε ότι η πρόσβαση.

Επιπλέον, μπορείτε να καθορίσετε ότι αιτήματα χρησιμοποιώντας μια συσχετισμών Ασφαλείας περιορίζονται σε συγκεκριμένη διεύθυνση IP ή εξωτερικών Azure περιοχής διευθύνσεων IP. Μπορείτε επίσης να απαιτήσετε ότι γίνονται οι αιτήσεις χρησιμοποιώντας ένα συγκεκριμένο πρωτόκολλο (HTTPS ή HTTP/HTTPS). Αυτό σημαίνει ότι, εάν θέλετε να επιτρέψετε την κυκλοφορία HTTPS μόνο, μπορείτε να ρυθμίσετε το πρωτόκολλο απαιτείται να HTTPS μόνο και κυκλοφορία HTTP θα αποκλειστούν.

####<a name="definition-of-a-shared-access-signature"></a>Ορισμός της υπογραφής κοινόχρηστη πρόσβαση

Μια υπογραφή πρόσβασης σε κοινή χρήση είναι ένα σύνολο παράμετροι ερωτήματος προσαρτημένο στη διεύθυνση URL που οδηγεί στο τον πόρο

η οποία παρέχει πληροφορίες σχετικά με την πρόσβαση επιτρέπεται και το χρονικό διάστημα για το οποίο επιτρέπεται η πρόσβαση. Ακολουθεί ένα παράδειγμα; σε αυτό το URI παρέχει πρόσβαση για ανάγνωση σε ένα αντικείμενο blob για πέντε λεπτά. Σημείωση που συσχετισμών Ασφαλείας παράμετροι ερωτήματος πρέπει να είναι κωδικοποίηση URL, όπως % 3α για άνω και κάτω τελεία (:) ή % 20 για ένα κενό διάστημα.

    http://mystorage.blob.core.windows.net/mycontainer/myblob.txt (URL to the blob)
    ?sv=2015-04-05 (storage service version)
    &st=2015-12-10T22%3A18%3A26Z (start time, in UTC time and URL encoded)
    &se=2015-12-10T22%3A23%3A26Z (end time, in UTC time and URL encoded)
    &sr=b (resource is a blob)
    &sp=r (read access)
    &sip=168.1.5.60-168.1.5.70 (requests can only come from this range of IP addresses)
    &spr=https (only allow HTTPS requests)
    &sig=Z%2FRHIX5Xcg0Mq2rqI3OlWTjEg2tYkboXr1P9ZUXDtkk%3D (signature used for the authentication of the SAS)

####<a name="how-the-shared-access-signature-is-authenticated-by-the-azure-storage-service"></a>Πώς η υπογραφή πρόσβασης σε κοινή χρήση έχει γίνει έλεγχος ταυτότητας από την υπηρεσία αποθήκευσης Azure

Όταν η υπηρεσία αποθήκευσης λαμβάνει την αίτηση, μεταφέρει τις παραμέτρους εισόδου ερωτήματος και δημιουργεί μια υπογραφή με χρήση της ίδιας μεθόδου με το πρόγραμμα κλήσης. Στη συνέχεια, συγκρίνει τις δύο υπογραφές. Εάν συμφωνούν, στη συνέχεια, την υπηρεσία αποθήκευσης να ελέγξετε την έκδοση υπηρεσίας χώρου αποθήκευσης για να βεβαιωθείτε ότι είναι έγκυρο, βεβαιωθείτε ότι η τρέχουσα ημερομηνία και ώρα είναι εντός το καθορισμένο παράθυρο, βεβαιωθείτε ότι η πρόσβαση που ζητήθηκε αντιστοιχεί την αίτηση, κ.λπ.

Για παράδειγμα, με διεύθυνση URL μας παραπάνω, εάν που δείχνει τη διεύθυνση URL σε ένα αρχείο αντί για ένα blob, αυτή η αίτηση θα αποτύχει επειδή καθορίζει ότι η υπογραφή πρόσβασης σε κοινή χρήση είναι για ένα blob. Εάν η εντολή ΥΠΌΛΟΙΠΟ που ονομάζεται ήταν για να ενημερώσετε ένα blob, αυτό θα αποτύχει, επειδή η υπογραφή πρόσβασης σε κοινή χρήση Καθορίζει ότι επιτρέπεται μόνο πρόσβαση για ανάγνωση.

####<a name="types-of-shared-access-signatures"></a>Τύποι κοινόχρηστη πρόσβαση υπογραφών

-   Μια υπηρεσία επιπέδου συσχετισμών Ασφαλείας μπορεί να χρησιμοποιηθεί για πρόσβαση σε συγκεκριμένη πόρων σε ένα λογαριασμό του χώρου αποθήκευσης. Ορισμένα παραδείγματα αυτό ανακτάτε μια λίστα με αντικείμενα BLOB σε ένα κοντέινερ, τη λήψη ενός blob, ενημέρωση μια οντότητα σε έναν πίνακα, η προσθήκη μηνυμάτων σε μια ουρά ή αποστολή ενός αρχείου σε ένα κοινόχρηστο αρχείο.

-   Ένα λογαριασμό επιπέδου συσχετισμών Ασφαλείας μπορεί να χρησιμοποιηθεί για πρόσβαση σε όλα τα στοιχεία που μπορεί να χρησιμοποιηθεί ένα επίπεδο εξυπηρέτησης συσχετισμών Ασφαλείας για. Επιπλέον, το να δώσετε επιλογές για τους πόρους που δεν επιτρέπονται με μια υπηρεσία επιπέδου συσχετισμούς Ασφαλείας, όπως τη δυνατότητα να δημιουργήσουν κοντέινερ, πίνακες, ουρές και κοινόχρηστα στοιχεία αρχείων. Μπορείτε, επίσης, να καθορίσετε πρόσβαση σε πολλές υπηρεσίες ταυτόχρονα. Για παράδειγμα, μπορείτε ίσως να δώσετε κάποιος να αποκτήσει πρόσβαση σε αντικείμενα BLOB και αρχεία στο λογαριασμό σας στο χώρο αποθήκευσης.

####<a name="creating-an-sas-uri"></a>Δημιουργία ενός URI συσχετισμών Ασφαλείας

1.  Μπορείτε να δημιουργήσετε ένα ad hoc URI κατ ' απαίτηση, τον ορισμό όλες τις παραμέτρους ερωτήματος κάθε φορά.

    Αυτό είναι πολύ ευέλικτες, αλλά εάν έχετε ένα σύνολο λογικές παράμετροι που είναι παρόμοιες κάθε φορά, χρησιμοποιώντας μια πολιτική πρόσβασης είναι αποθηκευμένα είναι μια καλύτερη ιδέα.

2.  Μπορείτε να δημιουργήσετε μια πολιτική πρόσβασης αποθηκεύονται για μια ολόκληρη κοντέινερ, κοινή χρήση αρχείων, πίνακας ή ουρά. Στη συνέχεια, μπορείτε να χρησιμοποιήσετε αυτό, που ως βάση για το URIs συσχετισμών Ασφαλείας που δημιουργείτε. Δικαιώματα που βασίζονται σε αποθηκευμένα πολιτικές πρόσβασης μπορεί να ανακληθεί εύκολα. Μπορείτε να έχετε έως και 5 οριστεί πολιτικές σε κάθε κοντέινερ, ουρά, πίνακας ή κοινή χρήση αρχείων.

    Για παράδειγμα, εάν πρόκειται να έχει πολλά άτομα Διαβάστε τα αντικείμενα BLOB σε ένα συγκεκριμένο κοντέινερ, ενδέχεται να μπορείτε να δημιουργήσετε μια πολιτική πρόσβασης είναι αποθηκευμένα που αναφέρει ότι "δώσετε πρόσβαση για ανάγνωση" και οποιεσδήποτε άλλες ρυθμίσεις που θα είναι τα ίδια κάθε φορά. Στη συνέχεια, μπορείτε να δημιουργήσετε ένα URI συσχετισμών Ασφαλείας χρησιμοποιώντας τις ρυθμίσεις της πολιτικής πρόσβασης είναι αποθηκευμένα και που καθορίζει την ημερομηνία/ώρα λήξης. Το πλεονέκτημα αυτής είναι ότι δεν χρειάζεται να καθορίσετε όλες τις παραμέτρους ερωτήματος κάθε φορά.

####<a name="revocation"></a>Ανάκλησης

Ας υποθέσουμε ότι έχει παραβιαστεί σας συσχετισμών Ασφαλείας ή θέλετε να την αλλάξετε λόγω ασφάλεια της εταιρείας ή ρυθμιστικές απαιτήσεις. Πώς μπορείτε να ανακαλέσετε την πρόσβαση σε έναν πόρο με συγκεκριμένο συσχετισμών Ασφαλείας; Εξαρτάται από τον τρόπο δημιουργίας του URI συσχετισμών Ασφαλείας.

Εάν χρησιμοποιείτε ad hoc URI, έχετε τρεις επιλογές. Μπορείτε να εκδώσετε διακριτικά συσχετισμών Ασφαλείας με τις πολιτικές λήξης σύντομο και απλώς περιμένετε για τους συσχετισμούς Ασφαλείας ώστε να μην λήγει. Μπορείτε να μετονομάσετε ή να διαγράψετε τον πόρο (υπό την προϋπόθεση ότι το διακριτικό ήταν στοχεύουν σε ένα αντικείμενο). Μπορείτε να αλλάξετε τα πλήκτρα για το λογαριασμό χώρου αποθήκευσης. Αυτή η επιλογή τελευταία μπορούν να έχουν ένα μεγάλο επίδραση, ανάλογα με τις υπηρεσίες πόσες χρησιμοποιούν αυτόν το λογαριασμό χώρου αποθήκευσης, και πιθανώς δεν είναι κάτι το οποίο θέλετε να κάνετε χωρίς κάποιο σχεδιασμό.

Εάν χρησιμοποιείτε μια συσχετισμών Ασφαλείας που προέρχονται από μια πολιτική πρόσβασης είναι αποθηκευμένα, μπορείτε να καταργήσετε access ανάκληση την πολιτική πρόσβασης είναι αποθηκευμένα-απλώς μπορείτε να την αλλάξετε, ώστε να έχει ήδη λήξει ή μπορείτε να την καταργήσετε εντελώς. Αυτή η τίθεται σε ισχύ αμέσως και ακυρώνει κάθε συσχετισμών Ασφαλείας που δημιουργήθηκαν χρησιμοποιεί αυτήν την πολιτική πρόσβασης είναι αποθηκευμένα. Ενημέρωση ή κατάργηση την πολιτική πρόσβασης είναι αποθηκευμένο πίνακα επίδραση χρήστες πρόσβαση σε αυτό το συγκεκριμένο κοντέινερ, κοινή χρήση αρχείων, ίσως ή ουρά μέσω συσχετισμών Ασφαλείας, αλλά εάν έχουν εγγραφεί οι υπολογιστές-πελάτες, ώστε να που ζητούν μια νέα συσχετισμών Ασφαλείας, όταν το παλαιό γίνεται δεν είναι έγκυρο, αυτό θα λειτουργεί κανονικά.

Επειδή το χρησιμοποιώντας μια συσχετισμών Ασφαλείας που προέρχονται από μια πολιτική πρόσβασης είναι αποθηκευμένα σας δίνει τη δυνατότητα να ανακαλέσετε που συσχετισμών Ασφαλείας αμέσως, είναι το προτεινόμενο βέλτιστη πρακτική να χρησιμοποιείται πάντα πολιτικές πρόσβασης είναι αποθηκευμένα όταν είναι δυνατό.

####<a name="resources"></a>Πόροι

Για πιο λεπτομερείς πληροφορίες σχετικά με τη χρήση υπογραφές Access θέσει σε κοινή χρήση και είναι αποθηκευμένο πολιτικές πρόσβασης, μαζί με παραδείγματα, ανατρέξτε στα ακόλουθα άρθρα:

-   Αυτά είναι τα άρθρα αναφοράς.

    -   [Υπηρεσία συσχετισμών Ασφαλείας](https://msdn.microsoft.com/library/dn140256.aspx)

        Σε αυτό το άρθρο παρέχει παραδείγματα σχετικά με τη χρήση μιας υπηρεσίας επιπέδου συσχετισμών Ασφαλείας με αντικείμενα blob, μηνύματα ουράς, περιοχές πίνακα και αρχείων.

    -   [Η κατασκευή υπηρεσίας συσχετισμών Ασφαλείας](https://msdn.microsoft.com/library/dn140255.aspx)

    -   [Η κατασκευή ενός λογαριασμού συσχετισμών Ασφαλείας](https://msdn.microsoft.com/library/mt584140.aspx)

-   Αυτά είναι τα προγράμματα εκμάθησης για χρήση της βιβλιοθήκης του προγράμματος-πελάτη .NET για τη δημιουργία υπογραφών πρόσβασης σε κοινή χρήση και είναι αποθηκευμένο πολιτικές πρόσβασης.

    -   [Χρήση υπογραφών κοινόχρηστη πρόσβαση (συσχετισμών Ασφαλείας)](storage-dotnet-shared-access-signature-part-1.md)

    -   [Κοινή χρήση υπογραφών Access, μέρος 2: Δημιουργία και χρήση ενός συσχετισμών Ασφαλείας με την υπηρεσία Blob](storage-dotnet-shared-access-signature-part-2.md)

        Αυτό το άρθρο περιλαμβάνει μια επεξήγηση του μοντέλου συσχετισμών Ασφαλείας, παραδείγματα θέσει σε κοινή χρήση υπογραφών πρόσβαση και χρήση συστάσεις για τη βέλτιστη πρακτική των συσχετισμών Ασφαλείας. Επίσης εξετάζεται την ανάκληση του το δικαίωμα έχει εκχωρηθεί.

-   Περιορισμός πρόσβασης από τη διεύθυνση IP (IP ACL)

    -   [Τι είναι ένα τελικό σημείο λίστα ελέγχου πρόσβασης (ACL);](../virtual-network/virtual-networks-acl.md)

    -   [Η κατασκευή υπηρεσίας συσχετισμών Ασφαλείας](https://msdn.microsoft.com/library/azure/dn140255.aspx)

        Αυτό είναι το κατάλληλο άρθρο αναφοράς για συσχετισμούς Ασφαλείας της υπηρεσίας επιπέδου; περιλαμβάνει ένα παράδειγμα του ACLing διευθύνσεων IP.

    -   [Η κατασκευή ενός λογαριασμού συσχετισμών Ασφαλείας](https://msdn.microsoft.com/library/azure/mt584140.aspx)

        Αυτό είναι το κατάλληλο άρθρο αναφοράς για το λογαριασμό επιπέδου συσχετισμούς Ασφαλείας; περιλαμβάνει ένα παράδειγμα του ACLing διευθύνσεων IP.

-   Έλεγχος ταυτότητας

    -    [Έλεγχος ταυτότητας για τις υπηρεσίες του Azure χώρου αποθήκευσης](https://msdn.microsoft.com/library/azure/dd179428.aspx)

-   Κοινή χρήση υπογραφών πρόσβαση γρήγορα αποτελέσματα προγραμμάτων εκμάθησης

    -   [Γρήγορα αποτελέσματα προγραμμάτων εκμάθησης συσχετισμών Ασφαλείας](https://github.com/Azure-Samples/storage-dotnet-sas-getting-started)

##<a name="encryption-in-transit"></a>Κρυπτογράφηση κατά τη μεταφορά

###<a name="transport-level-encryption--using-https"></a>Κρυπτογράφηση επιπέδου μεταφοράς – με χρήση HTTPS

Ένα άλλο βήμα, θα πρέπει να κάνετε για να βεβαιωθείτε ότι η ασφάλεια των δεδομένων σας χώρο αποθήκευσης Azure είναι για την κρυπτογράφηση των δεδομένων μεταξύ του προγράμματος-πελάτη και αποθήκευσης Azure. Η πρώτη σύσταση είναι να χρησιμοποιείται πάντα το πρωτόκολλο [HTTPS](https://en.wikipedia.org/wiki/HTTPS) , το οποίο εξασφαλίζει ότι ασφαλής επικοινωνία μέσω του δημόσιου Internet.

Θα πρέπει να χρησιμοποιείτε πάντα HTTPS κατά την κλήση του REST API ή την πρόσβαση σε αντικείμενα στο χώρο αποθήκευσης. Επίσης, **Κοινή χρήση υπογραφών Access**, οι οποίες μπορούν να χρησιμοποιηθούν για δικαίωμα πρόσβασης πληρεξούσιου στο χώρο αποθήκευσης Azure αντικείμενα, συμπεριλάβετε μια επιλογή για να καθορίσετε ότι μόνο το πρωτόκολλο HTTPS μπορούν να χρησιμοποιηθούν κατά τη χρήση υπογραφές Access θέσει σε κοινή χρήση, εξασφαλίζοντας ότι οποιοσδήποτε αποστολή συνδέσεις με διακριτικά συσχετισμών Ασφαλείας θα χρησιμοποιεί το πρωτόκολλο proper.

####<a name="resources"></a>Πόροι

-   [Ενεργοποίηση HTTPS για μια εφαρμογή στο Azure εφαρμογής υπηρεσίας](../app-service-web/web-sites-configure-ssl-certificate.md)

    Αυτό το άρθρο σας δείχνει πώς μπορείτε να ενεργοποιήσετε HTTPS για μια εφαρμογή Web Azure.

###<a name="using-encryption-during-transit-with-azure-file-shares"></a>Χρήση της κρυπτογράφησης κατά τη μεταφορά με κοινόχρηστα στοιχεία αρχείων Azure

Azure χώρο αποθήκευσης αρχείων υποστηρίζει HTTPS όταν χρησιμοποιείτε το REST API, αλλά περισσότερα χρησιμοποιείται συνήθως ως ένα κοινόχρηστο αρχείο Ερωτήσεων συνδέεται με μια Εικονική. 2.1 Ερωτήσεων δεν υποστηρίζει κρυπτογράφηση, ώστε να επιτρέπονται μόνο οι συνδέσεις μέσα στην ίδια περιοχή στο Azure. Ωστόσο, Ερωτήσεων 3.0 υποστηρίζει κρυπτογράφηση, και μπορούν να χρησιμοποιηθούν με Windows Server 2012 R2, Windows 8, Windows 8.1 και Windows 10, επιτρέποντάς σταυρό περιοχή πρόσβαση και πρόσβαση στην επιφάνεια εργασίας ακόμα.

Σημειώστε ότι ενώ Azure κοινόχρηστα στοιχεία αρχείων μπορούν να χρησιμοποιηθούν με Unix, το πρόγραμμα-πελάτη Linux Ερωτήσεων δεν ακόμη υποστηρίζει κρυπτογράφηση, ώστε να επιτρέπεται μόνο η πρόσβαση σε μια περιοχή Azure. Υποστήριξη κρυπτογράφησης Linux είναι σε ο χάρτης Linux προγραμματιστών υπεύθυνοι για λειτουργίες Ερωτήσεων. Κατά την προσθήκη κρυπτογράφησης, θα έχετε τη δυνατότητα ίδια για την πρόσβαση σε ένα κοινόχρηστο αρχείο Azure σε Linux όπως θα κάνατε για Windows.

####<a name="resources"></a>Πόροι

-   [Πώς να χρησιμοποιείτε το χώρο αποθήκευσης αρχείων Azure με Linux](storage-how-to-use-files-linux.md)

    Σε αυτό το άρθρο παρουσιάζει πώς μπορείτε να τοποθετήσετε ένα κοινόχρηστο αρχείο Azure σε ένα σύστημα Linux και αποστολή/λήψη αρχείων.

-   [Γρήγορα αποτελέσματα με το χώρο αποθήκευσης αρχείων Azure στα Windows](storage-dotnet-how-to-use-files.md)

    Σε αυτό το άρθρο παρέχει μια επισκόπηση των κοινόχρηστων αρχείων Azure και τον τρόπο ενεργοποίησης και χρήσης τους με χρήση του PowerShell και .NET.

-   [Αποθήκευση αρχείων εσωτερικά Azure](https://azure.microsoft.com/blog/inside-azure-file-storage/)

    Σε αυτό το άρθρο ανακοινώνει το γενικής διαθεσιμότητας του χώρου αποθήκευσης αρχείων Azure και παρέχει τεχνικές λεπτομέρειες σχετικά με την κρυπτογράφηση 3.0 Ερωτήσεων.

###<a name="using-client-side-encryption-to-secure-data-that-you-send-to-storage"></a>Χρήση της κρυπτογράφησης πλευρά του προγράμματος-πελάτη για την ασφάλιση δεδομένων που έχετε στείλει με το χώρο αποθήκευσης

Μια άλλη επιλογή που σας βοηθά να εξασφαλίσετε ότι τα δεδομένα σας είναι ασφαλής κατά τη μεταφορά ανάμεσα σε μια εφαρμογή προγράμματος-πελάτη και χώρου αποθήκευσης είναι κρυπτογράφησης πλευρά του προγράμματος-πελάτη. Τα δεδομένα είναι κρυπτογραφημένα πριν να μεταφερθεί στο χώρο αποθήκευσης Azure. Κατά την ανάκτηση των δεδομένων από το χώρο αποθήκευσης Azure, τα δεδομένα είναι αποκρυπτογράφηση μετά τη λήψη στην πλευρά του προγράμματος-πελάτη. Παρόλο που τα δεδομένα είναι κρυπτογραφημένα μεταβαίνοντας σε σύρματος, συνιστάμε να χρησιμοποιήσετε επίσης HTTPS, όπως έχει ελέγχων ακεραιότητας δεδομένων ενσωματωμένη της Βοήθειας που συμβάλει στην αντιμετώπιση σφαλμάτων δικτύου που επηρεάζουν την ακεραιότητα των δεδομένων.

Κρυπτογράφηση πλευρά του προγράμματος-πελάτη είναι επίσης μια μέθοδο για την κρυπτογράφηση των δεδομένων σας στο υπόλοιπο, όπως τα δεδομένα αποθηκεύονται στην κρυπτογραφημένη μορφή. Θα αναφερθούμε αυτό με περισσότερες λεπτομέρειες, στην ενότητα σχετικά με την [κρυπτογράφηση στο υπόλοιπο](#encryption-at-rest).

##<a name="encryption-at-rest"></a>Κρυπτογράφηση στο υπόλοιπο

Υπάρχουν τρεις Azure δυνατοτήτων που παρέχουν κρυπτογράφησης στο υπόλοιπο. Azure δίσκου κρυπτογράφησης χρησιμοποιείται για την κρυπτογράφηση των δίσκων λειτουργικό σύστημα και τα δεδομένα στο IaaS εικονικές μηχανές. Οι άλλες δύο – κρυπτογράφησης πλευρά του προγράμματος-πελάτη και SSE – είναι και τα δύο χρησιμοποιείται για την κρυπτογράφηση των δεδομένων στο χώρο αποθήκευσης Azure. Ας δούμε κάθε ένα από αυτά, και, στη συνέχεια, κάντε μια σύγκριση και δείτε πότε μπορεί να χρησιμοποιηθεί κάθε μία.

Ενώ μπορείτε να χρησιμοποιήσετε κρυπτογράφηση πλευρά του προγράμματος-πελάτη για την κρυπτογράφηση των δεδομένων κατά τη μεταφορά (το οποίο αποθηκεύεται στην κρυπτογραφημένη μορφή στο χώρο αποθήκευσης), ίσως προτιμάτε να απλώς χρησιμοποιήστε HTTPS κατά τη μεταφορά και έχετε κάποιο τρόπο για τα δεδομένα που είναι κρυπτογραφημένα αυτόματα κατά την αποθήκευσή τους. Υπάρχουν δύο τρόποι για να κάνετε το εξής--κρυπτογράφηση δίσκου Azure και SSE. Ένα χρησιμοποιείται για την κρυπτογράφηση απευθείας τα δεδομένα δίσκων λειτουργικό σύστημα και τα δεδομένα που χρησιμοποιούνται από ΣΠΣ και το άλλο χρησιμοποιείται για την κρυπτογράφηση των δεδομένων που έχουν εγγραφεί στο χώρο αποθήκευσης Blob του Azure.

###<a name="storage-service-encryption-sse"></a>Κρυπτογράφηση της υπηρεσίας χώρου αποθήκευσης (SSE)

SSE σάς επιτρέπει να ζητήσετε την υπηρεσία αποθήκευσης να κρυπτογραφήσετε αυτόματα τα δεδομένα κατά την εγγραφή αποθήκευσης Azure. Κατά την ανάγνωση δεδομένων από το χώρο αποθήκευσης Azure, θα αποκρυπτογράφηση από την υπηρεσία αποθήκευσης πριν από την επιστροφή. Αυτό σας επιτρέπει να προστασία των δεδομένων σας χωρίς να χρειάζεται να τροποποιήσετε κώδικα ή να προσθέσετε κώδικα σε όλες τις εφαρμογές.

Αυτή είναι μια ρύθμιση που ισχύει για το λογαριασμό ολόκληρη χώρου αποθήκευσης. Μπορείτε να ενεργοποιήσετε και να απενεργοποιήσετε αυτήν τη δυνατότητα, αλλάζοντας την τιμή της ρύθμισης. Για να το κάνετε αυτό, μπορείτε να χρησιμοποιήσετε την πύλη του Azure, PowerShell, την CLI Azure, το χώρο αποθήκευσης πόρων παροχής REST API ή τη βιβλιοθήκη .NET αποθήκευσης προγράμματος-πελάτη. Από προεπιλογή, SSE είναι απενεργοποιημένος.

Αυτήν τη στιγμή, τα πλήκτρα που χρησιμοποιούνται για την κρυπτογράφηση πραγματοποιείται από τη Microsoft. Εργαζόμαστε δημιουργία των κλειδιών αρχικά και διαχείριση της ασφαλούς αποθήκευσης των πλήκτρων, καθώς και την κανονική περιστροφή όπως ορίζεται από την εσωτερική πολιτική της Microsoft. Στο μέλλον, θα λάβετε τη δυνατότητα να διαχειρίζεστε τις δικές σας κλειδιών κρυπτογράφησης και δώστε τη διαδρομή μετεγκατάστασης από το Microsoft Διαχείριση πλήκτρα για Διαχείριση πελατών πλήκτρα.

Αυτή η δυνατότητα είναι διαθέσιμη για λογαριασμούς τυπική και Premium χώρου αποθήκευσης που δημιουργούνται με χρήση του μοντέλου ανάπτυξης διαχείρισης πόρων. SSE ισχύει μόνο για αποκλεισμός αντικείμενα blob, αντικείμενα BLOB σελίδας, και να προσαρτήσετε αντικείμενα blob. Τους άλλους τύπους δεδομένων, συμπεριλαμβανομένων των πινάκων, ουρές και αρχεία, δεν θα είναι κρυπτογραφημένο.

Τα δεδομένα είναι κρυπτογραφημένα μόνο όταν είναι ενεργοποιημένη SSE και τα δεδομένα είναι γραμμένο με το χώρο αποθήκευσης αντικειμένων Blob. Ενεργοποίηση ή απενεργοποίηση SSE δεν επηρεάζει τα υπάρχοντα δεδομένα. Με άλλα λόγια, όταν ενεργοποιείτε αυτή η κρυπτογράφηση, θα δεν μετάβαση προς τα πίσω και κρυπτογράφηση δεδομένων που ήδη υπάρχει. ούτε θα αποκρυπτογραφήσει τα δεδομένα που υπάρχει ήδη όταν απενεργοποιείτε SSE.

Εάν θέλετε να χρησιμοποιήσετε αυτήν τη δυνατότητα με ένα λογαριασμό του χώρου αποθήκευσης κλασική, μπορείτε να δημιουργήσετε ένα νέο λογαριασμό χώρου αποθήκευσης για τη διαχείριση πόρων και να χρησιμοποιήσετε AzCopy για να αντιγράψετε τα δεδομένα του νέου λογαριασμού. 

###<a name="client-side-encryption"></a>Κρυπτογράφηση πλευρά του προγράμματος-πελάτη

Αναφέρθηκε κρυπτογράφησης πλευρά του προγράμματος-πελάτη όταν γίνεται λόγος για την κρυπτογράφηση των δεδομένων κατά τη μεταφορά. Αυτή η δυνατότητα σάς επιτρέπει να μέσω προγραμματισμού κρυπτογράφηση των δεδομένων σας σε μια εφαρμογή προγράμματος-πελάτη πριν να το στείλετε σε σύρματος για εγγραφή στο χώρο αποθήκευσης Azure και να αποκρυπτογραφήσετε μέσω προγραμματισμού τα δεδομένα σας μετά την ανάκτησή τους από το χώρο αποθήκευσης Azure.

Αυτό παρέχει κρυπτογράφησης κατά τη μεταφορά, αλλά παρέχει επίσης τη δυνατότητα κρυπτογράφησης στο υπόλοιπο. Σημειώστε ότι παρόλο που τα δεδομένα είναι κρυπτογραφημένα κατά τη μεταφορά, εξακολουθεί να συνιστάται να χρησιμοποιείτε HTTPS για να επωφεληθείτε από την ακεραιότητα δεδομένων ενσωματωμένη ελέγχει της Βοήθειας που συμβάλει στην αντιμετώπιση σφαλμάτων δικτύου που επηρεάζουν την ακεραιότητα των δεδομένων.

Ένα παράδειγμα του όπου μπορείτε να χρησιμοποιήσετε αυτό είναι εάν έχετε μια εφαρμογή web που αποθηκεύει αντικείμενα BLOB και ανακτά αντικείμενα BLOB και θέλετε τα εφαρμογής και τα δεδομένα να είναι όσο το δυνατόν πιο ασφαλή. Σε αυτή την περίπτωση, μπορείτε να χρησιμοποιήσετε κρυπτογράφηση πλευρά του προγράμματος-πελάτη. Η κίνηση μεταξύ του προγράμματος-πελάτη και της υπηρεσίας αντικειμένων Blob του Azure περιλαμβάνει τον κρυπτογραφημένο πόρο και κανείς δεν μπορεί να ερμηνεύσετε τα δεδομένα κατά τη μεταφορά και να αποκαταστήσουν αυτό σε σας ιδιωτικό αντικείμενα blob.

Κρυπτογράφηση πλευρά του προγράμματος-πελάτη είναι ενσωματωμένο στο Java της και το πρόγραμμα-πελάτη αποθήκευσης .NET βιβλιοθήκες, οι οποίες με τη σειρά, χρησιμοποιήστε το Azure κλειδί θάλαμο API, διευκολύνοντας τη αρκετά για να υλοποιήσετε. Η διαδικασία κρυπτογράφηση και αποκρυπτογράφηση δεδομένων χρησιμοποιεί την τεχνική φακέλου και αποθηκεύει μετα-δεδομένων που χρησιμοποιούνται από την κρυπτογράφηση σε κάθε αντικείμενο χώρου αποθήκευσης. Για παράδειγμα, για αντικείμενα blob, αυτό αποθηκεύει σε τα μετα-δεδομένα blob, ενώ για ουρές, προσθέτει το σε κάθε μήνυμα ουράς.

Για την κρυπτογράφηση ίδια, μπορείτε να δημιουργήσετε και να διαχειριστείτε τις δικές σας κλειδιών κρυπτογράφησης. Μπορείτε επίσης να χρησιμοποιήσετε κλειδιά που δημιουργήθηκαν από τη βιβλιοθήκη Azure χώρου αποθήκευσης του προγράμματος-πελάτη, ή μπορείτε να ορίσετε το θάλαμο κλειδί Azure δημιουργία των κλειδιών. Μπορείτε να αποθηκεύσετε των κλειδιών κρυπτογράφησης του κλειδιού χώρου αποθήκευσης στην εσωτερική εγκατάσταση ή μπορείτε να τις αποθηκεύσετε σε ένα θάλαμο κλειδί Azure. Azure θάλαμο κλειδί σάς επιτρέπει να εκχωρήσετε πρόσβαση σε το απόρρητο στο θάλαμο κλειδί Azure σε συγκεκριμένους χρήστες χρησιμοποιώντας Azure Active Directory. Αυτό σημαίνει ότι όχι μόνο οποιοσδήποτε μπορεί να διαβάσει το Azure θάλαμο αριθμού-κλειδιού και να ανακτήσετε τα πλήκτρα που χρησιμοποιείτε για την κρυπτογράφηση πλευρά του προγράμματος-πελάτη.

####<a name="resources"></a>Πόροι

-   [Κρυπτογράφηση και αποκρυπτογράφηση αντικείμενα blob στο χώρο αποθήκευσης Microsoft Azure χρησιμοποιώντας θάλαμο κλειδί Azure](storage-encrypt-decrypt-blobs-key-vault.md)

    Σε αυτό το άρθρο δείχνει πώς μπορείτε να χρησιμοποιήσετε κρυπτογράφηση πλευρά του προγράμματος-πελάτη με θάλαμο κλειδί Azure, συμπεριλαμβανομένου του τρόπου για να δημιουργήσετε το KEK και αποθηκεύστε το στο τη χρήση του PowerShell θάλαμο.

-   [Κρυπτογράφηση πλευρά του προγράμματος-πελάτη και Azure θάλαμο κλειδιού για το χώρο αποθήκευσης Azure](storage-client-side-encryption.md)

    Σε αυτό το άρθρο παρέχει μια επεξήγηση κρυπτογράφησης πλευρά του προγράμματος-πελάτη και παρέχει παραδείγματα σχετικά με τη χρήση της βιβλιοθήκης προγράμματος-πελάτη του χώρου αποθήκευσης για την κρυπτογράφηση και αποκρυπτογράφηση πόρους από τις τέσσερις υπηρεσίες αποθήκευσης. Ακρόασης σχετικά με το Azure κλειδί θάλαμο.

###<a name="using-azure-disk-encryption-to-encrypt-disks-used-by-your-virtual-machines"></a>Χρήση της κρυπτογράφησης δίσκο Azure για την κρυπτογράφηση των δίσκων που χρησιμοποιούνται από τις εικονικές μηχανές

Azure δίσκου κρυπτογράφησης είναι μια νέα δυνατότητα που είναι αποθηκευμένα σε προεπισκόπηση. Αυτή η δυνατότητα σάς επιτρέπει να κρυπτογραφήσετε το δίσκων λειτουργικό σύστημα και δίσκων δεδομένων που χρησιμοποιείται από ένα IaaS εικονική μηχανή. Για Windows, τις μονάδες δίσκου είναι κρυπτογραφημένη χρησιμοποιώντας την τεχνολογία κρυπτογράφησης BitLocker βιομηχανικών προτύπων. Για Linux, των δίσκων είναι κρυπτογραφημένη χρησιμοποιώντας την τεχνολογία DM κρυπτογραφημένου. Αυτό είναι ενσωματωμένο με το Azure θάλαμο αριθμού-κλειδιού για να σας επιτρέπει να ελέγχετε και να διαχειριστείτε τα κλειδιά κρυπτογράφησης δίσκο.

Η λύση κρυπτογράφησης δίσκου Azure υποστηρίζει τα ακόλουθα σενάρια κρυπτογράφησης τρεις πελάτη:

-   Ενεργοποιήστε την κρυπτογράφηση στη νέα IaaS ΣΠΣ δημιουργούνται από αρχεία VHD που είναι κρυπτογραφημένα πελατών και που παρέχονται κλειδιά, τα οποία είναι αποθηκευμένα σε Azure κλειδί θάλαμο.

-   Ενεργοποιήστε την κρυπτογράφηση στη νέα ΣΠΣ IaaS που δημιουργήθηκε από το Azure Marketplace.

-   Ενεργοποιήστε την κρυπτογράφηση στην υπάρχουσα IaaS ΣΠΣ εκτελείται ήδη στο Azure.

>[AZURE.NOTE] Για ΣΠΣ Linux εκτελείται ήδη στο Azure ή νέα Linux ΣΠΣ δημιουργήθηκε από τις εικόνες από το Azure Marketplace, κρυπτογράφησης του δίσκου λειτουργικού Συστήματος δεν υποστηρίζεται αυτήν τη στιγμή. Η κρυπτογράφηση του τόμου OS για ΣΠΣ Linux υποστηρίζεται μόνο για ΣΠΣ που έχουν κρυπτογραφημένο εσωτερικής εγκατάστασης και αποστολή του σε Azure. Αυτός ο περιορισμός ισχύει μόνο για το λειτουργικό σύστημα δίσκο. κρυπτογράφηση των όγκους δεδομένων για μια Εικονική Linux υποστηρίζεται.

Η λύση υποστηρίζει τα εξής για IaaS ΣΠΣ για δημόσια preview όταν ενεργοποιημένες στο Microsoft Azure:

-   Ενοποίηση με το Azure θάλαμο κλειδιού

-   Τυπική [A, D και ΣΠΣ IaaS σειρά G](https://azure.microsoft.com/pricing/details/virtual-machines/)

-   Ενεργοποίηση κρυπτογράφηση από ΣΠΣ IaaS που δημιουργούνται με χρήση μοντέλου [Από διαχειριστή πόρων Azure](../azure-resource-manager/resource-group-overview.md)

-   Όλα Azure δημόσια [περιοχές](https://azure.microsoft.com/regions/)

Αυτή η δυνατότητα εξασφαλίζει ότι όλα τα δεδομένα σε δίσκων σας εικονική μηχανή είναι κρυπτογραφημένο στο υπόλοιπο στο χώρο αποθήκευσης Azure.

####<a name="resources"></a>Πόροι

-   [Κρυπτογράφηση δίσκου Azure για Windows και Linux IaaS εικονικές μηχανές](https://gallery.technet.microsoft.com/Azure-Disk-Encryption-for-a0018eb0)

    Σε αυτό το άρθρο περιγράφεται η έκδοση preview Azure δίσκου κρυπτογράφησης και παρέχει μια σύνδεση για να κάνετε λήψη της λευκής βίβλου.

###<a name="comparison-of-azure-disk-encryption-sse-and-client-side-encryption"></a>Σύγκριση των Azure δίσκου κρυπτογράφησης, SSE και κρυπτογράφηση πλευρά του προγράμματος-πελάτη

####<a name="iaas-vms-and-their-vhd-files"></a>IaaS ΣΠΣ και τα αντίστοιχα αρχεία VHD

Για δίσκων που χρησιμοποιούνται από IaaS ΣΠΣ, συνιστάται να χρησιμοποιεί κρυπτογράφηση δίσκου Azure. Μπορείτε να ενεργοποιήσετε SSE για την κρυπτογράφηση των αρχείων VHD που χρησιμοποιούνται για να δημιουργήσετε αντίγραφα αυτών των δίσκων στο χώρο αποθήκευσης Azure, αλλά μόνο κρυπτογραφεί που μόλις χειρόγραφων δεδομένων. Αυτό σημαίνει ότι αν δημιουργήσετε μια Εικονική και, στη συνέχεια, ενεργοποίηση SSE στο λογαριασμό του χώρου αποθήκευσης που περιέχει το αρχείο VHD, μόνο οι αλλαγές θα είναι κρυπτογραφημένες, όχι το αρχικό αρχείο VHD.

Εάν δημιουργήσετε μια Εικονική χρησιμοποιώντας μια εικόνα από το Azure Marketplace, Azure εκτελεί [πρόσφατου αντίγραφο](https://en.wikipedia.org/wiki/Object_copying) της εικόνας για το λογαριασμό χώρου αποθήκευσης στο χώρο αποθήκευσης Azure και δεν είναι κρυπτογραφημένο ακόμα και αν έχετε ενεργοποιήσει SSE. Αφού δημιουργεί την εικονική Μηχανή και ξεκινά η ενημέρωση της εικόνας, SSE θα ξεκινήσει η κρυπτογράφηση των δεδομένων. Για αυτόν το λόγο, είναι καλύτερα να χρησιμοποιήσετε κρυπτογράφηση δίσκου Azure σε ΣΠΣ που δημιουργήθηκε από τις εικόνες από το Azure Marketplace, εάν θέλετε τα πλήρως κρυπτογραφημένο.

Εάν μπορείτε να μεταφέρετε μια Εικονική προ-κρυπτογραφημένο στην Azure από εσωτερικής εγκατάστασης, θα μπορέσετε να στείλετε των κλειδιών κρυπτογράφησης σε θάλαμο κλειδί Azure και να συνεχίσετε να χρησιμοποιείτε την κρυπτογράφηση για συγκεκριμένη Εικονική χρησιμοποιούσατε εσωτερικής εγκατάστασης. Azure δίσκου κρυπτογράφησης είναι ενεργοποιημένη για το χειρισμό αυτό το σενάριο.

Εάν έχετε μη κρυπτογραφημένα VHD από εσωτερικής εγκατάστασης, μπορείτε να αποστείλετε το σε τη συλλογή ως μια προσαρμοσμένη εικόνα και να προμήθεια μια Εικονική από αυτό. Εάν το κάνετε αυτό χρησιμοποιώντας τα πρότυπα διαχείρισης πόρων, μπορείτε να υποβάλετε για να ενεργοποιήσετε την κρυπτογράφηση δίσκου Azure κατά την εκκίνηση του Εικονική.

Όταν προσθέτετε ένα δίσκο δεδομένων και το τοποθετήσετε σε η Εικονική, μπορείτε να ενεργοποιήσετε το Azure δίσκου κρυπτογράφηση αυτού του δίσκου δεδομένων. Αυτό θα κρυπτογράφηση τοπικά αυτού του δίσκου δεδομένων πρώτα και το επίπεδο διαχείρισης υπηρεσίας θα κάντε τεμπέλη εγγραφής έναντι χώρου αποθήκευσης, ώστε το περιεχόμενο του χώρου αποθήκευσης είναι κρυπτογραφημένο.

####<a name="client-side-encryption"></a>Κρυπτογράφηση πλευρά του προγράμματος-πελάτη####

Η κρυπτογράφηση πλευρά του προγράμματος-πελάτη είναι η πιο ασφαλής μέθοδος κρυπτογραφεί τα δεδομένα σας, επειδή κρυπτογραφεί πριν από τη μεταφορά και κρυπτογραφεί τα δεδομένα στο υπόλοιπο. Ωστόσο, το απαιτούν που μπορείτε να προσθέσετε κώδικα σε χώρο αποθήκευσης, οι οποίες δεν μπορεί να θέλετε να κάνετε με τις εφαρμογές σας. Σε αυτές τις περιπτώσεις, μπορείτε να χρησιμοποιήσετε HTTPs για τα δεδομένα σας στο τη μεταφορά και SSE για την κρυπτογράφηση των δεδομένων στο υπόλοιπο.

Με την πλευρά του προγράμματος-πελάτη κρυπτογράφηση, μπορείτε να κρυπτογραφήσετε οντοτήτων πίνακα, ουρά μηνυμάτων και αντικείμενα blob. Με SSE, μπορείτε να κρυπτογραφήσετε μόνο αντικείμενα blob. Εάν χρειάζεστε δεδομένα πίνακα και ουρά προς κρυπτογράφηση, πρέπει να χρησιμοποιήσετε κρυπτογράφηση πλευρά του προγράμματος-πελάτη.

Κρυπτογράφηση πλευρά του προγράμματος-πελάτη γίνεται εντελώς από την εφαρμογή. Αυτή είναι η πιο ασφαλής προσέγγιση, αλλά απαιτούν να κάνετε αλλαγές στην εφαρμογή και να τοποθετήσετε διαδικασίες διαχείρισης κλειδιών στη θέση. Μπορείτε να το χρησιμοποιήσετε όταν θέλετε η επιπλέον ασφάλεια κατά τη μεταφορά, και θέλετε να είναι κρυπτογραφημένο σας αποθηκευμένη δεδομένων.

Κρυπτογράφηση πλευρά του προγράμματος-πελάτη είναι περισσότερες φόρτωσης του υπολογιστή-πελάτη και πρέπει να υπόψη στα σχέδιά σας κλιμάκωση, ιδίως αν είστε κρυπτογράφηση και μεταφορά πολλά δεδομένα.

####<a name="storage-service-encryption-sse"></a>Κρυπτογράφηση της υπηρεσίας χώρου αποθήκευσης (SSE)

SSE γίνεται από χώρο αποθήκευσης Azure. Χρήση SSE δεν παρέχει για την ασφάλεια των δεδομένων κατά τη μεταφορά, αλλά την κρυπτογράφηση των δεδομένων που είναι γραμμένο με το χώρο αποθήκευσης Azure. Δεν υπάρχει καμία επίδραση στις επιδόσεις κατά τη χρήση αυτής της δυνατότητας.

Μπορείτε να μόνο κρυπτογράφηση αντικείμενα BLOB μπλοκ Προσάρτηση αντικείμενα BLOB και σελίδα αντικείμενα BLOB χρησιμοποιώντας SSE. Εάν χρειάζεστε για να κρυπτογραφήσετε δεδομένα πίνακα ή ουρά δεδομένων, θα πρέπει να χρησιμοποιεί κρυπτογράφηση πλευρά του προγράμματος-πελάτη.

Εάν έχετε μια αρχειοθήκη ή τη βιβλιοθήκη αρχείων VHD που μπορείτε να χρησιμοποιήσετε ως βάση για τη δημιουργία νέας εικονικές μηχανές, μπορείτε να δημιουργήσετε νέο λογαριασμό του χώρου αποθήκευσης, να ενεργοποιήσετε SSE και, στη συνέχεια, αποστείλετε τα αρχεία VHD με αυτόν το λογαριασμό. Αυτά τα αρχεία VHD θα κρυπτογραφούνται από χώρο αποθήκευσης Azure.

Εάν έχετε Azure δίσκο κρυπτογράφησης ενεργοποιηθεί για το δίσκων σε Εικονική και SSE με δυνατότητα στο λογαριασμό του χώρου αποθήκευσης κρατώντας πατημένο τα αρχεία VHD, θα λειτουργούν σωστά; Αυτό θα έχει ως αποτέλεσμα την εγγραφή που μόλις δεδομένα είναι κρυπτογραφημένα δύο φορές.

##<a name="storage-analytics"></a>Ανάλυση χώρου αποθήκευσης

###<a name="using-storage-analytics-to-monitor-authorization-type"></a>Χρήση χώρου αποθήκευσης ανάλυσης για την παρακολούθηση τύπου άδειας

Για κάθε λογαριασμό χώρου αποθήκευσης, μπορείτε να ενεργοποιήσετε Azure ανάλυση χώρου αποθήκευσης για να εκτελέσετε καταγραφή και αποθήκευση δεδομένων μετρήσεις. Αυτό είναι ένα εξαιρετικό εργαλείο για να χρησιμοποιήσετε όταν θέλετε να ελέγξετε το μετρικών απόδοσης ενός λογαριασμού χώρου αποθήκευσης ή για την αντιμετώπιση ενός λογαριασμού χώρου αποθήκευσης, επειδή αντιμετωπίζετε προβλήματα επιδόσεων.

Ένα άλλο τμήμα των δεδομένων που μπορείτε να δείτε στα αρχεία καταγραφής ανάλυσης χώρου αποθήκευσης είναι η μέθοδος ελέγχου ταυτότητας που χρησιμοποιείται από κάποιον κατά την πρόσβαση σε χώρο αποθήκευσης. Για παράδειγμα, με το χώρο αποθήκευσης αντικειμένων Blob, μπορείτε να δείτε εάν μπορούν να χρησιμοποιηθούν υπογραφής πρόσβασης σε κοινή χρήση ή τα πλήκτρα με το λογαριασμό χώρου αποθήκευσης, ή εάν το αντικείμενο blob προσβάσιμη ήταν δημόσια.

Αυτό μπορεί να είναι πολύ χρήσιμο εάν που πολύ κιγκλιδώματα πρόσβαση στο χώρο αποθήκευσης. Για παράδειγμα, στο χώρο αποθήκευσης αντικειμένων Blob μπορείτε ορίσετε όλα τα κοντέινερ σε ιδιωτικό και υλοποίηση τη χρήση μιας υπηρεσίας συσχετισμών Ασφαλείας σε όλο το τις εφαρμογές σας. Στη συνέχεια, μπορείτε να ελέγξετε τα αρχεία καταγραφής τακτικά, για να δείτε εάν σας αντικείμενα BLOB είναι προσβάσιμες χρησιμοποιώντας τα κλειδιά λογαριασμού χώρου αποθήκευσης, τα οποία μπορεί να δηλώσει παραβίαση της ασφάλειας, ή εάν τα αντικείμενα blob της είναι δημόσιες αλλά δεν θα πρέπει είναι.

####<a name="what-do-the-logs-look-like"></a>Τι είναι τα αρχεία καταγραφής;

Μετά την ενεργοποίηση των μετρικών αποθήκευσης λογαριασμού και καταγραφή μέσω της πύλης Azure, ανάλυση δεδομένων θα αρχίσει να συγκεντρώσουν τα γρήγορα. Η καταγραφή και μετρήσεις για κάθε υπηρεσία είναι ξεχωριστό; καταγραφή εγγράφεται μόνο όταν υπάρχει δραστηριότητα σε αυτόν το λογαριασμό χώρου αποθήκευσης, ενώ τα μετρικά θα καταγραφούν κάθε λεπτό, κάθε ώρα ή κάθε ημέρα, ανάλογα με το πώς να ρυθμίσετε τις παραμέτρους της.

Τα αρχεία καταγραφής αποθηκεύονται σε αντικείμενα BLOB μπλοκ σε ένα κοντέινερ που ονομάζεται $logs στο λογαριασμό χώρου αποθήκευσης. Αυτό το κοντέινερ δημιουργείται αυτόματα όταν είναι ενεργοποιημένη η ανάλυση χώρου αποθήκευσης. Αφού δημιουργηθεί αυτό το κοντέινερ, δεν μπορείτε να διαγράψετε, παρόλο που μπορείτε να διαγράψετε τα περιεχόμενά της.

Κάτω από το κοντέινερ $logs, υπάρχει ένας φάκελος για κάθε υπηρεσία και, στη συνέχεια, υπάρχουν υποφακέλους για το έτος/μήνα/ημέρα/ώρα. Στην περιοχή ώρα, αριθμούνται απλώς τα αρχεία καταγραφής. Αυτό είναι πώς θα μοιάζει η δομή καταλόγου:

![Προβολή των αρχείων καταγραφής](./media/storage-security-guide/image1.png)

Κάθε αίτηση για χώρο αποθήκευσης Azure έχει συνδεθεί. Ακολουθεί ένα στιγμιότυπο από ένα αρχείο καταγραφής, που εμφανίζει την πρώτη μερικά πεδία.

![Στιγμιότυπο ενός αρχείου καταγραφής](./media/storage-security-guide/image2.png)

Μπορείτε να δείτε ότι μπορείτε να χρησιμοποιήσετε τα αρχεία καταγραφής για να παρακολουθείτε οποιοδήποτε είδος των κλήσεων σε ένα λογαριασμό του χώρου αποθήκευσης.

####<a name="what-are-all-of-those-fields-for"></a>Τι είναι οι όλα αυτά τα πεδία για;

Υπάρχει ένα άρθρο που παρατίθενται στους πόρους κάτω από το στοιχείο που παρέχει μια λίστα από τα πολλά πεδία στο τα αρχεία καταγραφής και που χρησιμοποιούνται για. Ακολουθεί η λίστα πεδίων με τη σειρά:

![Στιγμιότυπο των πεδίων σε ένα αρχείο καταγραφής](./media/storage-security-guide/image3.png)

Είμαστε ενδιαφέρει τις καταχωρήσεις για GetBlob και πώς αυτές έχουν γίνει έλεγχος ταυτότητας, ώστε να πρέπει να ανατρέξετε για εγγραφές με τύπο λειτουργίας "Get-Blob" και ελέγξτε την κατάσταση αίτησης<sup>(4 στήλη)</sup> και τον τύπο άδειας<sup>(8 στήλη)</sup> .

Για παράδειγμα, στο πρώτες γραμμές στην καταχώρηση της παραπάνω, η πρόσκληση σε κατάσταση είναι "Επιτυχία" και τον τύπο άδειας "τον έλεγχο ταυτότητας". Αυτό σημαίνει ότι η αίτηση έχει επαληθευτεί χρησιμοποιώντας το κλειδί λογαριασμού χώρου αποθήκευσης.

####<a name="how-are-my-blobs-being-authenticated"></a>Πώς μου αντικείμενα BLOB που ελέγχονται;

Έχουμε τρεις περιπτώσεις που σας ενδιαφέρουν.

1.  Το αντικείμενο blob είναι δημόσια και γίνεται χρησιμοποιώντας μια διεύθυνση URL χωρίς υπογραφή πρόσβασης σε κοινή χρήση. Σε αυτήν την περίπτωση, η πρόσκληση σε κατάσταση είναι "AnonymousSuccess" και τον τύπο άδειας είναι "ανώνυμος".

    1.0; 2015-11-17T02:01:29.0488963Z; GetBlob; **AnonymousSuccess**, 200, 124, 37; **Ανώνυμος**.; mystorage...

2.  Το αντικείμενο blob είναι ιδιωτική και χρησιμοποιήθηκε με υπογραφή πρόσβασης σε κοινή χρήση. Σε αυτήν την περίπτωση, η πρόσκληση σε κατάσταση είναι "SASSuccess" και τον τύπο άδειας είναι "συσχετισμών ασφαλείας".

    1.0; 2015-11-16T18:30:05.6556115Z; GetBlob; **SASSuccess**, 200, 416, 64; **συσχετίσεις ασφαλείας**; mystorage...

3.  Το αντικείμενο blob είναι ιδιωτική και τον αριθμό-κλειδί χώρου αποθήκευσης που χρησιμοποιήθηκε για να έχετε πρόσβαση σε αυτά. Σε αυτήν την περίπτωση, η πρόσκληση σε κατάσταση είναι "**επιτυχία**" και τον τύπο άδειας είναι "**Έλεγχος ταυτότητας**".

    1.0; 2015-11-16T18:32:24.3174537Z; GetBlob; **Επιτυχίας**, 206, 59, 22; **Έλεγχος ταυτότητας**, mystorage...

Μπορείτε να χρησιμοποιήσετε το Microsoft Analyzer μηνύματος για να προβάλετε και να αναλύσετε αυτά τα αρχεία καταγραφής. Περιλαμβάνει δυνατότητες αναζήτησης και φίλτρου. Για παράδειγμα, μπορεί να θέλετε να πραγματοποιήσετε αναζήτηση για τις εμφανίσεις της GetBlob για να δείτε εάν η χρήση της είναι αυτό που περιμένατε, δηλαδή για να βεβαιωθείτε ότι δεν κάποιος χρήστης αποκτά πρόσβαση το λογαριασμό χώρου αποθήκευσης εσφαλμένα.

####<a name="resources"></a>Πόροι

-   [Ανάλυση χώρου αποθήκευσης](storage-analytics.md)

    Σε αυτό το άρθρο είναι μια επισκόπηση του χώρου αποθήκευσης ανάλυση και πώς μπορείτε να ενεργοποιήσετε τους.

-   [Μορφή αρχείου καταγραφής ανάλυσης χώρου αποθήκευσης](https://msdn.microsoft.com/library/azure/hh343259.aspx)

    Σε αυτό το άρθρο παρουσιάζει τη μορφή αρχείου καταγραφής ανάλυσης χώρου αποθήκευσης και λεπτομέρειες τα διαθέσιμα πεδία, όπως τον έλεγχο ταυτότητας-τύπο, ο οποίος υποδεικνύει τον τύπο ελέγχου ταυτότητας που χρησιμοποιείται για την αίτηση.

-   [Παρακολούθηση ενός λογαριασμού χώρου αποθήκευσης στην πύλη του Azure](storage-monitor-storage-account.md)

    Σε αυτό το άρθρο παρουσιάζει τον τρόπο ρύθμισης παραμέτρων παρακολούθηση μετρικών και καταγραφή για ένα λογαριασμό του χώρου αποθήκευσης.

-   [Αντιμετώπιση προβλημάτων σε ολοκληρωμένες χρησιμοποιώντας μετρικά αποθήκευσης Azure και καταγραφή, AzCopy και το μήνυμα "Ανάλυση"](storage-e2e-troubleshooting.md)

    Σε αυτό το άρθρο σχετικά με την αντιμετώπιση προβλημάτων, χρησιμοποιώντας την ανάλυση χώρου αποθήκευσης και ακρόασης δείχνει πώς μπορείτε να χρησιμοποιήσετε την ανάλυση μήνυμα της Microsoft.

-   [Οδηγός λειτουργίας υπηρεσίας ανάλυσης του μηνύματος της Microsoft](https://technet.microsoft.com/library/jj649776.aspx)

    Σε αυτό το άρθρο είναι η αναφορά για το Microsoft Analyzer μήνυμα και περιλαμβάνει συνδέσεις σε ένα πρόγραμμα εκμάθησης, γρήγορης εκκίνησης και τη δυνατότητα σύνοψης.

##<a name="cross-origin-resource-sharing-cors"></a>Κοινή χρήση (CORS) σταυρό Origin πόρων

###<a name="cross-domain-access-of-resources"></a>Πρόσβαση μεταξύ τομέων πόρων

Όταν ένα πρόγραμμα περιήγησης web που εκτελούνται σε έναν τομέα υποβάλλει μια αίτηση HTTP για έναν πόρο από διαφορετικό τομέα, αυτό ονομάζεται μια αίτηση HTTP origin σταυρό. Για παράδειγμα, μια σελίδα HTML που σερβιρίστηκε από contoso.com κάνει μια αίτηση για ένα αρχείο jpeg φιλοξενούνται σε fabrikam.blob.core.windows.net. Για λόγους ασφαλείας, τα προγράμματα περιήγησης περιορισμός origin διασταυρούμενου αιτήσεων HTTP ξεκινά από μέσα σε δέσμες ενεργειών, όπως JavaScript. Αυτό σημαίνει ότι όταν ένα τμήμα κώδικα JavaScript σε μια ιστοσελίδα στο contoso.com ζητά που jpeg στην fabrikam.blob.core.windows.net, το πρόγραμμα περιήγησης δεν θα επιτρέψει την αίτηση.

Τι αυτό χρειάζεται να κάνετε με το χώρο αποθήκευσης Azure; Επίσης, εάν αποθηκεύετε στατική πόρους, όπως αρχεία δεδομένων JSON ή XML στο χώρο αποθήκευσης αντικειμένων Blob χρησιμοποιώντας ένα λογαριασμό του χώρου αποθήκευσης που ονομάζεται Fabrikam, τον τομέα για τα στοιχεία θα fabrikam.blob.core.windows.net και της εφαρμογής web contoso.com δεν θα μπορείτε να αποκτήσετε πρόσβαση σε αυτά χρησιμοποιώντας JavaScript, επειδή οι τομείς είναι διαφορετικοί. Αυτό ισχύει επίσης εάν προσπαθείτε να καλέσετε μία από τις υπηρεσίες αποθήκευσης Azure-όπως χώρο αποθήκευσης πινάκων του – που επιστρέφουν δεδομένα JSON για επεξεργασία από το πρόγραμμα-πελάτη JavaScript.

####<a name="possible-solutions"></a>Πιθανές λύσεις

Ένας τρόπος για να επιλύσετε αυτό το ζήτημα είναι να αντιστοιχίσετε έναν προσαρμοσμένο τομέα όπως "storage.contoso.com" fabrikam.blob.core.windows.net. Το σφάλμα είναι ότι μπορείτε να αντιστοιχίσετε μόνο αυτόν τον προσαρμοσμένο τομέα με το λογαριασμό ενός χώρου αποθήκευσης. Τι γίνεται εάν τα στοιχεία είναι αποθηκευμένα σε πολλούς λογαριασμούς χώρο αποθήκευσης;

Ένας άλλος τρόπος για να επιλύσετε αυτό το ζήτημα είναι να έχετε την εφαρμογή web λειτουργεί ως ένα διακομιστή μεσολάβησης για το χώρο αποθήκευσης κλήσεις. Αυτό σημαίνει ότι εάν στέλνετε ένα αρχείο με το χώρο αποθήκευσης αντικειμένων Blob, η εφαρμογή web θα είτε γράφετε τοπικά και, στη συνέχεια, αντιγράψτε το χώρο αποθήκευσης αντικειμένων Blob ή θα διαβάσει όλα στη μνήμη και, στη συνέχεια, καταχωρήστε τις στο χώρο αποθήκευσης αντικειμένων Blob. Εναλλακτικά, μπορείτε να συντάξετε μια εφαρμογή αποκλειστικό web (όπως ένα API Web) που μεταφέρει τα αρχεία τοπικά και τις γράφει με το χώρο αποθήκευσης αντικειμένων Blob. Σε κάθε περίπτωση, πρέπει να λογαριασμού για αυτήν τη συνάρτηση όταν η κλιμάκωση Καθορισμός αναγκών.

####<a name="how-can-cors-help"></a>Πώς μπορώ να CORS;

Azure χώρου αποθήκευσης σάς επιτρέπει να ενεργοποιήσετε CORS – Cross Origin κοινή χρήση πόρων. Για κάθε λογαριασμό χώρου αποθήκευσης, μπορείτε να καθορίσετε τομείς που μπορούν να έχουν πρόσβαση στους πόρους σε αυτόν το λογαριασμό χώρου αποθήκευσης. Για παράδειγμα, στην περίπτωσή μας που περιγράφονται παραπάνω, θα σας μπορεί να Ενεργοποίηση CORS στο λογαριασμό του χώρου αποθήκευσης fabrikam.blob.core.windows.net και ρυθμίστε τις παραμέτρους του για να επιτρέψετε την πρόσβαση στο contoso.com. Στη συνέχεια, το contoso.com εφαρμογής web μπορεί να απευθείας πρόσβαση στους πόρους στο fabrikam.blob.core.windows.net.

Ένα σημείο για να λάβετε υπόψη είναι ότι CORS επιτρέπει την πρόσβαση, αλλά δεν παρέχει τον έλεγχο ταυτότητας, η οποία απαιτείται για όλους μη δημόσιας πρόσβασης πόρων αποθήκευσης. Αυτό σημαίνει ότι έχετε δυνατότητα πρόσβασης αντικείμενα BLOB μόνο εάν είναι δημόσια ή για να συμπεριλάβετε μια υπογραφή πρόσβασης σε κοινή χρήση παρέχοντας τα κατάλληλα δικαιώματα. Πίνακες, ουρές και αρχείων δεν διαθέτουν δημόσια πρόσβαση και απαιτεί ένα συσχετισμών Ασφαλείας.

Από προεπιλογή, CORS είναι απενεργοποιημένη σε όλες τις υπηρεσίες. Μπορείτε να ενεργοποιήσετε CORS χρησιμοποιώντας το REST API ή τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης για να καλέσετε μία από τις μεθόδους για να ορίσετε τις πολιτικές της υπηρεσίας. Με αυτήν, μπορείτε να συμπεριλάβετε έναν κανόνα CORS, η οποία βρίσκεται σε XML. Ακολουθεί ένα παράδειγμα ενός κανόνα CORS που έχει οριστεί χρησιμοποιώντας τη λειτουργία ορίσετε ιδιότητες υπηρεσίας για την υπηρεσία Blob για ένα λογαριασμό του χώρου αποθήκευσης. Μπορείτε να εκτελέσετε αυτήν την λειτουργία χρησιμοποιώντας τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης ή τα REST API για χώρο αποθήκευσης Azure.

    <Cors>    
        <CorsRule>
            <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
            <AllowedMethods>PUT,GET</AllowedMethods>
            <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
            <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
            <MaxAgeInSeconds>200</MaxAgeInSeconds>
        </CorsRule>
    <Cors>

Θα δείτε τι σημαίνει κάθε γραμμή:

-   **AllowedOrigins** Αυτό σας ενημερώνει των τομέων που δεν ταιριάζουν να ζητήσετε και να λαμβάνετε δεδομένα από την υπηρεσία αποθήκευσης. Αυτό το μήνυμα ότι contoso.com και fabrikam.com να υποβάλετε αίτηση δεδομένων από το χώρο αποθήκευσης αντικειμένων Blob για ένα λογαριασμό συγκεκριμένο χώρο αποθήκευσης. Μπορείτε επίσης να ορίσετε έτσι σε ένα χαρακτήρα μπαλαντέρ (\*) για να επιτρέψετε σε όλους τους τομείς για να αιτήσεων πρόσβασης.

-   **AllowedMethods** Αυτή είναι η λίστα των μεθόδων (ρήματα αίτηση HTTP) που μπορούν να χρησιμοποιηθούν κατά την υποβολή της αίτησης. Σε αυτό το παράδειγμα, επιτρέπονται μόνο ΤΟΠΟΘΈΤΗΣΗ και ΛΉΨΗ. Μπορείτε να ορίσετε έτσι σε ένα χαρακτήρα μπαλαντέρ (\*) για να επιτρέψετε σε όλες τις μεθόδους που θα χρησιμοποιηθεί.

-   **AllowedHeaders** Πρόκειται για τις κεφαλίδες αίτησης που μπορεί να καθορίσει τον τομέα origin κατά την υποβολή της αίτησης. Σε αυτό το παράδειγμα, ξεκινώντας με το x-ms-μετα-δεδομένα, όλες οι κεφαλίδες μετα-δεδομένα x-ms-μετα-προορισμού και x-ms-μετα-abc επιτρέπεται. Ο χαρακτήρας μπαλαντέρ (\*) υποδεικνύει ότι επιτρέπεται οποιαδήποτε επικεφαλίδα αρχίζει με το καθορισμένο πρόθεμα.

-   **ExposedHeaders** Αυτό σας ενημερώνει για τις κεφαλίδες απάντησης θα πρέπει να εκτίθενται από το πρόγραμμα περιήγησης για να τον εκδότη αίτηση. Σε αυτό το παράδειγμα, οποιαδήποτε επικεφαλίδα που ξεκινούν με "x-ms - μετα-" θα είναι δυνατή η έκθεση.

-   **MaxAgeInSeconds** Αυτό είναι το μέγιστο χρονικό διάστημα που ένα πρόγραμμα περιήγησης αποθηκεύει προσωρινά την αίτηση ΕΠΙΛΟΓΈΣ προκαταρκτικού ελέγχου. (Για περισσότερες πληροφορίες σχετικά με την αίτηση προκαταρκτικού ελέγχου, επιλέξτε το πρώτο παρακάτω άρθρο.)

####<a name="resources"></a>Πόροι

Για περισσότερες πληροφορίες σχετικά με την CORS και πώς να την ενεργοποιήσετε, ελέγξτε αυτές τις πληροφορίες.

-   [Κοινή χρήση υποστήριξης (CORS) για τις υπηρεσίες του Azure χώρου αποθήκευσης στο Azure.com σταυρό Origin πόρων](storage-cors-support.md)

    Σε αυτό το άρθρο παρέχει μια επισκόπηση των CORS και πώς μπορείτε να ορίσετε τους κανόνες για τις υπηρεσίες διαφορετικό χώρο αποθήκευσης.

-   [Κοινή χρήση υποστήριξης (CORS) για τις υπηρεσίες του Azure χώρο αποθήκευσης στο MSDN σταυρό Origin πόρων](https://msdn.microsoft.com/library/azure/dn535601.aspx)

    Αυτή είναι η τεκμηρίωση αναφοράς για την υποστήριξη CORS για τις υπηρεσίες του χώρου αποθήκευσης Azure. Αυτό περιλαμβάνει συνδέσεις για άρθρα εφαρμογή σε κάθε υπηρεσία του χώρου αποθήκευσης, και εμφανίζει ένα παράδειγμα και εξηγεί κάθε στοιχείο στο αρχείο CORS.

-   [Microsoft Azure αποθήκευσης: Εισαγωγή στο CORS](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/02/03/windows-azure-storage-introducing-cors.aspx)

    Αυτή είναι μια σύνδεση προς το άρθρο αρχικό ιστολογίου ανακοίνωση CORS και που δείχνει πώς να το χρησιμοποιήσετε.

##<a name="frequently-asked-questions-about-azure-storage-security"></a>Συνήθεις ερωτήσεις σχετικά με την ασφάλεια αποθήκευσης Azure

1.  **Πώς μπορώ να επαληθεύσω την ακεραιότητα των τα αντικείμενα BLOB να μεταφορά μέσα ή έξω από το χώρο αποθήκευσης Azure, εάν δεν μπορώ να χρησιμοποιήσω το πρωτόκολλο HTTPS;**

    Εάν για κάποιο λόγο πρέπει να χρησιμοποιήσετε HTTP αντί για HTTPS και που εργάζονται με αντικείμενα BLOB μπλοκ, μπορείτε να χρησιμοποιήσετε τον έλεγχο MD5 για να επαληθεύσετε την ακεραιότητα των τα αντικείμενα BLOB μεταφέρονται. Αυτό θα σας βοηθήσει με την προστασία από σφάλματα επιπέδου μεταφοράς/δικτύου, αλλά όχι απαραίτητα με ενδιάμεσες επιθέσεις.

    Εάν μπορείτε να χρησιμοποιήσετε HTTPS, η οποία παρέχει ασφάλεια επιπέδου μεταφοράς, στη συνέχεια, χρησιμοποιώντας τον έλεγχο MD5 είναι πλεονάζοντα και δεν είναι απαραίτητες.
    
    Για περισσότερες πληροφορίες, ελέγξτε την [Επισκόπηση MD5 αντικειμένων Blob του Azure](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/18/windows-azure-blob-md5-overview.aspx).

2.  **Τι γίνεται με συμμόρφωση FIPS για την κυβέρνηση των ΗΠΑ;**

    Το Ηνωμένες Πολιτείες Federal πληροφορίες επεξεργασίας τυπική (FIPS) ορίζει αλγορίθμους κρυπτογράφησης εγκριθεί για χρήση από τα συστήματα υπολογιστών για δημόσιους οργανισμούς Federal η.π.α. για την προστασία των ευαίσθητων δεδομένων. Ενεργοποίηση FIPS λειτουργία σε Windows server ή επιφάνειας εργασίας σας ενημερώνει για το λειτουργικό σύστημα ότι πρέπει να χρησιμοποιούνται μόνο επικυρωθεί FIPS αλγορίθμους κρυπτογράφησης. Εάν μια εφαρμογή χρησιμοποιεί μη συμβατή με αλγόριθμοι, θα καταργήσει τις εφαρμογές. Πλαίσιο With.NET εκδόσεις 4.5.2 ή νεότερη έκδοση, η εφαρμογή μεταβαίνει αυτόματα τους αλγορίθμους κρυπτογράφησης για να χρησιμοποιήσετε με το FIPS αλγόριθμους όταν ο υπολογιστής βρίσκεται σε λειτουργία FIPS.

    Microsoft αφήνει έως και κάθε πελάτη για να αποφασίσετε εάν θέλετε να ενεργοποιήσετε τη λειτουργία FIPS. Θα σας πιστεύετε ότι δεν υπάρχει συναρπαστικές λόγος για τους πελάτες που δεν υπόκεινται κυβερνητικούς κανονισμούς σχετικά με για να ενεργοποιήσετε τη λειτουργία FIPS από προεπιλογή.

    **Πόροι**

-   [Γιατί θα σας δεν συνιστά "Λειτουργία FIPS" πλέον](http://blogs.technet.com/b/secguide/archive/2014/04/07/why-we-re-not-recommending-fips-mode-anymore.aspx)

    Σε αυτό το άρθρο ιστολογίου παρέχει μια επισκόπηση των FIPS και εξηγεί γιατί δεν επιτρέπουν τη λειτουργία FIPS από προεπιλογή.

-   [FIPS 140 επικύρωσης](https://technet.microsoft.com/library/cc750357.aspx)

    Σε αυτό το άρθρο παρέχει πληροφορίες για το πώς προϊόντα της Microsoft και λειτουργικών μονάδων κρυπτογράφησης συμμορφώνονται με το πρότυπο FIPS για την κυβέρνηση Η.Π.Α.

-   ["Κρυπτογράφηση συστήματος: χρήση FIPS συμβατή αλγόριθμοι για κρυπτογράφηση, ο κατακερματισμός και είσοδος" εφέ ρυθμίσεις ασφαλείας στα Windows XP και σε νεότερες εκδόσεις των Windows](https://support.microsoft.com/kb/811833)

    Σε αυτό το άρθρο ακρόασης σχετικά με τη χρήση της λειτουργίας FIPS στην παλαιότερη υπολογιστές με Windows.
