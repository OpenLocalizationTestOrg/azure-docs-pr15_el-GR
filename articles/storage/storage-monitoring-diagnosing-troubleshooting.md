<properties
    pageTitle="Παρακολούθηση, διάγνωση και αντιμετώπιση προβλημάτων αποθήκευσης | Microsoft Azure"
    description="Χρήση δυνατοτήτων, όπως ανάλυση χώρου αποθήκευσης, καταγραφή από την πλευρά του προγράμματος-πελάτη και άλλα εργαλεία τρίτων κατασκευαστών για να προσδιορίσετε, διάγνωση και αντιμετώπιση προβλημάτων που σχετίζονται με το χώρο αποθήκευσης Azure."
    services="storage"
    documentationCenter=""
    authors="jasonnewyork"
    manager="tadb"
    editor="tysonn"/>

<tags
    ms.service="storage"
    ms.workload="storage"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/22/2016"
    ms.author="jahogg"/>

# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a>Παρακολούθηση, διάγνωση και αντιμετώπιση προβλημάτων χώρος αποθήκευσης Microsoft Azure

[AZURE.INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a>Επισκόπηση

Διάγνωση και αντιμετώπιση προβλημάτων σε μια εφαρμογή κατανέμεται φιλοξενούνται σε ένα περιβάλλον cloud μπορεί να είναι πιο σύνθετο από σε παραδοσιακά περιβάλλοντα. Εφαρμογές μπορεί να αναπτυχθεί σε μια υποδομή PaaS ή IaaS, εσωτερικής εγκατάστασης, σε μια κινητή συσκευή ή ένας συνδυασμός από τα εξής. Συνήθως, κίνηση του δικτύου της εφαρμογής σας ενδέχεται να αλλάξουν δημόσια και ιδιωτικά δίκτυα και την εφαρμογή σας μπορεί να χρησιμοποιεί πολλούς χώρου αποθήκευσης τεχνολογίες, όπως πίνακες του Microsoft Azure χώρου αποθήκευσης, αντικείμενα blob, ουρές ή αποθηκεύει αρχεία, καθώς και άλλα δεδομένα, όπως ως σχεσιακές και εγγράφων βάσεις δεδομένων.

Για τη διαχείριση αυτών των αιτήσεων με επιτυχία πρέπει να παρακολουθείτε τις εκ των προτέρων και να κατανοήσετε τον τρόπο για τη διάγνωση και αντιμετώπιση προβλημάτων όλα τα στοιχεία της τους και των τεχνολογιών εξαρτώμενα τους. Ως χρήστης των υπηρεσιών Azure αποθήκευσης, που συνεχώς θα πρέπει να παρακολουθείτε τις υπηρεσίες χώρου αποθήκευσης που χρησιμοποιεί την εφαρμογή σας για τυχόν μη αναμενόμενο αλλαγές στο συμπεριφορά (όπως μικρότερη χρόνους συνήθη απόκρισης) και να χρησιμοποιήσετε καταγραφής για τη συλλογή δεδομένων πιο λεπτομερείς και για να αναλύσετε το πρόβλημα σε βάθος. Οι πληροφορίες διαγνωστικών μπορείτε να αποκτήσετε από τόσο παρακολούθηση και καταγραφή θα σας βοηθήσει να προσδιορίσετε την αρχική αιτία του ζητήματος αντιμετώπισε την εφαρμογή σας. Στη συνέχεια, μπορείτε να αντιμετωπίσετε το πρόβλημα και να καθορίσει τα κατάλληλα βήματα που μπορείτε να ακολουθήσετε για τη διόρθωση του. Azure χώρου αποθήκευσης είναι ένα πυρήνα Azure υπηρεσίας και αποτελεί σημαντικό μέρος της το μεγαλύτερο μέρος των λύσεις που πελάτες ανάπτυξη στην υποδομή Azure. Azure αποθήκευσης περιλαμβάνει δυνατότητες για να απλοποιήσετε παρακολούθηση, τη διάγνωση και αντιμετώπιση προβλημάτων του χώρου αποθήκευσης στο εφαρμογές σας που βασίζεται στο cloud.

> [AZURE.NOTE] Οι λογαριασμοί χώρου αποθήκευσης με έναν τύπο αναπαραγωγής της ζώνης πλεονάζοντα χώρο αποθήκευσης (ZRS) δεν διαθέτουν το μετρικά ή τη δυνατότητα καταγραφής ενεργοποιήσει αυτήν τη στιγμή. Επίσης, η υπηρεσία αρχεία Azure δεν υποστηρίζει καταγραφή αυτήν τη στιγμή.

Για μια πρακτικής οδηγό για να ολοκληρωμένες αντιμετώπιση προβλημάτων στο χώρο αποθήκευσης Azure εφαρμογές, ανατρέξτε στο θέμα [Αντιμετώπιση προβλημάτων με χρήση μετρικών αποθήκευσης Azure και καταγραφή, AzCopy, και το μήνυμα "Ανάλυση" Τέλος στο τέλος](storage-e2e-troubleshooting.md).

+ [Εισαγωγή]
    + [Πώς είναι οργανωμένο αυτού του οδηγού]
+ [Παρακολούθηση της υπηρεσίας χώρου αποθήκευσης]
    + [Παρακολούθηση εύρυθμης λειτουργίας υπηρεσιών]
    + [Παρακολούθηση χωρητικότητα]
    + [Παρακολούθηση διαθεσιμότητα]
    + [Παρακολούθηση των επιδόσεων]
+ [Διάγνωση θεμάτων χώρου αποθήκευσης]
    + [Θέματα υπηρεσίας εύρυθμης λειτουργίας]
    + [Θέματα απόδοσης]
    + [Διάγνωση σφαλμάτων]
    + [Θέματα προσομοίωσης χώρου αποθήκευσης]
    + [Εργαλεία καταγραφής αποθήκευσης]
    + [Χρήση των εργαλείων καταγραφής δικτύου]
+ [Ανίχνευση για ολοκληρωμένες]
    + [Συσχέτιση δεδομένα του αρχείου καταγραφής]
    + [Αναγνωριστικό αίτησης προγράμματος-πελάτη]
    + [Αναγνωριστικό αίτησης διακομιστή]
    + [Χρονικές σημάνσεις]
+ [Οδηγίες αντιμετώπισης προβλημάτων]
    + [Εμφάνιση μετρικά AverageE2ELatency υψηλού και χαμηλού AverageServerLatency]
    + [Εμφάνιση μετρικά χαμηλής AverageE2ELatency και χαμηλής AverageServerLatency, αλλά ο υπολογιστής-πελάτης αντιμετωπίζει υψηλό λανθάνοντα χρόνο]
    + [Μετρικά εμφάνιση υψηλής AverageServerLatency]
    + [Αντιμετωπίζετε απροσδόκητες καθυστερήσεις στην παράδοση του μηνύματος σε μια ουρά]
    + [Μετρικά εμφάνιση αύξηση στο PercentThrottlingError]
    + [Μετρικά εμφάνιση αύξηση στο PercentTimeoutError]
    + [Μετρικά εμφάνιση αύξηση στο PercentNetworkError]
    + [Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 403 (Απαγορεύεται)]
    + [Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 404 (δεν βρέθηκε)]
    + [Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 409 (διένεξη)]
    + [Μετρικά εμφάνιση χαμηλής PercentSuccess ή εγγραφές καταγραφής αναλυτικών στοιχείων έχουν της εκτέλεσης λειτουργιών με την κατάσταση συναλλαγής ClientOtherErrors]
    + [Μετρικά δυναμικότητας εμφάνιση μη αναμενόμενο αύξηση στο μέγεθος χωρητικότητα αποθήκευσης]
    + [Αντιμετωπίζετε μη αναμενόμενο επανεκκίνηση της εικονικές μηχανές που έχουν συνημμένα VHD μεγάλου αριθμού]
    + [Το θέμα που προκύπτει από με το προσομοίωσης χώρου αποθήκευσης για ανάπτυξη ή δοκιμής]
    + [Αντιμετωπίζετε προβλήματα κατά την εγκατάσταση του SDK Azure για .NET]
    + [Έχετε ένα διαφορετικό πρόβλημα με μια υπηρεσία αποθήκευσης]
    + [Αντιμετώπιση προβλημάτων Azure αρχείων με τα Windows και Linux](storage-troubleshoot-file-connection-problems.md)
+ [Προσαρτήματα]
    + [Προσάρτημα 1: Χρήση Fiddler για να καταγράψετε την κυκλοφορία HTTP και HTTPS]
    + [Προσάρτημα 2: Χρήση Wireshark για να καταγράψετε κίνηση του δικτύου]
    + [Προσάρτημα 3: Χρησιμοποιώντας την ανάλυση μήνυμα της Microsoft για να καταγράψετε κίνηση του δικτύου]
    + [Προσάρτημα 4: Χρήση του Excel για να προβάλετε μετρικά και καταγραφή δεδομένων]
    + [Προσάρτημα 5: Παρακολούθηση με εφαρμογή ιδέες για τις υπηρεσίες του Visual Studio ομάδας]

## <a name="introduction"></a>Εισαγωγή

Αυτός ο οδηγός σας δείχνει πώς μπορείτε να χρησιμοποιήσετε δυνατότητες όπως η ανάλυση Azure χώρου αποθήκευσης,-πελάτη σύνδεσης στη βιβλιοθήκη Azure αποθήκευσης προγράμματος-πελάτη και άλλα εργαλεία τρίτων κατασκευαστών για τον προσδιορισμό, διάγνωση και αντιμετώπιση προβλημάτων αποθήκευσης Azure θέματα που σχετίζονται με.

![][1]

*Σχήμα 1 παρακολούθησης, διαγνωστικών, και αντιμετώπιση προβλημάτων*

Αυτός ο οδηγός προορίζεται για να διαβάσετε κυρίως από τους προγραμματιστές από ηλεκτρονικές υπηρεσίες που χρησιμοποιούν υπηρεσίες αποθήκευσης Azure και οι επαγγελματίες τεχνολογιών πληροφορικής υπεύθυνοι για τη Διαχείριση όπως ηλεκτρονικές υπηρεσίες. Τους στόχους της αυτός ο οδηγός είναι οι εξής:

- Για να σας βοηθήσουν να διατηρείτε την εύρυθμη λειτουργία και την απόδοση από τους λογαριασμούς σας χώρο αποθήκευσης Azure.
- Για να σας παρέχει τις απαραίτητες διαδικασίες και εργαλεία για να σας βοηθήσουν να αποφασίσετε εάν θέματος ή προβλήματος σε μια εφαρμογή του σχετίζεται με το χώρο αποθήκευσης Azure.
- Για να σας παρέχει με δυνατότητα επεξεργασίας καθοδήγηση για την επίλυση προβλημάτων που σχετίζονται με το χώρο αποθήκευσης Azure.

### <a name="how-this-guide-is-organized"></a>Πώς είναι οργανωμένο αυτού του οδηγού

Στην ενότητα "[Παρακολούθηση της υπηρεσίας χώρου αποθήκευσης]" περιγράφει τον τρόπο για την παρακολούθηση της εύρυθμης λειτουργίας και των υπηρεσιών σας χώρο αποθήκευσης Azure χρησιμοποιώντας μετρικά ανάλυση αποθήκευσης Azure (μετρικά αποθήκευσης) επιδόσεων.

Στην ενότητα "[διάγνωση προβλημάτων χώρου αποθήκευσης]" περιγράφει τον τρόπο για τη διάγνωση θεμάτων χρησιμοποιώντας Azure αποθήκευσης ανάλυσης καταγραφής (καταγραφής αποθήκευσης). Περιγράφει τον τρόπο για να ενεργοποιήσετε την καταγραφή από την πλευρά του προγράμματος-πελάτη με τις δυνατότητες σε μία από τις βιβλιοθήκες του προγράμματος-πελάτη όπως η βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης για .NET ή το Azure SDK για Java επίσης.

Η ενότητα "[ανίχνευση για ολοκληρωμένες]" περιγράφει πώς μπορείτε να συσχετίσετε τις πληροφορίες που περιέχονται σε διάφορα αρχεία καταγραφής και μετρήσεις δεδομένων.

Στην ενότητα "[Αντιμετώπιση προβλημάτων οδηγίες]" παρέχει οδηγίες αντιμετώπισης προβλημάτων σχετικά με ορισμένα από τα κοινά θέματα που σχετίζονται με το χώρο αποθήκευσης που μπορεί να αντιμετωπίσετε.

"[Προσαρτήματα]" περιλαμβάνουν πληροφορίες σχετικά με τη χρήση άλλων εργαλείων όπως Wireshark και Netmon για την ανάλυση δεδομένων πακέτων δικτύου, Fiddler για την ανάλυση μηνύματα HTTP/HTTPS και Microsoft μήνυμα Analyzer για αντιστοιχίας δεδομένα του αρχείου καταγραφής.


## <a name="monitoring-your-storage-service"></a>Παρακολούθηση της υπηρεσίας χώρου αποθήκευσης

Εάν είστε εξοικειωμένοι με την παρακολούθηση των επιδόσεων των Windows, μπορείτε να θεωρήσετε μετρικά αποθήκευσης ως ένα χώρο αποθήκευσης Azure ισοδύναμη με μετρητές Εποπτεία επιδόσεων των Windows. Στο μετρικών αποθήκευσης που θα βρείτε ένα ολοκληρωμένο σύνολο μετρικά (μετρητές στην Εποπτεία επιδόσεων των Windows ορολογία) όπως η υπηρεσία διαθεσιμότητας, συνολικό αριθμό των αιτήσεων υπηρεσίας, ή το ποσοστό των αιτήσεων επιτυχής στην υπηρεσία. Για μια πλήρη λίστα με τα διαθέσιμα μετρικά, ανατρέξτε στο θέμα [Σχήματος πίνακα μετρικών αποθήκευσης αναλυτικών στοιχείων](http://msdn.microsoft.com/library/azure/hh343264.aspx). Μπορείτε να καθορίσετε εάν θέλετε την υπηρεσία αποθήκευσης για τη συλλογή και συγκέντρωση μετρικά κάθε ώρα ή κάθε λεπτό. Για περισσότερες πληροφορίες σχετικά με τον τρόπο ενεργοποίησης μετρικά και να παρακολουθείτε τους λογαριασμούς σας στο χώρο αποθήκευσης, ανατρέξτε στο θέμα [Ενεργοποίηση μετρικά αποθήκευσης και προβολή μετρικά δεδομένων](http://go.microsoft.com/fwlink/?LinkId=510865).

Μπορείτε να επιλέξετε ποια ωριαία μετρικά που θέλετε να εμφανίσετε στην [Πύλη του Azure](https://portal.azure.com) και να ρυθμίσετε τους κανόνες που σας ειδοποιεί τους διαχειριστές μέσω ηλεκτρονικού ταχυδρομείου κάθε φορά που ένα μετρικό ωριαία υπερβαίνει ένα συγκεκριμένο όριο. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Λήψη ειδοποιήσεων υπενθύμισης](../monitoring-and-diagnostics/insights-receive-alert-notifications.md). 

Η υπηρεσία αποθήκευσης συλλέγει μετρικά χρησιμοποιώντας μια καλύτερη προσπάθεια, αλλά δεν μπορεί να εγγράψετε κάθε λειτουργίας χώρου αποθήκευσης.

Στην πύλη του Azure, μπορείτε να προβάλετε μετρικά όπως διαθεσιμότητα, το σύνολο των αιτήσεων και αριθμούς μέσο λανθάνοντα χρόνο για ένα λογαριασμό του χώρου αποθήκευσης. Ένας κανόνας κοινοποίησης έχει επίσης έχει ρυθμιστεί για να ειδοποιηθείτε διαχειριστή εάν μειωθεί διαθεσιμότητας κάτω από ένα συγκεκριμένο επίπεδο. Από την προβολή αυτών των δεδομένων, μία πιθανή περιοχή για έρευνα είναι το ποσοστό επιτυχίας υπηρεσία πίνακα που έχει τεθεί κάτω από 100% (για περισσότερες πληροφορίες, ανατρέξτε στην ενότητα "[μετρικά εμφάνιση χαμηλής PercentSuccess ή εγγραφές καταγραφής αναλυτικών στοιχείων έχουν λειτουργίες με κατάσταση συναλλαγών του ClientOtherErrors]").

Που θα πρέπει να παρακολουθείτε συνεχώς Azure εφαρμογές σας για να βεβαιωθείτε ότι είναι σε καλή κατάσταση και τις επιδόσεις με τον αναμενόμενο τρόπο από:

- Δημιουργία ορισμένες μετρικά γραμμής βάσης για την εφαρμογή που θα σας επιτρέψει να συγκρίνετε τρέχοντα δεδομένα και να προσδιορίσετε σημαντικές αλλαγές στην συμπεριφορά του Azure χώρου αποθήκευσης και την εφαρμογή σας. Οι τιμές των σας μετρικά γραμμής βάσης, σε πολλές περιπτώσεις, θα εφαρμογή συγκεκριμένες και θα πρέπει να μπορείτε να τα δημιουργήσετε όταν είστε επιδόσεων δοκιμές την εφαρμογή σας.
- Καταγραφή minute μετρικά και τη χρήση τους για να παρακολουθήσετε ενεργά μη αναμενόμενα σφάλματα και ανωμαλίες όπως αιχμές κατά λάθος καταμετρά ή αίτηση χρεώσεων.
- Καταγραφή ωριαία μετρικά και τη χρήση τους για την παρακολούθηση όπως είναι οι μέσες τιμές μέσος όρος πλήθος σφαλμάτων και να ζητήσετε χρεώσεων.
- Διερεύνηση πιθανών ζητημάτων χρησιμοποιώντας τα διαγνωστικά εργαλεία όπως περιγράφεται παρακάτω στην ενότητα "[διάγνωση προβλημάτων χώρου αποθήκευσης]".

Τα γραφήματα στην εικόνα 3 παρακάτω απεικόνιση πώς το μέσο όρο που προκύπτει για ωριαία μετρικά να το αποκρύψετε αιχμές στη δραστηριότητα. Εμφανίζονται τα ωριαία μετρικά για να εμφανίσετε μια σταθερή χρέωση των αιτήσεων, ενώ το λεπτό μετρικά αποκαλύψετε το διακυμάνσεις που πραγματικά διαρκεί θέση.

![][3]

Το υπόλοιπο της αυτή η ενότητα περιγράφει τι μετρικά που θα πρέπει να παρακολουθούν και το λόγο.

### <a name="monitoring-service-health"></a>Παρακολούθηση εύρυθμης λειτουργίας υπηρεσιών

Μπορείτε να χρησιμοποιήσετε την [Πύλη του Azure](https://portal.azure.com) για να προβάλετε την εύρυθμη λειτουργία της υπηρεσίας χώρου αποθήκευσης (και άλλες υπηρεσίες του Azure) σε όλες τις περιοχές Azure όλο τον κόσμο. Αυτό σας επιτρέπει να δείτε αμέσως εάν ένα ζήτημα εκτός του στοιχείου ελέγχου σας επηρεάζει την υπηρεσία αποθήκευσης της περιοχής που χρησιμοποιείτε για την εφαρμογή σας.

Η [Πύλη Azure](https://portal.azure.com) μπορούν επίσης να παρέχουν ειδοποιήσεις για συμβάντα που επηρεάζουν τις διάφορες υπηρεσίες Azure.
Σημείωση: Οι πληροφορίες αυτές ήταν προηγουμένως διαθέσιμη, μαζί με δεδομένα ιστορικού, στον πίνακα [Εργαλείων υπηρεσίας Azure](http://status.azure.com).

Κατά την [Πύλη Azure](https://portal.azure.com) συλλέγει πληροφορίες εύρυθμης λειτουργίας από μέσα του Azure κέντρα δεδομένων (εσωτερικό ελέγχου παρακολούθηση), μπορείτε επίσης να έγκριση προσέγγισης εκτός του για τη δημιουργία σύνθετων συναλλαγές που περιοδικά πρόσβαση σε εφαρμογή web που φιλοξενείται στο Azure σας από πολλές θέσεις. Οι υπηρεσίες που παρέχονται από [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) και εφαρμογή ιδέες για το Visual Studio Team Services είναι παραδείγματα αυτής της προσέγγισης εκτός του. Για περισσότερες πληροφορίες σχετικά με την εφαρμογή ιδέες για τις υπηρεσίες ομάδας του Visual Studio, ανατρέξτε στο θέμα προσάρτημα "[προσάρτημα 5: παρακολούθηση με εφαρμογή ιδέες για το Visual Studio Team Services](#appendix-5)."

### <a name="monitoring-capacity"></a>Παρακολούθηση χωρητικότητα

Μετρικά αποθήκευσης αποθηκεύει μόνο χωρητικότητα μετρήσεις για την υπηρεσία blob επειδή αντικείμενα BLOB συνήθως λογαριασμού για το μεγαλύτερο μέρος των αποθηκευμένων δεδομένων (τη στιγμή της συγγραφής, δεν είναι δυνατή για να χρησιμοποιήσετε μετρικά αποθήκευσης για την παρακολούθηση της η δυναμικότητα των πινάκων και ουρές). Μπορείτε να βρείτε αυτά τα δεδομένα στον πίνακα **$MetricsCapacityBlob** , εάν έχετε ενεργοποιήσει την παρακολούθηση για την υπηρεσία Blob. Μετρικά αποθήκευσης εγγραφών αυτών των δεδομένων μία φορά την ημέρα και μπορείτε να χρησιμοποιήσετε την τιμή του **RowKey** για να προσδιορίσετε αν η γραμμή περιέχει μια οντότητα που σχετίζεται με τα δεδομένα των χρηστών (τιμή **δεδομένων**) ή ανάλυσης δεδομένων (τιμή **ανάλυσης**). Κάθε αποθηκευμένη οντότητα περιέχει πληροφορίες σχετικά με το μέγεθος του χώρου αποθήκευσης που χρησιμοποιείται (**χωρητικότητα** μετράται σε byte) και τον αριθμό της τρέχουσας του κοντέινερ (**ContainerCount**) και αντικείμενα BLOB (**ObjectCount**) στο θέμα χρήση του λογαριασμού χώρου αποθήκευσης. Για περισσότερες πληροφορίες σχετικά με τα μετρικά χωρητικότητα αποθηκεύονται στον πίνακα **$MetricsCapacityBlob** , ανατρέξτε στο θέμα [Σχήματος πίνακα μετρικά αποθήκευσης ανάλυσης](http://msdn.microsoft.com/library/azure/hh343264.aspx).

> [AZURE.NOTE] Θα πρέπει να μπορείτε να παρακολουθείτε αυτές τις τιμές για ένα πρώιμη προειδοποίηση ότι πλησιάζετε τα όρια δυναμικότητας του λογαριασμού σας χώρου αποθήκευσης. Στην πύλη του Azure, μπορείτε να προσθέσετε κανόνες ειδοποίησης για να σας ειδοποιεί εάν χρήση συγκεντρωτικών αποτελεσμάτων αποθήκευσης υπερβαίνει ή είναι μικρότερος από όρια που καθορίζετε.

Για βοήθεια σχετικά με το μέγεθος των διάφορων χώρο αποθήκευσης αντικειμένων όπως αντικείμενα BLOB εκτίμηση, ανατρέξτε στην καταχώρηση [Κατανόηση Azure αποθήκευσης χρέωση – εύρους ζώνης, συναλλαγές, και χωρητικότητα](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx)ιστολογίου.

### <a name="monitoring-availability"></a>Παρακολούθηση διαθεσιμότητα

Θα πρέπει να παρακολουθούν τη διαθεσιμότητα των υπηρεσιών χώρου αποθήκευσης στο λογαριασμό σας στο χώρο αποθήκευσης, παρακολουθώντας την τιμή στη στήλη **διαθεσιμότητα** στους πίνακες ωριαία ή minute μετρικά — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**. Η στήλη **διαθεσιμότητα** περιέχει ένα ποσοστό που υποδεικνύει τη διαθεσιμότητα της λειτουργίας API που αναπαριστάνεται από τη γραμμή (η **RowKey** δείχνει εάν η γραμμή περιέχει μετρήσεις για την υπηρεσία ως σύνολο ή για μια συγκεκριμένη εργασία API) ή την υπηρεσία.

Οποιαδήποτε τιμή μικρότερη από 100% δηλώνει ότι ορισμένες αιτήσεις αποθήκευσης αποτυγχάνουν. Μπορείτε να δείτε γιατί αποτυγχάνει, εξετάζοντας τις άλλες στήλες των δεδομένων μετρικά που εμφανίζουν τους αριθμούς των αιτήσεων με διαφορετικό σφάλμα τύπους όπως **ServerTimeoutError**. Θα πρέπει να περιμένουν για να δείτε **διαθεσιμότητα** κατώτερα προσωρινά από 100% για λόγους όπως χρονικών ορίων μεταβατικές διακομιστή ενώ η υπηρεσία μετακινεί τα διαμερίσματα για καλύτερη εξισορρόπηση φόρτου αίτηση; θα πρέπει να τη λαβή όπως περιστασιακό συνθήκες της λογικής "Επανάληψη" στην εφαρμογή υπολογιστή-πελάτη. Το άρθρο [εργασίες συνδεδεμένοι ανάλυση αποθήκευσης και μηνύματα κατάστασης](http://msdn.microsoft.com/library/azure/hh343260.aspx) παραθέτει τους τύπους κίνησης που μετρικών αποθήκευσης που περιλαμβάνει τον υπολογισμό **διαθεσιμότητας** .

Στην [Πύλη του Azure](https://portal.azure.com), μπορείτε να προσθέσετε κανόνες ειδοποίησης για να σας ειδοποιεί αν η **διαθεσιμότητα** για μια υπηρεσία που βρίσκεται κάτω από μια οριακή τιμή που καθορίζετε.

Στην ενότητα "[Αντιμετώπιση προβλημάτων οδηγίες]" αυτού του οδηγού περιγράφει ορισμένα κοινά ζητήματα υπηρεσίας χώρου αποθήκευσης που σχετίζονται με τη διαθεσιμότητα.

### <a name="monitoring-performance"></a>Παρακολούθηση των επιδόσεων

Για να παρακολουθείτε τις επιδόσεις των υπηρεσιών χώρου αποθήκευσης, μπορείτε να χρησιμοποιήσετε τα παρακάτω μετρικά από τους πίνακες μετρικά ωριαία και λεπτών.

- Τις τιμές στις στήλες **AverageE2ELatency** και **AverageServerLatency** εμφάνιση ο μέσος χρόνος την υπηρεσία αποθήκευσης ή τύπο λειτουργίας API διαρκεί Επεξεργασία προσκλήσεων. **AverageE2ELatency** αποτελεί ένα μέτρο της λανθάνων χρόνος για να ολοκληρωμένες περιλαμβάνει την ώρα που λαμβάνονται για να διαβάσετε την πρόσκληση και να στείλετε την απάντηση εκτός από την ώρα που λαμβάνονται για την επεξεργασία της αίτησης (, επομένως, περιλαμβάνει λανθάνων χρόνος δικτύου τη στιγμή που η αίτηση φτάσει η υπηρεσία αποθήκευσης); **AverageServerLatency** αποτελεί ένα μέτρο της μόνο ο χρόνος επεξεργασίας και, επομένως, αποκλείει τους οποιαδήποτε λανθάνων χρόνος δικτύου που σχετίζονται με την επικοινωνία με το πρόγραμμα-πελάτη. Ανατρέξτε στην ενότητα "[Εμφάνιση μετρικά υψηλή AverageE2ELatency και χαμηλής AverageServerLatency]" αργότερα σε αυτόν τον οδηγό για μια συζήτηση του γιατί μπορεί να υπάρχει μια σημαντική διαφορά μεταξύ των δύο αυτών τιμών.
- Οι τιμές στις στήλες **TotalIngress** και **TotalEgress** εμφανίζουν τον συνολικό όγκο δεδομένων, σε byte, που προέρχονται από και ξεκινήστε από την υπηρεσία αποθήκευσης ή μέσω ενός συγκεκριμένου τύπου λειτουργίας API.
- Οι τιμές στη στήλη **TotalRequests** εμφανίζουν τον συνολικό αριθμό των αιτήσεων που λαμβάνει την υπηρεσία αποθήκευσης API λειτουργίας. **TotalRequests** είναι ο συνολικός αριθμός των αιτήσεων που λαμβάνει την υπηρεσία αποθήκευσης.

Συνήθως, που θα παρακολουθεί για μη αναμενόμενο αλλαγές σε οποιαδήποτε από αυτές τις τιμές ως ένδειξη ότι έχετε ένα θέμα που απαιτεί έρευνα.

Στην [Πύλη του Azure](https://portal.azure.com), μπορείτε να προσθέσετε κανόνες ειδοποίησης για να σας ειδοποιεί εάν οποιοδήποτε από τα μετρικά επιδόσεων για αυτό πτώσης υπηρεσίας κάτω από ή να υπερβαίνει το όριο που καθορίζετε.

Στην ενότητα "[Αντιμετώπιση προβλημάτων οδηγίες]" αυτού του οδηγού περιγράφει ορισμένα κοινά ζητήματα υπηρεσίας χώρου αποθήκευσης που σχετίζονται με τις επιδόσεις.


## <a name="diagnosing-storage-issues"></a>Διάγνωση θεμάτων χώρου αποθήκευσης

Υπάρχουν διάφοροι τρόποι ώστε να αναγνωρίσετε πρόβλημα ή πρόβλημα στην εφαρμογή σας, να περιλαμβάνουν τα εξής:

- Κύρια αποτυχία που προκαλεί την εφαρμογή για να παρουσιάσει σφάλμα ή για να διακόψετε την εργασία.
- Σημαντικές αλλαγές από τις τιμές γραμμής βάσης τα μετρικά παρακολουθείτε όπως περιγράφεται στην προηγούμενη ενότητα "[Παρακολούθηση της υπηρεσίας χώρου αποθήκευσης]".
- Οι αναφορές από τους χρήστες της εφαρμογής σας που δεν ολοκληρωθεί κάποια συγκεκριμένη λειτουργία όπως αναμένεται ή ότι ορισμένες η δυνατότητα δεν λειτουργεί.
- Τα σφάλματα που δημιουργούνται μέσα από την εφαρμογή που εμφανίζονται στα αρχεία καταγραφής ή σε κάποια άλλη μέθοδο ειδοποίησης.

Συνήθως, τα θέματα που σχετίζονται με τις υπηρεσίες Azure χώρου αποθήκευσης ανήκουν σε μία από τις τέσσερις ευρείες κατηγορίες:

- Εφαρμογή σας έχει ένα ζήτημα επιδόσεων, αναφερθεί από τους χρήστες σας, είτε διαπιστωθεί από αλλαγές στο τα μετρικά επιδόσεων.
- Υπάρχει κάποιο πρόβλημα με την υποδομή αποθήκευσης Azure σε μία ή περισσότερες περιοχές.
- Η εφαρμογή σας αντιμετωπίζει ένα σφάλμα, αναφερθεί από τους χρήστες σας, είτε διαπιστωθεί αύξηση σε ένα από τα μετρικά πλήθος σφαλμάτων που παρακολουθείτε.
- Κατά τη διάρκεια της ανάπτυξης και δοκιμής, ενδέχεται να χρησιμοποιείτε την τοπική αποθήκευση προσομοίωσης; που μπορεί να αντιμετωπίσετε κάποια θέματα που αφορούν συγκεκριμένα για χρήση της προσομοίωσης του χώρου αποθήκευσης.

Οι παρακάτω ενότητες περιγράφουν τα βήματα που πρέπει να ακολουθήσετε για τη διάγνωση και αντιμετώπιση προβλημάτων σε κάθε μία από αυτές τις τέσσερις κατηγορίες. Στην ενότητα "[Αντιμετώπιση προβλημάτων καθοδήγηση]" παρακάτω σε αυτόν τον Οδηγό παρέχει περισσότερες λεπτομέρειες για ορισμένα κοινά προβλήματα που μπορεί να αντιμετωπίσετε.

### <a name="service-health-issues"></a>Θέματα υπηρεσίας εύρυθμης λειτουργίας

Ζητήματα εύρυθμης λειτουργίας υπηρεσίας συνήθως βρίσκονται εκτός του στοιχείου ελέγχου. Η [Πύλη Azure](https://portal.azure.com) παρέχει πληροφορίες σχετικά με ζητήματα βρίσκεται σε εξέλιξη με Azure υπηρεσίες, συμπεριλαμβανομένων των υπηρεσιών χώρου αποθήκευσης. Εάν επιλέξει για πρόσβαση για ανάγνωση παν πλεονάζοντα χώρου αποθήκευσης όταν δημιουργήσατε το λογαριασμό χώρου αποθήκευσης, στη συνέχεια, σε περίπτωση τα δεδομένα σας δεν είναι διαθέσιμη στην κύρια θέση, η εφαρμογή σας θα μπορούσε να αλλάξετε προσωρινά στο αντίγραφο μόνο για ανάγνωση στη δευτερεύουσα θέση. Να το κάνετε αυτό, η εφαρμογή σας πρέπει να έχετε τη δυνατότητα να κάνετε εναλλαγή μεταξύ της χρήσης τις θέσεις αποθήκευσης κύριας και δευτερεύουσας και είναι σε θέση να εργαστείτε σε κατάσταση μειωμένης λειτουργικότητας με δεδομένα μόνο για ανάγνωση. Οι βιβλιοθήκες Azure προγράμματος-πελάτη χώρου αποθήκευσης σάς επιτρέπουν να καθορίσετε μια πολιτική "Επανάληψη" που μπορεί να διαβάσει από δευτερεύοντα χώρου αποθήκευσης σε περίπτωση που μια ανάγνωση από χώρο αποθήκευσης στο κύριο αποτυγχάνει. Η εφαρμογή σας πρέπει επίσης να έχετε υπόψη ότι τα δεδομένα στη δευτερεύουσα θέση είναι τελικά συνεπή. Για περισσότερες πληροφορίες, ανατρέξτε στην καταχώρηση [Επιλογές πλεονασμού αποθήκευσης Azure και πρόσβαση για ανάγνωση παν πλεονάζοντα αποθήκευσης](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/)ιστολογίου.

### <a name="performance-issues"></a>Θέματα απόδοσης

Οι επιδόσεις μιας εφαρμογής του μπορεί να είναι υποκειμενικό, ειδικά από μια προοπτική χρήστη. Επομένως, είναι σημαντικό να έχετε μετρικά γραμμής βάσης που είναι διαθέσιμη για να σας βοηθήσει να αναγνωρίζετε το σημείο όπου μπορεί να υπάρχει κάποιο ζήτημα επιδόσεων. Πολλοί παράγοντες ενδέχεται να επηρεάσουν την απόδοση του μια υπηρεσία αποθήκευσης Azure από την πλευρά της εφαρμογής υπολογιστή-πελάτη. Τους παρακάτω παράγοντες ενδέχεται να λειτουργούν στην υπηρεσία αποθήκευσης, στο πρόγραμμα-πελάτη ή την υποδομή δικτύου. Επομένως, είναι σημαντικό να έχετε μια στρατηγική για τον προσδιορισμό της αρχής αξόνων του το ζήτημα επιδόσεων.

Αφού έχετε προσδιορίσει τη πιθανότατα θέση της αιτίας το ζήτημα επιδόσεων από τα μετρικά, μπορείτε να χρησιμοποιήσετε τα αρχεία καταγραφής, στη συνέχεια, για να βρείτε λεπτομερείς πληροφορίες για τη διάγνωση και αντιμετώπιση του προβλήματος περαιτέρω.

Στην ενότητα "[Αντιμετώπιση προβλημάτων καθοδήγηση]" παρακάτω σε αυτόν τον Οδηγό παρέχει περισσότερες πληροφορίες σχετικά με ορισμένες κοινές επιδόσεων που σχετίζονται με ζητήματα που μπορεί να αντιμετωπίσετε.

### <a name="diagnosing-errors"></a>Διάγνωση σφαλμάτων

Οι χρήστες της εφαρμογής σας μπορεί να σας ειδοποιεί σφαλμάτων που αναφέρονται από την εφαρμογή-πελάτη. Μετρικά αποθήκευσης εγγραφών επίσης πλήθος των τύπων διαφορετικό σφάλμα από το χώρο αποθήκευσης υπηρεσίες όπως **NetworkError**, **ClientTimeoutError**ή **AuthorizationError**. Κατά μετρικά αποθήκευσης εγγραφών μόνο πλήθος των τύπων διαφορετικό σφάλμα, μπορείτε να αποκτήσετε περισσότερες λεπτομέρειες σχετικά με τις μεμονωμένες αιτήσεις εξετάζοντας πλευρά του διακομιστή, πλευρά του προγράμματος-πελάτη και αρχεία καταγραφής δικτύου. Συνήθως, ο κωδικός κατάστασης HTTP που επιστρέφονται από την υπηρεσία αποθήκευσης θα σας δώσει μια ένδειξη του γιατί απέτυχε η αίτηση.

> [AZURE.NOTE] Να θυμάστε ότι θα πρέπει να περιμένουν για να δείτε ορισμένα περιοδικά σφάλματα: για παράδειγμα, σφάλματα λόγω προσωρινές συνθήκες δικτύου ή σφάλματα εφαρμογών.

Οι ακόλουθοι πόροι είναι χρήσιμα για την κατανόηση που σχετίζονται με το χώρο αποθήκευσης κατάστασης και σφάλματος κώδικες:

- [Κοινά τους κωδικούς σφάλματος API ΥΠΌΛΟΙΠΟ](http://msdn.microsoft.com/library/azure/dd179357.aspx)
- [Κωδικοί σφάλματος υπηρεσίας BLOB](http://msdn.microsoft.com/library/azure/dd179439.aspx)
- [Κωδικοί σφάλματος υπηρεσίας Ουράς](http://msdn.microsoft.com/library/azure/dd179446.aspx)
- [Κωδικοί σφάλματος υπηρεσίας πίνακα](http://msdn.microsoft.com/library/azure/dd179438.aspx)
- [Κωδικοί σφάλματος υπηρεσίας αρχείου](https://msdn.microsoft.com/library/azure/dn690119.aspx)

### <a name="storage-emulator-issues"></a>Θέματα προσομοίωσης χώρου αποθήκευσης

Το SDK Azure περιλαμβάνει μια προσομοίωσης χώρου αποθήκευσης που μπορείτε να εκτελέσετε σε μια ανάπτυξη σταθμούς εργασίας. Αυτό προσομοίωσης προσομοιώνει περισσότερες από τη συμπεριφορά των υπηρεσιών Azure χώρου αποθήκευσης και είναι χρήσιμη κατά τη διάρκεια της ανάπτυξης και δοκιμής, επιτρέποντάς σας να εκτελείτε εφαρμογές που χρησιμοποιούν τις υπηρεσίες Azure αποθήκευσης χωρίς να χρειάζεται μια συνδρομή του Azure και ένα λογαριασμό Azure χώρου αποθήκευσης.

Στην ενότητα "[Αντιμετώπιση προβλημάτων οδηγίες]" αυτού του οδηγού περιγράφει ορισμένα κοινά ζητήματα αντιμετώπισε χρησιμοποιώντας το προσομοίωσης χώρου αποθήκευσης.

### <a name="storage-logging-tools"></a>Εργαλεία καταγραφής αποθήκευσης

Καταγραφή χώρου αποθήκευσης παρέχει καταγραφή από την πλευρά του διακομιστή των αιτήσεων χώρου αποθήκευσης στο λογαριασμό σας στο Azure χώρου αποθήκευσης. Για περισσότερες πληροφορίες σχετικά με τον τρόπο για να ενεργοποιήσετε την καταγραφή από την πλευρά του διακομιστή και να αποκτήσετε πρόσβαση στα δεδομένα του αρχείου καταγραφής, ανατρέξτε στο θέμα [Ενεργοποίηση καταγραφής αποθήκευσης και πρόσβαση σε δεδομένα του αρχείου καταγραφής](http://go.microsoft.com/fwlink/?LinkId=510867).

Η βιβλιοθήκη προγράμματος-πελάτη χώρου αποθήκευσης για το .NET σάς επιτρέπει να συλλέγετε δεδομένα καταγραφής πλευρά του προγράμματος-πελάτη που σχετίζεται με το χώρο αποθήκευσης λειτουργίες που εκτελούνται από την εφαρμογή σας. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [καταγραφή από την πλευρά του προγράμματος-πελάτη με τη βιβλιοθήκη .NET αποθήκευσης προγράμματος-πελάτη](http://go.microsoft.com/fwlink/?LinkId=510868).

> [AZURE.NOTE] Σε ορισμένες περιπτώσεις (όπως αποτυχίες εξουσιοδότησης συσχετισμών Ασφαλείας), ένας χρήστης μπορεί να αναφέρει ένα μήνυμα σφάλματος για την οποία μπορείτε να βρείτε χωρίς δεδομένα αίτηση στα αρχεία καταγραφής από χώρο αποθήκευσης στο διακομιστή. Μπορείτε να χρησιμοποιήσετε τις δυνατότητες καταγραφής της βιβλιοθήκης του προγράμματος-πελάτη του χώρου αποθήκευσης για να εξετάσετε εάν είναι η αιτία του θέματος του υπολογιστή-πελάτη ή να χρησιμοποιήσετε εργαλεία παρακολούθησης δικτύου για να εξετάσετε το δίκτυο.

### <a name="using-network-logging-tools"></a>Χρήση των εργαλείων καταγραφής δικτύου

Μπορείτε να καταγράψετε την κυκλοφορία μεταξύ του προγράμματος-πελάτη και του διακομιστή για να παρέχουν λεπτομερείς πληροφορίες σχετικά με τα δεδομένα του προγράμματος-πελάτη και του διακομιστή ανταλλαγή και το υποκείμενο συνθήκες δικτύου. Εργαλεία καταγραφής χρήσιμες δικτύου περιλαμβάνουν:

- [Fiddler](http://www.telerik.com/fiddler) είναι μια δωρεάν web εντοπισμού διακομιστή μεσολάβησης που σας επιτρέπει να εξετάσετε τις κεφαλίδες και τα δεδομένα φορτίο HTTP και HTTPS μηνύματα αίτησης και απόκρισης. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [προσάρτημα 1: χρήση Fiddler για να καταγράψετε την κυκλοφορία HTTP και HTTPS](#appendix-1).
- [Εποπτεία δικτύου Microsoft (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) και το [Wireshark](http://www.wireshark.org/) είναι αναλυτές πρωτόκολλο δωρεάν δικτύων που σας επιτρέπουν να προβάλετε πληροφορίες λεπτομερείς πακέτου για ένα ευρύ φάσμα των πρωτοκόλλων δικτύου. Για περισσότερες πληροφορίες σχετικά με το Wireshark, ανατρέξτε στο θέμα "[προσάρτημα 2: χρήση Wireshark για να καταγράψετε κίνηση του δικτύου](#appendix-2)".
- Microsoft μήνυμα Analyzer είναι ένα εργαλείο από τη Microsoft που αντικαθιστά Netmon και ότι εκτός από την καταγραφή δεδομένων πακέτων δικτύου, σας βοηθά να προβάλετε και να αναλύσετε τα δεδομένα του αρχείου καταγραφής καταγράφονται από άλλα εργαλεία. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα "[προσάρτημα 3: χρήση του Microsoft μήνυμα Analyzer για να καταγράψετε κίνηση του δικτύου](#appendix-3)".
- Εάν θέλετε να εκτελέσετε μια βασική σύνδεση δοκιμή για να ελέγξετε ότι υπολογιστή-πελάτη σας να συνδεθείτε με την υπηρεσία αποθήκευσης Azure μέσω του δικτύου, δεν είναι δυνατό να κάνετε αυτό με το εργαλείο τυπική **εντολή ping** του υπολογιστή-πελάτη. Ωστόσο, μπορείτε να χρησιμοποιήσετε το [εργαλείο **tcping** ](http://www.elifulkerson.com/projects/tcping.php) για να ελέγξετε τη σύνδεση.

Σε πολλές περιπτώσεις, τα δεδομένα του αρχείου καταγραφής από το χώρο αποθήκευσης καταγραφή και τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης θα είναι αρκετά για τη διάγνωση κάποιο πρόβλημα, αλλά σε ορισμένα σενάρια, ίσως χρειαστεί το πιο λεπτομερείς πληροφορίες που μπορούν να παρέχουν αυτά τα εργαλεία καταγραφής δικτύου. Για παράδειγμα, χρήση Fiddler για την προβολή μηνυμάτων HTTP και HTTPS σάς επιτρέπει να προβάλετε κεφαλίδα και το φορτίο δεδομένα αποστέλλονται προς και από το χώρο αποθήκευσης υπηρεσιών, οι οποίες θα σάς επιτρέπουν να εξετάσετε τον τρόπο μια εφαρμογή προγράμματος-πελάτη επαναλήψεις εργασίες αποθήκευσης. Πρωτόκολλο αναλυτές όπως Wireshark λειτουργούν σε επίπεδο πακέτου μπορείτε να προβάλλετε δεδομένα TCP, τα οποία θα σάς επιτρέπουν να αντιμετωπίσετε χαμένων πακέτων και αντιμετωπίζετε προβλήματα συνδεσιμότητας. Μήνυμα "Ανάλυση" λειτουργεί με HTTP και TCP επιπέδων.

## <a name="end-to-end-tracing"></a>Ανίχνευση για ολοκληρωμένες

Χρησιμοποιώντας μια ποικιλία αρχεία καταγραφής ανίχνευσης για ολοκληρωμένες είναι μια τεχνική χρήσιμη για τη διερεύνηση πιθανών ζητημάτων. Μπορείτε να χρησιμοποιήσετε τις πληροφορίες ημερομηνίας/ώρας από τα δεδομένα σας μετρικά ως ένδειξη από πού θα ξεκινήσετε την αναζήτηση στα αρχεία καταγραφής για τις λεπτομερείς πληροφορίες που θα σας βοηθήσει να αντιμετωπίσετε το πρόβλημα.

### <a name="correlating-log-data"></a>Συσχέτιση δεδομένα του αρχείου καταγραφής

Κατά την προβολή αρχείων καταγραφής από εφαρμογές προγράμματος-πελάτη, παρακολουθεί δικτύου και καταγραφή χώρο αποθήκευσης στο διακομιστή που είναι σημαντικό να έχετε τη δυνατότητα να συσχετίσετε τις αιτήσεις κατά μήκος των αρχείων καταγραφής διαφορετικά. Τα αρχεία καταγραφής περιλαμβάνουν ένα πλήθος διαφορετικών πεδίων που είναι χρήσιμη ως αναγνωριστικά συσχέτισης. Το αναγνωριστικό αίτησης προγράμματος-πελάτη είναι το πιο χρήσιμες πεδίο για να χρησιμοποιήσετε για να συσχετίσετε εγγραφές σε διαφορετικά αρχεία καταγραφής. Ωστόσο, ορισμένες φορές, μπορεί να είναι χρήσιμο να χρησιμοποιήσετε το αναγνωριστικό αίτησης διακομιστή ή χρονικές σημάνσεις. Οι παρακάτω ενότητες παρέχουν περισσότερες λεπτομέρειες σχετικά με αυτές τις επιλογές.

### <a name="client-request-id"></a>Αναγνωριστικό αίτησης προγράμματος-πελάτη

Στη βιβλιοθήκη του προγράμματος-πελάτη αποθήκευσης δημιουργεί αυτόματα ένα αναγνωριστικό αίτησης μοναδικό προγράμματος-πελάτη για κάθε αίτηση.

- Στο αρχείο καταγραφής πλευρά του προγράμματος-πελάτη που δημιουργεί τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης, το αναγνωριστικό αίτησης προγράμματος-πελάτη εμφανίζεται στο πεδίο **Αναγνωριστικό αίτησης προγράμματος-πελάτη** του κάθε εγγραφή αρχείου καταγραφής σχετικά με την αίτηση.
- Σε μια ανίχνευση δικτύου όπως ένα καταγράψει, Fiddler, το αναγνωριστικό αίτηση προγράμματος-πελάτη είναι ορατή στην πρόσκληση σε μηνύματα ως η τιμή κεφαλίδας **x-ms-πρόγραμμα-πελάτη--αναγνωριστικό αίτησης** HTTP.
- Στο διακομιστή καταγραφή χώρο αποθήκευσης στο αρχείο καταγραφής, το αναγνωριστικό αίτησης προγράμματος-πελάτη εμφανίζεται στη στήλη Αναγνωριστικό αίτηση προγράμματος-πελάτη.

> [AZURE.NOTE]Είναι δυνατή για πολλές αιτήσεις για να μοιραστείτε το ίδιο αναγνωριστικό αίτηση προγράμματος-πελάτη, επειδή το πρόγραμμα-πελάτη μπορούν να εκχωρήσουν αυτήν την τιμή (αν και τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης εκχωρεί αυτόματα μια νέα τιμή). Στην περίπτωση επαναλήψεις από το πρόγραμμα-πελάτη, όλες τις προσπάθειες μοιραστείτε το ίδιο αναγνωριστικό αίτηση προγράμματος-πελάτη. Στην περίπτωση μιας δέσμης που αποστέλλεται από το πρόγραμμα-πελάτη, η δέσμη έχει ένα αναγνωριστικό αίτησης μόνο πρόγραμμα-πελάτη.


### <a name="server-request-id"></a>Αναγνωριστικό αίτησης διακομιστή

Η υπηρεσία αποθήκευσης δημιουργεί αυτόματα αναγνωριστικά αίτηση διακομιστή.

- Στο διακομιστή καταγραφή χώρο αποθήκευσης στο αρχείο καταγραφής, το αναγνωριστικό αίτησης διακομιστή εμφανίζεται το **Αναγνωριστικό αίτησης επικεφαλίδας** στήλης.
- Ανίχνευση δικτύου όπως ένα καταγράψει, Fiddler, το αναγνωριστικό αίτησης διακομιστή εμφανίζεται σε μηνύματα απάντησης ως η τιμή κεφαλίδας **x-ms--αναγνωριστικό αίτησης** HTTP.
- Στο αρχείο καταγραφής πλευρά του προγράμματος-πελάτη που δημιουργεί τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης, το αναγνωριστικό αίτησης διακομιστή εμφανίζεται στη στήλη **Λειτουργία κειμένου** για την καταχώρηση αρχείου καταγραφής που εμφανίζει τις λεπτομέρειες της απόκρισης διακομιστή.

> [AZURE.NOTE] Η υπηρεσία αποθήκευσης πάντα αντιστοιχίζει ένα μοναδικό διακομιστή αναγνωριστικό αίτησης σε κάθε αίτηση που λαμβάνει, ώστε κάθε προσπάθεια "Επανάληψη" από το πρόγραμμα-πελάτη και κάθε λειτουργία που περιλαμβάνονται σε μια δέσμη περιλαμβάνει ένα αναγνωριστικό αίτησης μοναδικό διακομιστή.

Εάν στη βιβλιοθήκη του προγράμματος-πελάτη αποθήκευσης παρουσιάζει ένα **StorageException** στο πρόγραμμα-πελάτη, η ιδιότητα **RequestInformation** περιέχει ένα αντικείμενο **RequestResult** που περιλαμβάνει μια ιδιότητα **ServiceRequestID** . Μπορείτε επίσης να αποκτήσετε πρόσβαση σε ένα αντικείμενο **RequestResult** από μια παρουσία **OperationContext** .

Το παρακάτω δείγμα κώδικα παρουσιάζει πώς μπορείτε να ορίσετε μια προσαρμοσμένη τιμή **ClientRequestId** , επισυνάπτοντας ένα αντικείμενο **OperationContext** την αίτηση για την υπηρεσία χώρου αποθήκευσης. Εμφανίζει επίσης πώς μπορείτε να ανακτήσετε την τιμή **ServerRequestId** από το μήνυμα απάντησης.

    //Parse the connection string for the storage account.
    const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
    CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
    CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

    // Create an Operation Context that includes custom ClientRequestId string based on constants defined within the application along with a Guid.
    OperationContext oc = new OperationContext();
    oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

    try
    {
        CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
        ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
        var downloadToPath = string.Format("./{0}", blob.Name);
        using (var fs = File.OpenWrite(downloadToPath))
        {
            blob.DownloadToStream(fs, null, null, oc);
            Console.WriteLine("\t Blob downloaded to file: {0}", downloadToPath);
        }
    }
    catch (StorageException storageException)
    {
        Console.WriteLine("Storage exception {0} occurred", storageException.Message);
        // Multiple results may exist due to client side retry logic - each retried operation will have a unique ServiceRequestId
        foreach (var result in oc.RequestResults)
        {
                Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
        }
    }


### <a name="timestamps"></a>Χρονικές σημάνσεις

Μπορείτε επίσης να χρησιμοποιήσετε χρονικές σημάνσεις, για να εντοπίσετε τις καταχωρήσεις σχετικό αρχείο καταγραφής, αλλά πρέπει να είστε προσεκτικοί από οποιαδήποτε συνάρτηση skew ρολόι μεταξύ του προγράμματος-πελάτη και του διακομιστή που μπορεί να υπάρχουν. Θα πρέπει να αναζητάτε συν ή μείον 15 λεπτά για αντίστοιχες εγγραφές διακομιστή με βάση τη χρονική σήμανση του υπολογιστή-πελάτη. Να θυμάστε ότι τα μετα-δεδομένα blob για τα αντικείμενα BLOB που περιέχει μετρικά υποδεικνύει την περιοχή ώρας για τα μετρικά που είναι αποθηκευμένα στο αντικείμενο blob; Αυτό είναι χρήσιμο αν έχετε πολλά αντικείμενα BLOB μετρήσεις για την ίδια ώρα ή λεπτά.

## <a name="troubleshooting-guidance"></a>Οδηγίες αντιμετώπισης προβλημάτων

Αυτή η ενότητα θα σας βοηθήσει με τη διάγνωση και αντιμετώπιση προβλημάτων της ορισμένα από τα κοινά θέματα εφαρμογή σας μπορεί να αντιμετωπίσετε κατά τη χρήση των υπηρεσιών Azure χώρου αποθήκευσης. Χρησιμοποιήστε την παρακάτω λίστα για να εντοπίσετε τις πληροφορίες που σχετίζονται με ένα συγκεκριμένο ζήτημα.

**Αντιμετώπιση προβλημάτων του δέντρου αποφάσεων**

----------

Το ζήτημά σας που σχετίζονται με τις επιδόσεις της μία από τις υπηρεσίες χώρο αποθήκευσης;

- [Εμφάνιση μετρικά AverageE2ELatency υψηλού και χαμηλού AverageServerLatency]
- [Εμφάνιση μετρικά χαμηλής AverageE2ELatency και χαμηλής AverageServerLatency, αλλά ο υπολογιστής-πελάτης αντιμετωπίζει υψηλό λανθάνοντα χρόνο]
- [Μετρικά εμφάνιση υψηλής AverageServerLatency]
- [Αντιμετωπίζετε απροσδόκητες καθυστερήσεις στην παράδοση του μηνύματος σε μια ουρά]

----------

Το ζήτημά σας που σχετίζονται με τη διαθεσιμότητα των μία από τις υπηρεσίες χώρο αποθήκευσης;

- [Μετρικά εμφάνιση αύξηση στο PercentThrottlingError]
- [Μετρικά εμφάνιση αύξηση στο PercentTimeoutError]
- [Μετρικά εμφάνιση αύξηση στο PercentNetworkError]

----------

Εφαρμογή προγράμματος-πελάτη σας λαμβάνει μια απόκριση HTTP 4XX (όπως 404) από μια υπηρεσία αποθήκευσης;

- [Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 403 (Απαγορεύεται)]
- [Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 404 (δεν βρέθηκε)]
- [Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 409 (διένεξη)]

----------

[Μετρικά εμφάνιση χαμηλής PercentSuccess ή εγγραφές καταγραφής αναλυτικών στοιχείων έχουν της εκτέλεσης λειτουργιών με την κατάσταση συναλλαγής ClientOtherErrors]

----------

[Μετρικά δυναμικότητας εμφάνιση μη αναμενόμενο αύξηση στο μέγεθος χωρητικότητα αποθήκευσης]

----------

[Αντιμετωπίζετε μη αναμενόμενο επανεκκίνηση της εικονικές μηχανές που έχουν συνημμένα VHD μεγάλου αριθμού]

----------

[Το θέμα που προκύπτει από με το προσομοίωσης χώρου αποθήκευσης για ανάπτυξη ή δοκιμής]

----------

[Αντιμετωπίζετε προβλήματα κατά την εγκατάσταση του SDK Azure για .NET]

----------

[Έχετε ένα διαφορετικό πρόβλημα με μια υπηρεσία αποθήκευσης]

----------

### <a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Εμφάνιση μετρικά AverageE2ELatency υψηλού και χαμηλού AverageServerLatency

Η εικόνα κάτω από το στοιχείο από την [Πύλη Azure](https://portal.azure.com) εργαλείο παρακολούθησης εμφανίζει ένα παράδειγμα όπου το **AverageE2ELatency** είναι πολύ υψηλότερα από τα **AverageServerLatency**.

![][4]

Σημειώστε ότι η υπηρεσία αποθήκευσης μόνο υπολογίζει τη μέτρηση **AverageE2ELatency** για επιτυχή αιτήσεις και, σε αντίθεση με **AverageServerLatency**, περιλαμβάνει το χρόνο που χρειάζεται το πρόγραμμα-πελάτη για να στείλετε τα δεδομένα και να λαμβάνετε βεβαίωση λήψης από την υπηρεσία αποθήκευσης. Γι ' αυτό, διαφορά μεταξύ **AverageE2ELatency** και **AverageServerLatency** θα μπορούσε να είναι είτε λόγω την εφαρμογή-πελάτη αργές ανταποκρίνεται ή λόγω συνθήκες στο δίκτυο.

> [AZURE.NOTE] Μπορείτε επίσης να προβάλετε **E2ELatency** και **ServerLatency** για λειτουργίες μεμονωμένα χώρου αποθήκευσης των δεδομένων καταγραφής καταγραφή χώρου αποθήκευσης.

#### <a name="investigating-client-performance-issues"></a>Διερεύνηση θεμάτων επιδόσεων υπολογιστή-πελάτη

Πιθανές αιτίες για το πρόγραμμα-πελάτη που να ανταποκρίνεται αργά περιλαμβάνουν αντιμετωπίζετε περιορισμένο αριθμό διαθέσιμες συνδέσεις ή νήματα ή τη χαμηλή για τους πόρους, όπως το εύρος ζώνης δικτύου CPU, μνήμης ή. Ίσως μπορείτε να επιλύσετε το ζήτημα με την τροποποίηση του κώδικα του προγράμματος-πελάτη για να είναι πιο αποτελεσματικό (για παράδειγμα με τη χρήση ασύγχρονης κλήσεις στην υπηρεσία αποθήκευσης) ή χρησιμοποιώντας μια μεγαλύτερη εικονική μηχανή (με περισσότερες πυρήνων και περισσότερη μνήμη).

Για τις υπηρεσίες του πίνακα και ουρά, ο αλγόριθμος Nagle μπορεί να προκαλέσουν την υψηλή **AverageE2ELatency** σε σύγκριση με **AverageServerLatency**: για περισσότερες πληροφορίες, ανατρέξτε στην καταχώρηση [του Nagle αλγόριθμος είναι δεν είναι φιλική προς μικρές αιτήσεις](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx). Μπορείτε να απενεργοποιήσετε τον αλγόριθμο Nagle στον κώδικα, χρησιμοποιώντας την κλάση **ServicePointManager** στο χώρο ονομάτων **System.Net** . Θα πρέπει να κάνετε αυτό πριν από τις κλήσεις στον πίνακα ή άνοιγμα ουρά υπηρεσιών στην εφαρμογή σας, καθώς αυτό δεν επηρεάζει τις συνδέσεις που υπάρχουν ήδη. Το παρακάτω παράδειγμα προέρχεται από τη μέθοδο **Application_Start** σε ένα ρόλο εργασίας.

    var storageAccount = CloudStorageAccount.Parse(connStr);
    ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
    tableServicePoint.UseNagleAlgorithm = false;
    ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
    queueServicePoint.UseNagleAlgorithm = false;

Θα πρέπει να ελέγξετε τα αρχεία καταγραφής από την πλευρά του προγράμματος-πελάτη για να δείτε πόσες αιτήσεις υποβολή την εφαρμογή-πελάτη και έλεγχος για γενικές .NET που σχετίζονται με επιδόσεων επιβράδυνση των διαδικασιών στη υπολογιστή-πελάτη σας όπως CPU, συλλογής απορριμμάτων .NET, χρήση δικτύου ή μνήμης. Ως σημείο εκκίνησης για την αντιμετώπιση προβλημάτων σε εφαρμογές προγράμματος-πελάτη .NET, ανατρέξτε στο θέμα [Εντοπισμός σφαλμάτων, παρακολούθηση, και τη δημιουργία προφίλ](http://msdn.microsoft.com/library/7fe0dd2y).

#### <a name="investigating-network-latency-issues"></a>Διερεύνηση ζητήματα λανθάνων χρόνος δικτύου

Συνήθως, είναι υψηλό λανθάνοντα χρόνο λήξης-σε-end που προκαλούνται από του δικτύου λόγω μεταβατικές συνθήκες. Μπορείτε να εξετάσετε και τα δύο ζητήματα μεταβατικές και μόνιμη δικτύου όπως πακέτα που απορρίφθηκαν, χρησιμοποιώντας εργαλεία όπως το Wireshark ή το Microsoft μήνυμα Analyzer.

Για περισσότερες πληροφορίες σχετικά με τη χρήση Wireshark για την αντιμετώπιση προβλημάτων δικτύου, ανατρέξτε στο θέμα "[προσάρτημα 2: χρήση Wireshark για να καταγράψετε κίνηση του δικτύου]."

Για περισσότερες πληροφορίες σχετικά με τη χρήση υπηρεσίας ανάλυσης του Microsoft μήνυμα για την αντιμετώπιση προβλημάτων δικτύου, ανατρέξτε στο θέμα "[προσάρτημα 3: χρησιμοποιώντας την ανάλυση μηνύματος της Microsoft για να καταγράψετε κίνηση του δικτύου]."

### <a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Εμφάνιση μετρικά χαμηλής AverageE2ELatency και χαμηλής AverageServerLatency, αλλά ο υπολογιστής-πελάτης αντιμετωπίζει υψηλό λανθάνοντα χρόνο

Σε αυτό το σενάριο, η πιο πιθανή αιτία είναι μια καθυστέρηση στις αιτήσεις χώρου αποθήκευσης επικοινωνούν μαζί την υπηρεσία αποθήκευσης. Θα πρέπει να μπορείτε να εξετάσετε γιατί αιτήσεις από το πρόγραμμα-πελάτη δεν καθιστώντας μέσω της υπηρεσίας blob.

Μία πιθανή αιτία για το πρόγραμμα-πελάτη να καθυστερήσει αποστολή προσκλήσεων σε είναι ότι υπάρχουν περιορισμένο αριθμό διαθέσιμες συνδέσεις ή νήματα.

Μπορείτε, επίσης, θα πρέπει να ελέγξετε αν ο υπολογιστής-πελάτης εκτελεί πολλαπλές επαναλήψεις και διερευνήσουμε την αιτία εάν πρόκειται για την περίπτωση. Για να προσδιορίσετε αν ο υπολογιστής-πελάτης εκτελεί πολλαπλές επαναλήψεις, μπορείτε:

- Εξετάστε τα αρχεία καταγραφής ανάλυσης χώρου αποθήκευσης. Αν εκδηλώνεται πολλαπλές επαναλήψεις, θα δείτε πολλές εργασίες με το ίδιο Αναγνωριστικό αίτηση προγράμματος-πελάτη, αλλά με διαφορετικό διακομιστή αίτηση αναγνωριστικά.
- Εξετάστε τα αρχεία καταγραφής του προγράμματος-πελάτη. Λεπτομερής καταγραφή θα δηλώνει ότι παρουσιάστηκε ένα "Επανάληψη".
- Εντοπισμός σφαλμάτων τον κωδικό και, ελέγξτε τις ιδιότητες του αντικειμένου **OperationContext** που σχετίζεται με την αίτηση. Εάν η λειτουργία έχει επαναληφθεί, η ιδιότητα **RequestResults** θα περιλαμβάνει πολλές αίτηση διακομιστή μοναδικών αναγνωριστικών. Μπορείτε επίσης να ελέγξετε τις ώρες έναρξης και λήξης για κάθε αίτηση. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα το δείγμα κώδικα στην ενότητα [Αναγνωριστικό αίτησης διακομιστή].

Εάν υπάρχουν ζητήματα στο πρόγραμμα-πελάτη, θα πρέπει να Διερεύνηση πιθανών ζητημάτων δικτύου όπως απώλεια πακέτων. Μπορείτε να χρησιμοποιήσετε εργαλεία όπως το Wireshark ή το Microsoft Analyzer μήνυμα για να εξερευνήσετε ζητημάτων δικτύου.

Για περισσότερες πληροφορίες σχετικά με τη χρήση Wireshark για την αντιμετώπιση προβλημάτων δικτύου, ανατρέξτε στο θέμα "[προσάρτημα 2: χρήση Wireshark για να καταγράψετε κίνηση του δικτύου]."

Για περισσότερες πληροφορίες σχετικά με τη χρήση υπηρεσίας ανάλυσης του Microsoft μήνυμα για την αντιμετώπιση προβλημάτων δικτύου, ανατρέξτε στο θέμα "[προσάρτημα 3: χρησιμοποιώντας την ανάλυση μηνύματος της Microsoft για να καταγράψετε κίνηση του δικτύου]."

### <a name="metrics-show-high-AverageServerLatency"></a>Μετρικά εμφάνιση υψηλής AverageServerLatency

Στην περίπτωση υψηλή **AverageServerLatency** για αιτήσεις λήψης blob, θα πρέπει να μπορείτε να χρησιμοποιήσετε τα αρχεία καταγραφής του χώρου αποθήκευσης καταγραφής για να δείτε εάν υπάρχουν επαναλαμβανόμενων αιτήσεων για την ίδια blob (ή ένα σύνολο αντικειμένων blob). Για blob αποστολή προσκλήσεων, που θα πρέπει να εξετάσετε τι μπλοκ χρησιμοποιεί το μέγεθος του προγράμματος-πελάτη (για παράδειγμα, αποκλείει μικρότερο από 64K μεγέθους μπορεί να οδηγήσει σε διαφάνειες, εκτός εάν το διαβάζει είναι επίσης στο μικρότερο από 64K μπλοκ), και εάν πολλά προγράμματα-πελάτες στέλνετε μπλοκ για το ίδιο αντικείμενο blob παράλληλα. Μπορείτε επίσης να ελέγξετε τις μετρήσεις ανά λεπτό για αιχμές τον αριθμό των αιτήσεων που έχει ως αποτέλεσμα ότι έχετε υπερβεί το ανά δεύτερο προορισμών κλιμάκωση: Δείτε επίσης "[μετρικά εμφάνιση αύξηση PercentTimeoutError]".

Εάν βλέπετε υψηλή **AverageServerLatency** για blob λήψη αιτήσεις όταν υπάρχουν επαναλαμβανόμενους αιτήσεις το ίδιο blob ή ένα σύνολο αντικειμένων blob, στη συνέχεια, που πρέπει να λάβετε υπόψη σε cache αυτά τα αντικείμενα BLOB χρησιμοποιώντας το Azure Cache ή παράδοσης δικτύου περιεχομένου το Azure (CDN). Για αποστολή προσκλήσεων, μπορείτε να βελτιώσετε την απόδοση, χρησιμοποιώντας ένα μεγαλύτερο μέγεθος μπλοκ. Για ερωτήματα στους πίνακες, είναι επίσης πιθανό για την εφαρμογή-πελάτη σε cache σε προγράμματα-πελάτες που εκτελεί τις ίδιες λειτουργίες ερωτήματος και όπου τα δεδομένα δεν αλλάζουν συχνά.

Υψηλές τιμές **AverageServerLatency** μπορεί να είναι επίσης ένα σύμπτωμα ακατάλληλα σχεδιασμένο πίνακες ή ερωτήματα που έχει ως αποτέλεσμα λειτουργίες σάρωσης ή που ακολουθούν το μοτίβο καταπολέμησης προσάρτησης/ξεκινούν. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα "[μετρικά εμφάνιση αύξηση PercentThrottlingError]".

> [AZURE.NOTE] Μπορείτε να βρείτε μια ολοκληρωμένη λίστα ελέγχου επιδόσεων λίστα ελέγχου εδώ: [Microsoft Azure αποθήκευσης επιδόσεις και κλιμάκωση λίστα ελέγχου](storage-performance-checklist.md).

### <a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>Αντιμετωπίζετε απροσδόκητες καθυστερήσεις στην παράδοση του μηνύματος σε μια ουρά

Εάν αντιμετωπίζετε μια καθυστέρηση μεταξύ του χρόνου μια εφαρμογή προσθέτει ένα μήνυμα σε μια ουρά και την ώρα που γίνεται διαθέσιμο για ανάγνωση από την ουρά, θα πρέπει να μπορείτε να εκτελέσετε τα παρακάτω βήματα για να εντοπίσετε το πρόβλημα:

- Επαληθεύστε την εφαρμογή με επιτυχία προσθέτει τα μηνύματα στην ουρά. Ελέγξτε ότι η εφαρμογή είναι δεν γίνεται επανάληψη της μεθόδου **AddMessage** πολλές φορές πριν επακολουθούσες. Τα αρχεία καταγραφής βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης θα εμφανίσει οποιαδήποτε επαναλαμβανόμενους επαναλήψεις λειτουργιών για το χώρο αποθήκευσης.
- Βεβαιωθείτε υπάρχει καμία ρολόι skew μεταξύ του ρόλου εργαζόμενου που προσθέτει το μήνυμα στην ουρά και το ρόλο εργαζόμενου που διαβάζει το μήνυμα από την ουρά που σας επιτρέπει να εμφανίζεται σαν να υπάρχει καθυστέρηση στην επεξεργασία.
- Ελέγξτε εάν ο ρόλος εργαζόμενου που διαβάζει τα μηνύματα από την ουρά αποτυγχάνει. Εάν ένας υπολογιστής-πελάτης ουρά καλεί τη μέθοδο **GetMessage** , αλλά δεν ανταποκρίνεται με μια βεβαίωση λήψης, το μήνυμα θα παραμείνει αόρατο στην ουρά μέχρι τη λήξη της περιόδου **invisibilityTimeout** . Σε αυτό το σημείο, το μήνυμα θα είναι διαθέσιμο για επεξεργασία ξανά.
- Ελέγξτε εάν το μήκος ουράς μεγαλώνει μέσα στο χρόνο. Αυτό μπορεί να συμβεί εάν δεν έχετε επαρκή εργαζομένων διαθέσιμη για την επεξεργασία όλα τα μηνύματα που διάθεση άλλοι εργαζόμενοι του κλάδου στην ουρά. Μπορείτε επίσης να ελέγξετε τα μετρικά για να δείτε εάν αιτήσεις delete επαναλαμβάνονται παρουσιάζει σφάλμα και το πλήθος εξαγωγής από ουρά σε μηνύματα, τα οποία μπορεί να υποδεικνύουν απέτυχε προσπάθειες για να διαγράψετε το μήνυμα.
- Εξετάστε τα αρχεία καταγραφής καταγραφή χώρου αποθήκευσης για οποιαδήποτε ουρά λειτουργίες που έχουν μεγαλύτερη από το αναμενόμενο **E2ELatency** και **ServerLatency** τιμών σε έναν εκτεταμένο χρονικό διάστημα από ότι συνήθως.


### <a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Μετρικά εμφάνιση αύξηση στο PercentThrottlingError

Σφάλματα επιτάχυνσης παρουσιάζονται όταν υπερβείτε τους στόχους κλιμάκωση από μια υπηρεσία αποθήκευσης. Η υπηρεσία αποθήκευσης το κάνει αυτό για να βεβαιωθείτε ότι δεν υπάρχει μόνο πρόγραμμα-πελάτη ή μισθωτή να χρησιμοποιήσετε την υπηρεσία εις βάρος άλλους χρήστες. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Azure κλιμάκωση χώρου αποθήκευσης και τους στόχους επιδόσεων](storage-scalability-targets.md) για λεπτομέρειες σχετικά με τους στόχους κλιμάκωση για λογαριασμούς του χώρου αποθήκευσης και στόχους απόδοσης για τα διαμερίσματα μέσα σε λογαριασμούς χώρου αποθήκευσης.

Εάν το μετρικό **PercentThrottlingError** εμφανίσετε αύξηση το ποσοστό των αιτήσεων που αποτυγχάνουν με επιτάχυνσης σφάλμα, πρέπει να διερευνήσουμε μία από δύο σενάρια:

- [Μεταβατικές αύξηση PercentThrottlingError]
- [Μόνιμο αύξηση PercentThrottlingError σφάλματος]

Αύξηση της **PercentThrottlingError** συμβαίνει συχνά την ίδια στιγμή ως αύξηση του αριθμού των προσκλήσεων σε χώρο αποθήκευσης ή όταν είστε αρχικά φόρτωση δοκιμές την εφαρμογή σας. Αυτό μπορεί να επίσης εκδηλώνεται στο πρόγραμμα-πελάτη ως "503 διακομιστή απασχολημένος" ή "500 χρονικού ορίου λειτουργίας" HTTP μηνύματα κατάστασης από λειτουργίες χώρου αποθήκευσης.

#### <a name="transient-increase-in-PercentThrottlingError"></a>Μεταβατικές αύξηση PercentThrottlingError

Εάν βλέπετε αιχμές την τιμή του **PercentThrottlingError** που συμπίπτουν με τις περιόδους υψηλής δραστηριότητας για την εφαρμογή, θα πρέπει να υλοποιήσετε μια εκθετική (δεν γραμμικής) πίσω απενεργοποίηση στρατηγικής για τις επαναλήψεις στο πρόγραμμα-πελάτη: αυτό θα μείωση της άμεση φόρτωσης τα διαμερίσματα και να βοηθήσει την εφαρμογή σας εξομαλύνει αιχμές σε κίνηση. Για περισσότερες πληροφορίες σχετικά με το πώς μπορείτε να υλοποιήσετε πολιτικές "Επανάληψη" Χρήση της βιβλιοθήκης προγράμματος-πελάτη του χώρου αποθήκευσης, ανατρέξτε στο θέμα [Namespace Microsoft.WindowsAzure.Storage.RetryPolicies](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).

> [AZURE.NOTE] Μπορείτε επίσης να δείτε αιχμές την τιμή του **PercentThrottlingError** που δεν συμπίπτει με περιόδους υψηλής δραστηριότητας για την εφαρμογή: Εδώ η πιο πιθανή αιτία είναι η υπηρεσία αποθήκευσης μετακίνηση διαμερίσματα για να βελτιώσετε την εξισορρόπηση φόρτου.

#### <a name="permanent-increase-in-PercentThrottlingError"></a>Μόνιμο αύξηση PercentThrottlingError σφάλματος

Αν βλέπετε μια σταθερά υψηλή τιμή για το εξής **PercentThrottlingError** ελέγχει ένα μόνιμο αύξηση στο σας όγκους συναλλαγής ή όταν εκτελείτε την αρχική φόρτωση στην εφαρμογή σας και, στη συνέχεια, πρέπει να αξιολογήσετε τον τρόπο εφαρμογής σας χρησιμοποιεί τα διαμερίσματα του χώρου αποθήκευσης και αν πλησιάζει τους στόχους κλιμάκωση για ένα λογαριασμό του χώρου αποθήκευσης. Για παράδειγμα, εάν βλέπετε περιορισμού σφαλμάτων σε μια ουρά (το οποίο υπολογίζεται ως ένα μεμονωμένο partition), στη συνέχεια, που θα πρέπει να μπορείτε να χρησιμοποιήσετε επιπλέον ουρές για να επεκτείνετε τις συναλλαγές σε περισσότερα από ένα διαμερίσματα. Εάν βλέπετε περιορισμού σφάλματα σε έναν πίνακα, πρέπει να μπορείτε να χρησιμοποιήσετε έναν διαφορετικό συνδυασμό διαμερισμού να επεκτείνετε τις συναλλαγές σε περισσότερα από ένα διαμερίσματα χρησιμοποιώντας ένα ευρύτερο πλήθος partition βασικές τιμές. Μία συνηθισμένη αιτία αυτό το ζήτημα είναι το prepend/Προσάρτηση καταπολέμησης μοτίβο όπου μπορείτε να επιλέξετε την ημερομηνία ως το κλειδί διαμερίσματα και, στη συνέχεια, όλα τα δεδομένα σε μια συγκεκριμένη ημέρα εγγράφεται ένα διαμερίσματα: φόρτος, αυτό μπορεί να προκαλέσει συμφόρηση εγγραφής. Θα πρέπει να εξετάστε το ενδεχόμενο να διαφορετική διαμερισμού σχεδίαση ή να αξιολογήσουν αν χρησιμοποιείτε χώρος αποθήκευσης αντικειμένων blob μπορεί να είναι καλύτερη λύση. Θα πρέπει να επίσης, ελέγξτε εάν η περιορισμού να εμφανίζεται ως αποτέλεσμα αιχμές σε κυκλοφορία σας και Διερεύνηση τρόποι για να το μοτίβο των αιτήσεων εξομάλυνση.

Εάν μπορείτε να διανείμετε τις συναλλαγές σε περισσότερα από ένα διαμερίσματα, εξακολουθεί να πρέπει να γνωρίζετε τα όρια κλιμάκωση για το λογαριασμό χώρου αποθήκευσης. Για παράδειγμα, εάν χρησιμοποιήσατε δέκα ουρές κάθε επεξεργασίας έως 2.000 μηνύματα 1KB ανά δευτερόλεπτο, θα στο συνολικό όριο 20.000 μηνύματα ανά δευτερόλεπτο για το λογαριασμό χώρου αποθήκευσης. Εάν χρειάζεστε για την επεξεργασία περισσότερα από 20.000 οντοτήτων ανά δευτερόλεπτο, που θα πρέπει να μπορείτε να χρησιμοποιήσετε πολλούς λογαριασμούς χώρου αποθήκευσης. Θα πρέπει επίσης να φέρουν υπόψη ότι το μέγεθος των αιτήσεων και οντοτήτων έχει αντίκτυπο στην όταν η υπηρεσία αποθήκευσης throttles τους πελάτες σας: Εάν έχετε μεγαλύτερη αιτήσεις και οντοτήτων, που μπορεί να επιβραδύνει αργά.

Σχεδίαση ερωτήματος αποτελεσματική μπορεί να προκαλέσει επίσης να πατήσετε τα όρια κλιμάκωση για διαμερίσματα του πίνακα. Για παράδειγμα, ένα ερώτημα με ένα φίλτρο που επιλέγει μόνο ένα ποσοστό των οντοτήτων σε ένα διαμερίσματα αλλά που σαρώνει όλα τα οντοτήτων ένα διαμερίσματα θα πρέπει να έχετε πρόσβαση σε κάθε οντότητα. Κάθε οντότητα ανάγνωσης θα συνυπολογίζεται τον συνολικό αριθμό των συναλλαγών σε συγκεκριμένη διαμερίσματα; γι ' αυτό, μπορείτε εύκολα να επικοινωνήσετε τους στόχους κλιμάκωση.

> [AZURE.NOTE] Δοκιμής σας επιδόσεων θα πρέπει να αποκαλύψετε σχεδιάσεις αποτελεσματική ερωτήματος στην εφαρμογή σας.

### <a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Μετρικά εμφάνιση αύξηση στο PercentTimeoutError

Σας μετρικά εμφάνιση αύξηση στο **PercentTimeoutError** για μία από τις υπηρεσίες του χώρου αποθήκευσης. Την ίδια στιγμή, ο υπολογιστής-πελάτης λαμβάνει μεγάλο όγκο μηνυμάτων κατάστασης "500 χρονικού ορίου λειτουργίας" HTTP από λειτουργίες χώρου αποθήκευσης.

> [AZURE.NOTE] Μπορείτε να δείτε τα σφάλματα χρονικού ορίου προσωρινά ως την υπηρεσία αποθήκευσης φόρτωση αιτήσεις υπολοίπων μετακινώντας ένα διαμερίσματα σε ένα νέο διακομιστή.

Τη μέτρηση **PercentTimeoutError** είναι μια συγκέντρωση των παρακάτω μετρικών: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**και **SASServerTimeoutError**.

Τα χρονικά όρια διακομιστή προκαλούνται από ένα σφάλμα στο διακομιστή. Το πρόγραμμα-πελάτη χρονικών ορίων συμβεί επειδή μια λειτουργία στο διακομιστή έχει υπερβεί το χρονικό όριο που καθορίζεται από το πρόγραμμα-πελάτη; Για παράδειγμα, ένα πρόγραμμα-πελάτη με χρήση της βιβλιοθήκης του προγράμματος-πελάτη χώρου αποθήκευσης να ορίσετε ένα χρονικό όριο για μια εργασία, χρησιμοποιώντας την ιδιότητα **ServerTimeout** της κλάσης **QueueRequestOptions** .

Χρονικά όρια διακομιστή υποδεικνύει ένα πρόβλημα με την υπηρεσία αποθήκευσης που απαιτεί περαιτέρω έρευνα. Μπορείτε να χρησιμοποιήσετε μετρικά για να δείτε εάν μπορείτε να επιτύχετε τα όρια κλιμάκωση για την υπηρεσία και για τον προσδιορισμό τυχόν αιχμές σε κυκλοφορία που ενδέχεται να προκαλεί αυτό το πρόβλημα. Εάν το πρόβλημα είναι περιοδικά, αυτό μπορεί να οφείλεται σε εξισορρόπησης φόρτου δραστηριότητας στην υπηρεσία. Εάν το πρόβλημα είναι μόνιμη και δεν προκαλείται από την εφαρμογή σας πάτημα τα όρια κλιμάκωση της υπηρεσίας, θα πρέπει να μπορείτε να αυξήσετε ένα ζήτημα υποστήριξης. Για το πρόγραμμα-πελάτη χρονικών ορίων, πρέπει να αποφασίσετε εάν το χρονικό όριο έχει οριστεί σε μια κατάλληλη τιμή στο πρόγραμμα-πελάτη και είτε αλλάξτε την τιμή χρονικού ορίου ρύθμιση στο πρόγραμμα-πελάτη ή διερευνήσουμε πώς μπορείτε να βελτιώσετε την απόδοση των λειτουργιών του στην υπηρεσία αποθήκευσης, για παράδειγμα με τη βελτιστοποίηση των ερωτημάτων πίνακα ή μείωση του μεγέθους των μηνυμάτων σας.

### <a name="metrics-show-an-increase-in-PercentNetworkError"></a>Μετρικά εμφάνιση αύξηση στο PercentNetworkError

Σας μετρικά εμφάνιση αύξηση στο **PercentNetworkError** για μία από τις υπηρεσίες του χώρου αποθήκευσης. Τη μέτρηση **PercentNetworkError** είναι μια συγκέντρωση των παρακάτω μετρικών: **NetworkError**, **AnonymousNetworkError**και **SASNetworkError**. Αυτά προκύπτουν όταν η υπηρεσία αποθήκευσης εντοπίσει ένα σφάλμα δικτύου, όταν ο υπολογιστής-πελάτης δημιουργεί μια πρόσκληση σε χώρο αποθήκευσης.

Η πιο κοινή αιτία αυτού του σφάλματος είναι ένα πρόγραμμα-πελάτη αποσύνδεση πριν λήξει το χρονικό όριο στην υπηρεσία αποθήκευσης. Θα πρέπει να μπορείτε να εξετάσετε τον κώδικα στο πρόγραμμα-πελάτη για να κατανοήσει γιατί και πότε ο υπολογιστής-πελάτης αποσυνδέεται από την υπηρεσία αποθήκευσης. Μπορείτε επίσης να χρησιμοποιήσετε Wireshark, Microsoft μήνυμα Analyzer ή Tcping για να εξερευνήσετε ζητήματα συνδεσιμότητας δικτύου από το πρόγραμμα-πελάτη. Αυτά τα εργαλεία περιγράφονται στα [προσαρτήματα].

### <a name="the-client-is-receiving-403-messages"></a>Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 403 (Απαγορεύεται)

Εάν την εφαρμογή-πελάτη είναι αποστελλόμενο σφάλματα HTTP 403 (Απαγορεύεται), μια πιθανή αιτία είναι ότι ο υπολογιστής-πελάτης χρησιμοποιεί μια έχει λήξει θέσει σε κοινή χρήση Access υπογραφή (συσχετισμών Ασφαλείας) όταν στέλνει μια πρόσκληση σε χώρο αποθήκευσης (αν και άλλες πιθανές αιτίες περιλαμβάνονται πλήκτρα skew, δεν είναι έγκυρο ρολόι και κενή κεφαλίδες). Εάν ένας αριθμός-κλειδί έχει λήξει συσχετισμών Ασφαλείας είναι η αιτία, δεν θα βλέπετε όλες τις καταχωρήσεις στα δεδομένα καταγραφής καταγραφή χώρο αποθήκευσης στο διακομιστή. Ο παρακάτω πίνακας εμφανίζει ένα δείγμα από το αρχείο καταγραφής πλευρά του προγράμματος-πελάτη που δημιουργείται από τη βιβλιοθήκη προγράμματος-πελάτη χώρου αποθήκευσης που απεικονίζει αυτό το πρόβλημα που συμβαίνουν:

Αρχείο προέλευσης|Επίπεδο λεπτομερειών|Επίπεδο λεπτομερειών|Αναγνωριστικό αίτησης προγράμματος-πελάτη|Λειτουργία κειμένου
---|---|---|---|---
Microsoft.WindowsAzure.Storage|Πληροφορίες|3|85d077ab-...|Η λειτουργία εκκίνησης με κύρια θέση ανά θέση λειτουργία PrimaryOnly.
Microsoft.WindowsAzure.Storage|Πληροφορίες|3|85d077ab-...|Έναρξη σύγχρονη αίτηση για https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr = c&amp;εάν = mypolicy&amp;υπογραφής = OFnd4Rd7z01fIvh % 2BmcR6zbudIH2F5Ikm % 2FyhNYZEmJNQ % 3Δ&amp;έκδοση api = 2014-02-14.
Microsoft.WindowsAzure.Storage|Πληροφορίες|3|85d077ab-...|Αναμονή για απάντηση.
Microsoft.WindowsAzure.Storage|Προειδοποίηση|2|85d077ab-...|Εξαίρεση κατά την αναμονή για απάντηση: Ο απομακρυσμένος διακομιστής επέστρεψε σφάλμα: (403) δεν επιτρέπεται...
Microsoft.WindowsAzure.Storage|Πληροφορίες|3|85d077ab-...|Απόκριση που λάβατε. Ο κωδικός κατάστασης = 403, αίτηση Αναγνωριστικό = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 =, ETag =.
Microsoft.WindowsAzure.Storage|Προειδοποίηση|2|85d077ab-...|Εξαίρεση κατά τη λειτουργία: Ο απομακρυσμένος διακομιστής επέστρεψε σφάλμα: (403) δεν επιτρέπεται...
Microsoft.WindowsAzure.Storage|Πληροφορίες|3 |85d077ab-...|Ελέγχει εάν η λειτουργία πρέπει να επαναληφθεί. Επαναλάβετε τη μέτρηση = 0, ο κωδικός κατάστασης HTTP 403, εξαίρεση = = ο απομακρυσμένος διακομιστής επέστρεψε ένα σφάλμα: (403) δεν επιτρέπεται...
Microsoft.WindowsAzure.Storage|Πληροφορίες|3|85d077ab-...|Στην επόμενη θέση έχει οριστεί σε κύρια, με βάση τη λειτουργία θέση.
Microsoft.WindowsAzure.Storage|Σφάλμα|1|85d077ab-...|Πολιτική "Επανάληψη" δεν επιτρέπεται ένα "Επανάληψη". Αποτυχία με ο απομακρυσμένος διακομιστής επέστρεψε ένα σφάλμα: (403) δεν επιτρέπεται.

Σε αυτό το σενάριο, θα πρέπει να εξετάσετε γιατί λήγει το διακριτικό συσχετισμών Ασφαλείας πριν από το πρόγραμμα-πελάτη στέλνει το διακριτικό στο διακομιστή:

- Συνήθως, δεν πρέπει να ορίζετε μια ώρα έναρξης όταν δημιουργείτε μια συσχετισμών Ασφαλείας για ένα πρόγραμμα-πελάτη για να χρησιμοποιήσετε αμέσως. Εάν υπάρχουν ρολόι μικρές διαφορές μεταξύ του κεντρικού υπολογιστή δημιουργό τις συσχετίσεις Ασφαλείας χρησιμοποιώντας την τρέχουσα ώρα και την υπηρεσία αποθήκευσης, στη συνέχεια, είναι δυνατή για την υπηρεσία χώρου αποθήκευσης για τη λήψη ενός συσχετισμών Ασφαλείας που δεν είναι έγκυρο ακόμα.
- Δεν πρέπει να ορίζετε μια ώρα λήξης πολύ σύντομο σε μια συσχετισμών Ασφαλείας. Ξανά, μικρό ρολόι διαφορές μεταξύ του κεντρικού υπολογιστή δημιουργία τις συσχετίσεις Ασφαλείας και την υπηρεσία αποθήκευσης μπορεί να οδηγήσει σε μια συσχετισμών Ασφαλείας προφανώς λήγει παλαιότερη από το αναμενόμενο.
- Κάνει η παράμετρος έκδοσης του κλειδιού συσχετισμών Ασφαλείας (για παράδειγμα **ΔΧ = 2015-04-05**) συμφωνεί με την έκδοση της βιβλιοθήκης του προγράμματος-πελάτη χώρου αποθήκευσης που χρησιμοποιείτε; Συνιστάται να χρησιμοποιείτε πάντα την πιο πρόσφατη έκδοση της [Βιβλιοθήκης προγράμματος-πελάτη του χώρου αποθήκευσης](https://www.nuget.org/packages/WindowsAzure.Storage/).
- Αν αναδημιουργήσετε το χώρο αποθήκευσης πλήκτρα πρόσβασης, αυτό μπορεί να ακυρώσει οποιαδήποτε υπάρχοντα διακριτικά συσχετισμών Ασφαλείας. Αυτό μπορεί να είναι ένα ζήτημα εάν δημιουργήσετε διακριτικά συσχετισμών Ασφαλείας με το χρόνο λήξης χρόνο για εφαρμογές προγράμματος-πελάτη στο cache.

Εάν χρησιμοποιείτε τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης για τη δημιουργία διακριτικά συσχετισμούς Ασφαλείας, στη συνέχεια, είναι εύκολο για να δημιουργήσετε ένα έγκυρο διακριτικό. Ωστόσο, εάν χρησιμοποιείτε το REST API χώρου αποθήκευσης και η κατασκευή τα διακριτικά συσχετισμών Ασφαλείας με μη αυτόματο τρόπο πρέπει να διαβάσετε προσεκτικά το θέμα [Ανάθεση πρόσβασης με μια υπογραφή πρόσβασης σε κοινή χρήση](http://msdn.microsoft.com/library/azure/ee395415.aspx).

### <a name="the-client-is-receiving-404-messages"></a>Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 404 (δεν βρέθηκε)
Εάν η εφαρμογή προγράμματος-πελάτη λαμβάνει μήνυμα HTTP 404 (δεν βρέθηκε) από το διακομιστή, αυτό σημαίνει ότι δεν υπάρχει στην υπηρεσία αποθήκευσης στο αντικείμενο του προγράμματος-πελάτη επιχειρήσετε να χρησιμοποιήσετε (όπως μια οντότητα, πίνακα, blob, κοντέινερ ή ουρά). Υπάρχουν έναν αριθμό πιθανοί λόγοι για αυτό, όπως:

- [Ο υπολογιστής-πελάτης ή άλλη διεργασία διαγραμμένων του αντικειμένου]
- [Ένα θέμα εξουσιοδότηση θέσει σε κοινή χρήση Access υπογραφή (συσχετισμών Ασφαλείας)]
- [Κώδικα JavaScript πλευρά του προγράμματος-πελάτη δεν έχει δικαίωμα πρόσβασης του αντικειμένου]
- [Αποτυχία δικτύου]

#### <a name="client-previously-deleted-the-object"></a>Ο υπολογιστής-πελάτης ή άλλη διεργασία διαγραμμένων του αντικειμένου
Σε σενάρια όπου ο υπολογιστής-πελάτης προσπαθεί να ανάγνωση, ενημέρωση ή διαγραφή δεδομένων σε μια υπηρεσία αποθήκευσης είναι συνήθως εύκολο για τον προσδιορισμό στα αρχεία καταγραφής από την πλευρά του διακομιστή μια προηγούμενη λειτουργία που διαγράψατε το εν λόγω αντικείμενο από την υπηρεσία αποθήκευσης. Πολύ συχνά, τα δεδομένα του αρχείου καταγραφής εμφανίζει ότι κάποιος άλλος χρήστης ή η διαδικασία διαγραφεί το αντικείμενο. Στο διακομιστή καταγραφή χώρο αποθήκευσης στο αρχείο καταγραφής, τις Τύπος λειτουργίας και τις στήλες ζητήθηκε αντικειμένου-κλειδιού εμφάνιση όταν ένα πρόγραμμα-πελάτη διαγραφεί ένα αντικείμενο.

Στο σενάριο όπου ένα πρόγραμμα-πελάτη προσπαθείτε να εισαγάγετε ένα αντικείμενο, δεν μπορεί να είναι αμέσως εμφανή για ποιο λόγο το αποτέλεσμα είναι μια απόκριση HTTP 404 (δεν βρέθηκε) δεδομένου ότι το πρόγραμμα-πελάτη είναι η δημιουργία ενός νέου αντικειμένου. Ωστόσο, εάν ο υπολογιστής-πελάτης δημιουργεί ένα blob θα πρέπει να έχει για να βρείτε το κοντέινερ αντικειμένων blob, αν ο υπολογιστής-πελάτης δημιουργεί ένα μήνυμα που θα πρέπει να έχει για να βρείτε μια ουρά και εάν το πρόγραμμα-πελάτη είναι να προσθέσετε μια γραμμή πρέπει να μπορούν να βρείτε τον πίνακα.

Μπορείτε να χρησιμοποιήσετε το αρχείο καταγραφής πλευρά του προγράμματος-πελάτη από τη βιβλιοθήκη προγράμματος-πελάτη του χώρου αποθήκευσης για να αποκτήσετε μια πιο λεπτομερή Κατανόηση της όταν ο υπολογιστής-πελάτης στέλνει συγκεκριμένες αιτήσεις με την υπηρεσία αποθήκευσης.

Το παρακάτω αρχείο καταγραφής πλευρά του προγράμματος-πελάτη που δημιουργείται από το χώρο αποθήκευσης βιβλιοθήκη προγράμματος-πελάτη απεικονίζει το ζήτημα, όταν ο υπολογιστής-πελάτης δεν μπορείτε να βρείτε το κοντέινερ για το αντικείμενο blob είναι να δημιουργήσετε. Αυτό το αρχείο καταγραφής περιλαμβάνει λεπτομέρειες από τις ακόλουθες λειτουργίες αποθήκευσης:

Αναγνωριστικό αίτησης|Η λειτουργία
---|---
07b26a5d-...|Μέθοδος **DeleteIfExists** για να διαγράψετε το κοντέινερ αντικειμένων blob. Σημειώστε ότι αυτή η λειτουργία περιλαμβάνει μια **ΚΕΦΑΛΉ** αίτηση για να ελέγξετε για την ύπαρξη του κοντέινερ.
e2d06d78...|Μέθοδος **CreateIfNotExists** για να δημιουργήσετε το κοντέινερ αντικειμένων blob. Σημειώστε ότι αυτή η λειτουργία περιλαμβάνει μια αίτηση **ΚΕΦΑΛΉ** που ελέγχει την ύπαρξη του κοντέινερ. Ο **ΑΡΧΗΓΌΣ** επιστρέφει ένα μήνυμα 404 αλλά συνεχίζει.
de8b1c3c-...|Μέθοδος **UploadFromStream** για να δημιουργήσετε το αντικείμενο blob. Η αίτηση **ΤΟΠΟΘΈΤΗΣΗ** αποτυγχάνει με ένα μήνυμα 404

Εγγραφές:

Αναγνωριστικό αίτησης |  Λειτουργία κειμένου
---|---
07b26a5d-...|Έναρξη της συγχρονισμένης αίτηση για https://domemaildist.blob.core.windows.net/azuremmblobcontainer.
07b26a5d-...|StringToSign = HEAD...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 2014 Ιουνίου 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.
07b26a5d-...|Αναμονή για απάντηση.
07b26a5d-... | Απόκριση που λάβατε. Ο κωδικός κατάστασης = 200, αίτηση Αναγνωριστικό = eeead849... Περιεχόμενο-MD5 =, ETag = &quot;0x8D14D2DC63D059B&quot;.
07b26a5d-... | Κεφαλίδες απόκρισης έχουν υποβληθεί σε επεξεργασία με επιτυχία, να συνεχίσετε το υπόλοιπο της λειτουργίας.
07b26a5d-... | Λήψη απόκρισης σώμα.
07b26a5d-... | Η λειτουργία ολοκληρώθηκε με επιτυχία.
07b26a5d-... | Έναρξη της συγχρονισμένης αίτηση για https://domemaildist.blob.core.windows.net/azuremmblobcontainer.
07b26a5d-... | StringToSign = DELETE...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 2014 Ιουνίου 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.
07b26a5d-... | Αναμονή για απάντηση.
07b26a5d-... | Απόκριση που λάβατε. Ο κωδικός κατάστασης = 202 αίτηση Αναγνωριστικό = 6ab2a4cf-..., Content-MD5 =, ETag =.
07b26a5d-... | Κεφαλίδες απόκρισης έχουν υποβληθεί σε επεξεργασία με επιτυχία, να συνεχίσετε το υπόλοιπο της λειτουργίας.
07b26a5d-... | Λήψη απόκρισης σώμα.
07b26a5d-... | Η λειτουργία ολοκληρώθηκε με επιτυχία.
e2d06d78-... | Έναρξη ασύγχρονης αίτηση για https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</td>
e2d06d78-... | StringToSign = HEAD...x-ms-client-request-id:e2d06d78-...x-ms-date:Tue, 03 2014 Ιουνίου 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.
e2d06d78-...| Αναμονή για απάντηση.
de8b1c3c-... | Έναρξη της συγχρονισμένης αίτηση για https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.
de8b1c3c-... |  StringToSign = ΤΟΠΟΘΈΤΗΣΗ... 64.qCmF+TQLPhq/YYK50mP9ZQ==...x-MS-BLOB-Type:BlockBlob.x-MS-Client-Request-ID:de8b1c3c-...x-MS-Date:Tue, 03 2014 Ιουνίου 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.
de8b1c3c-... | Προετοιμασία για την εγγραφή δεδομένων αίτησης.
e2d06d78-... | Εξαίρεση κατά την αναμονή για απάντηση: Ο απομακρυσμένος διακομιστής επέστρεψε σφάλμα: (404) δεν βρέθηκε...
e2d06d78-... | Απόκριση που λάβατε. Ο κωδικός κατάστασης = 404, αίτηση Αναγνωριστικό = 353ae3bc-..., Content-MD5 =, ETag =.
e2d06d78-... | Κεφαλίδες απόκρισης έχουν υποβληθεί σε επεξεργασία με επιτυχία, να συνεχίσετε το υπόλοιπο της λειτουργίας.
e2d06d78-... | Λήψη απόκρισης σώμα.
e2d06d78-... | Η λειτουργία ολοκληρώθηκε με επιτυχία.
e2d06d78-... | Έναρξη ασύγχρονης αίτηση για https://domemaildist.blob.core.windows.net/azuremmblobcontainer.
e2d06d78-...|StringToSign = ΤΟΠΟΘΈΤΗΣΗ... 0...x-MS-Client-Request-ID:e2d06d78-...x-MS-Date:Tue, 03 2014 Ιουνίου 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.
e2d06d78-... | Αναμονή για απάντηση.
de8b1c3c-... | Γράψιμο αίτηση δεδομένα.
de8b1c3c-... | Αναμονή για απάντηση.
e2d06d78-... | Εξαίρεση κατά την αναμονή για απάντηση: Ο απομακρυσμένος διακομιστής επέστρεψε σφάλμα: (409) διένεξης...
e2d06d78-... | Απόκριση που λάβατε. Ο κωδικός κατάστασης = 409, αίτηση Αναγνωριστικό = c27da20e-..., Content-MD5 =, ETag =.
e2d06d78-... | Γίνεται λήψη σφάλματος απόκριση σώμα.
de8b1c3c-... | Εξαίρεση κατά την αναμονή για απάντηση: Ο απομακρυσμένος διακομιστής επέστρεψε σφάλμα: (404) δεν βρέθηκε...
de8b1c3c-... | Απόκριση που λάβατε. Ο κωδικός κατάστασης = 404, αίτηση Αναγνωριστικό = 0eaeab3e-..., Content-MD5 =, ETag =.
de8b1c3c-...| Εξαίρεση κατά τη λειτουργία: Ο απομακρυσμένος διακομιστής επέστρεψε σφάλμα: (404) δεν βρέθηκε...
de8b1c3c-... | Πολιτική "Επανάληψη" δεν επιτρέπεται ένα "Επανάληψη". Αποτυχία με ο απομακρυσμένος διακομιστής επέστρεψε ένα σφάλμα: (404) δεν βρέθηκε...
e2d06d78-... | Πολιτική "Επανάληψη" δεν επιτρέπεται ένα "Επανάληψη". Αποτυχία με ο απομακρυσμένος διακομιστής επέστρεψε ένα σφάλμα: (409) διένεξης..

Σε αυτό το παράδειγμα, το αρχείο καταγραφής δείχνει ότι το πρόγραμμα-πελάτη παρεμβολή αιτήσεις από τη μέθοδο **CreateIfNotExists** (αίτηση... το αναγνωριστικό e2d06d78) με τις αιτήσεις από τη μέθοδο **UploadFromStream** (de8b1c3c-...); Αυτό συμβαίνει επειδή η εφαρμογή προγράμματος-πελάτη είναι κλήση ασύγχρονα τις παρακάτω μεθόδους. Θα πρέπει να τροποποιήσετε τον ασύγχρονης κώδικα στο πρόγραμμα-πελάτη για να βεβαιωθείτε ότι που δημιουργεί το κοντέινερ πριν να επιχειρήσετε να στείλετε τα δεδομένα σε ένα blob σε αυτό το κοντέινερ. Ιδανικά, θα πρέπει να δημιουργήσετε όλους τους χώρους εκ των προτέρων.

#### <a name="SAS-authorization-issue"></a>Ένα θέμα εξουσιοδότηση θέσει σε κοινή χρήση Access υπογραφή (συσχετισμών Ασφαλείας)

Εάν η εφαρμογή προγράμματος-πελάτη προσπαθεί να χρησιμοποιήσετε έναν αριθμό-κλειδί συσχετισμών Ασφαλείας που δεν περιλαμβάνει τα απαραίτητα δικαιώματα για τη λειτουργία, την υπηρεσία αποθήκευσης επιστρέφει ένα μήνυμα HTTP 404 (δεν βρέθηκε) στον υπολογιστή-πελάτη. Την ίδια στιγμή, θα βλέπετε επίσης μια μη μηδενική τιμή για το **SASAuthorizationError** στο τα μετρικά.

Ο παρακάτω πίνακας εμφανίζει ένα δείγμα μηνύματος καταγραφής διακομιστή από το αρχείο καταγραφής καταγραφή χώρου αποθήκευσης:

<table>
  <tr>
    <td>Αίτηση ώρα έναρξης</td>
    <td>2014-05-30T06:17:48.4473697Z</td>
  </tr>
  <tr>
    <td>Τύπος λειτουργίας</td>
    <td>GetBlobProperties</td>
  </tr>
  <tr>
    <td>Κατάσταση αίτησης</td>
    <td>SASAuthorizationError</td>
  </tr>
  <tr>
    <td>Ο κωδικός κατάστασης HTTP</td>
    <td>404</td>
  </tr>
  <tr>
    <td>Τύπος ελέγχου ταυτότητας</td>
    <td>Συσχετίσεις ασφαλείας</td>
  </tr>
  <tr>
    <td>Τύπος υπηρεσίας</td>
    <td>BLOB</td>
  </tr>
  <tr>
    <td>Αίτηση διεύθυνσης URL</td>
    <td>
    https://domemaildist.blob.Core.Windows.NET/azureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;amp; sr = c&amp;amp; Εάν = mypolicy&amp;amp; υπογραφής = XXXXX&amp;amp; έκδοση api = 2014-02-14&amp;amp;</td>
  </tr>
  <tr>
    <td>Κεφαλίδα αναγνωριστικό αίτησης</td>
    <td>a1f348d5-8032-4912-93EF-b393e5252a3b</td>
  </tr>
  <tr>
    <td>Αναγνωριστικό αίτησης προγράμματος-πελάτη</td>
    <td>2d064953-8436-4ee0-aa0c-65cb874f7929</td>
  </tr>
</table>

Θα πρέπει να μπορείτε να εξετάσετε γιατί την εφαρμογή-πελάτη προσπαθεί να εκτελέσετε μια λειτουργία έχει δεν έχουν εκχωρηθεί δικαιώματα για.

#### <a name="JavaScript-code-does-not-have-permission"></a>Κώδικα JavaScript πλευρά του προγράμματος-πελάτη δεν έχει δικαίωμα πρόσβασης του αντικειμένου

Εάν χρησιμοποιείτε το πρόγραμμα-πελάτη και JavaScript και την υπηρεσία αποθήκευσης επιστρέφει μηνύματα HTTP 404, ελέγξτε για τα ακόλουθα σφάλματα JavaScript στο πρόγραμμα περιήγησης:

    SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
    SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.

> [AZURE.NOTE] Μπορείτε να χρησιμοποιήσετε τα εργαλεία για προγραμματιστές F12 στον Internet Explorer για την ανίχνευση του μηνυμάτων που ανταλλάσσονται μεταξύ του προγράμματος περιήγησης και την υπηρεσία αποθήκευσης κατά την αντιμετώπιση προβλημάτων JavaScript πλευρά του προγράμματος-πελάτη.

Αυτά τα σφάλματα παρουσιάζονται επειδή το πρόγραμμα περιήγησης web υλοποιεί τον περιορισμό ασφάλειας [ίδια πολιτική origin](http://www.w3.org/Security/wiki/Same_Origin_Policy) που αποτρέπει την κλήση API σε διαφορετικό τομέα από τον τομέα της σελίδας που προέρχεται από μια ιστοσελίδα.

Για να επιλύσετε το ζήτημα JavaScript, μπορείτε να ρυθμίσετε Cross Origin πόρων κοινής χρήσης (CORS) για την υπηρεσία αποθήκευσης έχει πρόσβαση σε πρόγραμμα-πελάτη. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [κοινή χρήση πόρων μεταξύ Origin (CORS) υποστήριξη για τις υπηρεσίες του χώρου αποθήκευσης Azure](http://msdn.microsoft.com/library/azure/dn535601.aspx).

Το παρακάτω δείγμα κώδικα δείχνει πώς μπορείτε να ρυθμίσετε τις παραμέτρους της υπηρεσίας blob για να επιτρέψετε JavaScript που εκτελείται στον τομέα Contoso για να αποκτήσετε πρόσβαση σε ένα αντικείμενο blob στην υπηρεσία αποθήκευσης αντικειμένων blob:

    CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
    // Set the service properties.
    ServiceProperties sp = client.GetServiceProperties();
    sp.DefaultServiceVersion = "2013-08-15";
    CorsRule cr = new CorsRule();
    cr.AllowedHeaders.Add("*");
    cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
    cr.AllowedOrigins.Add("http://www.contoso.com");
    cr.ExposedHeaders.Add("x-ms-*");
    cr.MaxAgeInSeconds = 5;
    sp.Cors.CorsRules.Clear();
    sp.Cors.CorsRules.Add(cr);
    client.SetServiceProperties(sp);

#### <a name="network-failure"></a>Αποτυχία δικτύου

Σε ορισμένες περιπτώσεις, μπορεί να οδηγήσει πακέτα χαθούν δικτύου με την υπηρεσία αποθήκευσης επιστρέφει μηνύματα HTTP 404 στο πρόγραμμα-πελάτη. Για παράδειγμα, όταν την εφαρμογή-πελάτη είναι η διαγραφή μιας οντότητας από την υπηρεσία πίνακα βλέπετε το πρόγραμμα-πελάτη εμφανίσουν μια αναφορά εξαίρεσης χώρου αποθήκευσης μιας "HTTP 404 (δεν βρέθηκε)" μήνυμα κατάστασης από την υπηρεσία του πίνακα. Όταν διερευνήσουμε τον πίνακα στην υπηρεσία αποθήκευσης πίνακα, βλέπετε ότι η υπηρεσία έγινε διαγραφή η οντότητα όπως ζητήθηκε.

Οι λεπτομέρειες εξαίρεσης στο πρόγραμμα-πελάτη περιλαμβάνουν το αναγνωριστικό αίτησης (7e84f12d...) που έχουν εκχωρηθεί από την υπηρεσία πίνακα για την αίτηση: μπορείτε να χρησιμοποιήσετε αυτές τις πληροφορίες για να εντοπίσετε τις λεπτομέρειες της αίτησης στα αρχεία καταγραφής από χώρο αποθήκευσης στο διακομιστή κάνοντας αναζήτηση στη στήλη **κεφαλίδα αίτησης αναγνωριστικό** στο αρχείο καταγραφής. Μπορείτε επίσης να χρησιμοποιήσετε τα μετρικά για τον προσδιορισμό όταν αποτυχίες όπως αυτή παρουσιάζονται και στη συνέχεια, αναζητήστε τα αρχεία καταγραφής με βάση το χρόνο τα μετρικά καταγραφεί αυτό το σφάλμα. Αυτή η εγγραφή αρχείου εμφανίζει ότι ήταν δυνατή η διαγραφή με ένα μήνυμα κατάστασης "Πελάτης HTTP (404) άλλο σφάλμα". Η ίδια εγγραφή αρχείου καταγραφής περιλαμβάνει επίσης την αίτηση αναγνωριστικό που δημιουργείται από το πρόγραμμα-πελάτη στη στήλη **αναγνωριστικό υπολογιστή-πελάτη αίτηση** (813ea74f...).

Το αρχείο καταγραφής διακομιστή περιλαμβάνει επίσης μια άλλη εγγραφή με την ίδια τιμή **αναγνωριστικό υπολογιστή-πελάτη αίτηση** (813ea74f...) για μια λειτουργία διαγραφής επιτυχής για την ίδια οντότητα, καθώς και από το ίδιο πρόγραμμα-πελάτη. Αυτή η λειτουργία επιτυχής διαγραφή πραγματοποιήθηκε πολύ λίγο πριν από την αποτυχία Διαγραφή πρόσκλησης σε.

Η πιο πιθανή αιτία από αυτό το σενάριο είναι ότι ο υπολογιστής-πελάτης στείλει μια αίτηση διαγραφής για την οντότητα στην υπηρεσία του πίνακα, το οποίο ήταν επιτυχής, αλλά δεν το έλαβε μια βεβαίωση λήψης από το διακομιστή (ίσως οφείλεται σε ένα ζήτημα προσωρινό δίκτυο). Το πρόγραμμα-πελάτη, στη συνέχεια, αυτόματα επαναληφθεί η λειτουργία (χρησιμοποιώντας το ίδιο **αναγνωριστικό αίτησης προγράμματος-πελάτη**) και αυτό "Επανάληψη" απέτυχε επειδή η οντότητα είχε ήδη διαγραφεί.

Εάν αυτό το πρόβλημα παρουσιάζεται συχνά, που θα πρέπει να διερευνήσουμε γιατί αποτυγχάνει το πρόγραμμα-πελάτη για να λάβετε επιβεβαίωση από την υπηρεσία του πίνακα. Εάν το πρόβλημα είναι περιοδικά, που θα πρέπει να εντοπίσετε το σφάλμα "HTTP (404) δεν βρέθηκε" και να συνδεθείτε το στο πρόγραμμα-πελάτη, αλλά να επιτρέψετε το πρόγραμμα-πελάτη για να συνεχίσετε.

### <a name="the-client-is-receiving-409-messages"></a>Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 409 (διένεξη)

Ο παρακάτω πίνακας δείχνει ένα απόσπασμα από το αρχείο καταγραφής διακομιστή για δύο λειτουργίες προγράμματος-πελάτη: **DeleteIfExists** αμέσως ακολουθούμενο από **CreateIfNotExists** χρησιμοποιώντας το ίδιο όνομα κοντέινερ αντικειμένων blob. Σημειώστε ότι κάθε αποτελέσματα λειτουργίας προγράμματος-πελάτη σε δύο αιτήσεις αποστέλλεται στο διακομιστή, πρώτα μια αίτηση **GetContainerProperties** για να ελέγξετε εάν υπάρχει το κοντέινερ, ακολουθούμενο από την αίτηση **DeleteContainer** ή **CreateContainer** .

Χρονική σήμανση|Η λειτουργία|Αποτέλεσμα|Το όνομα του κοντέινερ|Αναγνωριστικό αίτησης προγράμματος-πελάτη
---|---|---|---|---
05:10:13.7167225|GetContainerProperties|200|mmcont|c9f52c89-...
05:10:13.8167325|DeleteContainer|202|mmcont|c9f52c89-...
05:10:13.8987407|GetContainerProperties|404|mmcont|bc881924-...
05:10:14.2147723|CreateContainer|409|mmcont|bc881924-...

Ο κώδικας στην εφαρμογή υπολογιστή-πελάτη διαγράφει και, στη συνέχεια, αναδημιουργεί αμέσως κοντέινερ αντικειμένων blob χρησιμοποιώντας το ίδιο όνομα: τη μέθοδο **CreateIfNotExists** (αίτησης προγράμματος-πελάτη Αναγνωριστικό bc881924-...) τελικά αποτυγχάνει με το σφάλμα HTTP 409 (διένεξη). Όταν ένα πρόγραμμα-πελάτη διαγράφει blob κοντέινερ, πίνακες ή ουρές υπάρχει μια σύντομη περίοδο πριν από το όνομα θα είναι διαθέσιμο ξανά.

Η εφαρμογή προγράμματος-πελάτη πρέπει να χρησιμοποιήσετε κοντέινερ μοναδικά ονόματα κάθε φορά που δημιουργεί νέο κοντέινερ, εάν το μοτίβο διαγραφή/αναδημιουργία κοινό.

### <a name="metrics-show-low-percent-success"></a>Μετρικά εμφάνιση χαμηλής PercentSuccess ή εγγραφές καταγραφής αναλυτικών στοιχείων έχουν της εκτέλεσης λειτουργιών με την κατάσταση συναλλαγής ClientOtherErrors

Τη μέτρηση **PercentSuccess** καταγράφει το ποσοστό των λειτουργιών που ήταν επιτυχής, με βάση τους κωδικό κατάστασης HTTP. Λειτουργίες με τους κωδικούς κατάστασης της 2XX μέτρηση ως επιτυχημένη, ότι οι λειτουργίες που έχουν κωδικών κατάστασης στο 3XX, 4XX και 5XX περιοχές υπολογίζονται ως επιτυχής και μειώστε την τιμή μετρικό **PercentSucess** . Στα αρχεία καταγραφής χώρο αποθήκευσης στο διακομιστή, αυτές οι λειτουργίες καταγράφονται με κατάσταση συναλλαγής **ClientOtherErrors**.

Είναι σημαντικό να λάβετε υπόψη ότι αυτές οι λειτουργίες έχει ολοκληρωθεί με επιτυχία και, επομένως, δεν επηρεάζονται άλλα μετρικά όπως διαθεσιμότητα. Ορισμένα παραδείγματα των λειτουργιών που εκτελεί με επιτυχία, αλλά αυτό μπορεί να έχει ως αποτέλεσμα επιτυχής κωδικοί κατάστασης HTTP περιλαμβάνουν τα εξής:
- **ResourceNotFound** (Δεν βρέθηκε 404), για παράδειγμα από ένα αίτημα GET σε ένα blob που δεν υπάρχει.
- **ResouceAlreadyExists** (Διένεξη 409), για παράδειγμα από μια λειτουργία **CreateIfNotExist** όπου ο πόρος υπάρχει ήδη.
- **ConditionNotMet** (Δεν τροποποιείται 304), για παράδειγμα από μια λειτουργία υπό όρους όπως όταν ένα πρόγραμμα-πελάτη σας στείλει μια τιμή **ETag** και μια κεφαλίδα HTTP **If-None-Match** για να ζητήσετε μια εικόνα, μόνο εάν έχει ενημερωθεί μετά την τελευταία λειτουργία.

Μπορείτε να βρείτε μια λίστα με κοινές τους κωδικούς σφάλματος REST API που επιστρέφουν τις υπηρεσίες του χώρου αποθήκευσης στη σελίδα [Συνηθισμένοι κωδικοί σφάλματος REST API](http://msdn.microsoft.com/library/azure/dd179357.aspx).

### <a name="capacity-metrics-show-an-unexpected-increase"></a>Μετρικά δυναμικότητας εμφάνιση μη αναμενόμενο αύξηση στο μέγεθος χωρητικότητα αποθήκευσης


Εάν βλέπετε απότομη, μη αναμενόμενων αλλαγών σε χρήση δυναμικότητας στο λογαριασμό σας στο χώρο αποθήκευσης, μπορείτε να εξετάσετε τους λόγους, πρώτη εξετάζοντας τις μετρήσεις διαθεσιμότητα; Για παράδειγμα, μια αύξηση του αριθμού των αποτυχημένων διαγραφή αιτήσεις ενδέχεται να οδηγήσει σε αυξάνεται χώρο αποθήκευσης αντικειμένων blob που χρησιμοποιείτε ως λειτουργίες συγκεκριμένες εκκαθάριση εφαρμογών που ενδέχεται να έχουν αναμένατε να είναι απελευθέρωση χώρου να μην λειτουργεί όπως αναμένεται (για παράδειγμα, επειδή τα διακριτικά συσχετισμών Ασφαλείας που χρησιμοποιούνται για ελευθέρωση χώρου έχει λήξει).

### <a name="you-are-experiencing-unexpected-reboots"></a>Αντιμετωπίζετε μη αναμενόμενο επανεκκίνηση της εικονικές μηχανές Windows Azure που έχουν συνημμένα VHD μεγάλου αριθμού

Εάν μια εικονική μηχανή Azure (Εικονική) έχει μεγάλο αριθμό συνημμένων VHD που βρίσκονται στον ίδιο λογαριασμό χώρου αποθήκευσης, μπορεί να υπερβαίνει τους στόχους κλιμάκωση για ένα λογαριασμό μεμονωμένα χώρου αποθήκευσης που προκαλεί την εικονική Μηχανή αποτυχία. Θα πρέπει να ελέγξετε τα minute μετρικά για το λογαριασμό χώρου αποθήκευσης (**TotalRequests**/**TotalIngress**/**TotalEgress**) για αιχμές που υπερβαίνουν τους στόχους κλιμάκωση για ένα λογαριασμό του χώρου αποθήκευσης. Ανατρέξτε στην ενότητα "[μετρικά εμφάνιση αύξηση PercentThrottlingError]" για βοήθεια σχετικά με τον καθορισμό εάν περιορισμού παρουσιάστηκε στο λογαριασμό σας στο χώρο αποθήκευσης.

Σε γενικές γραμμές, κάθε μεμονωμένα εισόδου ή εξόδου λειτουργίας σε έναν VHD από μια εικονική μηχανή μεταφράζεται σε **Σελίδα λήψη** ή **Τοποθέτηση σελίδας** λειτουργίες σε το υποκείμενο αντικείμενο blob σελίδας. Γι ' αυτό, μπορείτε να χρησιμοποιήσετε την εκτιμώμενη IOP Προέλευσης για το περιβάλλον σας για το συντονισμό πόσες VHD που μπορούν να έχουν σε ένα λογαριασμό μόνο χώρου αποθήκευσης με βάση τη συγκεκριμένη συμπεριφορά της εφαρμογής σας. Δεν συνιστάται να έχει περισσότερους από 40 δίσκων σε ένα λογαριασμό μόνο χώρο αποθήκευσης. Ανατρέξτε στο θέμα [Azure κλιμάκωση χώρου αποθήκευσης και τους στόχους επιδόσεων](storage-scalability-targets.md) για λεπτομέρειες σχετικά με την τρέχουσα προορισμών κλιμάκωση για λογαριασμούς του χώρου αποθήκευσης, ιδίως το ρυθμό συνολικό αίτηση και συνολικού εύρους ζώνης για τον τύπο του λογαριασμού χώρου αποθήκευσης που χρησιμοποιείτε.
Εάν ότι έχετε υπερβεί τους στόχους κλιμάκωση για το λογαριασμό χώρου αποθήκευσης, πρέπει να τοποθετήσετε το VHD στο πολλούς λογαριασμούς διαφορετικό χώρο αποθήκευσης για να μειώσετε τη δραστηριότητα σε κάθε μεμονωμένο λογαριασμό.

### <a name="your-issue-arises-from-using-the-storage-emulator"></a>Το θέμα που προκύπτει από με το προσομοίωσης χώρου αποθήκευσης για ανάπτυξη ή δοκιμής

Συνήθως χρησιμοποιείτε το χώρο αποθήκευσης προσομοίωσης κατά την ανάπτυξη και δοκιμή για να αποφύγετε την απαίτηση για ένα λογαριασμό Azure χώρου αποθήκευσης. Τα κοινά προβλήματα που μπορεί να προκύψουν κατά τη χρήση του χώρου αποθήκευσης προσομοίωσης είναι οι εξής:

- [Η δυνατότητα "X" δεν λειτουργεί στο προσομοίωσης του χώρου αποθήκευσης]
- [Σφάλμα "η τιμή για μία από τις κεφαλίδες HTTP δεν είναι στη σωστή μορφή" κατά τη χρήση του χώρου αποθήκευσης προσομοίωσης]
- [Εκτέλεση του χώρου αποθήκευσης προσομοίωσης απαιτεί δικαιώματα διαχειριστή]

#### <a name="feature-X-is-not-working"></a>Η δυνατότητα "X" δεν λειτουργεί στο προσομοίωσης του χώρου αποθήκευσης

Το προσομοίωσης χώρου αποθήκευσης δεν υποστηρίζει όλες τις δυνατότητες των υπηρεσιών Azure χώρου αποθήκευσης, όπως η υπηρεσία αρχείων. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [χρήση του Azure προσομοίωσης χώρου αποθήκευσης για ανάπτυξη και έλεγχος](storage-use-emulator.md).

Για αυτές τις δυνατότητες που δεν υποστηρίζει το προσομοίωσης χώρου αποθήκευσης, χρησιμοποιήστε την υπηρεσία Azure χώρου αποθήκευσης στο cloud.

#### <a name="error-HTTP-header-not-correct-format"></a>Σφάλμα "η τιμή για μία από τις κεφαλίδες HTTP δεν είναι στη σωστή μορφή" κατά τη χρήση του χώρου αποθήκευσης προσομοίωσης

Ελέγχετε την εφαρμογή σας που χρησιμοποιούν τη βιβλιοθήκη προγράμματος-πελάτη χώρου αποθήκευσης σε σχέση με την τοπική αποθήκευση προσομοίωσης και μέθοδο κλήσεις, όπως **CreateIfNotExists** αποτύχει με το μήνυμα σφάλματος "η τιμή για μία από τις κεφαλίδες HTTP δεν είναι στη σωστή μορφή." Αυτό υποδεικνύει ότι η έκδοση του το προσομοίωσης χώρου αποθήκευσης που χρησιμοποιείτε δεν υποστηρίζει την έκδοση της βιβλιοθήκης του προγράμματος-πελάτη χώρου αποθήκευσης που χρησιμοποιείτε. Στη βιβλιοθήκη του προγράμματος-πελάτη αποθήκευσης προσθέτει την κεφαλίδα **x-ms-έκδοση** σε όλες τις αιτήσεις βγάζει. Εάν το χώρο αποθήκευσης προσομοίωσης δεν αναγνωρίζει την τιμή στην κεφαλίδα **x-ms-έκδοση** , απορρίπτει την αίτηση.

Μπορείτε να χρησιμοποιήσετε τα αρχεία καταγραφής του προγράμματος-πελάτη βιβλιοθήκη χώρου αποθήκευσης για να δείτε την τιμή της **κεφαλίδας x-ms-έκδοση** του αποστολής. Μπορείτε επίσης να δείτε την τιμή της **κεφαλίδας x-ms-έκδοση** , εάν χρησιμοποιείτε το Fiddler για να παρακολουθήσετε τις αιτήσεις από την εφαρμογή-πελάτη.

Αυτό το σενάριο παρουσιάζεται συνήθως εάν εγκαταστήσετε και να χρησιμοποιήσετε την πιο πρόσφατη έκδοση της βιβλιοθήκης του χώρου αποθήκευσης προγράμματος-πελάτη χωρίς να ενημερώσετε το χώρο αποθήκευσης προσομοίωσης. Μπορείτε θα πρέπει να εγκαταστήσετε την πιο πρόσφατη έκδοση της προσομοίωσης το χώρο αποθήκευσης ή να χρησιμοποιήσετε χώρο αποθήκευσης στο cloud αντί για το προσομοίωσης για ανάπτυξη και έλεγχος.

#### <a name="storage-emulator-requires-administrative-privileges"></a>Εκτέλεση του χώρου αποθήκευσης προσομοίωσης απαιτεί δικαιώματα διαχειριστή

Θα σας ζητηθεί για τα διαπιστευτήρια διαχειριστή όταν εκτελείτε το προσομοίωσης χώρου αποθήκευσης. Αυτό συμβαίνει μόνο κατά την προετοιμασία του χώρου αποθήκευσης προσομοίωσης για πρώτη φορά. Μετά την προετοιμασία της προσομοίωσης του χώρου αποθήκευσης, δεν χρειάζεται δικαιώματα διαχειριστή για να εκτελέσετε ξανά.

Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [χρήση του Azure προσομοίωσης χώρου αποθήκευσης για ανάπτυξη και έλεγχος](storage-use-emulator.md). Σημειώστε ότι μπορείτε επίσης να μπορούν να εκκινήσουν το προσομοίωσης χώρου αποθήκευσης στο Visual Studio, τα οποία θα πρέπει επίσης να δικαιώματα διαχειριστή.

### <a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>Αντιμετωπίζετε προβλήματα κατά την εγκατάσταση του SDK Azure για .NET

Όταν προσπαθείτε να εγκαταστήσετε το SDK, αποτυγχάνει προσπαθώ να εγκαταστήσω το χώρο αποθήκευσης προσομοίωσης στον τοπικό υπολογιστή σας. Το αρχείο καταγραφής εγκατάστασης περιέχει ένα από τα ακόλουθα μηνύματα:

- CAQuietExec: Σφάλμα: δεν είναι δυνατή η πρόσβαση σε παρουσία SQL
- CAQuietExec: Σφάλμα: δεν είναι δυνατή η δημιουργία βάσης δεδομένων

Η αιτία είναι ένα ζήτημα με υπάρχουσα LocalDB εγκατάσταση. Από προεπιλογή, το χώρο αποθήκευσης προσομοίωσης χρησιμοποιεί LocalDB διατήρησης δεδομένων όταν το προσομοιώνει των υπηρεσιών Azure χώρου αποθήκευσης. Μπορείτε να επαναφέρετε την παρουσία LocalDB, εκτελώντας τις παρακάτω εντολές σε ένα παράθυρο γραμμής εντολών πριν να επιχειρήσετε να εγκαταστήσετε το SDK.

    sqllocaldb stop v11.0
    sqllocaldb delete v11.0
    delete %USERPROFILE%\WAStorageEmulatorDb3*.*
    sqllocaldb create v11.0

Η εντολή **Διαγραφή** καταργεί οποιαδήποτε παλαιότερα αρχεία βάσης δεδομένων από προηγούμενες εγκαταστάσεις του προσομοίωσης του χώρου αποθήκευσης.

### <a name="you-have-a-different-issue-with-a-storage-service"></a>Έχετε ένα διαφορετικό πρόβλημα με μια υπηρεσία αποθήκευσης

Εάν αντιμετώπισης προβλημάτων προηγούμενες ενότητες δεν περιλαμβάνει το πρόβλημα που αντιμετωπίζετε με μια υπηρεσία αποθήκευσης, θα πρέπει να εγκρίνει το παρακάτω προσέγγιση για τη διάγνωση και αντιμετώπιση προβλημάτων το ζήτημά σας.

- Ελέγξτε τις μετρήσεις για να δείτε εάν υπάρχει κάποια αλλαγή από την αναμενόμενη συμπεριφορά γραμμή βάσης. Από τα μετρικά, ίσως μπορείτε να προσδιορίσετε αν το ζήτημα είναι μεταβατικές ή μόνιμο και ποιες εργασίες αποθήκευσης επηρεάζει το ζήτημα.
- Μπορείτε να χρησιμοποιήσετε τις μετρήσεις πληροφορίες θα σας βοηθήσουν να αναζητήσετε σας δεδομένων καταγραφής στην πλευρά του διακομιστή για πιο λεπτομερείς πληροφορίες σχετικά με σφάλματα που παρουσιάζονται. Αυτές οι πληροφορίες μπορεί να σας βοηθήσει να αντιμετωπίσετε και να επιλύσετε το ζήτημα.
- Εάν οι πληροφορίες στα αρχεία καταγραφής από την πλευρά του διακομιστή δεν είναι αρκετό για να αντιμετωπίσετε το πρόβλημα με επιτυχία, μπορείτε να χρησιμοποιήσετε τα αρχεία καταγραφής πλευρά του προγράμματος-πελάτη του χώρου αποθήκευσης βιβλιοθήκη προγράμματος-πελάτη για να εξερευνήσετε τη συμπεριφορά των εφαρμογή προγράμματος-πελάτη και εργαλεία όπως το Fiddler Wireshark και Microsoft Analyzer μήνυμα για να εξερευνήσετε το δίκτυό σας.

Για περισσότερες πληροφορίες σχετικά με τη χρήση Fiddler, ανατρέξτε στο θέμα "[προσάρτημα 1: χρήση Fiddler για να καταγράψετε την κυκλοφορία HTTP και HTTPS]."

Για περισσότερες πληροφορίες σχετικά με τη χρήση Wireshark, ανατρέξτε στο θέμα "[προσάρτημα 2: χρήση Wireshark για να καταγράψετε κίνηση του δικτύου]."

Για περισσότερες πληροφορίες σχετικά με τη χρήση υπηρεσίας ανάλυσης του Microsoft μήνυμα, ανατρέξτε στο θέμα "[προσάρτημα 3: χρησιμοποιώντας την ανάλυση μηνύματος της Microsoft για να καταγράψετε κίνηση του δικτύου]."

## <a name="appendices"></a>Προσαρτήματα

Προσαρτήματα περιγράφουν διάφορα εργαλεία που μπορείτε να βρείτε χρήσιμα κατά τη διάγνωση και αντιμετώπιση προβλημάτων με το χώρο αποθήκευσης Azure (και άλλες υπηρεσίες). Αυτά τα εργαλεία δεν είναι μέρος του χώρου αποθήκευσης Azure και άλλα προϊόντα τρίτων κατασκευαστών. Ως εκ τούτου, τα εργαλεία που αναφέρονται σε αυτά τα προσαρτήματα δεν καλύπτονται από οποιαδήποτε συμφωνία υποστήριξης που ενδέχεται να έχετε με το Microsoft Azure ή χώρο αποθήκευσης Azure και, επομένως, ως μέρος της διαδικασίας αξιολόγησης πρέπει να εξετάσετε τις άδειες χρήσης και υποστήριξη διαθέσιμες επιλογές από τις υπηρεσίες παροχής από αυτά τα εργαλεία.

### <a name="appendix-1"></a>Προσάρτημα 1: Χρήση Fiddler για να καταγράψετε την κυκλοφορία HTTP και HTTPS

[Fiddler](http://www.telerik.com/fiddler) είναι χρήσιμο εργαλείο για την ανάλυση την κυκλοφορία HTTP και HTTPS μεταξύ την εφαρμογή-πελάτη και της υπηρεσίας Azure χώρου αποθήκευσης που χρησιμοποιείτε.

> [AZURE.NOTE] Fiddler να αποκωδικοποιείτε κυκλοφορία HTTPS. πρέπει να διαβάσετε την τεκμηρίωση Fiddler προσεκτικά για να κατανοήσετε τον τρόπο το κάνει αυτό και για να κατανοήσουμε τις συνέπειες ασφαλείας.

Αυτό το παράρτημα παρέχει μια σύντομη αναλυτικές οδηγίες για τον τρόπο ρύθμισης παραμέτρων Fiddler για να καταγράψετε την κυκλοφορία μεταξύ του τοπικού υπολογιστή όπου έχετε εγκαταστήσει Fiddler και των υπηρεσιών Azure χώρου αποθήκευσης.

Αφού έχετε ξεκινήσατε Fiddler, αυτό θα ξεκινήσει η καταγραφή HTTP και HTTPS κίνηση στον τοπικό υπολογιστή σας. Ακολουθούν ορισμένες χρήσιμες εντολές για τον έλεγχο Fiddler:

- Διακοπή και αρχίστε να καταγράφετε την κυκλοφορία. Στο κύριο μενού, επιλέξτε **αρχείο** και, στη συνέχεια, κάντε κλικ στην επιλογή **Καταγραφή κίνηση** για την εναλλαγή καταγραφή και απενεργοποίηση.
- Αποθηκεύστε τα δεδομένα τραβήξατε κίνηση. Στο κύριο μενού, μεταβείτε στο **αρχείο**, κάντε κλικ στην επιλογή **Αποθήκευση**και, στη συνέχεια, κάντε κλικ στην επιλογή **Όλες οι περίοδοι λειτουργίας**: Αυτό σας επιτρέπει να αποθηκεύετε την κυκλοφορία σε ένα αρχείο αρχειοθέτησης περιόδου λειτουργίας. Μπορείτε να φορτώσετε ξανά μια περίοδο λειτουργίας αρχειοθέτησης αργότερα για την ανάλυση ή στείλτε το εάν απαιτούνται για την υποστήριξη της Microsoft.

Για να περιορίσετε το μέγεθος της κυκλοφορίας που καταγράφει Fiddler, μπορείτε να χρησιμοποιήσετε φίλτρα που ρυθμίζετε τις παραμέτρους στην καρτέλα " **φίλτρα** ". Το παρακάτω στιγμιότυπο οθόνης εμφανίζει ένα φίλτρο που καταγράφει μόνο με την κυκλοφορία εστάλη στο τελικό σημείο αποθήκευσης **contosoemaildist.table.core.windows.net** :

![][5]

### <a name="appendix-2"></a>Προσάρτημα 2: Χρήση Wireshark για να καταγράψετε κίνηση του δικτύου

[Wireshark](http://www.wireshark.org/) είναι έναν αναλυτή πρωτοκόλλων δικτύου που σας επιτρέπει να εμφανίζετε πληροφορίες λεπτομερείς πακέτου για ένα ευρύ φάσμα των πρωτοκόλλων δικτύου.

Η παρακάτω διαδικασία δείχνει πώς να καταγράψετε πακέτων λεπτομερείς πληροφορίες για την κίνηση από τον τοπικό υπολογιστή όπου έχετε εγκαταστήσει το Wireshark με την υπηρεσία του πίνακα στο λογαριασμό σας στο Azure χώρου αποθήκευσης.

1.  Εκκινήστε το Wireshark στον τοπικό υπολογιστή σας.
2.  Στην ενότητα **Έναρξη** , επιλέξτε το περιβάλλον εργασίας του τοπικού δικτύου ή διασυνδέσεων που είναι συνδεδεμένοι στο Internet.
3.  Κάντε κλικ στην επιλογή **Καταγραφή επιλογές**.
4.  Προσθήκη ενός φίλτρου για το **Φίλτρο καταγραφής** πλαίσιο κειμένου. Για παράδειγμα, **contosoemaildist.table.core.windows.net κεντρικός υπολογιστής** θα ρυθμίσετε τις παραμέτρους Wireshark για να καταγράψετε μόνο πακέτα που αποστέλλονται σε ή από το τελικό σημείο υπηρεσίας πίνακα στο λογαριασμό **contosoemaildist** χώρου αποθήκευσης. Δείτε την [πλήρη λίστα των καταγραφή φίλτρα](http://wiki.wireshark.org/CaptureFilters).

    ![][6]

5.  Κάντε κλικ στο κουμπί **Έναρξη**. Wireshark τώρα θα καταγράψει όλα τα πακέτα Αποστολή προς ή από το τελικό σημείο υπηρεσίας πίνακα όταν χρησιμοποιείτε την εφαρμογή-πελάτη στον τοπικό υπολογιστή σας.
6.  Όταν ολοκληρώσετε, από το κύριο μενού, κάντε κλικ στην επιλογή **Καταγραφή** και, στη συνέχεια, να **διακόψετε**.
7.  Για να αποθηκεύσετε τα δεδομένα σε ένα αρχείο καταγραφής Wireshark, του κύριου μενού, κάντε κλικ στην επιλογή **αρχείο** και, στη συνέχεια, **Αποθήκευση**.

WireShark θα επισημάνετε τυχόν σφάλματα που υπάρχουν στο παράθυρο **packetlist** . Μπορείτε επίσης να χρησιμοποιήσετε το παράθυρο **Πληροφοριών ειδικός** (κάντε κλικ στην επιλογή **ανάλυση**, στη συνέχεια, **Πληροφορίες ειδικός**) για να προβάλετε μια σύνοψη των σφαλμάτων και προειδοποιήσεων.

![][7]

Μπορείτε επίσης να επιλέξετε για να προβάλετε τα δεδομένα TCP, όπως το επίπεδο εφαρμογής μπορεί να τη δει κάνοντας δεξί κλικ στην καρτέλα δεδομένα TCP και επιλέγοντας **ακολουθήστε ροή TCP**. Αυτό είναι ιδιαίτερα χρήσιμο εάν καταγράφονται σας ένδειξης χωρίς ένα φίλτρο καταγραφής. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [παρακάτω ροές TCP] (http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).

![][8]

> [AZURE.NOTE] Για περισσότερες πληροφορίες σχετικά με τη χρήση Wireshark, ανατρέξτε στο θέμα [Οδηγός για τους χρήστες Wireshark](http://www.wireshark.org/docs/wsug_html_chunked).

### <a name="appendix-3"></a>Προσάρτημα 3: Χρησιμοποιώντας την ανάλυση μήνυμα της Microsoft για να καταγράψετε κίνηση του δικτύου

Μπορείτε να χρησιμοποιήσετε υπηρεσίας ανάλυσης του Microsoft μήνυμα για να καταγράψετε την κυκλοφορία HTTP και HTTPS με παρόμοιο τρόπο για να Fiddler, και να καταγράψετε κίνηση του δικτύου με τρόπο παρόμοιο όπως στο Wireshark.

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a>Ρύθμιση παραμέτρων μιας περιόδου λειτουργίας ανίχνευσης web χρησιμοποιώντας την ανάλυση μήνυμα της Microsoft

Για να ρυθμίσετε τις παραμέτρους μιας περιόδου λειτουργίας ανίχνευσης web για την κίνηση HTTP και HTTPS χρησιμοποιώντας την ανάλυση μήνυμα της Microsoft, εκτελέστε την εφαρμογή Microsoft Analyzer μήνυμα και, στη συνέχεια, στο μενού **αρχείο** , κάντε κλικ στην επιλογή **Καταγραφή/ανίχνευση**. Στη λίστα διαθέσιμα ανίχνευση σενάρια, επιλέξτε **Διακομιστή μεσολάβησης Web**. Στη συνέχεια, στο παράθυρο **Ρύθμιση παραμέτρων σεναρίων ανίχνευση** , στο πλαίσιο κειμένου **HostnameFilter** , προσθέστε τα ονόματα των τα τελικά σημεία του χώρου αποθήκευσης (μπορείτε να αναζητήσετε αυτά τα ονόματα στην [Πύλη του Azure](https://portal.azure.com)). Για παράδειγμα, εάν το όνομα του λογαριασμού σας Azure χώρου αποθήκευσης είναι **contosodata**, θα πρέπει να μπορείτε να προσθέσετε τα εξής στο πλαίσιο κειμένου **HostnameFilter** :

    contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net

> [AZURE.NOTE] Χαρακτήρας κενού διαστήματος διαχωρίζει τα ονόματα.

Όταν είστε έτοιμοι να ξεκινήσετε τη συλλογή δεδομένων ανίχνευσης, κάντε κλικ στο κουμπί **Έναρξη με** .

Για περισσότερες πληροφορίες σχετικά με την ανίχνευση Microsoft μήνυμα Analyzer **Διακομιστή μεσολάβησης Web** , ανατρέξτε στο θέμα [Microsoft-PEF-WebProxy υπηρεσία παροχής που χρησιμοποιείτε](http://technet.microsoft.com/library/jj674814.aspx).

Ενσωματωμένη ανίχνευσης **Διακομιστή μεσολάβησης Web** στο Microsoft μήνυμα Analyzer βασίζεται σε Fiddler; Αυτό μπορεί να καταγράψετε την κυκλοφορία HTTPS πλευρά του προγράμματος-πελάτη και να εμφανίσετε μη κρυπτογραφημένα μηνύματα HTTPS. Η ανίχνευση **Διακομιστή μεσολάβησης Web** λειτουργεί με ρύθμιση των παραμέτρων ενός τοπικού διακομιστή μεσολάβησης για όλη την κυκλοφορία HTTP και HTTPS που παρέχει πρόσβαση σε μη κρυπτογραφημένα μηνύματα.

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a>Διάγνωση θεμάτων δικτύου, χρησιμοποιώντας την ανάλυση μήνυμα της Microsoft

Εκτός από τη χρήση της ανίχνευσης Microsoft μήνυμα Analyzer **Διακομιστή μεσολάβησης Web** για να καταγράψετε τις λεπτομέρειες της κυκλοφορίας HTTP/HTTPs μεταξύ της εφαρμογής υπολογιστή-πελάτη και την υπηρεσία αποθήκευσης, μπορείτε επίσης να χρησιμοποιήσετε την ενσωματωμένη ανίχνευση **Τοπικό επίπεδο σύνδεσης** για να καταγράψετε πληροφορίες πακέτου δικτύου. Αυτό σας επιτρέπει να καταγράψετε δεδομένων παρόμοιο με αυτό το οποίο μπορείτε να καταγράψετε με Wireshark και διάγνωση δικτύου όπως θέματα πακέτων που απορρίφθηκαν.

Το παρακάτω στιγμιότυπο οθόνης εμφανίζει ένα παράδειγμα ανίχνευση **Τοπικό επίπεδο σύνδεσης** με ορισμένα μηνύματα **πληροφοριών** στη στήλη **DiagnosisTypes** . Κάνοντας κλικ στο εικονίδιο στη στήλη **DiagnosisTypes** εμφανίζει τις λεπτομέρειες του μηνύματος. Σε αυτό το παράδειγμα, ο διακομιστής αναμετάδοση μήνυμα #305, επειδή δεν έλαβε μια βεβαίωση λήψης από το πρόγραμμα-πελάτη:

![][9]

Όταν δημιουργείτε την περίοδο λειτουργίας ανίχνευσης στο Microsoft Analyzer μήνυμα, μπορείτε να ορίσετε φίλτρα για να μειώσετε το μέγεθος του θορύβου στην ανίχνευση. Στην **Καταγραφή / ανίχνευση** σελίδα όπου μπορείτε να καθορίσετε την ανίχνευση, κάντε κλικ στη σύνδεση **Ρύθμιση παραμέτρων** δίπλα στο στοιχείο **Microsoft-Windows-NDIS-PacketCapture**. Το παρακάτω στιγμιότυπο οθόνης εμφανίζει μια ρύθμιση παραμέτρων που φιλτράρει κίνηση TCP για τις διευθύνσεις IP των τρεις υπηρεσίες αποθήκευσης:

![][10]

Για περισσότερες πληροφορίες σχετικά με την ανίχνευση Microsoft μήνυμα ανάλυσης τοπικής σύνδεσης επιπέδου, ανατρέξτε στο θέμα [Microsoft-PEF-NDIS-PacketCapture παροχής που χρησιμοποιείτε](http://technet.microsoft.com/library/jj659264.aspx).

### <a name="appendix-4"></a>Προσάρτημα 4: Χρήση του Excel για να προβάλετε μετρικά και καταγραφή δεδομένων

Πολλά εργαλεία σάς επιτρέπουν να λάβετε τα δεδομένα μετρικά αποθήκευσης από χώρο αποθήκευσης πινάκων του Azure σε οριοθετημένου με μορφή που σας διευκολύνει να φορτώσετε τα δεδομένα στο Excel για προβολή και ανάλυση. Χώρος αποθήκευσης δεδομένων καταγραφής από χώρο αποθήκευσης αντικειμένων blob του Azure είναι ήδη σε μια οριοθετημένη μορφή που μπορείτε να φορτώσετε στο Excel. Ωστόσο, θα πρέπει να προσθέσετε επικεφαλίδες κατάλληλη στήλη με βάση τις πληροφορίες σε [Μορφή αρχείου καταγραφής ανάλυσης χώρου αποθήκευσης](http://msdn.microsoft.com/library/azure/hh343259.aspx) και [Σχήματος πίνακα μετρικά αποθήκευσης αναλυτικών στοιχείων](http://msdn.microsoft.com/library/azure/hh343264.aspx).

Για να εισαγάγετε τα δεδομένα σας καταγραφή χώρου αποθήκευσης στο Excel μετά τη λήψη του από το χώρο αποθήκευσης αντικειμένων blob:

- Στο μενού " **δεδομένα** ", κάντε κλικ στην επιλογή **Από κείμενο**.
- Μεταβείτε στο αρχείο καταγραφής που θέλετε να προβάλετε και κάντε κλικ στην επιλογή **Εισαγωγή**.
- Στο βήμα 1 του **"Οδηγού εισαγωγής κειμένου"**, επιλέξτε **οριοθετημένο**.

Στο βήμα 1 από τον **"Οδηγό εισαγωγής κειμένου"**, επιλέξτε **ελληνικό ερωτηματικό** ως μόνο οριοθέτης και επιλέξτε εισαγωγικών ως **προσδιοριστικό κειμένου**. Στη συνέχεια, κάντε κλικ στο κουμπί **Τέλος** και επιλέξτε τη θέση για να τοποθετήσετε τα δεδομένα στο βιβλίο εργασίας σας.

### <a name="appendix-5"></a>Προσάρτημα 5: Παρακολούθηση με εφαρμογή ιδέες για τις υπηρεσίες του Visual Studio ομάδας

Μπορείτε επίσης να χρησιμοποιήσετε τη δυνατότητα εφαρμογής ιδέες για το Visual Studio Team Services ως μέρος των επιδόσεων και διαθεσιμότητα παρακολούθησης. Αυτό το εργαλείο να:

- Βεβαιωθείτε ότι είναι της υπηρεσίας web διαθέσιμη και αποκρίνεται. Εάν η εφαρμογή σας είναι μια τοποθεσία web ή μια εφαρμογή της συσκευής που χρησιμοποιεί μια υπηρεσία web, αυτό μπορεί να Δοκιμή διεύθυνσης URL κάθε λίγα λεπτά από τοποθεσίες σε όλο τον κόσμο και θα σας ειδοποιήσει εάν υπάρχει πρόβλημα.
- Γρήγορη διάγνωση τυχόν προβλήματα επιδόσεων ή εξαιρέσεις στην υπηρεσία web. Μάθετε εάν είναι να επεκταθεί CPU ή άλλους πόρους, λάβετε ίχνη στοίβας από εξαιρέσεις και εύκολα αναζήτηση μέσω του αρχείου καταγραφής ανίχνευσης. Αν η απόδοση της εφαρμογής μειώνεται κάτω από το στοιχείο αποδεκτά όρια, μπορεί να σας στείλουμε ένα μήνυμα ηλεκτρονικού ταχυδρομείου. Μπορείτε να παρακολουθείτε τις υπηρεσίες web του .NET και Java.

Μπορείτε να βρείτε περισσότερες πληροφορίες στο [Τι είναι η εφαρμογή ιδέες;](../application-insights/app-insights-overview.md).

<!--Anchors-->
[Εισαγωγή]: #introduction
[Πώς είναι οργανωμένο αυτού του οδηγού]: #how-this-guide-is-organized

[Παρακολούθηση της υπηρεσίας χώρου αποθήκευσης]: #monitoring-your-storage-service
[Παρακολούθηση εύρυθμης λειτουργίας υπηρεσιών]: #monitoring-service-health
[Παρακολούθηση χωρητικότητα]: #monitoring-capacity
[Παρακολούθηση διαθεσιμότητα]: #monitoring-availability
[Παρακολούθηση των επιδόσεων]: #monitoring-performance

[Διάγνωση θεμάτων χώρου αποθήκευσης]: #diagnosing-storage-issues
[Θέματα υπηρεσίας εύρυθμης λειτουργίας]: #service-health-issues
[Θέματα απόδοσης]: #performance-issues
[Διάγνωση σφαλμάτων]: #diagnosing-errors
[Θέματα προσομοίωσης χώρου αποθήκευσης]: #storage-emulator-issues
[Εργαλεία καταγραφής αποθήκευσης]: #storage-logging-tools
[Χρήση των εργαλείων καταγραφής δικτύου]: #using-network-logging-tools

[Ανίχνευση για ολοκληρωμένες]: #end-to-end-tracing
[Συσχέτιση δεδομένα του αρχείου καταγραφής]: #correlating-log-data
[Αναγνωριστικό αίτησης προγράμματος-πελάτη]: #client-request-id
[Αναγνωριστικό αίτησης διακομιστή]: #server-request-id
[Χρονικές σημάνσεις]: #timestamps

[Οδηγίες αντιμετώπισης προβλημάτων]: #troubleshooting-guidance
[Εμφάνιση μετρικά AverageE2ELatency υψηλού και χαμηλού AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency
[Εμφάνιση μετρικά χαμηλής AverageE2ELatency και χαμηλής AverageServerLatency, αλλά ο υπολογιστής-πελάτης αντιμετωπίζει υψηλό λανθάνοντα χρόνο]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency
[Μετρικά εμφάνιση υψηλής AverageServerLatency]: #metrics-show-high-AverageServerLatency
[Αντιμετωπίζετε απροσδόκητες καθυστερήσεις στην παράδοση του μηνύματος σε μια ουρά]: #you-are-experiencing-unexpected-delays-in-message-delivery

[Μετρικά εμφάνιση αύξηση στο PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError
[Μεταβατικές αύξηση PercentThrottlingError]: #transient-increase-in-PercentThrottlingError
[Μόνιμο αύξηση PercentThrottlingError σφάλματος]: #permanent-increase-in-PercentThrottlingError
[Μετρικά εμφάνιση αύξηση στο PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError
[Μετρικά εμφάνιση αύξηση στο PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError

[Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 403 (Απαγορεύεται)]: #the-client-is-receiving-403-messages
[Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 404 (δεν βρέθηκε)]: #the-client-is-receiving-404-messages
[Ο υπολογιστής-πελάτης ή άλλη διεργασία διαγραμμένων του αντικειμένου]: #client-previously-deleted-the-object
[Ένα θέμα εξουσιοδότηση θέσει σε κοινή χρήση Access υπογραφή (συσχετισμών Ασφαλείας)]: #SAS-authorization-issue
[Κώδικα JavaScript πλευρά του προγράμματος-πελάτη δεν έχει δικαίωμα πρόσβασης του αντικειμένου]: #JavaScript-code-does-not-have-permission
[Αποτυχία δικτύου]: #network-failure
[Ο υπολογιστής-πελάτης λαμβάνει μηνύματα HTTP 409 (διένεξη)]: #the-client-is-receiving-409-messages

[Μετρικά εμφάνιση χαμηλής PercentSuccess ή εγγραφές καταγραφής αναλυτικών στοιχείων έχουν της εκτέλεσης λειτουργιών με την κατάσταση συναλλαγής ClientOtherErrors]: #metrics-show-low-percent-success
[Μετρικά δυναμικότητας εμφάνιση μη αναμενόμενο αύξηση στο μέγεθος χωρητικότητα αποθήκευσης]: #capacity-metrics-show-an-unexpected-increase
[Αντιμετωπίζετε μη αναμενόμενο επανεκκίνηση της εικονικές μηχανές που έχουν συνημμένα VHD μεγάλου αριθμού]: #you-are-experiencing-unexpected-reboots
[Το θέμα που προκύπτει από με το προσομοίωσης χώρου αποθήκευσης για ανάπτυξη ή δοκιμής]: #your-issue-arises-from-using-the-storage-emulator
[Η δυνατότητα "X" δεν λειτουργεί στο προσομοίωσης του χώρου αποθήκευσης]: #feature-X-is-not-working
[Σφάλμα "η τιμή για μία από τις κεφαλίδες HTTP δεν είναι στη σωστή μορφή" κατά τη χρήση του χώρου αποθήκευσης προσομοίωσης]: #error-HTTP-header-not-correct-format
[Εκτέλεση του χώρου αποθήκευσης προσομοίωσης απαιτεί δικαιώματα διαχειριστή]: #storage-emulator-requires-administrative-privileges
[Αντιμετωπίζετε προβλήματα κατά την εγκατάσταση του SDK Azure για .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK
[Έχετε ένα διαφορετικό πρόβλημα με μια υπηρεσία αποθήκευσης]: #you-have-a-different-issue-with-a-storage-service

[Προσαρτήματα]: #appendices
[Προσάρτημα 1: Χρήση Fiddler για να καταγράψετε την κυκλοφορία HTTP και HTTPS]: #appendix-1
[Προσάρτημα 2: Χρήση Wireshark για να καταγράψετε κίνηση του δικτύου]: #appendix-2
[Προσάρτημα 3: Χρησιμοποιώντας την ανάλυση μήνυμα της Microsoft για να καταγράψετε κίνηση του δικτύου]: #appendix-3
[Προσάρτημα 4: Χρήση του Excel για να προβάλετε μετρικά και καταγραφή δεδομένων]: #appendix-4
[Προσάρτημα 5: Παρακολούθηση με εφαρμογή ιδέες για τις υπηρεσίες του Visual Studio ομάδας]: #appendix-5

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting/overview.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-2.png
