<properties
    pageTitle="Πώς να χρησιμοποιείτε το χώρο αποθήκευσης αντικειμένων Blob (χώρος αποθήκευσης αντικειμένων) από το κείμενο φωνητικής γραφής | Microsoft Azure"
    description="Αποθήκευση μη δομημένα δεδομένα στο cloud με το χώρο αποθήκευσης αντικειμένων Blob του Azure (χώρος αποθήκευσης αντικειμένων)."
    services="storage"
    documentationCenter="ruby"
    authors="tamram"
    manager="carmonm"
    editor="tysonn"/>

<tags
    ms.service="storage"
    ms.workload="storage"
    ms.tgt_pltfrm="na"
    ms.devlang="ruby"
    ms.topic="article"
    ms.date="08/11/2016"
    ms.author="tamram"/>


# <a name="how-to-use-blob-storage-from-ruby"></a>Πώς να χρησιμοποιείτε το χώρο αποθήκευσης αντικειμένων Blob από κείμενο φωνητικής γραφής

[AZURE.INCLUDE [storage-selector-blob-include](../../includes/storage-selector-blob-include.md)]
<br/>
[AZURE.INCLUDE [storage-try-azure-tools-queues](../../includes/storage-try-azure-tools-blobs.md)]

## <a name="overview"></a>Επισκόπηση

Χώρο αποθήκευσης Blob του Azure είναι μια υπηρεσία που αποθηκεύει μη δομημένα δεδομένα στο cloud ως αντικείμενα/αντικείμενα blob. Χώρος αποθήκευσης αντικειμένων blob μπορούν να αποθηκεύσουν οποιονδήποτε τύπο κειμένου ή δυαδικά δεδομένα, όπως ένα έγγραφο, αρχείο πολυμέσων ή εφαρμογή του προγράμματος εγκατάστασης. Χώρος αποθήκευσης αντικειμένων blob επίσης αναφέρεται ως αντικείμενο χώρου αποθήκευσης.

Αυτός ο οδηγός θα σας δείξουν πώς να εκτελείτε συνηθισμένα σενάρια χρησιμοποιώντας χώρο αποθήκευσης αντικειμένων Blob. Τα δείγματα γράφονται με χρήση του API φωνητικής γραφής. Τα σενάρια καλύπτεται περιλαμβάνουν αντικείμενα BLOB **Αποστολή, καταχώρηση, τη λήψη,** και **τη διαγραφή** .

[AZURE.INCLUDE [storage-blob-concepts-include](../../includes/storage-blob-concepts-include.md)]

[AZURE.INCLUDE [storage-create-account-include](../../includes/storage-create-account-include.md)]

## <a name="create-a-ruby-application"></a>Δημιουργία μιας εφαρμογής φωνητικής γραφής

Δημιουργία μιας εφαρμογής φωνητικής γραφής. Για οδηγίες, ανατρέξτε στο θέμα [φωνητικής γραφής στην εφαρμογή Web ράβδους σε μια Εικονική Azure](../virtual-machines/linux/classic/virtual-machines-linux-classic-ruby-rails-web-app.md)

## <a name="configure-your-application-to-access-storage"></a>Ρύθμιση των παραμέτρων σας εφαρμογής για να αποκτήσετε πρόσβαση χώρου αποθήκευσης

Για να χρησιμοποιήσετε το χώρο αποθήκευσης Azure, πρέπει να κάνετε λήψη και χρήση του φωνητικής γραφής azure πακέτο, η οποία περιλαμβάνει ένα σύνολο βιβλιοθηκών ευκολία που επικοινωνία με τις υπηρεσίες ΥΠΌΛΟΙΠΟ του χώρου αποθήκευσης.

### <a name="use-rubygems-to-obtain-the-package"></a>Χρήση RubyGems λήψης του πακέτου

1. Χρησιμοποιήστε ένα περιβάλλον γραμμής εντολών όπως **PowerShell** (Windows), το **Terminal** (Mac) ή το **πάρτι** (Unix).

2. Πληκτρολογήστε "Περσικό azure εγκατάσταση" στο παράθυρο εντολών για να εγκαταστήσετε το περσικό και τις εξαρτήσεις.

### <a name="import-the-package"></a>Εισαγωγή του πακέτου

Χρησιμοποιώντας το πρόγραμμα επεξεργασίας κειμένου Αγαπημένα, προσθέστε τα ακόλουθα στο επάνω μέρος του αρχείου φωνητικής γραφής όπου σκοπεύετε να χρησιμοποιήσετε αποθήκευσης:

    require "azure"

## <a name="setup-an-azure-storage-connection"></a>Ρυθμίσετε μια σύνδεση Azure χώρου αποθήκευσης

Η λειτουργική μονάδα azure θα διαβάσει τις μεταβλητές περιβάλλοντος **AZURE\_χώρου ΑΠΟΘΉΚΕΥΣΗΣ\_ΛΟΓΑΡΙΑΣΜΟΎ** και **AZURE\_χώρου ΑΠΟΘΉΚΕΥΣΗΣ\_ACCESS_KEY** για τις πληροφορίες που απαιτούνται για να συνδεθείτε στο λογαριασμό σας Azure χώρου αποθήκευσης. Αν δεν έχουν οριστεί αυτές τις μεταβλητές περιβάλλοντος, πρέπει να καθορίσετε τις πληροφορίες λογαριασμού πριν από τη χρήση **Azure::Blob::BlobService** με τον ακόλουθο κώδικα:

    Azure.config.storage_account_name = "<your azure storage account>"
    Azure.config.storage_access_key = "<your azure storage access key>"


Για να λάβετε αυτές τις τιμές από μια κλασική ή το λογαριασμό χώρου αποθήκευσης για τη διαχείριση πόρων στην πύλη του Azure:

1. Συνδεθείτε [πύλη του Azure](https://portal.azure.com).
2. Μεταβείτε στο λογαριασμό του χώρου αποθήκευσης που θέλετε να χρησιμοποιήσετε.
3. Στο το blade ρυθμίσεις στα δεξιά, κάντε κλικ στην επιλογή **Πλήκτρα πρόσβασης**.
4. Στο το blade πλήκτρα πρόσβασης που εμφανίζεται, θα δείτε το πλήκτρο πρόσβασης 1 και το κλειδί πρόσβασης 2. Μπορείτε να χρησιμοποιήσετε ένα από τα παραπάνω. 
5. Κάντε κλικ στο εικονίδιο Αντιγραφή για να αντιγράψετε τον αριθμό-κλειδί στο Πρόχειρο. 

Για να λάβετε αυτές τις τιμές από ένα λογαριασμό κλασική χώρου αποθήκευσης στην κλασική Azure πύλη:

1. Συνδεθείτε [πύλη κλασική Azure](https://manage.windowsazure.com).
2. Μεταβείτε στο λογαριασμό του χώρου αποθήκευσης που θέλετε να χρησιμοποιήσετε.
3. Κάντε κλικ στην επιλογή **ΔΙΑΧΕΊΡΙΣΗ ΠΛΉΚΤΡΑ ΠΡΌΣΒΑΣΗΣ** στο κάτω μέρος του παραθύρου περιήγησης.
4. Στο αναδυόμενο παράθυρο διαλόγου, θα δείτε το όνομα λογαριασμού χώρου αποθήκευσης, πρόσβαση πρωτεύον κλειδί και πρόσβασης δευτερεύον κλειδί. Για το πλήκτρο πρόσβασης, μπορείτε να χρησιμοποιήσετε κύρια ή δευτερεύοντα αυτό. 
5. Κάντε κλικ στο εικονίδιο Αντιγραφή για να αντιγράψετε τον αριθμό-κλειδί στο Πρόχειρο.

## <a name="create-a-container"></a>Δημιουργία κοντέινερ

[AZURE.INCLUDE [storage-container-naming-rules-include](../../includes/storage-container-naming-rules-include.md)]

Το αντικείμενο **Azure::Blob::BlobService** σάς επιτρέπει να εργάζεστε με το κοντέινερ και αντικείμενα blob. Για να δημιουργήσετε ένα κοντέινερ, χρησιμοποιήστε το **Δημιουργία\_container()** μέθοδο.

Το ακόλουθο παράδειγμα κώδικα δημιουργεί ένα κοντέινερ ή εκτύπωση από το σφάλμα εάν υπάρχει κάποια.

    azure_blob_service = Azure::Blob::BlobService.new
    begin
      container = azure_blob_service.create_container("test-container")
    rescue
      puts $!
    end

Εάν θέλετε να κάνετε δημόσια τα αρχεία στο κοντέινερ, μπορείτε να ορίσετε δικαιώματα στο κοντέινερ.

Μπορείτε απλώς να τροποποιήσετε το <strong>Δημιουργία\_container()</strong> κλήσης για τη μεταβίβαση το **: δημόσια\_access\_επίπεδο** επιλογή:

    container = azure_blob_service.create_container("test-container",
      :public_access_level => "<public access level>")


Οι έγκυρες τιμές για το **: δημόσια\_access\_επίπεδο** επιλογή είναι:

* **blob:** Καθορίζει πλήρη δημόσια πρόσβαση για ανάγνωση για το κοντέινερ και αντικειμένων blob δεδομένα. Προγράμματα-πελάτες να απαριθμήσετε αντικείμενα BLOB μέσα στο κοντέινερ μέσω ανώνυμη αίτηση, αλλά δεν είναι δυνατή η απαρίθμηση κοντέινερ εντός του λογαριασμού χώρου αποθήκευσης.

* **κοντέινερ:** Καθορίζει δημόσια πρόσβαση για ανάγνωση για αντικείμενα blob. Δεδομένα BLOB μέσα σε αυτό το κοντέινερ μπορεί να διαβαστεί μέσω ανώνυμη αίτηση, αλλά κοντέινερ δεδομένων δεν είναι διαθέσιμη. Προγράμματα-πελάτες δεν είναι δυνατό να απαρίθμηση αντικείμενα BLOB μέσα στο κοντέινερ μέσω ανώνυμη αίτηση.

Εναλλακτικά, μπορείτε να τροποποιήσετε το επίπεδο πρόσβασης δημόσια ένα κοντέινερ, χρησιμοποιώντας **Ορισμός\_κοντέινερ\_acl()** μέθοδο για να καθορίσετε το επίπεδο πρόσβασης δημόσια.

Το ακόλουθο παράδειγμα κώδικα αλλάζει το επίπεδο πρόσβασης δημόσια **κοντέινερ**:

    azure_blob_service.set_container_acl('test-container', "container")

## <a name="upload-a-blob-into-a-container"></a>Αποστείλετε ένα blob σε ένα κοντέινερ

Για να αποστείλετε περιεχόμενο σε ένα αντικείμενο blob, χρησιμοποιήστε το **Δημιουργία\_μπλοκ\_blob()** μέθοδο για να δημιουργήσετε το αντικείμενο blob, χρησιμοποιήστε ένα αρχείο ή μια συμβολοσειρά ως το περιεχόμενο από το αντικείμενο blob.

Ο ακόλουθος κώδικας αποστέλλει το αρχείο **test.png** ως νέα blob με το όνομα "εικόνα-blob" στο κοντέινερ.

    content = File.open("test.png", "rb") { |file| file.read }
    blob = azure_blob_service.create_block_blob(container.name,
      "image-blob", content)
    puts blob.name

## <a name="list-the-blobs-in-a-container"></a>Λίστα με τα αντικείμενα BLOB σε ένα κοντέινερ

Για να παραθέσετε τα κοντέινερ, χρησιμοποιήστε τη μέθοδο **list_containers()** .
Για να δημιουργήσετε μια λίστα με τα αντικείμενα BLOB μέσα σε ένα κοντέινερ, χρησιμοποιήστε **λίστα\_blobs()** μέθοδο.

Αυτό εμφανίζει τις διευθύνσεις URL των όλα τα αντικείμενα BLOB σε όλα τα κοντέινερ για το λογαριασμό.

    containers = azure_blob_service.list_containers()
    containers.each do |container|
      blobs = azure_blob_service.list_blobs(container.name)
      blobs.each do |blob|
        puts blob.name
      end
    end

## <a name="download-blobs"></a>Λήψη αντικείμενα BLOB

Για να κάνετε λήψη αντικείμενα blob, χρησιμοποιήστε το **Λήψη\_blob()** μέθοδο για να ανακτήσετε τα περιεχόμενα.

Το ακόλουθο παράδειγμα κώδικα παρουσιάζει τη χρήση **Λήψη\_blob()** να κάνετε λήψη των περιεχομένων "εικόνα-blob" και να γράφετε σε ένα τοπικό αρχείο.

    blob, content = azure_blob_service.get_blob(container.name,"image-blob")
    File.open("download.png","wb") {|f| f.write(content)}

## <a name="delete-a-blob"></a>Διαγράψτε ένα Blob
Τέλος, για να διαγράψετε ένα blob, χρησιμοποιήστε το **Διαγραφή\_blob()** μέθοδο. Το ακόλουθο παράδειγμα κώδικα παρουσιάζει πώς μπορείτε να διαγράψετε ένα blob.

    azure_blob_service.delete_blob(container.name, "image-blob")

## <a name="next-steps"></a>Επόμενα βήματα

Για να μάθετε σχετικά με τις πιο σύνθετες εργασίες χώρου αποθήκευσης, ακολουθήστε αυτές τις συνδέσεις:

- [Ιστολόγιο ομάδας Azure χώρου αποθήκευσης](http://blogs.msdn.com/b/windowsazurestorage/)
- Αρχείο φύλαξης [SDK Azure για το κείμενο φωνητικής γραφής](https://github.com/WindowsAzure/azure-sdk-for-ruby) στο GitHub
- [Μεταφορά δεδομένων με το βοηθητικό πρόγραμμα γραμμής εντολών AzCopy](storage-use-azcopy.md)
