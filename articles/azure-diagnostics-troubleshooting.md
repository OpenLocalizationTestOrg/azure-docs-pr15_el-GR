<properties
    pageTitle="Αντιμετώπιση προβλημάτων Διαγνωστικά του Azure"
    description="Αντιμετώπιση προβλημάτων κατά την χρησιμοποιώντας τα Διαγνωστικά του Azure στις υπηρεσίες Cloud Azure, εικονικές μηχανές και "
    services="multiple"
    documentationCenter=".net"
    authors="rboucher"
    manager="jwhit"
    editor=""/>

<tags
    ms.service="multiple"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="dotnet"
    ms.topic="article"
    ms.date="10/04/2016"
    ms.author="robb"/>


# <a name="azure-diagnostics-troubleshooting"></a>Azure Διαγνωστικά αντιμετώπισης προβλημάτων
Πληροφορίες σχετικά με τη χρήση του Azure Διαγνωστικά αντιμετώπισης προβλημάτων. Για περισσότερες πληροφορίες σχετικά με τα Διαγνωστικά Azure, ανατρέξτε στο θέμα [Επισκόπηση διαγνωστικών Azure](azure-diagnostics.md#cloud-services).

## <a name="azure-diagnostics-is-not-starting"></a>Δεν γίνεται εκκίνηση της Διαγνωστικά του Azure

Διαγνωστικά αποτελείται από δύο στοιχεία: μια Προσθήκη παράγοντα επισκέπτη και τον παράγοντα παρακολούθησης. Μπορείτε να ελέγξετε τα αρχεία καταγραφής **DiagnosticsPluginLauncher.log** και **DiagnosticsPlugin.log** για πληροφορίες σχετικά με το γιατί Διαγνωστικά δεν μπορεί να ξεκινήσει.  
  
Σε ένα ρόλο υπηρεσία Cloud, αρχεία καταγραφής για την προσθήκη παράγοντα επισκέπτη βρίσκονται σε: 

``` 
C:\Logs\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\1.6.3.0\ 
``` 

Σε μια Azure εικονικό υπολογιστή, αρχεία καταγραφής για την προσθήκη παράγοντα επισκέπτη βρίσκονται σε: 

``` 
C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\1.6.3.0\Logs\ 
``` 
 
Η τελευταία γραμμή του τα αρχεία καταγραφής θα περιέχει τον κωδικό εξόδου.  

``` 
DiagnosticsPluginLauncher.exe Information: 0 : [4/16/2016 6:24:15 AM] DiagnosticPlugin exited with code 0 
``` 

Η προσθήκη επιστρέφει τους ακόλουθους κωδικούς εξόδου:

Κωδικός εξόδου|Περιγραφή
---|---
0|Επιτυχία.
-1|Γενικό σφάλμα.
-2|Δεν είναι δυνατή η φόρτωση του αρχείου rcf.<p>Αυτό είναι ένα εσωτερικό σφάλμα που θα πρέπει να συμβεί μόνο εάν την εκκίνηση προσθήκης παράγοντα επισκέπτη με μη αυτόματο τρόπο ενεργοποιείται, λανθασμένα, στην την εικονική Μηχανή.
-3|Δεν είναι δυνατό να φορτώσετε το αρχείο ρύθμισης παραμέτρων Διαγνωστικά.<p><p>Λύση: Αυτό είναι το αποτέλεσμα ενός αρχείου ρύθμισης παραμέτρων δεν διέρχεται η επικύρωση σχήματος. Η λύση είναι να δώσετε ένα αρχείο ρύθμισης παραμέτρων που συμμορφώνεται με το σχήμα.
-4|Μια άλλη παρουσία του παρακολούθησης παράγοντα Διαγνωστικά χρησιμοποιεί ήδη τον κατάλογο τοπικός πόρος.<p><p>Λύση: Καθορίστε μια διαφορετική τιμή για **LocalResourceDirectory**.
-6|Στην εκκίνηση επισκέπτη παράγοντας Προσθήκη προσπάθησε να εκκίνηση Διαγνωστικά με μια γραμμή εντολών δεν είναι έγκυρη.<p><p>Αυτό είναι ένα εσωτερικό σφάλμα που πρέπει να πραγματοποιούνται μόνο εάν την εκκίνηση προσθήκης παράγοντα επισκέπτη με μη αυτόματο τρόπο ενεργοποιείται, λανθασμένα, στην την εικονική Μηχανή.
-10|Έξοδος από την προσθήκη Διαγνωστικά με μια ανεπίλυτη εξαίρεση.
-11|Ο παράγοντας επισκέπτη ήταν δεν είναι δυνατή η δημιουργία της διαδικασίας είναι υπεύθυνη για εκκίνηση και παρακολούθηση τον παράγοντα παρακολούθησης.<p><p>Λύση: Βεβαιωθείτε ότι είναι διαθέσιμος για εκκίνηση νέες διεργασίες επαρκή πόρους του συστήματος.<p>
-101|Μη έγκυρα ορίσματα κατά την κλήση της προσθήκης Διαγνωστικά.<p><p>Αυτό είναι ένα εσωτερικό σφάλμα που θα πρέπει να συμβεί μόνο εάν την εκκίνηση προσθήκης παράγοντα επισκέπτη με μη αυτόματο τρόπο ενεργοποιείται, λανθασμένα, στην την εικονική Μηχανή.
-102|Η διαδικασία προσθήκης δεν είναι δυνατό να προετοιμαστεί.<p><p>Λύση: Βεβαιωθείτε ότι είναι διαθέσιμος για εκκίνηση νέες διεργασίες επαρκή πόρους του συστήματος.
-103|Η διαδικασία προσθήκης δεν είναι δυνατό να προετοιμαστεί. Ειδικά δεν είναι δυνατή η δημιουργία του αντικειμένου καταγραφής.<p><p>Λύση: Βεβαιωθείτε ότι είναι διαθέσιμος για εκκίνηση νέες διεργασίες επαρκή πόρους του συστήματος.
-104|Δεν είναι δυνατή η φόρτωση του αρχείου rcf που παρέχεται από τον παράγοντα επισκέπτη.<p><p>Αυτό είναι ένα εσωτερικό σφάλμα που πρέπει να πραγματοποιούνται μόνο εάν την εκκίνηση προσθήκης παράγοντα επισκέπτη με μη αυτόματο τρόπο ενεργοποιείται, λανθασμένα, στην την εικονική Μηχανή.
-105|Η προσθήκη Διαγνωστικά δεν είναι δυνατό να ανοίξει το αρχείο ρύθμισης παραμέτρων Διαγνωστικά.<p><p>Αυτό είναι ένα εσωτερικό σφάλμα που θα πρέπει να συμβεί μόνο εάν η προσθήκη Διαγνωστικά με μη αυτόματο τρόπο ενεργοποιείται, λανθασμένα, στην την εικονική Μηχανή.
-106|Δεν μπορεί να διαβάσει το αρχείο ρύθμισης παραμέτρων Διαγνωστικά.<p><p>Λύση: Αυτό είναι το αποτέλεσμα ενός αρχείου ρύθμισης παραμέτρων δεν διέρχεται η επικύρωση σχήματος. Επομένως, η λύση είναι να δώσετε ένα αρχείο ρύθμισης παραμέτρων που συμμορφώνεται με το σχήμα. Μπορείτε να βρείτε το XML που παρέχονται για την επέκταση Διαγνωστικά με το φάκελο *%SystemDrive%\WindowsAzure\Config* σε η Εικονική. Ανοίξτε το κατάλληλο αρχείο XML και αναζήτησης για **Microsoft.Azure.Diagnostics**, στη συνέχεια, για το πεδίο **xmlCfg** . Τα δεδομένα είναι κωδικοποίηση, θα χρειαστεί να [αποκωδικοποιείτε το](http://www.bing.com/search?q=base64+decoder) για να δείτε το XML που έχει φορτωθεί από Διαγνωστικά base64.<p>
-107|Η φάση καταλόγου πόρων στον παράγοντα παρακολούθησης δεν είναι έγκυρη.<p><p>Αυτό είναι ένα εσωτερικό σφάλμα που πρέπει να συμβεί μόνο εάν ο παράγοντας παρακολούθησης με μη αυτόματο τρόπο ενεργοποιείται, λανθασμένα, στην την εικονική Μηχανή.</p>
-108    |Δεν είναι δυνατό να μετατρέψετε το αρχείο ρύθμισης παραμέτρων Διαγνωστικά στο αρχείο ρύθμισης παραμέτρων παράγοντας παρακολούθησης.<p><p>Αυτό είναι ένα εσωτερικό σφάλμα που θα πρέπει να συμβεί μόνο εάν η προσθήκη Διαγνωστικά με μη αυτόματο τρόπο ενεργοποιείται με ένα αρχείο ρύθμισης παραμέτρων δεν είναι έγκυρη.
-110|Σφάλμα ρύθμισης παραμέτρων Διαγνωστικά Γενικά.<p><p>Αυτό είναι ένα εσωτερικό σφάλμα που θα πρέπει να συμβεί μόνο εάν η προσθήκη Διαγνωστικά με μη αυτόματο τρόπο ενεργοποιείται με ένα αρχείο ρύθμισης παραμέτρων δεν είναι έγκυρη.
-111|Δεν μπορείτε να ξεκινήσετε τον παράγοντα παρακολούθησης.<p><p>Λύση: Βεβαιωθείτε ότι είναι διαθέσιμα επαρκή πόρους του συστήματος.
-112|Γενικό σφάλμα


## <a name="diagnostics-data-is-not-logged-to-azure-storage"></a>Διαγνωστικά δεδομένα είναι δεν έχετε συνδεθεί με το χώρο αποθήκευσης Azure
Διαγνωστικά του Azure αποθηκεύει όλα τα δεδομένα στο χώρο αποθήκευσης Azure.

Η πιο κοινή αιτία της απώλειας δεδομένων συμβάν είναι πληροφορίες λογαριασμού εσφαλμένα καθορισμένο χώρου αποθήκευσης.

Λύση: Διορθώστε το αρχείο ρύθμισης παραμέτρων Διαγνωστικά και να εγκαταστήσετε ξανά τα Διαγνωστικά.
Εάν το πρόβλημα δεν επιλυθεί αφού εγκαταστήσετε εκ νέου την επέκταση Διαγνωστικά, στη συνέχεια, ίσως χρειαστεί να εντοπισμός σφαλμάτων περαιτέρω αναζητώντας έως το παρακολούθησης παράγοντας σφάλματα. Πριν από την αποστολή δεδομένων συμβάντων στο λογαριασμό σας χώρου αποθήκευσης είναι αποθηκευμένο στο το LocalResourceDirectory.

Για το ρόλο υπηρεσιών Cloud του LocalResourceDirectory είναι:

    C:\Resources\Directory\<CloudServiceDeploymentID>.<RoleName>.DiagnosticStore\WAD<DiagnosticsMajorandMinorVersion>\Tables

Για εικονικές μηχανές του LocalResourceDirectory είναι:

    C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD<DiagnosticsMajorandMinorVersion>\Tables

Εάν δεν υπάρχουν αρχεία στο φάκελο LocalResourceDirectory, τον παράγοντα παρακολούθησης είναι δεν είναι δυνατή η εκκίνηση. Αυτό συνήθως προκαλείται από ένα αρχείο ρύθμισης παραμέτρων δεν είναι έγκυρη, ένα συμβάν που θα πρέπει να αναφέρεται σε το CommandExecution.log.

Εάν ο παράγοντας παρακολούθησης με επιτυχία συλλέγει δεδομένα συμβάντος θα δείτε τα αρχεία .tsf για κάθε συμβάν που ορίζονται από το στο αρχείο παραμέτρων. Ο παράγοντας παρακολούθηση καταγράφει τα σφάλματα στο αρχείο MaEventTable.tsf. Για να ελέγξετε τα περιεχόμενα αυτού του αρχείου, μπορείτε να χρησιμοποιήσετε την εφαρμογή tabel2csv για να μετατρέψετε το αρχείο .tsf σε ένα αρχείο values(.csv) διαχωρισμένο με κόμματα:

Σε ένα ρόλο υπηρεσία Cloud:

    %SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<DiagnosticsVersion>\Monitor\x64\table2csv maeventtable.tsf

*% SystemDrive %* σε ένα ρόλο υπηρεσία Cloud είναι συνήθως δ:

Σε μια εικονική μηχανή:

    C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\Monitor\x64\table2csv maeventtable.tsf

Οι παραπάνω εντολές δημιουργεί το αρχείο καταγραφής αρχείου *maeventtable.csv*, που μπορείτε να ανοίξετε και να ελέγξετε για μηνύματα σφάλματος.    


## <a name="diagnostics-data-tables-not-found"></a>Διαγνωστικά δεδομένα πινάκων δεν βρέθηκε
Οι πίνακες σε Azure αποθήκευσης κρατώντας πατημένο το Azure διαγνωστικά δεδομένα ονομάζονται χρησιμοποιώντας τον παρακάτω κώδικα:

        if (String.IsNullOrEmpty(eventDestination)) {
            if (e == "DefaultEvents")
                tableName = "WADDefault" + MD5(provider);
            else
                tableName = "WADEvent" + MD5(provider) + eventId;
        }
        else
            tableName = "WAD" + eventDestination;

Ακολουθεί ένα παράδειγμα:

        <EtwEventSourceProviderConfiguration provider=”prov1”>
          <Event id=”1” />
          <Event id=”2” eventDestination=”dest1” />
          <DefaultEvents />
        </EtwEventSourceProviderConfiguration>
        <EtwEventSourceProviderConfiguration provider=”prov2”>
          <DefaultEvents eventDestination=”dest2” />
        </EtwEventSourceProviderConfiguration>

Που θα δημιουργήσει 4 πίνακες:

Συμβάν|Όνομα πίνακα
---|---
υπηρεσία παροχής = "prov1" &lt;αναγνωριστικό συμβάντος = "1" /&gt;|WADEvent + MD5("prov1") + "1"
υπηρεσία παροχής = "prov1" &lt;αναγνωριστικό συμβάντος = "2" eventDestination = "dest1" /&gt;|WADdest1
υπηρεσία παροχής = "prov1" &lt;DefaultEvents /&gt;|WADDefault+MD5("prov1")
υπηρεσία παροχής = "prov2" &lt;DefaultEvents eventDestination = "dest2" /&gt;|WADdest2
