<properties
   pageTitle="Διαχείριση πόρων συμπλέγματος ύφασμα υπηρεσίας: κίνηση κόστους | Microsoft Azure"
   description="Επισκόπηση των κίνηση κόστος για υπηρεσίες δομής υπηρεσίας"
   services="service-fabric"
   documentationCenter=".net"
   authors="masnider"
   manager="timlt"
   editor=""/>

<tags
   ms.service="Service-Fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="08/19/2016"
   ms.author="masnider"/>

# <a name="service-movement-cost-for-influencing-cluster-resource-manager-choices"></a>Υπηρεσία κίνηση κόστος για που επηρεάζουν τις επιλογές για τη διαχείριση πόρων συμπλέγματος
Σημαντικό παράγοντα πρέπει να λάβετε υπόψη όταν προσπαθείτε να καθορίσετε τι αλλάζει για να κάνετε σε ένα σύμπλεγμα και τη βαθμολογία μιας λύσης είναι το συνολικό κόστος την επίτευξη αυτήν τη λύση.

Μετακίνηση υπηρεσίας παρουσιών ή αντίγραφα κόστους CPU δικτύου και ώρα εύρους ζώνης τουλάχιστον. Για τις υπηρεσίες με κατάσταση, το επίσης να κόστους την ποσότητα του χώρου στο δίσκο που χρειάζεστε για να δημιουργήσετε ένα αντίγραφο της κατάστασης πριν από τον τερματισμό παλιά αντίγραφα. Με σαφήνεια που θα θέλετε να ελαχιστοποιήσετε το κόστος κάθε λύσης που Azure ύφασμα υπηρεσιών συμπλέγματος από διαχειριστή πόρων εμφανιστεί με. Αλλά δεν θέλετε να παραβλέψετε λύσεις που να βελτιώσει πολύ την κατανομή των πόρων του συμπλέγματος.

Διαχείριση πόρων συμπλέγματος έχει δύο τρόποι για να υπολογιστική κόστους και τον περιορισμό, ακόμα και όταν προσπαθεί να διαχειριστείτε το σύμπλεγμα σύμφωνα με τους άλλους στόχους. Το πρώτο είναι ότι όταν διαχείριση πόρων συμπλέγματος σχεδιασμό μια νέα διάταξη για το σύμπλεγμα, μετράει κάθε μετακίνηση που θα ήταν. Σε μια απλή περίπτωση, εάν λάβετε δύο λύσεις με σχετικά με την ίδια συνολικά υπόλοιπο (βαθμολογία) στο τέλος και τραβήξτε αυτό με το χαμηλότερο κόστος (συνολικό αριθμό των κινήσεων).

Αυτό λειτουργεί αρκετά καλά. Αλλά, όπως με την προεπιλεγμένη ή στατικό φορτία, δεν είναι πιθανό να σε κάθε σύνθετες σύστημα που μετακινεί όλα είναι ίσες. Ορισμένα είναι πιθανό να είναι πολύ πιο ακριβό.

## <a name="changing-a-replicas-move-cost-and-factors-to-consider"></a>Αλλαγή ενός αντιγράφου μετακίνηση κόστους και παράγοντες που πρέπει να λάβετε υπόψη σας
Ως με αναφορά φόρτωση (μια άλλη δυνατότητα της διαχείρισης πόρων συμπλέγματος), που παρέχουν την υπηρεσία έναν τρόπο αυτο-αναφοράς πόσο κοστίζουν είναι η υπηρεσία για να μετακινηθείτε σε μια συγκεκριμένη χρονική στιγμή.

Κώδικας:

```csharp
this.ServicePartition.ReportMoveCost(MoveCost.Medium);
```

MoveCost έχει τέσσερα επίπεδα: μηδέν, χαμηλή, μεσαίο και υψηλή. Αυτά είναι σε σχέση με μεταξύ τους, εκτός από το μηδέν. Μηδέν σημαίνει ότι η μετακίνηση ενός αντιγράφου είναι δωρεάν και δεν θα πρέπει να συμπεριλαμβάνονται στη βαθμολογία της λύσης. Ρύθμιση του κόστους μετακίνησης σε υψηλή είναι *δεν* αποτελεί εγγύηση ότι δεν θα μετακινήσετε το ρεπλίκα, απλώς ότι δεν θα μετακινηθεί, εκτός εάν υπάρχει ένας καλός λόγος για να.

![Μετακίνηση κόστους ως παράγοντα κατά την επιλογή αντίγραφα για κίνηση][Image1]

MoveCost σάς βοηθά να εντοπίσετε τις λύσεις που προκαλούν τη διακοπή της τουλάχιστον συνολική και είναι ευκολότερο να επιτύχετε ενώ εξακολουθείτε να παραδίδονται στο ισοδύναμο υπολοίπου. Μια υπηρεσία έννοια του κόστους μπορεί να είναι σε σχέση με πολλά πράγματα. Οι πιο συνηθισμένες παράγοντες κατά τον υπολογισμό του κόστους μετακίνησης είναι:

- Το ποσό της ή δεδομένα που περιλαμβάνει την υπηρεσία για να μετακινήσετε.
- Το κόστος των αποσύνδεσης των υπολογιστών-πελατών. Το κόστος να μεταφέρετε μια κύρια ρεπλίκα είναι συνήθως υψηλότερα από το κόστος να μεταφέρετε μια δευτερεύουσα ρεπλίκα.
- Το κόστος των να διακόψει μια εν πτήσει πράξη. Ορισμένες λειτουργίες τα δεδομένα αποθηκεύουν επίπεδο ή λειτουργίες που εκτελούνται σε απόκριση σε μια κλήση προγράμματος-πελάτη είναι κοστίζουν. Μετά από ένα συγκεκριμένο σημείο, που δεν θέλετε να διακόψετε τους, εάν δεν χρειάζεται να. Επομένως, για τη διάρκεια της λειτουργίας, ανωμαλίας το κόστος για να μειώσετε την πιθανότητα ότι θα μετακινηθεί η υπηρεσία ρεπλίκα ή η παρουσία. Όταν ολοκληρωθεί η λειτουργία, μπορείτε να την τοποθετήσετε Επιστροφή στην κανονική.

## <a name="next-steps"></a>Επόμενα βήματα
- Υπηρεσία ύφασμα σύμπλεγμα της διαχείρισης πόρων χρησιμοποιεί μετρικά για τη Διαχείριση κατανάλωση και χωρητικότητας στο σύμπλεγμα. Για να μάθετε περισσότερα σχετικά με τις μετρήσεις και πώς μπορείτε να ρυθμίσετε τις παραμέτρους τους, δείτε [την κατανάλωση πόρων διαχείρισης και φόρτωση στην υπηρεσία υφάσματος με μετρήσεις](service-fabric-cluster-resource-manager-metrics.md).
- Για να μάθετε πώς η διαχείριση πόρων συμπλέγματος διαχειρίζεται και υπολοίπων φορτίο στο σύμπλεγμα, δείτε [το σύμπλεγμά σας ύφασμα υπηρεσίας εξισορρόπησης](service-fabric-cluster-resource-manager-balancing.md).

[Image1]:./media/service-fabric-cluster-resource-manager-movement-cost/service-most-cost-example.png
