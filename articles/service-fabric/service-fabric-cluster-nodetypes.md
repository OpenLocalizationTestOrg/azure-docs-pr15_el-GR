<properties
   pageTitle="Τύποι κόμβου ύφασμα υπηρεσία και τα σύνολα κλίμακα Εικονική | Microsoft Azure"
   description="Περιγράφει τον τρόπο τύποι κόμβου υπηρεσίας ύφασμα συσχέτιση με Εικονική κλίμακα σύνολα και πώς σε απομακρυσμένη σύνδεση με μια παρουσία Ορισμός κλίμακα Εικονική ή έναν κόμβο συμπλέγματος."
   services="service-fabric"
   documentationCenter=".net"
   authors="ChackDan"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="09/09/2016"
   ms.author="chackdan"/>


# <a name="the-relationship-between-service-fabric-node-types-and-virtual-machine-scale-sets"></a>Η σχέση μεταξύ τύποι κόμβου ύφασμα υπηρεσία και τα σύνολα κλίμακα εικονική μηχανή

Τα σύνολα κλίμακα εικονική μηχανή είναι ένας πόρος τον υπολογισμό Azure που μπορείτε να χρησιμοποιήσετε για να αναπτύξετε και να διαχειριστείτε μια συλλογή από εικονικές μηχανές ως σύνολο. Κάθε τύπος κόμβου που έχει οριστεί σε ένα σύμπλεγμα ύφασμα υπηρεσίας έχει οριστεί ως ένα νέο σύνολο κλίμακα Εικονική. Κάθε τύπος κόμβου, στη συνέχεια, να γίνει κλιμάκωση προς τα επάνω ή προς τα κάτω ανεξάρτητα από αυτό, έχουν διαφορετικά σύνολα θύρες ανοιχτό και μπορούν να έχουν διαφορετική χωρητικότητα μετρήσεις.

Το παρακάτω στιγμιότυπο οθόνης εμφανίζει ένα σύμπλεγμα που διαθέτει δύο τύπους κόμβου: προσκηνίου και παρασκηνίου.  Κάθε τύπος κόμβου έχει πέντε κόμβους.

![Στιγμιότυπο οθόνης από ένα σύμπλεγμα που διαθέτει δύο τύπους κόμβου][NodeTypes]

## <a name="mapping-vm-scale-set-instances-to-nodes"></a>Αντιστοίχιση Ορισμός κλίμακα Εικονική παρουσίες σε κόμβους

Όπως μπορείτε να δείτε παραπάνω, οι εμφανίσεις Ορισμός κλίμακα Εικονική ξεκινήστε από την παρουσία 0 και, στη συνέχεια, μετάβαση προς τα επάνω. Την αρίθμηση ενημερώνεται στα ονόματα. Για παράδειγμα, BackEnd_0 είναι 0 παρουσία του συνόλου κλίμακα παρασκηνίου Εικονική. Αυτό συγκεκριμένη ρύθμιση κλίμακα Εικονική έχει πέντε παρουσίες, με το όνομα BackEnd_0, BackEnd_1, BackEnd_2, BackEnd_3 και BackEnd_4.

Όταν γίνεται κλιμάκωση του μια ρύθμιση κλίμακας Εικονική δημιουργείται μια νέα περίοδο λειτουργίας. Το νέο όνομα παρουσία Εικονική κλίμακα ρύθμιση είναι συνήθως το όνομα Ορισμός κλίμακα Εικονική + τον επόμενο αριθμό παρουσία. Στο παράδειγμά μας, είναι BackEnd_5.


## <a name="mapping-vm-scale-set-load-balancers-to-each-node-typevm-scale-set"></a>Αντιστοίχιση κλίμακα Εικονική ορίστε balancers φόρτωση σε κάθε κόμβο τύπος/Εικονική κλίμακα σύνολο

Εάν έχετε αναπτύξει το σύμπλεγμά σας από την πύλη ή έχετε χρησιμοποιήσει το δείγμα προτύπου για τη διαχείριση πόρων που θα σας δώσει, στη συνέχεια, όταν λαμβάνετε μια λίστα με όλους τους πόρους στην περιοχή μιας ομάδας πόρων, στη συνέχεια, θα δείτε τη φόρτωση balancers για κάθε τύπο Ορισμός κλίμακα Εικονική ή κόμβου.

Το όνομα θα κάτι τέτοιο: **Λίβρες -&lt;όνομα NodeType&gt;**. Για παράδειγμα, Λίβρες-sfcluster4doc-0, όπως φαίνεται σε αυτό το στιγμιότυπο οθόνης:


![Πόροι][Resources]


## <a name="remote-connect-to-a-vm-scale-set-instance-or-a-cluster-node"></a>Απομακρυσμένη σύνδεση με μια παρουσία Ορισμός κλίμακα Εικονική ή έναν κόμβο συμπλέγματος
Κάθε τύπος κόμβου που έχει οριστεί σε ένα σύμπλεγμα έχει ρυθμιστεί ως ξεχωριστή Εικονική κλίμακα σύνολο.  Αυτό σημαίνει ότι οι τύποι κόμβου μπορεί να γίνει κλιμάκωση προς τα επάνω ή προς τα κάτω, ανεξάρτητα από αυτό και μπορούν να γίνουν από διαφορετικές Εικονική SKU. Σε αντίθεση με μία παρουσία ΣΠΣ, τις παρουσίες Ορισμός κλίμακα Εικονική δεν λάβετε μια εικονική διεύθυνση IP δικές τους. Επομένως, μπορεί να είναι λίγο ενδιαφέρουσα όταν αναζητάτε μια διεύθυνση IP και θύρα που μπορείτε να χρησιμοποιήσετε για απομακρυσμένη σύνδεση σε μια συγκεκριμένη παρουσία.

Ακολουθούν τα βήματα που μπορείτε να ακολουθήσετε για να ανακαλύψετε τους.

### <a name="step-1-find-out-the-virtual-ip-address-for-the-node-type-and-then-inbound-nat-rules-for-rdp"></a>Βήμα 1: Μάθετε η εικονική διεύθυνση IP για τον τύπο κόμβου και, στη συνέχεια, τους κανόνες εισερχομένων NAT RDP

Για να λάβετε που, πρέπει να κάνετε λήψη των εισερχομένων NAT κανόνες τιμών που έχουν οριστεί ως μέρος της τον ορισμό πόρων για **Microsoft.Network/loadBalancers**.

Στην πύλη, μεταβείτε στο blade εξισορρόπησης φόρτου και, στη συνέχεια, **Ρυθμίσεις**.

![LBBlade][LBBlade]


Στις **Ρυθμίσεις**, κάντε κλικ στην επιλογή κανόνες **Εισερχομένων NAT**. Σε αυτό τώρα παρέχει τη διεύθυνση IP και θύρα που μπορείτε να χρησιμοποιήσετε για απομακρυσμένη σύνδεση με την πρώτη παρουσία Εικονική ρύθμιση κλίμακα. Στο παρακάτω στιγμιότυπο, είναι **104.42.106.156** και **3389**

![NATRules][NATRules]

### <a name="step-2-find-out-the-port-that-you-can-use-to-remote-connect-to-the-specific-vm-scale-set-instancenode"></a>Βήμα 2: Βρείτε εξερχόμενη σύνδεση στη θύρα που μπορείτε να χρησιμοποιήσετε σε απομακρυσμένο παρουσία/κόμβο συγκεκριμένη ρύθμιση κλίμακα Εικονική

Νωρίτερα σε αυτό το έγγραφο, να συνομιλία σχετικά με το πώς οι εμφανίσεις Ορισμός κλίμακα Εικονική αντιστοίχιση με τους κόμβους. Θα χρησιμοποιήσουμε που να υπολογίσετε το ακριβές θύρα.

Οι θύρες εκχωρούνται σε αύξουσα σειρά της παρουσίας Εικονική ρύθμιση κλίμακα. Επομένως, στο παράδειγμα για τον τύπο κόμβου FrontEnd, οι θύρες για κάθε μία από τις πέντε παρουσίες είναι τα εξής. Τώρα πρέπει να κάνετε την ίδια αντιστοίχιση για την παρουσία Εικονική ρύθμιση κλίμακα.

|**Εικονική κλίμακα σύνολο παρουσίας**|**Θύρα**|
|-----------------------|--------------------------|
|FrontEnd_0|3389|
|FrontEnd_1|3390|
|FrontEnd_2|3391|
|FrontEnd_3|3392|
|FrontEnd_4|3393|
|FrontEnd_5|3394|


### <a name="step-3-remote-connect-to-the-specific-vm-scale-set-instance"></a>Βήμα 3: Σύνδεση απομακρυσμένης για τη συγκεκριμένη παρουσία Εικονική ρύθμιση κλίμακας

Στο παρακάτω στιγμιότυπο οθόνης χρησιμοποιώ σύνδεση απομακρυσμένης επιφάνειας εργασίας για να συνδεθείτε με το FrontEnd_1:

![RDP][RDP]

## <a name="how-to-change-the-rdp-port-range-values"></a>Πώς μπορείτε να αλλάξετε τις τιμές της περιοχής θύρας RDP

### <a name="before-cluster-deployment"></a>Πριν από την ανάπτυξη συμπλέγματος

Όταν ρυθμίζετε το σύμπλεγμα χρησιμοποιώντας ένα πρότυπο από διαχειριστή πόρων, μπορείτε να καθορίσετε την περιοχή στο το **inboundNatPools**.

Μεταβείτε στον ορισμό πόρων για **Microsoft.Network/loadBalancers**. Στην περιοχή που μπορείτε να βρείτε την περιγραφή για το **inboundNatPools**.  Αντικαταστήστε τις τιμές *frontendPortRangeStart* και *frontendPortRangeEnd* .

![InboundNatPools][InboundNatPools]


### <a name="after-cluster-deployment"></a>Μετά την ανάπτυξη συμπλέγματος
Αυτό είναι λίγο πιο περίπλοκη και ενδέχεται να έχει ως αποτέλεσμα το ΣΠΣ γρήγορα ανακυκλώνεται. Τώρα θα πρέπει να ορίσετε νέες τιμές με χρήση του PowerShell Azure. Βεβαιωθείτε ότι Azure PowerShell 1.0 ή νεότερη έκδοση είναι εγκατεστημένο στον υπολογιστή σας. Εάν δεν το έχετε κάνει πριν, να συνιστάται ιδιαίτερα προτείνει να ακολουθήσετε τα βήματα που περιγράφονται στο [πώς μπορείτε να εγκαταστήσετε και να ρυθμίσετε τις παραμέτρους του PowerShell Azure.](../powershell-install-configure.md)

Πραγματοποιήστε είσοδο στο λογαριασμό σας στο Azure. Εάν αποτύχει αυτή την εντολή PowerShell για κάποιο λόγο, θα πρέπει να μπορείτε να ελέγξετε εάν έχετε Azure PowerShell εγκατασταθεί σωστά.

```
Login-AzureRmAccount
```

Εκτελέστε την ακόλουθη για περισσότερες λεπτομέρειες σχετικά με την εξισορρόπηση φόρτου και δείτε τις τιμές για την περιγραφή για το **inboundNatPools**:

```
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Network/loadBalancers -ResourceName <load balancer name>
```

Ορισμός τώρα *frontendPortRangeEnd* και *frontendPortRangeStart* για τις τιμές που θέλετε.

```
$PropertiesObject = @{
    #Property = value;
}
Set-AzureRmResource -PropertyObject $PropertiesObject -ResourceGroupName <RG name> -ResourceType Microsoft.Network/loadBalancers -ResourceName <load Balancer name> -ApiVersion <use the API version that get returned> -Force
```


## <a name="next-steps"></a>Επόμενα βήματα

- [Επισκόπηση της δυνατότητας "Ανάπτυξη οπουδήποτε" και μια σύγκριση με το Azure Διαχείριση συμπλεγμάτων](service-fabric-deploy-anywhere.md)
- [Ασφαλείας συμπλέγματος](service-fabric-cluster-security.md)
- [Υπηρεσία ύφασμα SDK και γρήγορα αποτελέσματα](service-fabric-get-started.md)


<!--Image references-->
[NodeTypes]: ./media/service-fabric-cluster-nodetypes/NodeTypes.png
[Resources]: ./media/service-fabric-cluster-nodetypes/Resources.png
[InboundNatPools]: ./media/service-fabric-cluster-nodetypes/InboundNatPools.png
[LBBlade]: ./media/service-fabric-cluster-nodetypes/LBBlade.png
[NATRules]: ./media/service-fabric-cluster-nodetypes/NATRules.png
[RDP]: ./media/service-fabric-cluster-nodetypes/RDP.png
