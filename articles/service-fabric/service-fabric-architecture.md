<properties
   pageTitle="Υπηρεσία ύφασμα αρχιτεκτονική | Microsoft Azure"
   description="Υπηρεσία ύφασμα είναι μια πλατφόρμα κατανεμημένα συστήματα που χρησιμοποιούνται για τη δημιουργία μεταβλητού μεγέθους αξιόπιστη και διαχείριση εύκολα εφαρμογές για το cloud. Σε αυτό το άρθρο παρουσιάζει την αρχιτεκτονική του ύφασμα υπηρεσίας."
   services="service-fabric"
   documentationCenter=".net"
   authors="rishirsinha"
   manager="timlt"
   editor="rishirsinha"/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="06/09/2016"
   ms.author="rsinha"/>

# <a name="service-fabric-architecture"></a>Αρχιτεκτονική ύφασμα υπηρεσίας

Υπηρεσία ύφασμα είναι ενσωματωμένη με σε επίπεδα υποσυστημάτων. Αυτές οι υποσυστημάτων σάς επιτρέπουν να γράψετε εφαρμογές που είναι:

* Ιδιαίτερα διαθέσιμη
* Μεταβλητού μεγέθους
* Διαχειρίσιμα
* Αναπτύξετε

Το παρακάτω διάγραμμα παρουσιάζει των κύριων υποσυστημάτων της υπηρεσίας ύφασμα.

![Διάγραμμα της αρχιτεκτονικής ύφασμα υπηρεσίας](media/service-fabric-architecture/service-fabric-architecture.png)

Σε ένα Κατανεμημένο σύστημα, η δυνατότητα για την ασφαλή επικοινωνία μεταξύ τους κόμβους σε ένα σύμπλεγμα είναι κρίσιμης σημασίας. Στη βάση του στη στοίβα είναι του υποσυστήματος μεταφοράς, η οποία παρέχει ασφαλή επικοινωνία μεταξύ τους κόμβους. Επάνω από τη μεταφορά υποσυστήματος βρίσκεται υποσυστήματος ομοσπονδίας, το οποίο συμπλεγμάτων τους διαφορετικούς κόμβους σε μία οντότητα (που ονομάζεται συμπλεγμάτων), έτσι ώστε να εντοπίσει αποτυχίες, εκτέλεση εκλογών επικεφαλής και δρομολόγηση συνεπή ύφασμα υπηρεσίας. Αξιοπιστία υποσυστήματος, με επίπεδα επάνω από την Ομοσπονδία του υποσυστήματος, τα οποία είναι υπεύθυνος για την αξιοπιστία των υπηρεσίες δομής υπηρεσίας μέσω μηχανισμών όπως αναπαραγωγή, διαχείριση πόρων και ανακατεύθυνσης. Υποσυστήματος Ομοσπονδία βασίζεται επίσης του υποσυστήματος φιλοξενίας και την ενεργοποίηση, που διαχειρίζεται τον κύκλο ζωής μιας εφαρμογής σε έναν μεμονωμένο κόμβο. Διαχείριση υποσυστήματος διαχειρίζεται τον κύκλο ζωής των εφαρμογών και υπηρεσιών. Υποσυστήματος με δυνατότητα δοκιμής βοηθά τους προγραμματιστές εφαρμογών δοκιμή τους υπηρεσίες μέσω προσομοιωμένη σφάλματα πριν και μετά την ανάπτυξη εφαρμογών και υπηρεσιών για περιβάλλοντα παραγωγής. Υπηρεσία ύφασμα παρέχει τη δυνατότητα να επιλύσετε θέσεις υπηρεσίας μέσω του υποσυστήματος επικοινωνίας. Τα μοντέλα προγραμματισμού εφαρμογής που εμφανίζονται για τους προγραμματιστές είναι πιο σημαντική από αυτές τις υποσυστημάτων μαζί με το μοντέλο εφαρμογής για να ενεργοποιήσετε την tooling.

## <a name="transport-subsystem"></a>Υποσυστήματος μεταφοράς
Υποσυστήματος μεταφοράς υλοποιεί ένα κανάλι επικοινωνίας διάγραμμα από σημείο σε σημείο. Αυτό το κανάλι χρησιμοποιείται για επικοινωνία μέσα σε υπηρεσία ύφασμα συμπλεγμάτων και επικοινωνία μεταξύ του συμπλέγματος ύφασμα υπηρεσία και τα προγράμματα-πελάτες. Υποστηρίζει μονόδρομη και μοτίβα επικοινωνίας αίτησης-απόκρισης, τα οποία παρέχει βάση για την εφαρμογή μετάδοσης και πολλαπλής στο επίπεδο ομοσπονδίας. Υποσυστήματος μεταφοράς διασφαλίζει επικοινωνίας με τη χρήση X509 πιστοποιητικά ή ασφαλείας των Windows. Αυτό υποσυστήματος χρησιμοποιείται εσωτερικά από ύφασμα υπηρεσίας και δεν είναι άμεσα προσβάσιμη για τους προγραμματιστές για προγραμματισμού εφαρμογών.

## <a name="federation-subsystem"></a>Ομοσπονδία υποσυστήματος
Για να λόγο σχετικά με ένα σύνολο κόμβους σε ένα Κατανεμημένο σύστημα, πρέπει να έχετε μια συνεπή προβολή του συστήματος. Υποσυστήματος Ομοσπονδία χρησιμοποιεί το στοιχειώδεις τύπους επικοινωνίας που παρέχονται από το υποσυστήματος μεταφοράς και stitches τους διάφορους κόμβους σε ένα μεμονωμένο σύμπλεγμα ενοποιημένος χώρος που αυτό μπορεί να λόγο σχετικά με. Παρέχει το στοιχειώδεις τύπους κατανεμημένα συστήματα που απαιτούνται από άλλα υποσυστημάτων - εντοπισμός αποτυχίας εκλογών επικεφαλής και συνεπή δρομολόγηση. Υποσυστήματος Ομοσπονδία είναι ενσωματωμένη επάνω σε πίνακες κατανέμεται κατακερματισμός με κενό διακριτικού 128 bit. Υποσυστήματος δημιουργεί μια τοπολογία κλήση πάνω από τους κόμβους, με κάθε κόμβο του δακτυλίου που έχει εκχωρηθεί ένα υποσύνολο του διακριτικού χώρου για κατοχή. Αποτυχία ανίχνευσης, το επίπεδο χρησιμοποιεί ένα μίσθωσης μηχανισμό βάση καρδιά beating και διαιτησίας. Υποσυστήματος Ομοσπονδία εγγυάται επίσης μέσω περίπλοκα συμμετοχή και τα πρωτόκολλα αναχώρησης που υπάρχει μόνο έναν μοναδικό κάτοχο ενός διακριτικού οποιαδήποτε στιγμή. Αυτό παρέχουν εκλογών επικεφαλής και συνεπή δρομολόγησης εγγυήσεις.

## <a name="reliability-subsystem"></a>Αξιοπιστία υποσυστήματος
Υποσυστήματος αξιοπιστία παρέχει το μηχανισμό για τη διάθεση την κατάσταση της υπηρεσίας εξυπηρέτησης ύφασμα ιδιαίτερα χρησιμοποιώντας το _πρόγραμμα αναπαραγωγής_, _Διαχείριση ανακατεύθυνσης_και _Εξισορρόπησης πόρων_.

* Το πρόγραμμα αναπαραγωγής εξασφαλίζει ότι αλλαγές στην κατάσταση στη ρεπλίκα κύρια υπηρεσία θα γίνει αναπαραγωγή αυτόματα σε δευτερεύοντα αντίγραφα, λαμβάνοντας υπόψη συνέπεια μεταξύ του κύριας και δευτερεύουσας αντίγραφα σε ένα σύνολο ρεπλίκα υπηρεσίας. Το πρόγραμμα αναπαραγωγής είναι υπεύθυνη για τη Διαχείριση απαρτίας μεταξύ των τα αντίγραφα του συνόλου αντιγράφου. Το αλληλεπιδρά με τη μονάδα ανακατεύθυνσης για να λάβετε τη λίστα των λειτουργιών για την αναπαραγωγή και τον παράγοντα αλλαγή των ρυθμίσεων παραμέτρων παρέχει το με τη ρύθμιση παραμέτρων του συνόλου αντιγράφου. Ότι η ρύθμιση παραμέτρων υποδεικνύει ποια αντίγραφα τις λειτουργίες πρέπει να αναπαραχθεί. Υπηρεσία ύφασμα παρέχει μια προεπιλεγμένη αναπαραγωγής που ονομάζεται ύφασμα αναπαραγωγής, που μπορούν να χρησιμοποιηθούν από το API μοντέλο προγραμματισμού για να κάνετε την κατάσταση υπηρεσίας ιδιαίτερα διαθέσιμες και αξιόπιστη.
* Η Διαχείριση ανακατεύθυνσης εξασφαλίζει ότι όταν κόμβοι είναι προστεθεί ή καταργηθεί από το σύμπλεγμα, η φόρτωση αυτόματα αναδιανέμονται κατά μήκος τους κόμβους διαθέσιμη. Εάν αποτύχει μια κόμβο του συμπλέγματος, το σύμπλεγμα θα αυτόματα ρυθμίσει ξανά τις παραμέτρους του αντίγραφα υπηρεσίας για να διατηρήσετε διαθεσιμότητα.
* Η διαχείριση πόρων τοποθετεί αντίγραφα υπηρεσίας σε αποτυχία τομέα στο σύμπλεγμα και εξασφαλίζει ότι όλες οι μονάδες ανακατεύθυνσης είναι λειτουργικές. Η διαχείριση πόρων υπολοίπων επίσης πόροι υπηρεσίας κατά μήκος τα υποκείμενα κοινόχρηστο χώρο συγκέντρωσης του κόμβοι συμπλέγματος για να επιτύχετε την καλύτερη δυνατή φόρτωση ομοιόμορφη κατανομή.

## <a name="management-subsystem"></a>Διαχείριση υποσυστήματος
Υποσυστήματος διαχείρισης παρέχει υπηρεσία σε ολοκληρωμένες και διαχείριση κύκλου ζωής εφαρμογών. Cmdlet του PowerShell και API διαχείρισης σάς επιτρέπουν να προμηθεύσουν, ανάπτυξη, ενημερωμένη έκδοση κώδικα, αναβάθμιση και καταργήστε την παροχή εφαρμογών χωρίς απώλεια διαθεσιμότητας. Διαχείριση υποσυστήματος εκτελεί αυτό έως τις ακόλουθες υπηρεσίες.

* **Διαχείριση συμπλεγμάτων**: Αυτή είναι η κύρια υπηρεσία που αλληλεπιδρά με τη Διαχείριση ανακατεύθυνσης από αξιοπιστία για να τοποθετήσετε τις εφαρμογές στη τους κόμβους με βάση τους περιορισμούς υπηρεσίας θέση. Η διαχείριση πόρων του υποσυστήματος ανακατεύθυνσης εξασφαλίζει ότι οι περιορισμοί ποτέ είναι κατεστραμμένη. Ο διαχειριστής συμπλέγματος διαχειρίζεται τον κύκλο ζωής των εφαρμογών από διάταξη για να καταργήστε την προμήθεια. Ενοποιείται με τη Διαχείριση εύρυθμης λειτουργίας για να βεβαιωθείτε ότι διαθεσιμότητα εφαρμογών δεν διατηρούνται στα μια προοπτική σημασιολογίας εύρυθμης λειτουργίας κατά τη διάρκεια αναβαθμίσεις.
* **Διαχείριση εύρυθμης λειτουργίας**: Αυτή η υπηρεσία επιτρέπει την παρακολούθηση εύρυθμης λειτουργίας της εφαρμογές, τις υπηρεσίες και σύμπλεγμα οντοτήτων. Σύμπλεγμα οντοτήτων (όπως κόμβους διαμερίσματα υπηρεσίας και αντίγραφα) μπορούν να αναφέρουν πληροφορίες εύρυθμης λειτουργίας, το οποίο συναθροίζεται, στη συνέχεια, στο κατάστημα κεντρική εύρυθμης λειτουργίας. Αυτές οι πληροφορίες εύρυθμης λειτουργίας παρέχει ένα στιγμιότυπο συνολικά σε δεδομένη χρονική στιγμή εύρυθμη λειτουργία των υπηρεσιών και κόμβους κατανέμεται πολλούς κόμβους στο σύμπλεγμα, επιτρέποντάς σας να λαμβάνουν τις απαραίτητες διορθωτικές ενέργειες. Αναφορές εύρυθμης λειτουργίας ερωτήματος API επιτρέπουν να τα συμβάντα εύρυθμης λειτουργίας ερωτήματος, υποσυστήματος εύρυθμης λειτουργίας. Το ερώτημα εύρυθμης λειτουργίας APIs επιστρέφουν τα ανεπεξέργαστα εύρυθμης λειτουργίας δεδομένα που είναι αποθηκευμένα στο χώρο αποθήκευσης εύρυθμης λειτουργίας ή το πλήθος των συγκεντρωτικών αποτελεσμάτων, ερμηνεύεται εύρυθμη λειτουργία των δεδομένων για μια συγκεκριμένη σύμπλεγμα οντότητα.
* **Εικόνα αποθήκευσης**: Αυτή η υπηρεσία παρέχει χώρο αποθήκευσης και διανομής των δυαδικών αρχείων εφαρμογής. Αυτή η υπηρεσία παρέχει χώρου αποθήκευσης απλό κατανεμημένων αρχείων, όπου οι εφαρμογές είναι αποστέλλεται και έχουν ληφθεί από.


## <a name="hosting-subsystem"></a>Φιλοξενίας υποσυστήματος
Ο διαχειριστής συμπλέγματος πληροφορεί φιλοξενίας υποσυστήματος (που εκτελείται σε κάθε κόμβο) των υπηρεσιών που χρειάζεται για να διαχειριστείτε για έναν συγκεκριμένο κόμβο. Υποσυστήματος φιλοξενίας, στη συνέχεια, διαχειρίζεται τον κύκλο ζωής της εφαρμογής σε αυτόν τον κόμβο. Το αλληλεπιδρά με τα στοιχεία αξιοπιστία και την εύρυθμη λειτουργία για να βεβαιωθείτε ότι τα αντίγραφα τοποθετούνται σωστά και είναι σε καλή κατάσταση.

## <a name="communication-subsystem"></a>Υποσυστήματος επικοινωνίας
Αυτό υποσυστήματος παρέχει αξιόπιστη μηνυμάτων κατά τον εντοπισμό σύμπλεγμα και της υπηρεσίας μέσω της υπηρεσίας ονομάτων. Η υπηρεσία ονομάτων επιλύει τα ονόματα υπηρεσιών σε μια θέση στο σύμπλεγμα και σας δίνει τη δυνατότητα στους χρήστες να διαχειρίζονται τα ονόματα υπηρεσιών και τις ιδιότητες. Με την υπηρεσία ονομάτων, προγράμματα-πελάτες μπορούν να ασφαλή επικοινωνία με οποιονδήποτε κόμβο στο σύμπλεγμα για την επίλυση ενός ονόματος υπηρεσίας και να ανακτήσετε υπηρεσίας μετα-δεδομένων. Χρησιμοποιώντας έναν απλό ονομάτων υπολογιστή-πελάτη API, οι χρήστες της υπηρεσίας ύφασμα μπορείτε να αναπτύξετε τις υπηρεσίες και προγράμματα-πελάτες είναι δυνατό να επιλύσει την τρέχουσα θέση δικτύου παρά δυναμισμού κόμβου ή την αλλαγή μεγέθους του συμπλέγματος.

## <a name="testability-subsystem"></a>Υποσυστήματος με δυνατότητα δοκιμής
Με δυνατότητα δοκιμής είναι μια οικογένεια εργαλείων σχεδιαστεί ειδικά για υπηρεσίες ενσωματωμένο στην υπηρεσία ύφασμα ελέγχου. Τα εργαλεία σάς επιτρέπουν να προκαλέσουν σφάλματα χαρακτηριστικό εύκολα και να εκτελέσετε σεναρίων δοκιμών να άσκηση και να επικυρώσει τα πολλά μέλη και μεταβάσεις που θα είναι η εμπειρία υπηρεσίας σε όλη τη διάρκεια ζωής, όλα με ελεγχόμενο και ασφαλή τρόπο ο προγραμματιστής. Με δυνατότητα δοκιμής παρέχει επίσης ένα μηχανισμό για να εκτελέσετε περισσότερο ελέγχους που να επαναλάβετε έως διάφορες πιθανές αποτυχίες χωρίς να χάσετε διαθεσιμότητα. Αυτό σας παρέχει ένα περιβάλλον δοκιμής-σε-παραγωγής.
