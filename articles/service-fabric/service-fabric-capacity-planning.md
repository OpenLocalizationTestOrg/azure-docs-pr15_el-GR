<properties
   pageTitle="Δυνατότητα προγραμματισμού για τις εφαρμογές της υπηρεσίας ύφασμα | Microsoft Azure"
   description="Περιγράφει τον τρόπο προσδιορισμού του αριθμού των κόμβους υπολογιστικών που απαιτείται για μια εφαρμογή υπηρεσίας ύφασμα"
   services="service-fabric"
   documentationCenter=".net"
   authors="mani-ramaswamy"
   manager="markfuss"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="09/14/2016"
   ms.author="subramar"/>


# <a name="capacity-planning-for-service-fabric-applications"></a>Σχεδιασμός για εφαρμογές υπηρεσίας ύφασμα χωρητικότητα


Αυτό το έγγραφο σάς διδάσκει πώς να υπολογίσει το ποσό των πόρων (υποστήριξη CPU, μνήμη RAM, χώρος αποθήκευσης δίσκου) θα πρέπει να εκτελέσετε τις εφαρμογές σας ύφασμα υπηρεσίας Azure. Είναι συνηθισμένο για τις απαιτήσεις πόρων για να αλλάξετε μέσα στο χρόνο. Μερικά πόροι απαιτούν συνήθως ενώ κάνετε ανάπτυξη και έλεγχος της υπηρεσίας και, στη συνέχεια, απαιτεί περισσότερους πόρους καθώς μεταβαίνετε σε παραγωγής και την εφαρμογή σας εξελίσσεται στο δημοτικότητας. Όταν σχεδιάζετε την εφαρμογή σας, πιστεύετε ότι έως τις μακροπρόθεσμες απαιτήσεις και κάντε τις επιλογές που επιτρέπουν την υπηρεσία για να κλιμακωθεί για να ικανοποιήσετε ζήτηση υψηλή πελατών.

 Όταν δημιουργείτε ένα σύμπλεγμα ύφασμα υπηρεσίας, μπορείτε να αποφασίσετε τι είδους εικονικές μηχανές (ΣΠΣ) απαρτίζουν το σύμπλεγμα. Κάθε Εικονική συνοδεύεται από ένα περιορισμένο χρονικό πόρων με τη μορφή CPU (πυρήνων και της ταχύτητας), εύρος ζώνης δικτύου, RAM και χώρο αποθήκευσης στο δίσκο. Καθώς εξελίσσεται την υπηρεσία μέσα στο χρόνο, μπορείτε να κάνετε αναβάθμιση σε ΣΠΣ που παρέχουν περισσότερους πόρους ή/και να προσθέσετε περισσότερες ΣΠΣ το σύμπλεγμά σας. Για να εκτελέσετε το τελευταίο, που πρέπει να αρχιτεκτονική της υπηρεσίας αρχικά, ώστε το να επωφεληθείτε από νέες ΣΠΣ που θα προστεθούν δυναμικά στο σύμπλεγμα.

Ορισμένες υπηρεσίες Διαχείριση λίγο έως καθόλου δεδομένα σε του ΣΠΣ τον εαυτό τους. Γι ' αυτό, δυνατότητα προγραμματισμού για αυτές τις υπηρεσίες θα πρέπει να εστιάσετε κυρίως επιδόσεις, γεγονός που σημαίνει ότι επιλέγοντας το κατάλληλο CPU (πυρήνων και της ταχύτητας) της του ΣΠΣ. Επίσης, πρέπει να λάβετε υπόψη το εύρος ζώνης δικτύου, όπως πόσο συχνά παρουσιάζονται μεταφορές δικτύου και μεταφέρονται όγκο δεδομένων. Εάν την υπηρεσία, πρέπει να εκτελέσετε επίσης και ως υπηρεσία χρήση αυξάνεται, μπορείτε να προσθέσετε περισσότερες ΣΠΣ με το υπόλοιπο σύμπλεγμα και τη φόρτωση του δικτύου προσκλήσεις σε όλα τα ΣΠΣ.

Για τις υπηρεσίες που διαχειρίζονται μεγάλες ποσότητες δεδομένων σε του ΣΠΣ, χωρητικότητας πρέπει να εστιάσετε κυρίως μέγεθος. Επομένως, θα πρέπει να αναλογιστείτε η δυναμικότητα των η Εικονική μνήμη RAM και χώρο αποθήκευσης στο δίσκο. Το σύστημα διαχείρισης εικονική μνήμη στα Windows κάνει χώρος στο δίσκο μοιάζει RAM σε κώδικα της εφαρμογής. Επιπλέον, ο χρόνος εκτέλεσης υπηρεσίας ύφασμα παρέχει έξυπνη σελιδοποίησης διατήρηση μόνο συντόμευσης δεδομένων στη μνήμη και μετακίνηση ψυχρές δεδομένων στο δίσκο. Εφαρμογές, επομένως, μπορούν να χρησιμοποιήσουν περισσότερη μνήμη από είναι φυσικά διαθέσιμη σε η Εικονική. Απλώς χρειάζεται περισσότερη μνήμη RAM αυξάνει επιδόσεις, επειδή η Εικονική να διατηρήσετε περισσότερο χώρο αποθήκευσης δίσκου στη μνήμη RAM. Η Εικονική που επιλέγετε θα πρέπει να έχετε ένα δίσκο που είναι αρκετά μεγάλος, για να αποθηκεύει τα δεδομένα που θέλετε στο η Εικονική. Ομοίως, η Εικονική θα πρέπει να έχετε αρκετή μνήμη RAM για να σας ενημερώσει με τις επιδόσεις που θέλετε. Εάν καιρό μεγαλώνει δεδομένων της υπηρεσίας σας, μπορείτε να προσθέσετε περισσότερες ΣΠΣ στο σύμπλεγμα και διαμερίσματα τα δεδομένα σε όλα τα ΣΠΣ.

## <a name="determine-how-many-nodes-you-need"></a>Καθορίσετε πόσα κόμβους που χρειάζεστε

Δημιουργία διαμερισμάτων της υπηρεσίας σάς επιτρέπει να κλιμακωθεί δεδομένα από την υπηρεσία. Για περισσότερες πληροφορίες σχετικά με δημιουργία διαμερισμάτων, ανατρέξτε στο θέμα [Δημιουργία διαμερισμάτων ύφασμα υπηρεσίας](service-fabric-concepts-partitioning.md). Κάθε partition πρέπει να χωράει μέσα σε ένα μεμονωμένο Εικονική, αλλά πολλά διαμερίσματα (ΜΙΚΡΕΣ) μπορούν να τεθούν σε ένα μεμονωμένο Εικονική. Επομένως, χρειάζεται περισσότερα μικρά διαμερίσματα παρέχει μεγαλύτερη ευελιξία σε σύγκριση με μερικά μεγαλύτερα διαμερίσματα. Το συσχετισμό είναι ότι εάν έχετε πολλά διαμερίσματα αυξάνεται επιβάρυνσης ύφασμα υπηρεσίας και δεν μπορείτε να εκτελέσετε λειτουργίες συναλλαγής κατά μήκος τα διαμερίσματα. Υπάρχει επίσης περισσότερες πιθανές κίνηση του δικτύου Εάν χρειάζονται συχνά σας κωδικός υπηρεσίας για να αποκτήσετε πρόσβαση σε τμήματα των δεδομένων που βρίσκονται στο διαφορετικά διαμερίσματα. Κατά τη σχεδίαση της υπηρεσίας, θα πρέπει να εξετάσετε προσεκτικά τα παρακάτω πλεονεκτήματα και μειονεκτήματα η εξεύρεση μια αποτελεσματική στρατηγική διαμερισμού.

Ας υποθέσουμε ότι η εφαρμογή σας έχει μια μεμονωμένη υπηρεσία κατάστασης που έχει το μέγεθος του χώρου αποθήκευσης που σκοπεύετε να αυξηθεί στο DB_Size GB ανά έτος. Είστε πρόθυμοι να προσθέσετε περισσότερες εφαρμογές (και τα διαμερίσματα) όπως αντιμετωπίζετε growth πέρα από το έτος.  Ο συντελεστής αναπαραγωγής (RF), που καθορίζει τον αριθμό των αντίγραφα της υπηρεσίας επηρεάζει το συνολικό DB_Size. Το συνολικό DB_Size σε όλα τα αντίγραφα είναι ο παράγοντας αναπαραγωγής πολλαπλασιασμένη επί DB_Size.  Node_Size αντιπροσωπεύει το διάστημα/RAM δίσκου ανά κόμβο που θέλετε να χρησιμοποιήσετε για την υπηρεσία. Για καλύτερες επιδόσεις, θα πρέπει να χωρέσει το DB_Size στη μνήμη κατά μήκος του συμπλέγματος και πρέπει να επιλεγεί ένα Node_Size που βρίσκεται γύρω από τη μνήμη RAM από την εικονική Μηχανή. Εκχωρώντας ένα Node_Size που είναι μεγαλύτερο από την ικανότητα RAM, που βασίζεστε στο η σελιδοποίηση που παρέχεται από το χρόνο εκτέλεσης υπηρεσίας ύφασμα. Έτσι, οι επιδόσεις σας ενδέχεται να μην είναι βέλτιστη εάν τα δεδομένα σας ολόκληρο θεωρείται συντόμευσης (από τότε τα δεδομένα είναι σελίδων μεταβίβασης/ανάληψης ελέγχου). Ωστόσο, για πολλές υπηρεσίες όπου είναι συντόμευσης μόνο ένα μικρό δείγμα των δεδομένων, είναι πιο οικονομική.

Ο αριθμός των κόμβους που απαιτείται για μέγιστη απόδοση μπορεί να υπολογιστεί ως εξής:

```
Number of Nodes = (DB_Size * RF)/Node_Size

```


## <a name="account-for-growth"></a>Λογαριασμός για ανάπτυξη

Ενδέχεται να θέλετε να υπολογίσετε τον αριθμό των κόμβους με βάση το DB_Size που αναμένετε αύξηση, εκτός από το DB_Size που ξεκινήσατε με την υπηρεσία σας. Μεγέθυνση, στη συνέχεια, τον αριθμό των κόμβους καθώς εξελίσσεται την υπηρεσία, έτσι ώστε δεν υπερ-προμήθεια τον αριθμό των κόμβους. Αλλά τον αριθμό των διαμερισμάτων που θα πρέπει να βασίζονται στον αριθμό των κόμβους που απαιτούνται όταν χρησιμοποιείτε την υπηρεσία στο μέγιστο growth.

Καλό είναι να έχετε ορισμένα επιπλέον μηχανές διαθέσιμα ανά πάσα στιγμή, ώστε να μπορείτε να χειριστείτε τις μη αναμενόμενο αιχμές ή την αποτυχία (για παράδειγμα, εάν ορισμένα ΣΠΣ μετάβαση προς τα κάτω).  Ενώ η δυναμικότητα επιπλέον θα πρέπει να καθοριστούν, χρησιμοποιώντας το αναμενόμενο αιχμές, είναι ένα σημείο εκκίνησης για να δεσμεύσετε μερικά επιπλέον ΣΠΣ (5-10 τοις εκατό επιπλέον).

Το προηγούμενο προϋποθέτει μια μεμονωμένη υπηρεσία κατάστασης. Εάν έχετε περισσότερες από μία με κατάσταση υπηρεσίας, πρέπει να προσθέσετε το DB_Size που σχετίζεται με άλλες υπηρεσίες στην εξίσωση. Εναλλακτικά, μπορείτε να υπολογίσετε τον αριθμό των κόμβους ξεχωριστά για κάθε υπηρεσία κατάστασης.  Υπηρεσία σας μπορεί να έχετε αντίγραφα ή τα διαμερίσματα που δεν είναι εξισορρόπηση. Λάβετε υπόψη ότι τα διαμερίσματα μπορεί να έχουν επίσης περισσότερα δεδομένα από άλλα άτομα. Για περισσότερες πληροφορίες σχετικά με δημιουργία διαμερισμάτων, ανατρέξτε στο θέμα [Δημιουργία διαμερισμάτων άρθρο για τις βέλτιστες πρακτικές](service-fabric-concepts-partitioning.md). Ωστόσο, την προηγούμενη εξίσωση είναι διαμερίσματα και ρεπλίκα είναι ανεξάρτητο, επειδή η υπηρεσία ύφασμα εξασφαλίζει ότι τα αντίγραφα είναι διασπορά μεταξύ τους κόμβους με βελτιστοποιημένη τρόπο.


## <a name="use-a-spreadsheet-for-cost-calculation"></a>Χρήση του υπολογιστικού φύλλου για υπολογισμό του κόστους

Τώρα ας τοποθέτηση ορισμένες πραγματικών αριθμών στον τύπο. Ένα [παράδειγμα υπολογιστικού φύλλου](https://servicefabricsdkstorage.blob.core.windows.net/publicrelease/SF%20VM%20Cost%20calculator-NEW.xlsx) υπολογιστικό εμφανίζει πώς να σχεδιάσετε την ικανότητα για μια εφαρμογή η οποία περιέχει τους τρεις τύπους αντικείμενα δεδομένων. Για κάθε αντικείμενο, θα σας περίπου τον αριθμό αντικειμένων αναμένεται να έχουν και το μέγεθός του. Επίσης, θα σας να επιλέξετε πόσα αντίγραφα θέλουμε κάθε τύπο αντικειμένου. Το υπολογιστικό φύλλο υπολογίζει το συνολικό ποσό της μνήμης να είναι αποθηκευμένο στο σύμπλεγμα.

Στη συνέχεια, θα σας εισαγάγετε μια Εικονική μέγεθος και μηνιαίο κόστος. Με βάση το μέγεθος Εικονική, το υπολογιστικό φύλλο σας ενημερώνει τον ελάχιστο αριθμό των διαμερισμάτων που πρέπει να χρησιμοποιήσετε για να διαιρέσετε τα δεδομένα σας ώστε να χωρά φυσική σε τους κόμβους. Ενδέχεται να θέλετε έναν μεγαλύτερο αριθμό των διαμερισμάτων που να περιλαμβάνει συγκεκριμένες κατά τον υπολογισμό της εφαρμογής σας και ο πρέπει κίνηση του δικτύου. Το υπολογιστικό φύλλο εμφανίζει τον αριθμό των διαμερισμάτων που διαχειρίζεστε τα αντικείμενα προφίλ χρήστη έχει αυξηθεί από ένα έως έξι.

Τώρα, με βάση όλες αυτές τις πληροφορίες, το υπολογιστικό φύλλο εμφανίζει ότι μπορεί να λάβετε όλα τα δεδομένα με την επιθυμητή διαμερίσματα και αντίγραφα φυσική σε ένα σύμπλεγμα 26 κόμβου. Ωστόσο, αυτό το σύμπλεγμα θα είναι πυκνά συμπιεσμένο, ώστε να μπορεί να θέλετε ορισμένες επιπλέον κόμβους ώστε να χωρούν αποτυχίες κόμβο και αναβαθμίσεις του στοιχείου. Το υπολογιστικό φύλλο εμφανίζει επίσης ότι χρειάζεται περισσότερες από 57 κόμβους παρέχει χωρίς πρόσθετη τιμή επειδή έχετε κενή κόμβους. Ξανά, ενδέχεται να θέλετε να μεταβείτε παραπάνω 57 κόμβους οπωσδήποτε ώστε να χωρούν αποτυχίες κόμβο και αναβαθμίσεις του στοιχείου. Τροποποιήστε το υπολογιστικό φύλλο ώστε να ταιριάζει με τις συγκεκριμένες ανάγκες της εφαρμογής σας.   

![Υπολογιστικό φύλλο για υπολογισμό του κόστους][Image1]



## <a name="next-steps"></a>Επόμενα βήματα

Ανατρέξτε στο θέμα [υπηρεσίες διαμερισμάτων δομής υπηρεσίας] [ 10] για να μάθετε περισσότερα σχετικά με τη δημιουργία διαμερισμάτων της υπηρεσίας.



<!--Image references-->
[Image1]: ./media/SF-Cost.png

<!--Link references--In actual articles, you only need a single period before the slash-->
[10]: service-fabric-concepts-partitioning.md
