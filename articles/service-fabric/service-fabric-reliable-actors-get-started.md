<properties
   pageTitle="Γρήγορα αποτελέσματα με την υπηρεσία ύφασμα αξιόπιστη ηθοποιών | Microsoft Azure"
   description="Αυτό το πρόγραμμα εκμάθησης σάς καθοδηγεί σε τα βήματα της δημιουργίας, τον εντοπισμό σφαλμάτων και ένα απλό παράγοντα υπηρεσία που βασίζεται με αξιόπιστη ηθοποιών ύφασμα υπηρεσία για την ανάπτυξη."
   services="service-fabric"
   documentationCenter=".net"
   authors="vturecek"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="09/25/2016"
   ms.author="vturecek"/>

# <a name="getting-started-with-reliable-actors"></a>Γρήγορα αποτελέσματα με το αξιόπιστη ηθοποιών

> [AZURE.SELECTOR]
- [C# στα Windows](service-fabric-reliable-actors-get-started.md)
- [Java σε Linux](service-fabric-reliable-actors-get-started-java.md)

Σε αυτό το άρθρο εξηγεί τα βασικά στοιχεία του Azure Service ύφασμα αξιόπιστη ηθοποιών και σας καθοδηγεί στις τη δημιουργία, τον εντοπισμό σφαλμάτων και την ανάπτυξη μιας απλής εφαρμογής αξιόπιστη παράγοντα στο Visual Studio.

## <a name="installation-and-setup"></a>Εγκατάσταση και ρύθμιση
Πριν ξεκινήσετε, βεβαιωθείτε ότι έχετε εγκαταστήσει το περιβάλλον ανάπτυξης ύφασμα υπηρεσίας ρύθμιση στον υπολογιστή σας.
Εάν πρέπει να έχετε ρυθμίσει, ανατρέξτε στο θέμα αναλυτικές οδηγίες σχετικά με [τον τρόπο για να ρυθμίσετε το περιβάλλον ανάπτυξης](service-fabric-get-started.md).

## <a name="basic-concepts"></a>Βασικές έννοιες
Για να ξεκινήσετε με αξιόπιστη ηθοποιών, μόνο πρέπει να κατανοήσετε μερικές βασικές έννοιες:

 * **Υπηρεσία παράγοντα**. Αξιόπιστη ηθοποιών βρίσκονται σε αξιόπιστη υπηρεσίες που μπορούν να αναπτυχθούν στην υπηρεσία ύφασμα υποδομής. Παρουσίες παράγοντα ενεργοποιούνται σε μια παρουσία της καθορισμένης υπηρεσίας.
 
 * **Καταχώρηση παράγοντα**. Ως με αξιόπιστη υπηρεσίες, μια υπηρεσία αξιόπιστη παράγοντα πρέπει να έχει εγγραφεί με το περιβάλλον εκτέλεσης υπηρεσίας ύφασμα. Επιπλέον, ο τύπος παράγοντα πρέπει να έχει καταχωρηθεί με το περιβάλλον εκτέλεσης παράγοντα.
 
 * **Περιβάλλον εργασίας παράγοντα**. Το περιβάλλον εργασίας παράγοντα χρησιμοποιείται για να ορίσετε έναν ισχυρό τύπο δημόσια διασύνδεση ενός παράγοντα. Στο μοντέλο ορολογίας αξιόπιστη παράγοντα, το περιβάλλον εργασίας παράγοντα ορίζει τους τύπους των μηνυμάτων που μπορεί να κατανοήσετε το παράγοντα και διαδικασία. Το περιβάλλον εργασίας παράγοντα χρησιμοποιείται από άλλες ηθοποιών και εφαρμογές προγράμματος-πελάτη για "Αποστολή" (ασύγχρονη) μηνυμάτων για να το παράγοντα. Αξιόπιστη ηθοποιών να εφαρμόσετε πολλά περιβάλλοντα εργασίας.
 
 * **ActorProxy τάξης**. Η κλάση ActorProxy χρησιμοποιείται από εφαρμογές προγράμματος-πελάτη για να καλέσετε τις μεθόδους που εκτίθεται μέσω του περιβάλλοντος εργασίας παράγοντα. Η κλάση ActorProxy παρέχει δύο σημαντικά λειτουργίες:
    * Επίλυση ονομάτων: αυτό είναι σε θέση να εντοπίσετε το παράγοντα του συμπλέγματος (εύρεση τον κόμβο του συμπλέγματος εκεί όπου φιλοξενείται).
    * Αποτυχία χειρισμού: μπορούν να επαναλάβετε τη μέθοδο κλήσεων και επίλυση εκ νέου τη θέση παράγοντα μετά από, για παράδειγμα, μια αποτυχία που απαιτεί η παράγοντα για να έχουν μετακινηθεί σε άλλο κόμβο του συμπλέγματος.

Οι ακόλουθοι κανόνες που σχετίζονται με παράγοντα διασυνδέσεων είναι αξίζει η αναφορά:

- Μέθοδοι παράγοντα περιβάλλοντος εργασίας δεν μπορεί να είναι φορτωμένη υπερβολικά.
- Παράγοντα περιβάλλοντος εργασίας δεν πρέπει να περιέχει μεθόδους ανάληψης, ref ή προαιρετικές παραμέτρους.
- Γενικό διασυνδέσεων δεν υποστηρίζονται.

## <a name="create-a-new-project-in-visual-studio"></a>Δημιουργήστε ένα νέο έργο στο Visual Studio
Αφού εγκαταστήσετε τα εργαλεία ύφασμα υπηρεσίας για το Visual Studio, μπορείτε να δημιουργήσετε νέους τύπους έργου. Οι τύποι νέο έργο είναι στην κατηγορία **Cloud** του παραθύρου διαλόγου **Νέο έργο** .


![Εργαλεία ύφασμα υπηρεσίας για το Visual Studio - νέου έργου][1]

Στο επόμενο παράθυρο διαλόγου, μπορείτε να επιλέξετε τον τύπο του έργου που θέλετε να δημιουργήσετε.

![Πρότυπα έργων ύφασμα υπηρεσίας][5]

Για το έργο HelloWorld, ας χρησιμοποιήσουμε την υπηρεσία υπηρεσία ύφασμα αξιόπιστη ηθοποιών.

Αφού δημιουργήσετε τη λύση, θα πρέπει να βλέπετε την ακόλουθη δομή:

![Δομή έργου ύφασμα υπηρεσίας][2]

## <a name="reliable-actors-basic-building-blocks"></a>Αξιόπιστη ηθοποιών βασικό μπλοκ δόμησης

Μια τυπική λύση αξιόπιστη ηθοποιών αποτελείται από τρία έργα:

* **Εφαρμογή του έργου (MyActorApplication)**. Αυτό είναι το έργο που πακέτων όλες τις υπηρεσίες μαζί για ανάπτυξη. Περιέχει τις δέσμες ενεργειών *ApplicationManifest.xml* και του PowerShell για τη διαχείριση της εφαρμογής.

* **Το περιβάλλον εργασίας έργου (MyActor.Interfaces)**. Αυτό είναι το έργο που περιέχει τον ορισμό του περιβάλλοντος εργασίας για το παράγοντα. Στο έργο MyActor.Interfaces, μπορείτε να ορίσετε τα περιβάλλοντα εργασίας που θα χρησιμοποιηθεί από τον οποίο οι παράγοντες στη λύση. Σας διασυνδέσεων παράγοντα μπορεί να οριστεί σε οποιαδήποτε έργου με οποιοδήποτε όνομα, ωστόσο το περιβάλλον εργασίας καθορίζει το συμβόλαιο παράγοντα που χρησιμοποιείται από κοινού από την εφαρμογή παράγοντα και τα προγράμματα-πελάτες καλεί το παράγοντα, επομένως, συνήθως έχει νόημα να ορίσετε σε ένα σύνολο που είναι ξεχωριστό από την εφαρμογή παράγοντα και μπορεί να είναι κοινόχρηστο από πολλά άλλα έργα.

```csharp
public interface IMyActor : IActor
{
    Task<string> HelloWorld();
}
```

* **Το έργο υπηρεσίας παράγοντα (MyActor)**. Αυτό είναι το έργο που χρησιμοποιείται για τον καθορισμό της υπηρεσίας εξυπηρέτησης ύφασμα που πρόκειται να φιλοξενήσετε το παράγοντα. Περιέχει την εφαρμογή από το παράγοντα. Μια εφαρμογή παράγοντα είναι μια κλάση που προέρχεται από τον τύπο βάσης `Actor` και υλοποιεί τις διασυνδέσεις που ορίζονται στο έργο MyActor.Interfaces. Μια κλάση παράγοντα πρέπει να υλοποιήσετε επίσης μια κατασκευή που δέχεται μια `ActorService` παρουσία και ένα `ActorId` και τις μεταβιβάζει στη βάση `Actor` τάξης. Αυτό σας επιτρέπει για την εισαγωγή εξάρτηση κατασκευή εξαρτήσεων πλατφόρμας.

```csharp
[StatePersistence(StatePersistence.Persisted)]
class MyActor : Actor, IMyActor
{
    public MyActor(ActorService actorService, ActorId actorId)
        : base(actorService, actorId)
    {
    }

    public Task<string> HelloWorld()
    {
        return Task.FromResult("Hello world!");
    }
}
```

Η υπηρεσία παράγοντα πρέπει να έχει εγγραφεί με έναν τύπο υπηρεσίας στο χρόνο εκτέλεσης υπηρεσίας ύφασμα. Με τη σειρά για την υπηρεσία παράγοντα για να εκτελέσετε τις παρουσίες παράγοντα, τον τύπο παράγοντα επίσης πρέπει να έχει εγγραφεί με την υπηρεσία παράγοντα. Το `ActorRuntime` μέθοδος δήλωσης εκτελεί αυτήν την εργασία ηθοποιών.

```csharp
internal static class Program
{
    private static void Main()
    {
        try
        {
            ActorRuntime.RegisterActorAsync<MyActor>(
                (context, actorType) => new ActorService(context, actorType, () => new MyActor())).GetAwaiter().GetResult();

            Thread.Sleep(Timeout.Infinite);
        }
        catch (Exception e)
        {
            ActorEventSource.Current.ActorHostInitializationFailed(e.ToString());
            throw;
        }
    }
}

```

Εάν ξεκινάτε από ένα νέο έργο στο Visual Studio και έχετε μόνο μία ορισμού παράγοντα, η καταχώρηση συμπεριλαμβάνεται από προεπιλογή στον κώδικα που δημιουργεί το Visual Studio. Εάν ορίσετε άλλων παραγόντων στην υπηρεσία, πρέπει να προσθέσετε την καταχώρηση παράγοντα με τη χρήση:

```csharp
 ActorRuntime.RegisterActorAsync<MyOtherActor>();

```

> [AZURE.TIP] Ο χρόνος εκτέλεσης υπηρεσίας ύφασμα ηθοποιών εκπέμπει ορισμένες [συμβάντων και μετρητές επιδόσεων που σχετίζονται με παράγοντα μεθόδους](service-fabric-reliable-actors-diagnostics.md#actor-method-events-and-performance-counters). Είναι χρήσιμα εργαλεία διαγνωστικών και παρακολούθηση των επιδόσεων.


## <a name="debugging"></a>Εντοπισμός σφαλμάτων

Τα εργαλεία ύφασμα υπηρεσίας για το Visual Studio υποστηρίζει τον εντοπισμό σφαλμάτων στον τοπικό υπολογιστή σας. Μπορείτε να ξεκινήσετε μια περίοδο λειτουργίας εντοπισμού σφαλμάτων με πάτημα το πλήκτρο F5. Visual Studio δημιουργεί (εάν χρειάζεται) πακέτων. Επίσης, ανάπτυξη της εφαρμογής στο τοπικό σύμπλεγμα ύφασμα υπηρεσίας και επισυνάπτει το πρόγραμμα εντοπισμού σφαλμάτων.

Κατά τη διάρκεια της διαδικασίας ανάπτυξης, μπορείτε να δείτε την πρόοδο στο παράθυρο **εξόδου** .

![Υπηρεσία ύφασμα εντοπισμού σφαλμάτων παράθυρο εξόδου][3]


## <a name="next-steps"></a>Επόμενα βήματα
 - [Πώς αξιόπιστη ηθοποιών χρησιμοποιήσετε την πλατφόρμα ύφασμα υπηρεσίας](service-fabric-reliable-actors-platform.md)
 - [Διαχείριση κατάστασης παράγοντα](service-fabric-reliable-actors-state-management.md)
 - [Κύκλος ζωής και απορριμμάτων συλλογής παράγοντα](service-fabric-reliable-actors-lifecycle.md)
 - [Τεκμηρίωση αναφοράς παράγοντα API](https://msdn.microsoft.com/library/azure/dn971626.aspx)
 - [Δείγμα κώδικα](https://github.com/Azure/servicefabric-samples)


<!--Image references-->
[1]: ./media/service-fabric-reliable-actors-get-started/reliable-actors-newproject.PNG
[2]: ./media/service-fabric-reliable-actors-get-started/reliable-actors-projectstructure.PNG
[3]: ./media/service-fabric-reliable-actors-get-started/debugging-output.PNG
[4]: ./media/service-fabric-reliable-actors-get-started/vs-context-menu.png
[5]: ./media/service-fabric-reliable-actors-get-started/reliable-actors-newproject1.PNG
