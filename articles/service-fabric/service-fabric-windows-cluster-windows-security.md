<properties
   pageTitle="Ασφαλούς ένα σύμπλεγμα εκτελείται σε Windows χρησιμοποιώντας ασφαλείας των Windows | Microsoft Azure"
   description="Μάθετε πώς μπορείτε να ρυθμίσετε τις παραμέτρους ασφαλείας κόμβου προς κόμβο και κόμβος προγράμματος-πελάτη σε ένα σύμπλεγμα αυτόνομη εκτέλεση στα Windows χρησιμοποιώντας ασφαλείας των Windows."
   services="service-fabric"
   documentationCenter=".net"
   authors="rwike77"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="08/25/2016"
   ms.author="ryanwi"/>


# <a name="secure-a-standalone-cluster-on-windows-using-windows-security"></a>Ασφαλούς ένα σύμπλεγμα μεμονωμένη στα Windows χρησιμοποιώντας ασφαλείας των Windows

Για να αποτρέψετε τη μη εξουσιοδοτημένη πρόσβαση ένα σύμπλεγμα ύφασμα υπηρεσίας που πρέπει να ασφαλή, ιδίως όταν έχει παραγωγής φόρτους εργασίας εκτελούνται σε αυτόν. Σε αυτό το άρθρο περιγράφει τον τρόπο ρύθμισης κόμβου προς κόμβο και κόμβος προγράμματος-πελάτη ασφαλείας με την ασφάλεια των Windows στο αρχείο *ClusterConfig.JSON* και αντιστοιχεί με το βήμα ασφαλείας ρύθμιση παραμέτρων [Δημιουργία ένα σύμπλεγμα αυτόνομη εκτέλεση στα Windows](service-fabric-cluster-creation-for-windows-server.md). Για περισσότερες πληροφορίες σχετικά με τον τρόπο ύφασμα υπηρεσία χρησιμοποιεί ασφαλείας των Windows, ανατρέξτε στο θέμα [σενάρια ασφαλείας συμπλέγματος](service-fabric-cluster-security.md).

>[AZURE.NOTE]
Λάβετε υπόψη σας επιλογής ασφαλείας για την ασφάλεια κόμβου προς κόμβο προσεκτικά, εφόσον δεν υπάρχει καμία αναβάθμισης συμπλέγματος από επιλογή ασφαλείας σε ένα άλλο. Αλλαγή της επιλογής ασφαλείας απαιτεί ένα πλήρες σύμπλεγμα αναδόμηση.

## <a name="configure-windows-security"></a>Ρύθμιση παραμέτρων ασφαλείας των Windows
Λήψη του αρχείου ρύθμισης παραμέτρων *ClusterConfig.Windows.JSON* δείγμα με το [Microsoft.Azure.ServiceFabric.WindowsServer.<version>. Ταχυδρομικός](http://go.microsoft.com/fwlink/?LinkId=730690) μεμονωμένο σύμπλεγμα πακέτο περιέχει ένα πρότυπο για τη ρύθμιση παραμέτρων ασφαλείας των Windows.  Ασφάλεια των Windows έχει ρυθμιστεί στην ενότητα **Ιδιότητες** :

```
"security": {
            "ClusterCredentialType": "Windows",
            "ServerCredentialType": "Windows",
            "WindowsIdentities": {
        "ClusterIdentity" : "[domain\machinegroup]",
                "ClientIdentities": [{
                    "Identity": "[domain\username]",
                    "IsAdmin": true
                }]
            }
        }
```

|**Ρύθμιση παραμέτρων**|**Περιγραφή**|
|-----------------------|--------------------------|
|ClusterCredentialType|Ασφάλεια των Windows είναι ενεργοποιημένη, ορίζοντας την παράμετρο **ClusterCredentialType** σε *Windows*.|
|ServerCredentialType|Ασφάλεια των Windows για υπολογιστές-πελάτες είναι ενεργοποιημένη, ορίζοντας την παράμετρο **ServerCredentialType** σε *Windows*. Αυτό υποδεικνύει ότι οι υπολογιστές-πελάτες του συμπλέγματος και το σύμπλεγμα μόνη της, εκτελούνται μέσα σε έναν τομέα Active Directory.|
|WindowsIdentities|Περιέχει τις ταυτότητες σύμπλεγμα και προγράμματος-πελάτη.|
|ClusterIdentity|Ρυθμίζει τις παραμέτρους ασφαλείας κόμβου προς κόμβο. Μια λίστα διαχωρισμένες με κόμματα της ομάδας διαχειριζόμενων λογαριασμών υπηρεσίας ή ονόματα υπολογιστή.|
|ClientIdentities|Ρυθμίζει τις παραμέτρους ασφαλείας κόμβος προγράμματος-πελάτη. Ένας πίνακας με λογαριασμούς χρήστη του προγράμματος-πελάτη.|
|Ταυτότητα|Η ταυτότητα προγράμματος-πελάτη, ένας χρήστης του τομέα σας.|
|IsAdmin|TRUE Καθορίζει ότι ο χρήστης τομέα έχει δικαιώματα πρόσβασης διαχειριστή προγράμματος-πελάτη, false για το πρόγραμμα-πελάτη πρόσβασης των χρηστών.|

[Κόμβος στην ασφάλεια κόμβου](service-fabric-cluster-security.md#node-to-node-security) έχει ρυθμιστεί από τη ρύθμιση χρήση **ClusterIdentity**. Για να δημιουργήσετε σχέσεις αξιοπιστίας μεταξύ τους κόμβους, πρέπει να καθίστανται γνωρίζουν μεταξύ τους. Αυτό μπορεί να πραγματοποιηθεί με δύο διαφορετικούς τρόπους: Καθορίστε το διαχειριζόμενη υπηρεσία λογαριασμό ομάδας που περιλαμβάνει όλους τους κόμβους του συμπλέγματος ή να καθορίσετε τις ταυτότητες κόμβο τομέα από όλους τους κόμβους του συμπλέγματος. Συνιστάται να χρησιμοποιώντας την προσέγγιση [Ομάδα Διαχειριζόμενος λογαριασμός υπηρεσίας (gMSA)](https://technet.microsoft.com/library/hh831782.aspx) , ιδιαίτερα για μεγαλύτερο συμπλεγμάτων (περισσότερους από 10 κόμβοι) ή για συμπλεγμάτων που είναι πιθανό να μεγέθυνση ή σμίκρυνση.
Αυτή η προσέγγιση επιτρέπει σε κόμβους για να προστεθεί ή καταργηθεί από το gMSA, χωρίς να απαιτούνται αλλαγές για να το δηλωτικό σύμπλεγμα. Αυτή η προσέγγιση δεν απαιτεί τη δημιουργία μιας ομάδας τομέα για τα οποία έχουν παραχωρηθεί διαχειριστές συμπλέγματος δικαιώματα πρόσβασης για να προσθέσετε και να καταργήσετε μέλη. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Γρήγορα αποτελέσματα με τους λογαριασμούς υπηρεσίας διαχειριζόμενων ομάδας](http://technet.microsoft.com/library/jj128431.aspx).

[Ασφάλεια κόμβο του προγράμματος-πελάτη](service-fabric-cluster-security.md#client-to-node-security) έχει ρυθμιστεί με χρήση **ClientIdentities**. Για να δημιουργήσετε αξιοπιστίας ανάμεσα σε ένα πρόγραμμα-πελάτη και του συμπλέγματος, πρέπει να ρυθμίσετε το σύμπλεγμα να γνωρίζετε ποιο πρόγραμμα-πελάτη ταυτότητες που μπορεί να θεωρήσετε αξιόπιστη. Αυτό μπορεί να γίνει με δύο διαφορετικούς τρόπους: Καθορίστε τους χρήστες ομάδα τομέα που μπορεί να συνδεθείτε ή να καθορίσετε τους χρήστες κόμβο τομέα που μπορούν να συνδεθούν. Υπηρεσία ύφασμα υποστηρίζει δύο τύπους στοιχείων ελέγχου διαφορετικά δικαιώματα για προγράμματα-πελάτες που είναι συνδεδεμένοι σε ένα σύμπλεγμα ύφασμα υπηρεσίας: διαχειριστή και χρηστών. Έλεγχος πρόσβασης παρέχει τη δυνατότητα για τη Διαχείριση συμπλέγματος για να περιορίσετε την πρόσβαση σε συγκεκριμένους τύπους λειτουργιών για το σύμπλεγμα για διαφορετικές ομάδες χρηστών, καθιστώντας πιο ασφαλή στο σύμπλεγμα.  Οι διαχειριστές έχουν πλήρη πρόσβαση στις δυνατότητες διαχείρισης (συμπεριλαμβανομένων των δυνατοτήτων μόνο για ανάγνωση). Οι χρήστες, από προεπιλογή, έχουν μόνο πρόσβαση για ανάγνωση για δυνατότητες διαχείρισης (για παράδειγμα, δυνατότητες ερωτήματος) και τη δυνατότητα να επιλύσετε εφαρμογών και υπηρεσιών.

Στην παρακάτω ενότητα **ασφάλεια** παράδειγμα ρυθμίζει τις παραμέτρους ασφαλείας των Windows και καθορίζει ότι οι υπολογιστές στο *ServiceFabric/clusterA.contoso.com* αποτελούν μέρος του συμπλέγματος και ότι *CONTOSO\usera* έχει πρόσβαση διαχειριστή προγράμματος-πελάτη:

```
"security": {
    "ClusterCredentialType": "Windows",
    "ServerCredentialType": "Windows",
    "WindowsIdentities": {
        "ClusterIdentity" : "ServiceFabric/clusterA.contoso.com",
        "ClientIdentities": [{
            "Identity": "CONTOSO\\usera",
        "IsAdmin": true
        }]
    }
},
```

## <a name="next-steps"></a>Επόμενα βήματα

Μετά τη ρύθμιση παραμέτρων ασφαλείας των Windows στο αρχείο *ClusterConfig.JSON* , βιογραφικό η διαδικασία δημιουργίας σύμπλεγμα στη [Δημιουργία ενός μεμονωμένου συμπλέγματος εκτελείται σε Windows](service-fabric-cluster-creation-for-windows-server.md).

Για περισσότερες πληροφορίες σχετικά με τον τρόπο κόμβου προς κόμβο ασφάλεια, ασφαλείας κόμβος προγράμματος-πελάτη και έλεγχος πρόσβασης βάσει ρόλων, ανατρέξτε στο θέμα [σενάρια ασφαλείας συμπλέγματος](service-fabric-cluster-security.md).

Ανατρέξτε στο θέμα [σύνδεση σε ένα σύμπλεγμα ασφαλή](service-fabric-connect-to-secure-cluster.md) για σύνδεση με χρήση του PowerShell ή FabricClient παραδείγματα.
