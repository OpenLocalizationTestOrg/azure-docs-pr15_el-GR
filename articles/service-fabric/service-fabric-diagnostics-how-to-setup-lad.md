<properties
   pageTitle="Συλλογή αρχείων καταγραφής, χρησιμοποιώντας τα Διαγνωστικά Azure Linux | Microsoft Azure"
   description="Σε αυτό το άρθρο περιγράφει πώς μπορείτε να ρυθμίσετε Διαγνωστικά του Azure για τη συλλογή αρχείων καταγραφής από ένα σύμπλεγμα Linux ύφασμα υπηρεσία εκτελείται στο Azure."
   services="service-fabric"
   documentationCenter=".net"
   authors="mani-ramaswamy"
   manager="timlt"
   editor=""/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotNet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="09/28/2016"
   ms.author="subramar"/>


# <a name="collect-logs-by-using-azure-diagnostics"></a>Συλλογή αρχείων καταγραφής, χρησιμοποιώντας τα Διαγνωστικά Azure

> [AZURE.SELECTOR]
- [Windows](service-fabric-diagnostics-how-to-setup-wad.md)
- [Linux](service-fabric-diagnostics-how-to-setup-lad.md)

Όταν χρησιμοποιείτε ένα σύμπλεγμα Azure Service ύφασμα, είναι καλή ιδέα να συγκεντρώσετε τα αρχεία καταγραφής από όλους τους κόμβους σε μια κεντρική θέση. Αντιμετωπίζετε τα αρχεία καταγραφής σε μια κεντρική θέση διευκολύνει την ανάλυση και αντιμετώπιση προβλημάτων, είτε είναι σε των υπηρεσιών σας, η εφαρμογή σας ή το σύμπλεγμα ίδια. Ένας τρόπος για την αποστολή και συλλογή αρχείων καταγραφής είναι να χρησιμοποιήσετε την επέκταση Διαγνωστικά Azure, η οποία κάνει αποστολή των αρχείων καταγραφής στην αποθήκευσης Azure. Μπορείτε να διαβάσετε τα συμβάντα από χώρο αποθήκευσης και να τις τοποθετήσετε σε ένα προϊόν όπως [Ελαστικά αναζήτησης](service-fabric-diagnostic-how-to-use-elasticsearch.md) ή μια άλλη λύση ανάλυση καταγραφής.

## <a name="log-sources-that-you-might-want-to-collect"></a>Αρχείο καταγραφής προελεύσεις που μπορεί να θέλετε να συλλέξετε
- **Αρχεία καταγραφής από την υπηρεσία ύφασμα**: που εκπέμπει από την πλατφόρμα μέσω [LTTng](http://lttng.org) και που έχουν αποσταλεί στο λογαριασμό σας χώρου αποθήκευσης. Αρχεία καταγραφής μπορεί να είναι λειτουργικές συμβάντα ή συμβάντα χρόνου εκτέλεσης που εκπέμπει της πλατφόρμας. Αυτά τα αρχεία καταγραφής αποθηκεύονται στη θέση που καθορίζει το δηλωτικό σύμπλεγμα. (Για να λάβετε τις λεπτομέρειες λογαριασμού χώρου αποθήκευσης, αναζητήστε την ετικέτα **AzureTableWinFabETWQueryable** και αναζητήστε **StoreConnectionString**.)
- **Εφαρμογή συμβάντα**: που εκπέμπει από την υπηρεσία κώδικα. Μπορείτε να χρησιμοποιήσετε οποιαδήποτε λύση καταγραφής που γράφει αρχεία καταγραφής βάσει κειμένου--για παράδειγμα, LTTng. Για περισσότερες πληροφορίες, ανατρέξτε στην τεκμηρίωση LTTng στην ανίχνευση της εφαρμογής σας.  


## <a name="deploy-the-diagnostics-extension"></a>Αναπτύξτε την επέκταση Διαγνωστικά
Είναι το πρώτο βήμα για τη συλλογή αρχείων καταγραφής για να αναπτύξετε την επέκταση Διαγνωστικά σε κάθε του ΣΠΣ στο σύμπλεγμα ύφασμα υπηρεσίας. Η επέκταση Διαγνωστικά συλλέγει αρχεία καταγραφής σε κάθε Εικονική και αποστέλλει τους με το λογαριασμό χώρου αποθήκευσης που καθορίζετε. Τα βήματα διαφέρουν ανάλογα με Εάν χρησιμοποιείτε το Azure πύλη ή διαχείριση πόρων Azure.

Για να αναπτύξετε την επέκταση Διαγνωστικά του ΣΠΣ στο σύμπλεγμα ως μέρος της δημιουργίας σύμπλεγμα, ορίστε **τα Διαγνωστικά** σε **σε**. Αφού δημιουργήσετε το σύμπλεγμα, δεν μπορείτε να αλλάξετε αυτήν τη ρύθμιση, χρησιμοποιώντας την πύλη.

Στη συνέχεια, ρυθμίστε τις παραμέτρους Διαγνωστικά Azure Linux (LAD) για να συγκεντρώσετε τα αρχεία και να τα τοποθετήσετε στο λογαριασμό σας στο χώρο αποθήκευσης. Αυτή η διαδικασία εξηγείται ως σενάριο 3 ("Αποστολή τη δική σας αρχείων καταγραφής") στο άρθρο [Χρήση LAD για την παρακολούθηση και διάγνωση ΣΠΣ Linux](../virtual-machines/virtual-machines-linux-classic-diagnostic-extension.md). Ακολουθώντας τη διαδικασία αποκτά πρόσβαση σε τα ίχνη. Μπορείτε να αποστείλετε τα στοιχεία σε μια visualizer της επιλογής σας.

Μπορείτε επίσης να αναπτύξετε την επέκταση Διαγνωστικά χρησιμοποιώντας τη διαχείριση πόρων Azure. Η διαδικασία είναι παρόμοια για Windows και Linux και τεκμηριώνονται για Windows συμπλεγμάτων πώς [να συλλέξετε αρχεία καταγραφής με Διαγνωστικά Azure](service-fabric-diagnostics-how-to-setup-wad.md).

Μπορείτε επίσης να χρησιμοποιήσετε λειτουργίες διαχείρισης οικογένειας προγραμμάτων, όπως περιγράφεται στο [Λειτουργίες διαχείρισης οικογένεια προγραμμάτων καταγραφής αναλυτικών στοιχείων με Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).

Αφού ολοκληρώσετε αυτήν τη ρύθμιση παραμέτρων, τον παράγοντα LAD παρακολουθεί το καθορισμένο αρχείο καταγραφής αρχεία. Κάθε φορά που προστίθεται μια νέα γραμμή στο αρχείο, δημιουργεί μια καταχώρηση syslog που αποστέλλονται στο χώρο αποθήκευσης που έχετε καθορίσει.


## <a name="next-steps"></a>Επόμενα βήματα
Για να κατανοήσετε με περισσότερες λεπτομέρειες ποια συμβάντα που πρέπει να εξετάσετε κατά την αντιμετώπιση προβλημάτων, ανατρέξτε στο θέμα [τεκμηρίωση LTTng](http://lttng.org/docs) και [Χρήση LAD](../virtual-machines/virtual-machines-linux-classic-diagnostic-extension.md).
