<properties 
    pageTitle="Αυτόματη προώθηση μηνυμάτων οντοτήτων Bus υπηρεσίας | Microsoft Azure"
    description="Πώς μπορείτε να αλυσίδα μια ουρά ή τη συνδρομή σε άλλη ουρά ή το θέμα."
    services="service-bus"
    documentationCenter="na"
    authors="sethmanheim"
    manager="timlt"
    editor="" /> 
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="09/29/2016"
    ms.author="sethm" />

# <a name="chaining-service-bus-entities-with-auto-forwarding"></a>Αυτόματη προώθηση αλληλουχίας οντοτήτων Bus υπηρεσίας

Η δυνατότητα *Αυτόματη προώθηση* σάς επιτρέπει να ποδηλάτου σε ουρά ή συνδρομή σε άλλη ουρά ή το θέμα που είναι μέρος τον ίδιο χώρο ονομάτων. Όταν είναι ενεργοποιημένη η Αυτόματη προώθηση, υπηρεσία Bus καταργεί τα μηνύματα που βρίσκονται στην πρώτη ουρά ή συνδρομής (προέλευση) αυτόματα και τοποθετεί τα στη δεύτερη ουρά ή το θέμα (προορισμού). Σημειώστε ότι είναι δυνατή για να στείλετε ένα μήνυμα σε η οντότητα προορισμού απευθείας. Επίσης, δεν είναι δυνατή η ποδηλάτου δευτερεύουσα, όπως μια ουρά αδρανούς αλληλογραφίας, σε άλλη ουρά ή το θέμα.

## <a name="using-auto-forwarding"></a>Χρήση αυτόματης προώθησης

Μπορείτε να ενεργοποιήσετε την Αυτόματη προώθηση, ορίζοντας [QueueDescription.ForwardTo][] ή τις ιδιότητες [SubscriptionDescription.ForwardTo][] στα αντικείμενα [QueueDescription][] ή [SubscriptionDescription][] για την προέλευση, όπως στο παρακάτω παράδειγμα.

```
SubscriptionDescription srcSubscription = new SubscriptionDescription (srcTopic, srcSubscriptionName);
srcSubscription.ForwardTo = destTopic;
namespaceManager.CreateSubscription(srcSubscription));
```

Η οντότητα προορισμού πρέπει να υπάρχει την ώρα που έχει δημιουργηθεί η οντότητα προέλευσης. Εάν δεν υπάρχει η οντότητα προορισμού, υπηρεσία Bus επιστρέφει μια εξαίρεση όταν σας ζητηθεί να δημιουργήσετε οντότητας προέλευσης.

Μπορείτε να χρησιμοποιήσετε την Αυτόματη προώθηση για να κλιμακωθεί ανάληψη ένα συγκεκριμένο θέμα. Υπηρεσία Bus περιορίζει τον [αριθμό των συνδρομών σε ένα συγκεκριμένο θέμα](service-bus-quotas.md) έως 2.000. Που μπορεί να χωρέσει πρόσθετες συνδρομές μέσω της δημιουργίας θέματα δεύτερου επιπέδου. Σημειώστε ότι παρόλο που δεν είναι συνδεδεμένα με τον περιορισμό υπηρεσίας Bus του αριθμού των συνδρομών, προσθέτοντας ένα δεύτερο επίπεδο θέματα να βελτιώσετε τη συνολική μεταγωγή της σας.

![Αυτόματη προώθηση σεναρίου][0]

Μπορείτε επίσης να χρησιμοποιήσετε την Αυτόματη προώθηση να ξεχωρίζουμε μηνύματος αποστολέων από δέκτες. Για παράδειγμα, εξετάστε το ενδεχόμενο να ένα σύστημα ERP που αποτελείται από τρεις λειτουργικές μονάδες: επεξεργασία εντολής, Διαχείριση αποθεμάτων και διαχείριση σχέσεων πελατών. Κάθε μία από αυτές τις λειτουργικές μονάδες δημιουργεί μηνύματα που βρίσκονται που τοποθετούνται στην ουρά σε έναν αντίστοιχο θέμα. Η Άννα και ο Μπάμπης είναι αντιπρόσωποι πωλήσεων που θα θέλατε να όλα τα μηνύματα που σχετίζονται με τους πελάτες. Για να λάβετε αυτά τα μηνύματα, η Άννα και ο Μπάμπης κάθε δημιουργήσετε μια προσωπική ουρά και μια συνδρομή σε κάθε ένα από τα θέματα ERP που Αυτόματη προώθηση όλων των μηνυμάτων σε ουρά τους.

![Αυτόματη προώθηση σεναρίου][1]

Εάν η Άννα μεταβαίνει σε διακοπών, την προσωπική ουρά αντί για το θέμα ERP, συμπληρώνει προς τα επάνω. Σε αυτό το σενάριο, επειδή αντιπρόσωπος πωλήσεων δεν έλαβε όλα τα μηνύματα, κανένα από τα θέματα ERP ποτέ επίτευξη ορίου.

## <a name="auto-forwarding-considerations"></a>Αυτόματη προώθηση ζητήματα

Εάν η οντότητα προορισμού έχουν συσσωρευθεί πολλά μηνύματα και υπερβαίνει το όριο μεγέθους ή η οντότητα προορισμού είναι απενεργοποιημένη, η οντότητα προέλευσης προσθέτει τα μηνύματα για τα [γράμματα νεκρού ουρά](service-bus-dead-letter-queues.md) μέχρι να υπάρχει χώρος στον προορισμό (ή η οντότητα έχει ενεργοποιηθεί ξανά). Αυτά τα μηνύματα θα συνεχίσουν να live στην ουρά νεκρού γράμματα, ώστε να ρητά πρέπει να λαμβάνετε και να τις επεξεργαστείτε από την ουρά νεκρού γράμματα.

Κατά την αλυσιδωτή μαζί μεμονωμένα θέματα για να αποκτήσετε ένα σύνθετο θέμα με πολλές συνδρομές, συνιστάται να ότι έχετε έναν μέτρια αριθμό συνδρομές στο θέμα πρώτου επιπέδου και πολλές συνδρομές στην τα θέματα του δεύτερου επιπέδου. Για παράδειγμα, ένα θέμα πρώτου επιπέδου με 20 συνδρομές, κάθε μία από τις συνδεδεμένες σε ένα θέμα δεύτερου επιπέδου με 200 συνδρομές, επιτρέπει την υψηλότερη μετάδοσης από ένα θέμα πρώτου επιπέδου με 200 συνδρομές, κάθε συνδεδεμένες σε ένα θέμα δεύτερου επιπέδου με 20 συνδρομές.

Υπηρεσία Bus σας χρεώνει μία λειτουργίας για κάθε μήνυμα που έχει προωθηθεί. Για παράδειγμα, αποστολή ενός μηνύματος σε ένα θέμα με 20 συνδρομές, κάθε μία από αυτές έχει ρυθμιστεί για την Αυτόματη προώθηση μηνυμάτων σε άλλη ουρά ή το θέμα, χρεώθηκε ως 21 λειτουργίες εάν όλες τις συνδρομές του πρώτου επιπέδου λαμβάνουν ένα αντίγραφο του μηνύματος.

Για να δημιουργήσετε μια εγγραφή που είναι συνδεδεμένες σε άλλη ουρά ή το θέμα, το δημιουργό της εγγραφής πρέπει να έχετε **Διαχείριση** δικαιωμάτων για την προέλευση και η οντότητα προορισμού. Αποστολή μηνυμάτων στο θέμα προέλευσης απαιτεί μόνο δικαιώματα **αποστολής** στην του θέματος προέλευσης.

## <a name="next-steps"></a>Επόμενα βήματα

Για λεπτομερείς πληροφορίες σχετικά με την Αυτόματη προώθηση, ανατρέξτε στα παρακάτω θέματα αναφοράς:

- [SubscriptionDescription.ForwardTo][]
- [QueueDescription][]
- [SubscriptionDescription][]

Για να μάθετε περισσότερα σχετικά με την υπηρεσία Bus βελτιώσεις επιδόσεων, ανατρέξτε στο θέμα [Partitioned μηνυμάτων οντοτήτων][].

  [QueueDescription.ForwardTo]: https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queuedescription.forwardto.aspx
  [SubscriptionDescription.ForwardTo]: https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.subscriptiondescription.forwardto.aspx
  [QueueDescription]: https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queuedescription.aspx
  [SubscriptionDescription]: https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.subscriptiondescription.aspx
  [0]: ./media/service-bus-auto-forwarding/IC628631.gif
  [1]: ./media/service-bus-auto-forwarding/IC628632.gif
  [Διαμερίσματα οντοτήτων ανταλλαγής μηνυμάτων]: service-bus-partitioning.md