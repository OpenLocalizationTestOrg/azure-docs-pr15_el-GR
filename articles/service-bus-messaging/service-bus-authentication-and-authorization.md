<properties 
    pageTitle="Λειτουργία ελέγχου ταυτότητας Bus και εξουσιοδότησης | Microsoft Azure"
    description="Επισκόπηση ελέγχου ταυτότητας σε κοινή χρήση Access υπογραφή (συσχετισμών Ασφαλείας)."
    services="service-bus"
    documentationCenter="na"
    authors="sethmanheim"
    manager="timlt"
    editor="" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/03/2016"
    ms.author="sethm" />

# <a name="service-bus-authentication-and-authorization"></a>Υπηρεσία Bus τον έλεγχο ταυτότητας και εξουσιοδότησης

Εφαρμογές μπορούν να ελέγχουν την ταυτότητα Azure Service Bus χρήση είτε του ελέγχου ταυτότητας σε κοινή χρήση Access υπογραφή (συσχετισμών Ασφαλείας), ή μέσω Azure Active Directory ελέγχου πρόσβασης (γνωστό και ως υπηρεσία ελέγχου πρόσβασης ή ACS). Κοινή χρήση πρόσβασης υπογραφή εφαρμογές παρέχει τη δυνατότητα ελέγχου ταυτότητας για τον έλεγχο ταυτότητας Bus υπηρεσία χρησιμοποιώντας ένα πλήκτρο πρόσβασης έχει ρυθμιστεί στο χώρο ονομάτων ή η οντότητα με τα οποία σχετίζονται συγκεκριμένα δικαιώματα. Στη συνέχεια, μπορείτε να χρησιμοποιήσετε αυτό το κλειδί για τη δημιουργία ενός διακριτικού θέσει σε κοινή χρήση υπογραφής Access που προγράμματα-πελάτες μπορούν να χρησιμοποιούν για τον έλεγχο ταυτότητας Bus υπηρεσίας.

>AZURE. ΣΗΜΑΝΤΙΚΌ συσχετισμών Ασφαλείας συνιστάται μέσω ACS, καθώς παρέχει ένα σχήμα απλό, ευέλικτη και εύκολο για χρήση ελέγχου ταυτότητας για την υπηρεσία Bus. Εφαρμογές μπορούν να χρησιμοποιήσουν συσχετισμών Ασφαλείας σε σενάρια όπου δεν χρειάζεται να διαχειριστείτε την έννοια της εξουσιοδοτημένος "χρήστης."

## <a name="shared-access-signature-authentication"></a>Έλεγχος ταυτότητας κοινόχρηστου Access υπογραφής

[Έλεγχος ταυτότητας συσχετισμών Ασφαλείας](service-bus-sas-overview.md) σάς επιτρέπει να εκχωρήσετε σε χρήστη πρόσβαση σε υπηρεσία Bus πόρους με συγκεκριμένα δικαιώματα. Έλεγχος ταυτότητας συσχετισμών Ασφαλείας στην υπηρεσία Bus περιλαμβάνει τη ρύθμιση παραμέτρων ενός κλειδιού κρυπτογράφησης με σχετικές δικαιώματα σε έναν πόρο Bus υπηρεσίας. Προγράμματα-πελάτες, στη συνέχεια, να αποκτήσετε πρόσβαση σε αυτόν τον πόρο κατά την παρουσίαση ενός διακριτικού συσχετισμών Ασφαλείας που αποτελείται από τον πόρο URI την πρόσβαση και η λήξη συνδεδεμένοι με το κλειδί που έχει ρυθμιστεί.

Μπορείτε να ρυθμίσετε πλήκτρα για συσχετισμούς Ασφαλείας σε ένα χώρο ονομάτων Bus υπηρεσίας. Το κλειδί ισχύει για όλα οντοτήτων ανταλλαγής μηνυμάτων σε αυτό το πεδίο ονομάτων. Μπορείτε επίσης να ρυθμίσετε πλήκτρα ουρές Bus υπηρεσία και τα θέματα. Συσχετίσεις Ασφαλείας υποστηρίζεται επίσης στην υπηρεσία Bus αναμεταδίδει.

Για να χρησιμοποιήσετε συσχετισμών Ασφαλείας, μπορείτε να ρυθμίσετε ένα αντικείμενο [SharedAccessAuthorizationRule](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sharedaccessauthorizationrule.aspx) σε ένα χώρο ονομάτων, ουρά ή το θέμα που αποτελείται από τα εξής:

- *Όνομα κλειδιού* που προσδιορίζει τον κανόνα.

- *Πρωτεύον κλειδί* είναι ένα κλειδί κρυπτογράφησης που χρησιμοποιείται για την είσοδο/επικύρωση διακριτικά συσχετισμών Ασφαλείας.

- *SecondaryKey* είναι ένα κλειδί κρυπτογράφησης που χρησιμοποιείται για την είσοδο/επικύρωση διακριτικά συσχετισμών Ασφαλείας.

- *Τα δικαιώματα* που αντιπροσωπεύει τη συλλογή ακρόαση, αποστολή ή Διαχείριση δικαιωμάτων που έχουν εκχωρηθεί.

Των κανόνων εξουσιοδότησης έχει ρυθμιστεί στο επίπεδο χώρος ονομάτων μπορεί να εκχωρήσει πρόσβαση σε όλες οντοτήτων σε ένα χώρο ονομάτων για προγράμματα-πελάτες με διακριτικά συνδεδεμένοι με το αντίστοιχο κλειδί. Έως και 12 η άδεια κανόνες μπορεί να ρυθμιστεί σε ένα χώρο ονομάτων Bus υπηρεσίας, ουρά ή το θέμα. Από προεπιλογή, μια [SharedAccessAuthorizationRule](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sharedaccessauthorizationrule.aspx) με όλα τα δικαιώματα που έχει ρυθμιστεί για κάθε χώρο ονομάτων όταν παρέχεται πρώτα.

Για να αποκτήσετε πρόσβαση σε μια οντότητα, ο υπολογιστής-πελάτης απαιτεί ενός διακριτικού συσχετισμών Ασφαλείας που δημιουργούνται χρησιμοποιώντας ένα συγκεκριμένο [SharedAccessAuthorizationRule](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sharedaccessauthorizationrule.aspx). Το διακριτικό συσχετισμών Ασφαλείας δημιουργείται χρησιμοποιώντας το SHA256 HMAC συμβολοσειράς πόρων που αποτελείται από το URI πόρου στον οποίο ζητείται πρόσβαση και λήξης με ένα κλειδί κρυπτογράφησης που σχετίζεται με τον κανόνα εξουσιοδότησης.

Υποστήριξη ελέγχου ταυτότητας των συσχετισμών Ασφαλείας Bus υπηρεσίας είναι περιλαμβάνονται στις εκδόσεις Azure .NET SDK 2.0 και νεότερες εκδόσεις. Συσχετίσεις Ασφαλείας περιλαμβάνει υποστήριξη για ένα [SharedAccessAuthorizationRule](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sharedaccessauthorizationrule.aspx). Όλα τα API που αποδεχτείτε μια συμβολοσειρά σύνδεσης με την παράμετρο περιλαμβάνουν υποστήριξη για συμβολοσειρές σύνδεσης συσχετισμών Ασφαλείας.

## <a name="acs-authentication"></a>Έλεγχος ταυτότητας ACS

Ο έλεγχος ταυτότητας Bus υπηρεσίας μέσω ACS ελέγχεται μέσω συνοδεύει "-μικρές" ACS χώρο ονομάτων. Εάν θέλετε ένα χώρο ονομάτων ACS συνοδευτικό σε δημιουργηθούν για ένα χώρο ονομάτων Bus υπηρεσίας, δεν μπορείτε να δημιουργήσετε το χώρο ονομάτων Bus υπηρεσίας με το Azure κλασική πύλη, πρέπει να δημιουργήσετε το χώρο ονομάτων με το cmdlet του PowerShell [Δημιουργία AzureSBNamespace](https://msdn.microsoft.com/library/azure/dn495165.aspx) . Για παράδειγμα:

```
New-AzureSBNamespace <namespaceName> "<Region>” -CreateACSNamespace $true
```

Για να αποφύγετε τη δημιουργία ενός χώρου ονομάτων ACS, εισαγάγετε την ακόλουθη εντολή:

```
New-AzureSBNamespace <namespaceName> "<Region>” -CreateACSNamespace $false
```

Για παράδειγμα, εάν δημιουργήσετε ένα χώρο ονομάτων Bus υπηρεσίας που ονομάζεται **contoso.servicebus.windows.net**, ένα χώρο ονομάτων ACS συνοδευτικό που ονομάζεται **contoso-sb.accesscontrol.windows.net** παρέχεται αυτόματα. Για όλοι οι χώροι ονομάτων που έχουν δημιουργηθεί πριν από την Αυγούστου 2014, δημιουργήθηκε επίσης ένα συνοδευτικές χώρος ονομάτων ACS.

Παρέχεται υπηρεσία προεπιλεγμένης ταυτότητας "κάτοχος," με όλα τα δικαιώματα, από προεπιλογή σε αυτόν το χώρο ονομάτων ACS συνοδευτικό. Μπορείτε να αποκτήσετε λεπτομερή έλεγχο σε οποιαδήποτε υπηρεσία Bus οντότητα μέσω ACS, ρυθμίζοντας τις παραμέτρους των σχέσεων αξιοπιστίας κατάλληλο. Μπορείτε να ρυθμίσετε επιπλέον υπηρεσίας τις ταυτότητες για τη διαχείριση της πρόσβασης υπηρεσίας Bus οντοτήτων.

Για να αποκτήσετε πρόσβαση σε μια οντότητα, ο υπολογιστής-πελάτης ζητά ένα διακριτικό SWT από ACS με την κατάλληλη αξιώσεων παρουσιάζοντας τα διαπιστευτήρια. Το διακριτικό SWT πρέπει να, στη συνέχεια, αποστέλλονται ως μέρος της αίτησης για να Bus υπηρεσίας για να ενεργοποιήσετε την άδεια του προγράμματος-πελάτη για πρόσβαση στην οντότητα.

Υποστήριξη ελέγχου ταυτότητας ACS Bus υπηρεσίας είναι περιλαμβάνονται στις εκδόσεις Azure .NET SDK 2.0 και νεότερες εκδόσεις. Αυτός ο έλεγχος ταυτότητας περιλαμβάνει υποστήριξη για ένα [SharedSecretTokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.sharedsecrettokenprovider.aspx). Όλα τα API που αποδεχτείτε μια συμβολοσειρά σύνδεσης με την παράμετρο περιλαμβάνουν υποστήριξη για ACS συμβολοσειρές σύνδεσης.

## <a name="next-steps"></a>Επόμενα βήματα

Συνεχίστε με την ανάγνωση [υπογραφή πρόσβασης σε κοινή χρήση τον έλεγχο ταυτότητας με Bus υπηρεσίας](service-bus-shared-access-signature-authentication.md) για περισσότερες λεπτομέρειες σχετικά με συσχετισμούς Ασφαλείας.

Για μια επισκόπηση υψηλού επιπέδου των συσχετισμών Ασφαλείας στην υπηρεσία Bus, ανατρέξτε στο θέμα [Κοινή χρήση υπογραφών πρόσβασης](service-bus-sas-overview.md).

Μπορείτε να βρείτε περισσότερες πληροφορίες σχετικά με τα διακριτικά ACS στο [Τρόπος: αίτηση ενός διακριτικού από ACS μέσω του πρωτοκόλλου ΑΝΑΔΊΠΛΩΣΗ OAuth](https://msdn.microsoft.com/library/hh674475.aspx).



