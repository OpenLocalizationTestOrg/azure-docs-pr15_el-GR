<properties
 pageTitle="Οδηγός για προγραμματιστές - μηνυμάτων | Microsoft Azure"
 description="Azure Οδηγός για προγραμματιστές διανομέα IoT - συσκευή στο cloud και cloud-σε-συσκευή μηνυμάτων"
 services="iot-hub"
 documentationCenter=".net"
 authors="dominicbetts"
 manager="timlt"
 editor=""/>

<tags
 ms.service="iot-hub"
 ms.devlang="multiple"
 ms.topic="article"
 ms.tgt_pltfrm="na"
 ms.workload="na"
 ms.date="09/30/2016" 
 ms.author="dobett"/>

# <a name="send-and-receive-messages-with-iot-hub"></a>Αποστολή και λήψη μηνυμάτων με διανομέα IoT

## <a name="overview"></a>Επισκόπηση

Ενότητα IoT παρέχει τα εξής στοιχειώδεις τύπους ανταλλαγής μηνυμάτων για να επικοινωνήσετε με μια συσκευή:

- [Συσκευή-cloud] [ lnk-d2c] από μια συσκευή σε μια εφαρμογή πίσω τέλος.
- [Cloud-σε-συσκευή] [ lnk-c2d] από μια εφαρμογή πίσω Τέλος (*υπηρεσία* ή *στο cloud*).

Ιδιότητες πυρήνα του διανομέα IoT λειτουργικότητα ανταλλαγής μηνυμάτων είναι την αξιοπιστία και διάρκεια ζωής των μηνυμάτων. Αυτές οι ιδιότητες Ενεργοποίηση ανθεκτικότητα σε περιστασιακό συνδεσιμότητας στην πλευρά συσκευή και να φορτώσετε αιχμές σε συμβάν επεξεργασίας στην πλευρά cloud. Ο διανομέας IoT υλοποιεί παράδοσης εγγυήσεις *τουλάχιστον μία φορά* για συσκευή-cloud και cloud-σε-συσκευή μηνυμάτων.

Ενότητα IoT υποστηρίζει πολλές [πρωτόκολλα άμεσα προσβάσιμη από τη συσκευή] [ lnk-protocols] (όπως MQTT, AMQP και HTTP). Για την υποστήριξη απρόσκοπτη διαλειτουργικότητα μέσω πρωτοκόλλων, διανομέα IoT καθορίζει μια [συνηθισμένη μορφή μηνύματος] [ lnk-message-format] που υποστηρίζουν όλα τα πρωτόκολλα άμεσα προσβάσιμη από τη συσκευή.

Διανομέα IoT εκθέτει [τελικού σημείου διανομέα συμβατό με το συμβάν] [ lnk-compatible-endpoint] για να ενεργοποιήσετε τις εφαρμογές παρασκηνίου για να διαβάσετε τα μηνύματα συσκευής στο cloud που λάβατε από την ενότητα.

### <a name="when-to-use"></a>Πότε να χρησιμοποιήσετε

Ανταλλαγή μηνυμάτων είναι μια δυνατότητα πυρήνα IoT διανομέα. Χρησιμοποιήστε το όποτε πρέπει να στείλετε μηνύματα από τη συσκευή σας για να σας παρασκηνίου ή να στείλει μηνύματα από το τέλος πίσω σε μια συσκευή.

Για μια σύγκριση των υπηρεσιών IoT διανομέας και διανομείς συμβάντος, ανατρέξτε στο θέμα [σύγκριση της IoT διανομέας και διανομείς συμβάν][lnk-compare].

## <a name="device-to-cloud-messages"></a>Μηνύματα συσκευής στο cloud

Μηνύματα που στέλνετε συσκευής στο cloud μέσω ένα τελικό σημείο άμεσα προσβάσιμη από τη συσκευή (**/devices/ {deviceId} / μηνύματα/συμβάντων**). Υπηρεσία υποστήριξης λαμβάνει μηνύματα συσκευής στο cloud μέσω ένα τελικό σημείο υπηρεσίας τοποθεσία (**/messages/events**) που είναι συμβατά με το [Συμβάν διανομείς][lnk-event-hubs]. Γι ' αυτό, μπορείτε να χρησιμοποιήσετε τυπική [ενοποίησης συμβάν διανομείς και SDK] [ lnk-compatible-endpoint] για να λάβετε μηνύματα συσκευής στο cloud.

Ενότητα IoT υλοποιεί συσκευή-cloud μηνυμάτων με τον τρόπο που είναι παρόμοιο με το [Συμβάν διανομείς][lnk-event-hubs]. Μηνύματα συσκευής στο cloud του IoT διανομέα είναι περισσότερα όπως διανομείς συμβάν *συμβάντα* από [Υπηρεσία Bus] [ lnk-servicebus] *μηνύματα*.

Αυτή η υλοποίηση περιλαμβάνει τις ακόλουθες συνέπειες:

* Ομοίως σε συμβάν διανομείς συμβάντα, μηνύματα συσκευής στο cloud είναι διαρκή και διατηρούνται από μια ενότητα IoT για έως και επτά ημέρες (ανατρέξτε στο θέμα [Επιλογές ρύθμισης παραμέτρων συσκευής στο cloud][lnk-d2c-configuration]).
* Συσκευή-cloud μηνύματα δημιουργούνται διαμερίσματα σε ένα σταθερό σύνολο των διαμερισμάτων που έχει οριστεί κατά τη δημιουργία (ανατρέξτε στο θέμα [Επιλογές ρύθμισης παραμέτρων συσκευής στο cloud][lnk-d2c-configuration]).
* Αναλογία με διανομείς συμβάντος, προγράμματα-πελάτες ανάγνωση μηνυμάτων συσκευής στο cloud πρέπει να χειρίζεται τα διαμερίσματα και σημείων ελέγχου. Ανατρέξτε στο θέμα [Διανομείς συμβάν - κατανάλωση συμβάντα][lnk-event-hubs-consuming-events].
* Όπως το συμβάν διανομείς συμβάντα, τα μηνύματα συσκευής στο cloud μπορεί να είναι πολύ 256 KB και μπορεί να είναι ομαδοποιημένα σε δέσμες για να βελτιστοποιήσετε το στέλνει. Δέσμες μπορεί να είναι πολύ 256 KB και πολύ 500 μηνύματα.

Ωστόσο, υπάρχουν μερικές σημαντικές διαφορές μεταξύ μηνυμάτων συσκευή-cloud IoT διανομέας και διανομείς συμβάν:

* Όπως εξηγείται στο θέμα [Έλεγχος της πρόσβασης σε διανομέα IoT] [ lnk-devguide-security] ενότητα, διανομέα IoT επιτρέπει έλεγχος ταυτότητας και πρόσβασης ανά συσκευή.
* Ενότητα IoT επιτρέπει εκατομμύρια ταυτόχρονη συνδεδεμένες συσκευές (ανατρέξτε στο θέμα [όρια και περιορισμού][lnk-quotas]), ενώ διανομείς συμβάν περιορίζεται στα 5000 AMQP συνδέσεις ανά χώρο ονομάτων.
* Ενότητα IoT δεν επιτρέπει αυθαίρετο διαμερισμάτων χρησιμοποιώντας μια **PartitionKey**. Συσκευή-cloud μηνύματα δημιουργούνται διαμερίσματα με βάση τους προέλευσής **deviceId**.
* Κλιμάκωση διανομέα IoT διαφέρει λίγο από κλίμακας συμβάν διανομείς. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Κλιμάκωση διανομέα IoT][lnk-guidance-scale].

> [AZURE.NOTE] Δεν μπορείτε να αντικαταστήσετε IoT διανομέα για διανομείς συμβάντος σε όλα τα σενάρια. Για παράδειγμα, σε ορισμένες υπολογισμούς επεξεργασίας του συμβάντος και μπορεί να είναι είναι απαραίτητο να δημιουργήσετε νέα διαμερίσματα συμβάντα σε σχέση με μια διαφορετική ιδιότητα ή πεδίο πριν από την ανάλυση των ροών δεδομένων. Σε αυτό το σενάριο, μπορείτε να χρησιμοποιήσετε ένα συμβάν διανομέα να ξεχωρίζουμε δύο τμήματα της ροής επεξεργασίας διοχέτευσης. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα *τα διαμερίσματα* στην [Επισκόπηση διανομείς συμβάντων Azure][lnk-eventhub-partitions].

Για λεπτομέρειες σχετικά με το πώς μπορείτε να χρησιμοποιήσετε την ανταλλαγή μηνυμάτων συσκευής στο cloud, ανατρέξτε στο θέμα [IoT διανομέα API και SDK][lnk-sdks].

> [AZURE.NOTE] Όταν χρησιμοποιείτε HTTP για την αποστολή μηνυμάτων συσκευής στο cloud, τα ονόματα των ιδιοτήτων και τις τιμές μπορεί να περιέχει μόνο αλφαριθμητικούς χαρακτήρες ASCII, καθώς και ``{'!', '#', '$', '%, '&', "'", '*', '*', '+', '-', '.', '^', '_', '`', '|', '~'}``.

### <a name="non-telemetry-traffic"></a>Μη τηλεμετρίας κίνηση

Συχνά, εκτός από τα σημεία δεδομένων τηλεμετρίας, συσκευές επίσης στείλετε μηνύματα και προσκλήσεις που απαιτούν την εκτέλεση και χειρισμού από το επίπεδο εφαρμογής λογικής. Για παράδειγμα, κρίσιμες ειδοποιήσεις που πρέπει να ενεργοποιήσετε μια συγκεκριμένη ενέργεια στο παρασκήνιο ή συσκευή απαντήσεων σε εντολές που αποστέλλονται από παρασκηνίου.

Για περισσότερες πληροφορίες σχετικά με την ο καλύτερος τρόπος για να επεξεργαστείτε αυτό το είδος του μηνύματος, ανατρέξτε στο θέμα το [πρόγραμμα εκμάθησης: Τρόπος για την επεξεργασία μηνυμάτων συσκευή-cloud διανομέα IoT] [ lnk-d2c-tutorial] το πρόγραμμα εκμάθησης.

### <a name="device-to-cloud-configuration-options"></a>Επιλογές ρύθμισης παραμέτρων συσκευής στο cloud

Ένα διανομέα IoT εκθέτει τις ακόλουθες ιδιότητες για να ελέγχετε τη συσκευή για να cloud μηνυμάτων.

* **Πλήθος διαμερισμάτων**. Ορίστε αυτήν την ιδιότητα κατά τη δημιουργία για να ορίσετε τον αριθμό των διαμερισμάτων για κατάποση συμβάν συσκευής στο cloud.
* **Ώρα διατήρησης**. Αυτή η ιδιότητα καθορίζει το χρόνο διατήρησης για συσκευή-cloud μηνύματα. Η προεπιλογή είναι μία ημέρα, αλλά αυτό μπορεί να αυξάνεται σε επτά ημέρες.

Επίσης, αναλογία διανομείς συμβάντος, διανομέα IoT σάς δίνει τη δυνατότητα να διαχειριστείτε ομάδες καταναλωτή στη συσκευή-σε-cloud λαμβάνουν τελικού σημείου.

Μπορείτε να τροποποιήσετε όλες αυτές τις ιδιότητες, είτε μέσω προγραμματισμού μέσω της [υπηρεσίας παροχής πόρων διανομέα IoT APIs ΥΠΌΛΟΙΠΑ]υπηρεσίας[lnk-resource-provider-apis], ή με τη χρήση του [Azure πύλη][lnk-management-portal].

### <a name="anti-spoofing-properties"></a>Ιδιότητες Anti-πλαστογράφησης

Για να αποφύγετε τη συσκευή πλαστογράφησης μηνυμάτων συσκευής στο cloud, διανομέα IoT σφραγίδες όλων των μηνυμάτων με τις ακόλουθες ιδιότητες:

* **ConnectionDeviceId**
* **ConnectionDeviceGenerationId**
* **ConnectionAuthMethod**

Οι δύο πρώτοι περιέχουν τις **deviceId** και **generationId** της αρχικής συσκευής, σύμφωνα με τις [Ιδιότητες των συσκευών ταυτότητας][lnk-device-properties].

Η ιδιότητα **ConnectionAuthMethod** περιέχει ένα αντικείμενο JSON σειριοποίηση, με τις ακόλουθες ιδιότητες:

```
{
  "scope": "{ hub | device}",
  "type": "{ symkey | sas}",
  "issuer": "iothub"
}
```

## <a name="cloud-to-device-messages"></a>Μηνύματα cloud-σε-συσκευή

Μηνύματα που στέλνετε cloud-σε-συσκευή μέσω ενός τελικού σημείου υπηρεσίας τοποθεσία (**/messages/devicebound**). Μια συσκευή λαμβάνει τις έως ένα τελικό σημείο ειδικά για τη συσκευή (**/devices/ {deviceId} / μηνύματα/devicebound**).

Κάθε μήνυμα cloud-σε-συσκευή είναι στοχευμένες σε μία μόνο συσκευή, ορίζοντας την ιδιότητα **για** να **/devices/ {deviceId} / μηνύματα/devicebound**.

>[AZURE.IMPORTANT] Κάθε ουρά συσκευή βρίσκονται πολύ 50 cloud-σε-συσκευή μηνύματα. Προσπαθείτε να στείλετε περισσότερα μηνύματα για τα ίδια αποτελέσματα συσκευή σφάλμα.

> [AZURE.NOTE] Όταν στέλνετε μηνύματα cloud-σε-συσκευή, τα ονόματα των ιδιοτήτων και τις τιμές μπορεί να περιέχει μόνο αλφαριθμητικούς χαρακτήρες ASCII, καθώς και ``{'!', '#', '$', '%, '&', "'", '*', '*', '+', '-', '.', '^', '_', '`', '|', '~'}``.

### <a name="message-lifecycle"></a>Κύκλος ζωής μηνύματος

Για να εξασφαλίσετε τουλάχιστον μία φορά παράδοση του μηνύματος, διανομέα IoT εξακολουθεί να εμφανίζεται cloud-σε-συσκευή μηνυμάτων σε ουρές ανά συσκευή. Συσκευές ρητά πρέπει να αποδεχθείτε *ολοκλήρωσης* για διανομέα IoT για να τις καταργήσετε από την ουρά. Αυτό εγγυάται υποστηρίζεται σε σχέση με τη σύνδεση και αποτυχίες συσκευής.

Το παρακάτω διάγραμμα παρουσιάζει το γράφημα κατάσταση κύκλου ζωής για ένα μήνυμα cloud-σε-συσκευή.

![Κύκλος ζωής μήνυμα cloud-σε-συσκευής][img-lifecycle]

Όταν η υπηρεσία σας στείλει ένα μήνυμα, θεωρείται *που τοποθετούνται στην ουρά*. Όταν μια συσκευή θέλει να *λαμβάνετε* ένα μήνυμα, διανομέα IoT *κλειδωμάτων* του μηνύματος (ορίζει την κατάσταση για να **αόρατο**) επιτρέποντάς άλλα νήματα στην ίδια συσκευή για να ξεκινήσετε να λαμβάνουν μηνύματα. Όταν ένα νήμα συσκευή ολοκληρώσει την επεξεργασία ενός μηνύματος, ειδοποιεί IoT διανομέα, *την ολοκλήρωση* του μηνύματος.

Μια συσκευή επίσης να:

- *Απόρριψη* το μήνυμα, το οποίο έχει ως αποτέλεσμα IoT διανομέα να ορίσετε την κατάσταση **Deadlettered** . Σημείωση: σύνδεση με MQTT συσκευές δεν είναι δυνατό να απορρίπτουν C2D μηνύματα.
- *Εγκαταλείψετε* το μήνυμα, το οποίο έχει ως αποτέλεσμα IoT διανομέα για να τοποθετήσετε το μήνυμα στην ουρά, με την κατάσταση ρυθμίσετε να **βρίσκεται σε ουρά αναμονής**.

Ένα νήμα μπορεί να αποτύχει για την επεξεργασία ενός μηνύματος χωρίς ειδοποίηση IoT διανομέα. Σε αυτήν την περίπτωση, μηνύματα αυτόματα μετάβασης από την κατάσταση **αόρατο** στην κατάσταση **που τοποθετούνται στην ουρά** μετά από ένα *χρονικό όριο ορατότητα (ή κλείδωμα)*. Η προεπιλεγμένη τιμή αυτού του χρονικού ορίου είναι ένα λεπτό.

Ένα μήνυμα είναι δυνατή η μετάβαση μεταξύ του **που τοποθετούνται στην ουρά** και **αόρατο** μέλη για πολύ, του αριθμού των φορών που καθορίζεται στην ιδιότητα **count max παράδοσης** IoT διανομέα. Μετά από αυτόν τον αριθμό των μεταβάσεων, διανομέα IoT ορίζει την κατάσταση του μηνύματος για να **Deadlettered**. Ομοίως, διανομέα IoT ορίζει την κατάσταση ενός μηνύματος για να **Deadlettered** μετά το χρόνο λήξης της (ανατρέξτε στο θέμα [διάρκεια ζωής][lnk-ttl]).

Για ένα πρόγραμμα εκμάθησης στο cloud-σε-συσκευή μηνύματα, ανατρέξτε στο θέμα [πρόγραμμα εκμάθησης: πώς μπορείτε να στέλνετε μηνύματα cloud-σε-συσκευή με το Κέντρο IoT][lnk-c2d-tutorial]. Για αναφορά θέματα σχετικά με τον τρόπο διαφορετικό API και SDK εκθέσετε τη λειτουργικότητα cloud-σε-συσκευή, ανατρέξτε στο θέμα [IoT διανομέα API και SDK][lnk-sdks].

> [AZURE.NOTE] Συνήθως, τα μηνύματα cloud-σε-συσκευή ολοκλήρωση κάθε φορά που η απώλεια του μηνύματος δεν θα επηρεάσει τη λογική εφαρμογής. Για παράδειγμα, το περιεχόμενο του μηνύματος έχει διατηρηθεί με επιτυχία στον τοπικό χώρο αποθήκευσης ή μια λειτουργία έχει εκτελεστεί με επιτυχία. Το μήνυμα θα μπορούσε να είναι που ενέχουν επίσης μεταβατικές πληροφορίες, των οποίων απώλεια δεν θα επηρεάσει τη λειτουργικότητα της εφαρμογής. Ορισμένες φορές, για μεγάλη διάρκεια εκτέλεσης εργασίες, μπορείτε να ολοκληρώσετε το μήνυμα cloud-σε-συσκευή μετά συνεχίζεται η περιγραφή της εργασίας στον τοπικό χώρο αποθήκευσης. Στη συνέχεια, μπορείτε να ειδοποιήσετε παρασκηνίου εφαρμογή με ένα ή περισσότερα μηνύματα συσκευής στο cloud σε διάφορα στάδια της προόδου της εργασίας.

### <a name="message-expiration-time-to-live"></a>Λήξη μηνύματος (διάρκεια ζωής)

Κάθε μήνυμα cloud-σε-συσκευή έχει μια ώρα λήξης. Αυτήν τη στιγμή έχει οριστεί είτε με την υπηρεσία (στην ιδιότητα **ExpiryTimeUtc** ), είτε από διανομέα IoT χρησιμοποιώντας την προεπιλεγμένη *διάρκεια ζωής* που έχουν καθοριστεί ως μια ιδιότητα IoT διανομέα. Ανατρέξτε στο θέμα [Επιλογές ρύθμισης παραμέτρων Cloud-σε-συσκευή][lnk-c2d-configuration].

> [AZURE.NOTE] Κοινές τρόπο για να επωφεληθείτε από λήξη των μηνυμάτων και να αποφύγετε στέλνει μηνύματα σε αποσύνδεσης συσκευές, είναι για να ορίσετε Σύντομη ώρα για να live τιμές. Αυτή η προσέγγιση επιτυγχάνει το ίδιο αποτέλεσμα με τη διατήρηση της κατάστασης σύνδεσης συσκευή, κατά τη διαδικασία πιο αποτελεσματική. Όταν ζητήσετε επιβεβαίωση μήνυμα, διανομέα IoT σάς ειδοποιεί τις συσκευές που έχουν τη δυνατότητα να λαμβάνετε μηνύματα και τις συσκευές που δεν είναι σε σύνδεση ή να απέτυχε.

### <a name="message-feedback"></a>Μήνυμα σχολίων

Όταν στέλνετε ένα μήνυμα cloud-σε-συσκευή, η υπηρεσία να ζητήσετε την παράδοση σχολίων ανά μήνυμα σχετικά με την τελική κατάσταση αυτού του μηνύματος.

- Εάν ορίσετε την ιδιότητα **Ack** σε **θετικό**, διανομέα IoT δημιουργεί ένα μήνυμα σχόλια Εάν και μόνο εάν το μήνυμα cloud-σε-συσκευή φτάσει η κατάσταση **ολοκληρώθηκε** .
- Εάν ορίσετε την ιδιότητα **Ack** να **αρνητικός αριθμός**, διανομέα IoT δημιουργεί ένα μήνυμα σχολίων, μόνο εάν, το μήνυμα cloud-σε-συσκευή φτάσει η κατάσταση **Deadlettered** .
- Εάν ορίσετε την ιδιότητα **Ack** σε **πλήρη**, διανομέα IoT δημιουργεί ένα μήνυμα σχολίων σε κάθε περίπτωση.

> [AZURE.NOTE] Εάν είναι **Πλήρης** **Ack** και δεν λαμβάνετε ένα μήνυμα σχολίων, αυτό σημαίνει ότι το μήνυμα σχολίων λήξει. Η υπηρεσία δεν είναι δυνατό να γνωρίζετε τι συνέβη στο αρχικό μήνυμα. Στην πράξη, μια υπηρεσία θα πρέπει να εξασφαλίσετε ότι μπορεί να επεξεργαστεί τα σχόλια πριν από τη λήξη. Το χρόνο λήξης μέγιστο δύο ημέρες, που επιτρέπει αρκετό χρόνο για να την υπηρεσία εκτελείται ξανά Εάν προκύψει σφάλμα.

Όπως περιγράφεται σε [τελικά σημεία][lnk-endpoints], διανομέα IoT προσφέρει σχόλιά σας μέσω ενός τελικού σημείου υπηρεσίας τοποθεσία (**/messages/servicebound/feedback**) ως μηνύματα. Η σημασιολογία για τη λήψη σχολίων είναι η ίδια όπως για μηνύματα cloud-σε-συσκευή και έχουν το ίδιο [μήνυμα κύκλου ζωής][lnk-lifecycle]. Όταν είναι δυνατόν, μήνυμα σχολίων είναι μαζικής σε ένα μήνυμα, με την παρακάτω μορφή:

| Ιδιότητα | Περιγραφή |
| -------- | ----------- |
| EnqueuedTime | Σήμανση χρόνου που υποδεικνύει κατά την οποία δημιουργήθηκε το μήνυμα. |
| Αναγνωριστικό χρήστη | `{iot hub name}` |
| ContentType | `application/vnd.microsoft.iothub.feedback.json` |

Ο οργανισμός είναι ένα σειριοποιημένο JSON πίνακα με εγγραφές, κάθε μία με τις ακόλουθες ιδιότητες:

| Ιδιότητα | Περιγραφή |
| -------- | ----------- |
| EnqueuedTimeUtc | Σήμανση χρόνου που υποδεικνύει πότε έγινε το αποτέλεσμα του μηνύματος. Για παράδειγμα, η συσκευή ολοκληρωθεί ή το μήνυμα έχει λήξει. |
| OriginalMessageId | **Αναγνωριστικού μηνύματος** του μηνύματος cloud-σε-συσκευή στην οποία αναφέρεται αυτές τις πληροφορίες σχολίων. |
| StatusCode | Απαιτείται ακέραιος αριθμός. Χρησιμοποιείται σε μηνύματα σχόλια που δημιουργούνται από το Κέντρο IoT. <br/> 0 = επιτυχίας <br/> 1 = το μήνυμα έχει λήξει <br/> 2 = μέγιστο παράδοσης υπέρβαση του πλήθους μεταπηδήσεων <br/> 3 = μήνυμα απορρίφθηκε |
| Περιγραφή | Τις τιμές συμβολοσειράς για **StatusCode**. |
| DeviceId | **DeviceId** της συσκευής προορισμού του μηνύματος cloud-σε-συσκευή στην οποία αναφέρεται αυτό τμήμα των σχολίων. |
| DeviceGenerationId | **DeviceGenerationId** της συσκευής προορισμού του μηνύματος cloud-σε-συσκευή στην οποία αναφέρεται αυτό τμήμα των σχολίων. |


>[AZURE.IMPORTANT] Η υπηρεσία πρέπει να καθορίσετε μια **αναγνωριστικού μηνύματος** για το μήνυμα cloud-σε-συσκευή για να μπορέσετε να συσχετίσετε τα σχόλια με το αρχικό μήνυμα.

Το παρακάτω παράδειγμα εμφανίζει στο κυρίως σώμα του μηνύματος σχολίων.

```
[
  {
    "OriginalMessageId": "0987654321",
    "EnqueuedTimeUtc": "2015-07-28T16:24:48.789Z",
    "StatusCode": 0
    "Description": "Success",
    "DeviceId": "123",
    "DeviceGenerationId": "abcdefghijklmnopqrstuvwxyz"
  },
  {
    ...
  },
  ...
]
```

### <a name="cloud-to-device-configuration-options"></a>Επιλογές ρύθμισης παραμέτρων cloud-σε-συσκευή

Κάθε ενότητα IoT εκθέτει τις ακόλουθες επιλογές ρύθμισης παραμέτρων για το cloud-σε-συσκευή μηνυμάτων.

| Ιδιότητα | Περιγραφή | Περιοχή και προεπιλεγμένη |
| -------- | ----------- | ----------------- |
| defaultTtlAsIso8601 | Προεπιλεγμένο TTL για μηνύματα cloud-σε-συσκευή. | Χρονικό διάστημα ISO_8601 έως 2η (ελάχιστη 1 λεπτό). Προεπιλογή: 1 ώρα. |
| maxDeliveryCount | Πλήθος μέγιστο παράδοσης για ουρές cloud-σε-συσκευή ανά συσκευών. | 1 έως 100. Προεπιλεγμένη: 10. |
| feedback.ttlAsIso8601 | Διατήρηση για μηνύματα υπηρεσίας συνδεδεμένων σχολίων. | Χρονικό διάστημα ISO_8601 έως 2η (ελάχιστη 1 λεπτό). Προεπιλογή: 1 ώρα. |
| feedback.maxDeliveryCount | Πλήθος μέγιστο παράδοσης για ουρά σχολίων. | 1 έως 100. Προεπιλεγμένη: 100. |

Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Δημιουργία IoT διανομείς][lnk-portal].

## <a name="read-device-to-cloud-messages"></a>Ανάγνωση μηνυμάτων συσκευής στο cloud

Ο διανομέας IoT εκθέτει ένα τελικό σημείο για τις υπηρεσίες υποστήριξης για να διαβάσετε τα μηνύματα συσκευής στο cloud που ελήφθησαν από το Κέντρο σας. Το τελικό σημείο είναι συμβάν διανομέα συμβατών, που σας επιτρέπει να χρησιμοποιήσετε οποιονδήποτε από τους μηχανισμούς την υπηρεσία διανομείς συμβάν υποστηρίζει για την ανάγνωση μηνυμάτων.

Όταν χρησιμοποιείτε το [Azure Service Bus SDK για .NET] [ lnk-servicebus-sdk] ή το [Συμβάν διανομείς - Host επεξεργαστής συμβάν][lnk-eventprocessorhost], μπορείτε να χρησιμοποιήσετε οποιαδήποτε συμβολοσειρές IoT διανομέα σύνδεσης με τα κατάλληλα δικαιώματα. Στη συνέχεια, χρησιμοποιήστε **τα μηνύματα/συμβάντων** ως το όνομα διανομέας συμβάν.

Όταν χρησιμοποιείτε SDK (ή προϊόντος ενοποιήσεις) που δεν γνωρίζουν IoT διανομέα, πρέπει να ανακτήσετε ένα τελικό σημείο διανομέα συμβατό με το συμβάν και το όνομα διανομέας συμβατό με το συμβάν από τις ρυθμίσεις IoT διανομέα στην [πύλη του Azure][lnk-management-portal]:

1. Στο το blade διανομέα IoT, κάντε κλικ στην επιλογή **ανταλλαγή μηνυμάτων**.
2. Στην ενότητα **Ρυθμίσεις συσκευής στο cloud** , μπορείτε να βρείτε τις παρακάτω τιμές: **τελικού σημείου διανομέα συμβατό με το συμβάν**, το **όνομα διανομέας συμβατό με το συμβάν**και **τα διαμερίσματα**.

    ![Ρυθμίσεις συσκευής στο cloud][img-eventhubcompatible]

> [AZURE.NOTE] Εάν το SDK απαιτεί μια τιμή **όνομα κεντρικού υπολογιστή** ή **Namespace** , καταργήστε τον συνδυασμό από το **τελικό σημείο διανομέα συμβατό με το συμβάν**. Για παράδειγμα, εάν το τελικό σημείο διανομέα συμβατό με το συμβάν είναι **sb://iothub-ns-myiothub-1234.servicebus.windows.net/**, το **όνομα κεντρικού υπολογιστή** , θα ήταν **iothub-ns-myiothub-1234.servicebus.windows.net**και το **Namespace** θα ήταν **iothub-ns-myiothub-1234**.

Στη συνέχεια, μπορείτε να χρησιμοποιήσετε οποιαδήποτε πολιτική ασφαλείας κοινόχρηστη πρόσβαση με τα δικαιώματα **ServiceConnect** για να συνδεθείτε με το καθορισμένο διανομέα συμβάν.

Εάν χρειάζεστε για να δημιουργήσετε μια συμβολοσειρά σύνδεσης συμβάντος διανομέα, χρησιμοποιώντας τις προηγούμενες πληροφορίες, χρησιμοποιήστε το παρακάτω μοτίβο:

```
Endpoint={Event Hub-compatible endpoint};SharedAccessKeyName={iot hub policy name};SharedAccessKey={iot hub policy key}
```

Ακολουθεί μια λίστα με SDK και ενοποιήσεις που μπορείτε να χρησιμοποιήσετε με τα τελικά σημεία διανομέα συμβατό με το συμβάν που εκθέτει IoT διανομέα:

* [Διανομείς συμβάν Java προγράμματος-πελάτη](https://github.com/hdinsight/eventhubs-client)
* [Spout Apache καταιγίδας](../hdinsight/hdinsight-storm-develop-csharp-event-hub-topology.md). Μπορείτε να προβάλετε το [spout προέλευσης](https://github.com/apache/storm/tree/master/external/storm-eventhubs) στην GitHub.
* [Ενοποίηση Apache τους](../hdinsight/hdinsight-apache-spark-eventhub-streaming.md)

## <a name="reference-topics"></a>Αναφορά θέματα:

Τα παρακάτω θέματα αναφοράς που παρέχουν περισσότερες πληροφορίες σχετικά με ανταλλαγή μηνυμάτων με IoT διανομέα.

## <a name="message-format"></a>Μορφή μηνύματος

Μηνύματα διανομέα IoT περιλαμβάνει:

* Ένα σύνολο *Ιδιότητες συστήματος*. Ιδιότητες που διανομέα IoT ερμηνεύει ή τα σύνολα. Αυτό το σύνολο είναι προκαθορισμένο.
* Ένα σύνολο *ιδιοτήτων εφαρμογής*. Ένα λεξικό Ιδιότητες συμβολοσειράς που μπορεί να καθορίσει την εφαρμογή και αποκτήστε πρόσβαση, χωρίς να χρειάζεται να αποσειριοποίηση το σώμα του μηνύματος. Ο διανομέας IoT τροποποιεί ποτέ αυτές τις ιδιότητες.
* Μια δυαδική αδιαφανές σώμα.

Για περισσότερες πληροφορίες σχετικά με τον τρόπο το μήνυμα είναι κωδικοποιημένο σε διαφορετικά πρωτόκολλα, ανατρέξτε στο θέμα [IoT διανομέα API και SDK][lnk-sdks].

Ο παρακάτω πίνακας παραθέτει το σύνολο των ιδιοτήτων συστήματος στην ενότητα IoT μηνύματα.

| Ιδιότητα | Περιγραφή |
| -------- | ----------- |
| Αναγνωριστικού μηνύματος | Ένα αναγνωριστικό χρήστη-μπορεί να οριστεί για το μήνυμα, που χρησιμοποιείται για μοτίβα αίτησης-απόκρισης. Μορφή: Διάκριση πεζών-κεφαλαίων συμβολοσειράς (έως 128 χαρακτήρες) αλφαριθμητικών χαρακτήρων ASCII 7-bit + `{'-', ':',’.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`. |
| Αριθμός ακολουθίας | Ένας αριθμός (μοναδικό ανά ουρά συσκευής) που έχουν εκχωρηθεί από διανομέα IoT σε κάθε μήνυμα cloud-σε-συσκευή. |
| Για να | Προορισμού που καθορίζεται στο [Cloud-σε-συσκευή] [ lnk-c2d] μηνύματα. |
| ExpiryTimeUtc | Ημερομηνία και ώρα λήξης μηνύματος. |
| EnqueuedTime | Ημερομηνία και ώρα παραλαβής του μηνύματος από διανομέα IoT. |
| CorrelationId | Ιδιότητα συμβολοσειράς σε ένα μήνυμα απάντησης που περιέχει συνήθως το αναγνωριστικού μηνύματος από την αίτηση, στην μοτίβα αίτησης-απόκρισης. |
| Αναγνωριστικό χρήστη | Ένα Αναγνωριστικό που χρησιμοποιείται για να καθορίσετε την προέλευση των μηνυμάτων. Όταν τα μηνύματα δημιουργούνται από διανομέα IoT, έχει ρυθμιστεί να `{iot hub name}`. |
| ACK | Ένα μήνυμα δημιουργίας σχολίων. Αυτή η ιδιότητα χρησιμοποιείται στο cloud-σε-συσκευή μηνυμάτων για να ζητήσετε IoT διανομέα για να δημιουργήσετε μηνύματα σχολίων ως αποτέλεσμα την κατανάλωση του μηνύματος από τη συσκευή. Πιθανές τιμές: **καμία** (προεπιλογή): δημιουργείται κανένα μήνυμα σχολίων, **θετικό**: εμφανίζεται ένα μήνυμα σχόλια Εάν το μήνυμα έχει ολοκληρωθεί, **αρνητικός αριθμός**: εμφανίζεται ένα μήνυμα σχόλια εάν λήξει το μήνυμα (ή πλήθος μέγιστο παράδοσης συμπληρώθηκε) χωρίς να ολοκληρωθεί από τη συσκευή, ή **Πλήρης**: αρνητικές. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [σχολίων μήνυμα][lnk-feedback]. |
| ConnectionDeviceId | Ένα Αναγνωριστικό ρύθμιση από διανομέα IoT σε μηνύματα συσκευής στο cloud. Περιέχει το **deviceId** της συσκευής που έστειλε το μήνυμα. |
| ConnectionDeviceGenerationId | Ένα Αναγνωριστικό ρύθμιση από διανομέα IoT σε μηνύματα συσκευής στο cloud. Περιέχει το **generationId** (σύμφωνα με τις [Ιδιότητες των συσκευών ταυτότητας][lnk-device-properties]) της συσκευής που έστειλε το μήνυμα. |
| ConnectionAuthMethod | Μια ρύθμιση από διανομέα IoT σε συσκευή-cloud μηνύματα μεθόδου ελέγχου ταυτότητας. Αυτή η ιδιότητα περιέχει πληροφορίες σχετικά με τη μέθοδο ελέγχου ταυτότητας που χρησιμοποιείται για τον έλεγχο ταυτότητας στη συσκευή στέλνει το μήνυμα. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [συσκευής με το cloud anti-πλαστογράφησης][lnk-antispoofing].|

## <a name="communication-protocols"></a>Πρωτόκολλα επικοινωνίας

Ενότητα IoT επιτρέπει σε συσκευές για να χρησιμοποιήσετε [MQTT][lnk-mqtt], MQTT μέσω WebSockets, [AMQP][lnk-amqp], AMQP μέσω WebSockets και HTTP πρωτόκολλα για συσκευή-πλευρά επικοινωνίες. Ο παρακάτω πίνακας παρέχει τις συστάσεις υψηλού επιπέδου για την επιλογή σας του πρωτοκόλλου:

| Πρωτόκολλο | Πότε θα πρέπει να επιλέξετε αυτό το πρωτόκολλο |
| -------- | ------------------------------------ |
| MQTT <br> MQTT μέσω WebSocket     | Χρήση σε όλες τις συσκευές που δεν απαιτούν να συνδεθείτε πολλές συσκευές (κάθε μία με το δικό της διαπιστευτήρια ανά συσκευή) μέσω της ίδιας σύνδεσης TLS. |
| AMQP <br> AMQP μέσω WebSocket    | Χρήση σε πεδίο και στο cloud πύλες για να επωφεληθείτε από τη σύνδεση Πολυπλεξία όλες τις συσκευές. |
| HTTP    | Χρησιμοποιήστε το για συσκευές που δεν υποστηρίζουν άλλα πρωτόκολλα. |

Όταν επιλέγετε το πρωτόκολλο για συσκευή-πλευρά επικοινωνίες, λάβετε υπόψη τα εξής σημεία:

* **Μοτίβο cloud-σε-συσκευή**. HTTP δεν έχει ένας αποτελεσματικός τρόπος για την υλοποίηση push διακομιστή. Ως εκ τούτου, όταν χρησιμοποιείτε HTTP, συσκευές ψηφοφορία IoT διανομέα για μηνύματα cloud-σε-συσκευή. Αυτή η προσέγγιση είναι αποτελεσματική τόσο για τη συσκευή και IoT διανομέα. Στην περιοχή τρέχουσα οδηγίες HTTP, θα πρέπει να ψηφοφορία κάθε συσκευή για μηνύματα με κάθε 25 λεπτά ή περισσότερο. Από την άλλη πλευρά, MQTT και AMQP υποστηρίζουν push διακομιστή κατά τη λήψη μηνυμάτων cloud-σε-συσκευή. Που παρέχουν άμεση ωθεί των μηνυμάτων από διανομέα IoT στη συσκευή. Εάν ο λανθάνων χρόνος παράδοσης είναι ένα πρόβλημα, MQTT ή AMQP είναι τα καλύτερα πρωτόκολλα για να χρησιμοποιήσετε. Για σπάνια συνδεδεμένες συσκευές, HTTP λειτουργεί επίσης.
* **Πεδίο πυλών**. Όταν χρησιμοποιείτε MQTT και HTTP, δεν μπορείτε να συνδεθείτε πολλές συσκευές (κάθε μία με το δικό της διαπιστευτήρια ανά συσκευή) χρησιμοποιώντας την ίδια σύνδεση TLS. Επομένως, για [σενάρια πύλη πεδίο][lnk-azure-gateway-guidance], αυτά τα πρωτόκολλα είναι δευτερεύουσα προαιρετική επειδή απαιτούν ένα συνδεδεμένο TLS σύνδεσης μεταξύ του πεδίου πύλης και IoT διανομέα για κάθε συσκευή για την πύλη του πεδίου.
* **Συσκευές χαμηλής πόρων**. Οι βιβλιοθήκες MQTT και HTTP έχει ένα μικρότερο αποτύπωμα από τις βιβλιοθήκες AMQP. Ως εκ τούτου, εάν η συσκευή διαθέτει περιορισμένο πόρους (για παράδειγμα, μικρότερο από 1 MB RAM), αυτά τα πρωτόκολλα μπορεί να είναι το μόνο διαθέσιμο υλοποίηση του πρωτοκόλλου.
* **Διέλευση του δικτύου**. Το τυπικό πρωτόκολλο AMQP χρησιμοποιεί τη θύρα 5671, ενώ MQTT κάνει ακρόαση στη θύρα 8883, που μπορεί να προκαλέσουν προβλήματα στα δίκτυα που είναι κλειστές για τα πρωτόκολλα μη HTTP. MQTT μέσω WebSockets, AMQP μέσω WebSockets και HTTP είναι διαθέσιμες για χρήση σε αυτό το σενάριο.
* **Φορτίο μέγεθος**. MQTT και AMQP είναι δυαδικό πρωτοκόλλων, τα οποία έχει ως αποτέλεσμα πιο συμπυκνωμένος ωφέλιμα φορτία από HTTP.

> [AZURE.NOTE] Όταν χρησιμοποιείτε HTTP, κάθε συσκευή θα πρέπει να τις ψηφοφορίας για μηνύματα cloud-σε-συσκευή κάθε 25 λεπτά ή περισσότερο. Ωστόσο, κατά την ανάπτυξη, είναι αποδεκτή η ψηφοφορία με τους πιο συχνά από κάθε 25 λεπτά.

## <a name="port-numbers"></a>Οι αριθμοί θυρών

Συσκευές μπορούν να επικοινωνούν με διανομέα IoT στο Azure χρησιμοποιώντας διάφορες πρωτόκολλα. Συνήθως, η επιλογή του πρωτοκόλλου κινείται με τις συγκεκριμένες απαιτήσεις της λύσης. Ο παρακάτω πίνακας παραθέτει τις θύρες εξερχομένων που πρέπει να είναι ανοιχτό για να μπορέσετε να χρησιμοποιήσετε ένα συγκεκριμένο πρωτόκολλο μια συσκευή:

| Πρωτόκολλο | Θύρες |
| -------- | ------- |
| MQTT     | 8883    |
| MQTT μέσω WebSockets | 443    |
| AMQP     | 5671    |
| AMQP μέσω WebSockets | 443    |
| HTTP     | 443     |
| LWM2M (Διαχείριση συσκευών) | 5684 |

Αφού δημιουργήσετε ένα διανομέα IoT σε μια περιοχή Azure, την ενότητα διατηρεί την ίδια διεύθυνση IP για τη διάρκεια ζωής του αυτόν το διανομέα. Ωστόσο, για να διατηρήσετε την ποιότητα των υπηρεσιών, εάν Microsoft μετακινεί την ενότητα IoT μια μονάδα διαφορετική κλίμακα, στη συνέχεια, εκχωρείται μια νέα διεύθυνση IP.

## <a name="notes-on-mqtt-support"></a>Σημειώσεις σχετικά με την υποστήριξη MQTT

Ο διανομέας IoT υλοποιεί το πρωτόκολλο v3.1.1 MQTT με τους παρακάτω περιορισμούς και συγκεκριμένη συμπεριφορά:

  * **2 ποιότητας υπηρεσίας δεν υποστηρίζεται**. Όταν ένα πρόγραμμα-πελάτη συσκευή δημοσιεύει ένα μήνυμα με **2 ποιότητας υπηρεσίας**, διανομέα IoT κλείνει τη σύνδεση δικτύου. Όταν ένα πρόγραμμα-πελάτη συσκευής στο οποίο έχει εγγραφεί σε ένα θέμα με το **2 ποιότητας υπηρεσίας**, διανομέα IoT εκχωρεί ανώτατο επίπεδο ποιότητας υπηρεσίας 1 στο πακέτο **SUBACK** .
  * **Διατήρηση μηνύματα δεν διατηρούνται**. Εάν το πρόγραμμα-πελάτη και συσκευή δημοσιεύει ένα μήνυμα με τη σημαία ΔΙΑΤΉΡΗΣΗ οριστεί σε 1, προσθέτει διανομέα IoT το **x-επιλέξετε-κρατήσει** ιδιότητα εφαρμογή στο μήνυμα. Σε αυτήν την περίπτωση, IoT διανομέα δεν διατηρείται το μήνυμα διατήρηση, αλλά αντί για αυτό μεταφέρει το στην εφαρμογή παρασκηνίου.

Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [MQTT διανομέα IoT υποστηρίζουν][lnk-devguide-mqtt].

Ως τελικό πρέπει να ληφθούν υπόψη, πρέπει να εξετάσετε την [πύλη πρωτόκολλο Azure IoT] [ lnk-azure-protocol-gateway] που σας επιτρέπει να αναπτύξετε μια πύλη υψηλών επιδόσεων προσαρμοσμένο πρωτόκολλο που διασυνδέσεις απευθείας με IoT διανομέα. Η πύλη πρωτόκολλο Azure IoT σάς επιτρέπει να προσαρμόσετε το πρωτόκολλο συσκευή για να χωρέσει αναπτύξεις MQTT brownfield ή άλλα προσαρμοσμένα πρωτόκολλα. Αυτή η προσέγγιση απαιτεί, ωστόσο, που θα εκτελέσετε και λειτουργία μιας πύλης προσαρμοσμένο πρωτόκολλο.

## <a name="additional-reference-material"></a>Υλικό επιπλέον αναφοράς

Άλλα θέματα αναφοράς στον οδηγό για προγραμματιστές περιλαμβάνουν τα εξής:

- [Τα τελικά σημεία διανομέα IoT] [ lnk-endpoints] περιγράφει τα διάφορα τελικά σημεία που κάθε ενότητα IoT εκθέτει για διαχείριση χρόνου εκτέλεσης και λειτουργίες.
- [Περιορισμού και του ορίου] [ lnk-quotas] περιγράφει τα όρια που ισχύουν για την υπηρεσία IoT διανομέας και τη συμπεριφορά επιτάχυνσης να περιμένει όταν χρησιμοποιείτε την υπηρεσία.
- [SDK συσκευής και της υπηρεσίας διανομέα IoT] [ lnk-sdks] παραθέτει τα διάφορα γλώσσας SDK που μη χρήση κατά την ανάπτυξη και συσκευή και υπηρεσία εφαρμογές που αλληλεπιδρούν με IoT διανομέα.
- [Το ερώτημα γλώσσα για twins, μεθόδους και εργασίες] [ lnk-query] περιγράφει τη γλώσσα ερωτήματος που μπορείτε να χρησιμοποιήσετε για να ανακτήσετε πληροφορίες από διανομέα IoT σχετικά με τη συσκευή twins, μεθόδους και εργασίες.
- [Υποστήριξη IoT διανομέα MQTT] [ lnk-devguide-mqtt] παρέχει περισσότερες πληροφορίες σχετικά με την υποστήριξη IoT διανομέα για το πρωτόκολλο MQTT.

## <a name="next-steps"></a>Επόμενα βήματα

Τώρα έχετε μάθει πώς μπορείτε να στέλνετε και να λαμβάνετε μηνύματα με IoT διανομέα, μπορεί να σας ενδιαφέρουν τα παρακάτω θέματα Οδηγός για προγραμματιστές:

- [Αποστολή αρχείων από μια συσκευή][lnk-devguide-upload]
- [Διαχείριση ταυτοτήτων συσκευή στο διανομέα IoT][lnk-devguide-identities]
- [Έλεγχος της πρόσβασης σε διανομέα IoT][lnk-devguide-security]
- [Χρησιμοποιήστε twins συσκευή για να συγχρονίσετε κατάσταση και ρυθμίσεις παραμέτρων][lnk-devguide-device-twins]
- [Κλήση μιας μεθόδου απευθείας σε μια συσκευή][lnk-devguide-directmethods]
- [Προγραμματισμός εργασιών σε πολλές συσκευές][lnk-devguide-jobs]

Εάν θέλετε να δοκιμάσετε μερικά από τα θέματα που περιγράφονται σε αυτό το άρθρο, ενδέχεται να σας ενδιαφέρουν τα παρακάτω προγράμματα εκμάθησης IoT διανομέα:

- [Γρήγορα αποτελέσματα με το Κέντρο IoT Azure][lnk-getstarted-tutorial]
- [Πώς μπορείτε να στέλνετε μηνύματα cloud-σε-συσκευή με το Κέντρο IoT][lnk-c2d-tutorial]
- [Πώς μπορείτε να επεξεργαστείτε διανομέα IoT συσκευή-σε-cloud μηνύματα][lnk-d2c-tutorial]


[img-lifecycle]: ./media/iot-hub-devguide-messaging/lifecycle.png
[img-eventhubcompatible]: ./media/iot-hub-devguide-messaging/eventhubcompatible.png

[lnk-resource-provider-apis]: https://msdn.microsoft.com/library/mt548492.aspx
[lnk-azure-gateway-guidance]: iot-hub-devguide-endpoints.md#field-gateways
[lnk-guidance-scale]: iot-hub-scaling.md
[lnk-azure-protocol-gateway]: iot-hub-protocol-gateway.md
[lnk-amqp]: http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-complete-v1.0-os.pdf
[lnk-mqtt]: http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.pdf
[lnk-event-hubs]: http://azure.microsoft.com/documentation/services/event-hubs/
[lnk-event-hubs-consuming-events]: ../event-hubs/event-hubs-programming-guide.md#event-consumers
[lnk-management-portal]: https://portal.azure.com
[lnk-servicebus]: http://azure.microsoft.com/documentation/services/service-bus/
[lnk-eventhub-partitions]: ../event-hubs/event-hubs-overview.md#partitions
[lnk-portal]: iot-hub-create-through-portal.md

[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-d2c]: iot-hub-devguide-messaging.md#device-to-cloud-messages
[lnk-c2d]: iot-hub-devguide-messaging.md#cloud-to-device-messages
[lnk-compatible-endpoint]: iot-hub-devguide-messaging.md#read-device-to-cloud-messages
[lnk-protocols]: iot-hub-devguide-messaging.md#communication-protocols
[lnk-message-format]: iot-hub-devguide-messaging.md#message-format
[lnk-d2c-configuration]: iot-hub-devguide-messaging.md#device-to-cloud-configuration-options
[lnk-device-properties]: iot-hub-devguide-identity-registry.md#device-identity-properties
[lnk-ttl]: iot-hub-devguide-messaging.md#message-expiration-time-to-live
[lnk-c2d-configuration]: iot-hub-devguide-messaging.md#cloud-to-device-configuration-options
[lnk-lifecycle]: iot-hub-devguide-messaging.md#message-lifecycle
[lnk-feedback]: iot-hub-devguide-messaging.md#message-feedback
[lnk-antispoofing]: iot-hub-devguide-messaging.md#anti-spoofing-properties
[lnk-compare]: iot-hub-compare-event-hubs.md

[lnk-devguide-upload]: iot-hub-devguide-file-upload.md
[lnk-devguide-identities]: iot-hub-devguide-identity-registry.md
[lnk-devguide-security]: iot-hub-devguide-security.md
[lnk-devguide-device-twins]: iot-hub-devguide-device-twins.md
[lnk-devguide-directmethods]: iot-hub-devguide-direct-methods.md
[lnk-devguide-jobs]: iot-hub-devguide-jobs.md
[lnk-servicebus-sdk]: https://www.nuget.org/packages/WindowsAzure.ServiceBus
[lnk-eventprocessorhost]: http://blogs.msdn.com/b/servicebus/archive/2015/01/16/event-processor-host-best-practices-part-1.aspx


[lnk-getstarted-tutorial]: iot-hub-csharp-csharp-getstarted.md
[lnk-c2d-tutorial]: iot-hub-csharp-csharp-c2d.md
[lnk-d2c-tutorial]: iot-hub-csharp-csharp-process-d2c.md
