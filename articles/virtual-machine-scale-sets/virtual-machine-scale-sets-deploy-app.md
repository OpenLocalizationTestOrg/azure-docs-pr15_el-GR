<properties
    pageTitle="Αναπτύξτε μια εφαρμογή στα σύνολα κλίμακα εικονική μηχανή | Microsoft Azure"
    description="Αναπτύξτε μια εφαρμογή στα σύνολα κλίμακα εικονική μηχανή"
    services="virtual-machine-scale-sets"
    documentationCenter=""
    authors="gbowerman"
    manager="timlt"
    editor=""
    tags="azure-resource-manager"/>

<tags
    ms.service="virtual-machine-scale-sets"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="08/26/2016"
    ms.author="guybo"/>

# <a name="deploy-an-app-on-virtual-machine-scale-sets"></a>Αναπτύξτε μια εφαρμογή στα σύνολα κλίμακα εικονική μηχανή

Μια εφαρμογή που εκτελείται σε ένα σύνολο κλίμακα Εικονική συνήθως έχει αναπτυχθεί με έναν από τους τρεις τρόπους:

- Την εγκατάσταση του νέου λογισμικού σε μια εικόνα πλατφόρμα κατά το χρόνο ανάπτυξης. Μια εικόνα πλατφόρμα σε αυτό το περιβάλλον είναι μια εικόνα του λειτουργικού συστήματος από το Azure Marketplace, όπως Ubuntu 16.04, Windows Server 2012 R2, κ.λπ.

Μπορείτε να εγκαταστήσετε νέο λογισμικό σε μια πλατφόρμα εικόνα χρησιμοποιώντας μια [Εικονική επέκτασης](../virtual-machines/virtual-machines-windows-extensions-features.md). Επέκταση Εικονική είναι λογισμικό που θα εκτελείται όταν έχει αναπτυχθεί μια Εικονική. Μπορείτε να εκτελέσετε οποιαδήποτε κώδικα που σας αρέσει κατά το χρόνο ανάπτυξης χρησιμοποιώντας την επέκταση προσαρμοσμένων δεσμών ενεργειών. [Δείτε](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-lapstack-autoscale) ένα παράδειγμα προτύπου για τη διαχείριση πόρων Azure με δύο επεκτάσεις Εικονική: Linux προσαρμοσμένη δέσμη ενεργειών επέκταση για να εγκαταστήσετε το Apache και PHP, και διαγνωστικών επέκταση να εκπέμπει χρησιμοποιείται από το Azure Autoscale δεδομένων για τις επιδόσεις.

Ένα πλεονέκτημα αυτής της προσέγγισης είναι έχετε ένα επίπεδο διαχωρισμού μεταξύ κώδικα της εφαρμογής σας και το λειτουργικό σύστημα και να διατηρήσετε την εφαρμογή σας ξεχωριστά. Φυσικά που σημαίνει ότι υπάρχουν επίσης είναι πιο μεταβαλλόμενα τμήματα και χρόνο ανάπτυξης Εικονική μπορεί να είναι μεγαλύτερη εάν υπάρχει πολύ για τη δέσμη ενεργειών για να κάνετε λήψη και να ρυθμίσετε τις παραμέτρους.

**Εάν περάσετε ευαίσθητες πληροφορίες στην εντολή σας προσαρμοσμένη δέσμη ενεργειών επέκταση (όπως έναν κωδικό πρόσβασης), βεβαιωθείτε ότι για να καθορίσετε το `commandToExecute` στο το `protectedSettings` χαρακτηριστικό της επέκτασης προσαρμοσμένη δέσμη ενεργειών αντί για το `settings` χαρακτηριστικό.**

- Δημιουργήστε μια προσαρμοσμένη εικόνα Εικονική που περιλαμβάνει το λειτουργικό σύστημα και την εφαρμογή σε ένα μεμονωμένο VHD. Δείτε το σύνολο κλίμακα αποτελείται από ένα σύνολο ΣΠΣ που αντιγράψατε από μια εικόνα που δημιουργήθηκε από εσάς, που πρέπει να διατηρήσετε. Αυτή η προσέγγιση απαιτεί επιπλέον ρύθμιση των παραμέτρων δεν κατά το χρόνο ανάπτυξης Εικονική. Ωστόσο, κατά την `2016-03-30` έκδοση σύνολα κλίμακα Εικονική (και παλαιότερες εκδόσεις), το λειτουργικό σύστημα δίσκων για του ΣΠΣ του συνόλου κλίμακα περιορίζονται σε ένα λογαριασμό μόνο χώρου αποθήκευσης. Έτσι, μπορείτε να έχετε έως 40 ΣΠΣ σε ένα σύνολο κλίμακα, σε αντίθεση με το 100 Εικονική ανά κλίμακα Ορισμός ορίου με πλατφόρμα εικόνες. Για περισσότερες λεπτομέρειες, ανατρέξτε στο θέμα [Επισκόπηση σχεδίασης Ορισμός κλίμακα](./virtual-machine-scale-sets-design-overview.md) .

- Αναπτύξετε μια πλατφόρμα ή μια προσαρμοσμένη εικόνα που είναι στην ουσία μια υπηρεσία παροχής φιλοξενίας κοντέινερ και εγκαταστήστε την εφαρμογή σας ως μία ή περισσότερες κοντέινερ που διαχειρίζεστε με ένα εργαλείο διαχείρισης orchestrator ή ρύθμισης παραμέτρων. Το ωραία σχετικά με αυτήν την προσέγγιση είναι το που έχουν αφαιρεθούν σας υποδομής cloud από το επίπεδο εφαρμογής και να διατηρείτε ξεχωριστά.

## <a name="what-happens-when-a-vm-scale-set-scales-out"></a>Τι συμβαίνει όταν ένα σύνολο κλίμακα Εικονική κλίμακες ανάληψη;

Κατά την προσθήκη ενός ή περισσότερων ΣΠΣ μια κλίμακα ρύθμιση, αυξάνοντας η δυναμικότητα – είτε με μη αυτόματο τρόπο ή μέσω autoscale – η εφαρμογή εγκαθίσταται αυτόματα. Για παράδειγμα εάν οριστεί η κλίμακα έχει επεκτάσεις που ορίζονται από το, εκτελούνται σε μια νέα Εικονική κάθε φορά που δημιουργείται. Εάν το σύνολο κλίμακα βασίζεται σε μια προσαρμοσμένη εικόνα, οποιαδήποτε νέα Εικονική είναι ένα αντίγραφο της προσαρμοσμένης εικόνας προέλευσης. Εάν οριστεί η κλίμακα ΣΠΣ είναι hosts κοντέινερ, στη συνέχεια, ενδέχεται να έχετε κώδικα εκκίνησης για να φορτώσετε το κοντέινερ σε μια επέκταση προσαρμοσμένη δέσμη ενεργειών ή επέκταση μπορεί να εγκαταστήσουν παράγοντας που καταγράφει με ένα σύμπλεγμα orchestrator (όπως η υπηρεσία κοντέινερ Azure).

## <a name="how-do-you-manage-application-updates-in-vm-scale-sets"></a>Πώς μπορείτε να διαχειριστείτε ενημερωμένες εκδόσεις εφαρμογών σε σύνολα κλίμακα Εικονική;

Για ενημερωμένες εκδόσεις εφαρμογών σε σύνολα κλίμακα Εικονική, τρεις προσεγγίσεις κύριο ακολουθήστε από τις προηγούμενες τρεις μεθόδους για την ανάπτυξη εφαρμογών:

* Ενημέρωση με Εικονική επεκτάσεις. Reimaged τις επεκτάσεις Εικονική που έχουν οριστεί για ένα σύνολο κλίμακα Εικονική εκτελούνται κάθε φορά που έχει αναπτυχθεί μια νέα Εικονική, μια υπάρχουσα Εικονική ή ενημερώνεται μια Εικονική επέκταση. Εάν πρέπει να ενημερώσετε την εφαρμογή σας, η ενημέρωση μιας εφαρμογής μέσω επεκτάσεις είναι μια προσέγγιση βιώσιμων απευθείας-μπορείτε απλώς να ενημερώσετε τον ορισμό επέκταση. Ένα απλό τρόπο για να το κάνετε είναι να αλλάξετε το fileUris ώστε να δείχνει προς το νέο λογισμικό.

* Η προσέγγιση αμετάβλητες προσαρμοσμένη εικόνα. Όταν γλυκισμάτων η εφαρμογή (ή εφαρμογή στοιχεία) σε μια εικόνα Εικονική μπορείτε να εστιάσετε σχετικά με τη δημιουργία μιας αξιόπιστης διοχέτευσης για την αυτοματοποίηση Δόμηση, δοκιμή και ανάπτυξη των εικόνων. Μπορείτε να σχεδιάσετε την αρχιτεκτονική σας ώστε να διευκολύνετε τη γρήγορη εναλλαγή ενός συνόλου σταδιακή κλίμακα σε παραγωγής. Ένα καλό παράδειγμα αυτής της προσέγγισης είναι το [πρόγραμμα οδήγησης Azure Spinnaker λειτουργεί](https://github.com/spinnaker/deck/tree/master/app/scripts/modules/azure) - [http://www.spinnaker.io/](http://www.spinnaker.io/).

Συσκευαστή και Terraform υποστηρίζουν επίσης από διαχειριστή πόρων Azure, ώστε να μπορείτε επίσης να ορίσετε τις εικόνες σας "ως κώδικα" και να δομούνται στο Azure, στη συνέχεια, χρησιμοποιήστε τον VHD στο σύνολο σας κλίμακα. Ωστόσο, κάνοντας ώστε να καταστεί προβληματικό για εικόνες Marketplace, όπου οι δέσμες ενεργειών επεκτάσεις/προσαρμοσμένη γίνονται πιο σημαντικά δεδομένου ότι δεν μπορείτε να χειριστείτε απευθείας bits από το Marketplace.

* Ενημέρωση κοντέινερ. Συνοπτική τη Διαχείριση κύκλου ζωής εφαρμογών σε ένα επίπεδο επάνω από την υποδομή cloud, για παράδειγμα, ενσωματώνει εφαρμογές και στοιχεία εφαρμογής σε κοντέινερ και να διαχειριστείτε αυτά τα κοντέινερ μέσω orchestrators κοντέινερ και οι διαχειριστές ρύθμισης παραμέτρων όπως Chef/Puppet.

Η κλίμακα οριστεί ΣΠΣ γίνονται ένα σταθερό υποστρώματος για το κοντέινερ και απαιτούν μόνο περιστασιακές ασφαλείας και ενημερώσεις που σχετίζονται με το λειτουργικό σύστημα. Όπως αναφέρθηκε, η υπηρεσία κοντέινερ Azure είναι ένα καλό παράδειγμα χρησιμοποιούν αυτήν την προσέγγιση και τη δημιουργία μιας υπηρεσίας γύρω του.

## <a name="how-do-you-roll-out-an-os-update-across-update-domains"></a>Πώς που ανάπτυξη μια ενημερωμένη έκδοση του λειτουργικού Συστήματος σε διαφορετικό τομέα, η ενημερωμένη έκδοση;

Ας υποθέσουμε ότι θέλετε να ενημερώσετε την εικόνα σας OS διατηρώντας την εκτέλεση Εικονική κλίμακα ρύθμιση. Ένας τρόπος για να το κάνετε είναι να ενημερώσετε την εικονική Μηχανή εικόνες Εικονική μία κάθε φορά. Μπορείτε να το κάνετε με το PowerShell ή Azure CLI. Υπάρχουν ξεχωριστές εντολές για να ενημερώσετε το μοντέλο Ορισμός κλίμακα Εικονική (πώς ορίζεται της ρύθμισης παραμέτρων), και για την έκδοση "μη αυτόματη αναβάθμιση" κλήσεις σε μεμονωμένες ΣΠΣ.

[Δείτε](https://github.com/gbowerman/vmsstools) ένα παράδειγμα Python δέσμη ενεργειών που αυτοματοποιεί τη διαδικασία ενημέρωσης τομέα μία ενημέρωση ρύθμιση κλίμακα Εικονική κάθε φορά. (Ότι: είναι περισσότερα από ένα δοκίμιο της έννοια από μια λύση παραγωγής ετοιμότητα υψηλό επίπεδο ασφαλείας – μπορεί να θέλετε να προσθέσετε κάποια σφάλματος ελέγχου κ.λπ.).
