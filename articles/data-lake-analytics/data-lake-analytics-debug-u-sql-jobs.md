<properties 
   pageTitle="Εντοπισμός σφαλμάτων εργασίες U-SQL | Microsoft Azure" 
   description="Μάθετε πώς μπορείτε να εντοπίσετε σφάλματα U-SQL αποτυχίας κορυφής χρήση του Visual Studio. " 
   services="data-lake-analytics" 
   documentationCenter="" 
   authors="mumian" 
   manager="jhubbard" 
   editor="cgronlun"/>
 
<tags
   ms.service="data-lake-analytics"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="big-data" 
   ms.date="09/02/2016"
   ms.author="jgao"/>



#<a name="debug-c-code-in-u-sql-for-data-lake-analytics-jobs"></a>Εντοπισμός σφαλμάτων κώδικα C# στο U-SQL για ανάλυση δεδομένων λίμνης εργασίες 

Μάθετε πώς μπορείτε να χρησιμοποιήσετε εργαλεία δεδομένων Azure λίμνης Visual Studio για τον εντοπισμό σφαλμάτων U-SQL εργασίες που έχουν αποτύχει λόγω σφαλμάτων μέσα σε κώδικα χρήστη. 

Το εργαλείο Visual Studio σάς επιτρέπει να κάνετε λήψη μεταγλωττισμένο κώδικα και δεδομένων είναι απαραίτητο κορυφής από σύμπλεγμα για την παρακολούθηση και εντοπισμός σφαλμάτων εργασίες που έχουν αποτύχει.

Συστήματα μεγάλο δεδομένων συνήθως παρέχουν επεκτασιμότητα του μοντέλου μέσω γλώσσες όπως Java, C#, Python, κ.λπ. Πολλά αυτά τα συστήματα παρέχουν περιορισμένη χρόνου εκτέλεσης πληροφορίες, ώστε να είναι δύσκολο για τον εντοπισμό σφαλμάτων σφάλματα χρόνου εκτέλεσης προσαρμοσμένου κώδικα εντοπισμού σφαλμάτων. Η πιο πρόσφατη εργαλεία του Visual Studio συνοδεύεται από μια δυνατότητα που ονομάζεται "Απέτυχε σφαλμάτων κορυφής". Χρησιμοποιώντας αυτήν τη δυνατότητα, μπορείτε να λάβετε τα δεδομένα κατά το χρόνο εκτέλεσης από το Azure στον τοπικό σταθμούς εργασίας ώστε να μπορείτε να προσθέσετε αποτυχίας προσαρμοσμένου κώδικα C# χρησιμοποιώντας το ίδιο περιβάλλον εκτέλεσης και ακριβή εισαγωγής δεδομένων από το cloud.  Αφού τα προβλήματα είναι σταθερές, μπορείτε να εκτελέσετε ξανά τον κωδικό αναθεωρημένο στο Azure από τα εργαλεία.

Για μια παρουσίαση βίντεο αυτής της δυνατότητας, ανατρέξτε στο θέμα [Εντοπισμός σφαλμάτων σας προσαρμοσμένου κώδικα στο Azure δεδομένων λίμνης ανάλυσης](https://mix.office.com/watch/1bt17ibztohcb).

>[AZURE.NOTE] Visual Studio μπορεί να σταματήσει να ανταποκρίνεται ή να παρουσιάσει σφάλμα εάν δεν έχετε τις εξής δύο παράθυρα αναβαθμίσεις: [Microsoft Visual C++ 2015 με δυνατότητα ανακατανομής ενημερωμένη έκδοση 2](https://www.microsoft.com/download/details.aspx?id=51682), [Καθολική C χρόνου εκτέλεσης για Windows](https://www.microsoft.com/download/details.aspx?id=50410&wa=wsignin1.0).


##<a name="prerequisites"></a>Προαπαιτούμενα στοιχεία
-   Έχει γίνει μέσω στο άρθρο [Γρήγορα αποτελέσματα](data-lake-analytics-data-lake-tools-get-started.md) .

## <a name="create-and-configure-debug-projects"></a>Δημιουργία και ρύθμιση παραμέτρων έργα εντοπισμού σφαλμάτων

Όταν ανοίγετε αποτυχίας εργασίας στο εργαλείο δεδομένων λίμνης Visual Studio, θα λάβετε μια ειδοποίηση. Τις πληροφορίες λεπτομερείς σφάλματος θα εμφανίζονται στην καρτέλα σφάλματος και ειδοποίησης κίτρινη γραμμή στο επάνω μέρος του παραθύρου. 

![Azure κορυφής λήψης δεδομένων ανάλυσης λίμνης U-SQL εντοπισμού σφαλμάτων visual studio](./media/data-lake-analytics-debug-u-sql-jobs/data-lake-analytics-download-vertex.png)

**Για να κάνετε λήψη κορυφής και να δημιουργήσετε μια λύση εντοπισμού σφαλμάτων**

1.  Άνοιγμα αποτυχίας εργασίας U-SQL στο Visual Studio.
2.  Κάντε κλικ στην επιλογή **λήψη** για να κάνετε λήψη όλων των απαιτούμενων πόρων και εισαγωγής ροών. Εάν αποτύχει η λήψη, κάντε κλικ στο κουμπί **Επανάληψη** .
3.  Κάντε κλικ στην επιλογή **Άνοιγμα** αφού ολοκληρωθεί η λήψη για να δημιουργήσετε ένα έργο τοπικό εντοπισμού σφαλμάτων. Θα δημιουργηθεί μια νέα λύση Visual Studio, που ονομάζεται **VertexDebug** με ένα κενό έργο που ονομάζεται **LocalVertexHost** .

Εάν τελεστές ορίζονται από το χρήστη που χρησιμοποιούνται στον κώδικα U SQL πίσω από το (Script.usql.cs), που πρέπει να δημιουργήσετε ένα έργο τάξης βιβλιοθήκη C# με τον κωδικό τελεστές ορίζονται από το χρήστη και περιλαμβάνει το έργο στη λύση VertexDebug.

Αν έχετε εγγραφεί συγκροτήσεις .dll στη βάση δεδομένων λίμνης ανάλυσης, πρέπει να προσθέσετε τον πηγαίο κώδικα της οι συγκροτήσεις της λύσης VertexDebug.
 
Εάν έχετε δημιουργήσει μια ξεχωριστή C# βιβλιοθήκη κλάσεων κώδικα U SQL και συγκροτήσεις καταχωρημένες .dll στη βάση δεδομένων λίμνης ανάλυσης, πρέπει να προσθέσετε C# έργο προέλευσης του συγκροτήσεων στη λύση VertexDebug.

Σε ορισμένες περιπτώσεις, μπορείτε να χρησιμοποιήσετε τελεστές ορίζονται από το χρήστη στον κώδικα U SQL πίσω από το αρχείο (Script.usql.cs) στην αρχική λύση. Εάν θέλετε να εργαστείτε, πρέπει να δημιουργήσετε μια βιβλιοθήκη C# που περιέχει τον πηγαίο κώδικα και να αλλάξετε το όνομα της συγκρότησης με αυτήν που έχουν καταχωρηθεί στο σύμπλεγμα. Μπορείτε να λάβετε το όνομα της συγκρότησης καταχωρημένος στο σύμπλεγμα, επιλέγοντας τη δέσμη ενεργειών που έχετε ανοιχτά στο σύμπλεγμα. Μπορείτε να το κάνετε ανοίγοντας το έργο U-SQL και κάντε κλικ στην επιλογή "δέσμη ενεργειών" στον πίνακα "εργασία". 

**Για να ρυθμίσετε τις παραμέτρους της λύσης**

1.  Από την Εξερεύνηση λύσεων, κάντε δεξί κλικ στο έργο C# που μόλις δημιουργήσατε και, στη συνέχεια, κάντε κλικ στην επιλογή **Ιδιότητες**.
2.  Ορίστε τη διαδρομή εξόδου ως έργο LocalVertexHost εργασία διαδρομή καταλόγου. Μπορείτε να λάβετε LocalVertexHost διαδρομή κατάλογο εργασίας έργου μέσω LocalVertexHost ιδιότητες.
3.  Δημιουργήστε το έργο σας C# για να τοποθετήσει το αρχείο .pdb στο έργο LocalVertexHost κατάλογο εργασίας ή μπορείτε να αντιγράψετε το αρχείο .pdb σε αυτόν το φάκελο με μη αυτόματο τρόπο.
4.  Στις **Ρυθμίσεις εξαίρεσης**, ελέγξτε κοινές γλώσσα χρόνου εκτέλεσης εξαιρέσεις:

![Azure ρύθμιση visual studio εντοπισμού σφαλμάτων δεδομένων ανάλυσης λίμνης U-SQL](./media/data-lake-analytics-debug-u-sql-jobs/data-lake-analytics-clr-exception-setting.png)
 
##<a name="debug-the-job"></a>Εντοπισμός σφαλμάτων της εργασίας

Αφού δημιουργήσετε μια λύση εντοπισμού σφαλμάτων με τη λήψη στην κορυφή και έχετε ρυθμίσει τις παραμέτρους του περιβάλλοντος, μπορείτε να ξεκινήσετε τον κώδικα U SQL εντοπισμού σφαλμάτων.

1.  Από την Εξερεύνηση λύσεων, κάντε δεξί κλικ στο έργο **LocalVertexHost** που μόλις δημιουργήσατε, τοποθετήστε το δείκτη για τον **εντοπισμό σφαλμάτων**και, στη συνέχεια, κάντε κλικ στην επιλογή **Έναρξη νέας παρουσίας**. Το LocalVertexHost πρέπει να οριστεί με το έργο της εκκίνησης. Ενδέχεται να μπορείτε να δείτε το ακόλουθο μήνυμα για πρώτη φορά που μπορείτε να αγνοήσετε. Αυτό μπορεί να διαρκέσει έως και ένα λεπτό για να μεταβείτε στην οθόνη εντοπισμού σφαλμάτων.
 
    ![Azure προειδοποίηση visual studio εντοπισμού σφαλμάτων δεδομένων ανάλυσης λίμνης U-SQL](./media/data-lake-analytics-debug-u-sql-jobs/data-lake-analytics-visual-studio-u-sql-debug-warning.png)

4.  Χρήση Visual Studio σύμφωνα με την εμπειρία εντοπισμού σφαλμάτων (παρακολούθησης, μεταβλητές, κ.λπ.) για την αντιμετώπιση του προβλήματος. 
5.  Αφού προσδιορίσετε ένα πρόβλημα, διορθώσετε τον κωδικό και, στη συνέχεια, εκ νέου δημιουργία του έργου C# πριν να δοκιμάσετε ξανά, μέχρι να επιλυθούν όλα τα προβλήματα. Μετά την εντοπισμού σφαλμάτων έχει ολοκληρωθεί με επιτυχία, στο παράθυρο εξόδου που εμφανίζει το ακόλουθο μήνυμα 

        The Program ‘LocalVertexHost.exe’ has exited with code 0 (0x0).
 
##<a name="resubmit-the-job"></a>Υποβάλετε ξανά την εργασία

Αφού έχετε ολοκληρώσει τον κώδικα U SQL εντοπισμού σφαλμάτων, να υποβάλετε ξανά την εργασία απέτυχε.

1. Καταχώρηση νέας συγκροτήσεις .dll στη βάση δεδομένων σας ADLA.

    1.  Από την Εξερεύνηση Explorer/Cloud διακομιστή στο Visual Studio δεδομένων λίμνης εργαλείο, αναπτύξτε τον κόμβο **βάσεις δεδομένων** 
    2.  Κάντε δεξιό κλικ συγκροτήσεις για συγκροτήσεις Register. 
    3.  Καταχωρήστε το νέο συγκροτήσεις .dll στη βάση δεδομένων ADLA.
 
2.  Ή, αντιγράψτε τον κώδικα C# για να script.usql.cs--κώδικα C# πίσω από το αρχείο.
3.  Υποβάλετε ξανά την εργασία σας.

##<a name="next-steps"></a>Επόμενα βήματα

- [Πρόγραμμα εκμάθησης: Γρήγορα αποτελέσματα με το γλώσσας δεδομένων λίμνης ανάλυση U-SQL Azure](data-lake-analytics-u-sql-get-started.md)
- [Πρόγραμμα εκμάθησης: ανάπτυξη δεσμών ενεργειών U-SQL χρησιμοποιώντας εργαλεία λίμνης δεδομένων για το Visual Studio](data-lake-analytics-data-lake-tools-get-started.md)
- [Ανάπτυξη τελεστές που ορίζονται από το χρήστη U-SQL για εργασίες ανάλυσης λίμνης δεδομένων Azure](data-lake-analytics-u-sql-develop-user-defined-operators.md)

