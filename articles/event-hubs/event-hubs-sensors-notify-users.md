<properties 
   pageTitle="Ειδοποιήστε τους χρήστες για τα δεδομένα έχουν ληφθεί από αισθητήρες ή άλλα συστήματα | Microsoft Azure"
   description="Περιγράφει τον τρόπο χρήσης συμβάν διανομείς να ειδοποιήσετε τους χρήστες αισθητήρα δεδομένων."
   services="event-hubs"
   documentationCenter="na"
   authors="spyrossak"
   manager="timlt"
   editor="" />
<tags 
   ms.service="event-hubs"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="08/25/2016"
   ms.author="spyros;sethm" />

# <a name="notify-users-of-data-received-from-sensors-or-other-systems"></a>Ειδοποιήστε τους χρήστες για τα δεδομένα έχουν ληφθεί από αισθητήρες ή άλλα συστήματα

Ας υποθέσουμε ότι έχετε μια εφαρμογή που παρακολουθεί δεδομένα σε πραγματικό χρόνο ή παράγει αναφορές σε ένα χρονοδιάγραμμα. Αν κοιτάξετε στην τοποθεσία Web στην οποία εμφανίζονται οι σε πραγματικό χρόνο γραφημάτων ή αναφορών, ίσως δείτε κάτι που απαιτεί ενέργεια. Τι γίνεται εάν πρέπει να λαμβάνετε ειδοποιήσεις για αυτές τις περιπτώσεις, αντί να υπολογιστή σε ότι πρέπει να θυμάστε να ελέγξετε την τοποθεσία Web; Ας υποθέσουμε ότι έχετε φως μεγέθυνση σε μια θερμοκηπίου και πρέπει να γνωρίζετε αμέσως εάν light σβήνει. Ένας τρόπος να το κάνετε αυτό θα ήταν με απλή αισθητήρα στο του θερμοκηπίου, τακτοποιώντας να σταλεί ένα μήνυμα ηλεκτρονικού ταχυδρομείου, εάν η ένδειξη είναι απενεργοποιημένη.

![][1]

Σε ένα άλλο σενάριο, φανταστείτε ότι εκτελείτε μια συντροφιάς επιβίβασης εγκατάστασης και πρέπει να λαμβάνετε ειδοποιήσεις για χαμηλή απόθεμα εφοδιασμού επίπεδα. Για παράδειγμα, μπορεί να τακτοποιήσετε να σταλεί ένα μήνυμα κειμένου από το σύστημα ERP εάν το απόθεμα αποθήκης τροφίμων σκύλο έχει πλέον σε ένα επίπεδο κρίσιμη. 

![][2]

Το ζήτημα είναι πώς μπορώ να αποκτήσω σημαντικές πληροφορίες όταν πληρούνται ορισμένες προϋποθέσεις, δεν όταν λαμβάνετε γύρω από για ανάληψη ελέγχου μιας στατικής αναφοράς. Εάν χρησιμοποιείτε ένα [Διανομέα συμβάν Azure][] ή [Azure IoT διανομέα][] για τη λήψη δεδομένων από συσκευές ή εφαρμογές για μεγάλες επιχειρήσεις, όπως το [Dynamics AX][], έχετε πολλές επιλογές για τον τρόπο για την επεξεργασία τους. Μπορείτε να τα προβάλετε σε μια τοποθεσία Web, μπορείτε να αναλύσετε τους, μπορείτε να τα αποθηκεύσετε και μπορείτε να τις χρησιμοποιήσετε για να ενεργοποιήσετε τις εντολές για να κάνετε κάτι. Για να το κάνετε αυτό, μπορείτε να χρησιμοποιήσετε ισχυρά εργαλεία όπως το [Azure τοποθεσίες Web][], [SQL Azure][], [HDInsight][], [Cortana πληροφοριών οικογένεια][], [IoT οικογένειας προγραμμάτων][], [Λογική εφαρμογές][]ή [Azure ειδοποίηση διανομείς][]. Αλλά μερικές φορές μόνο που θέλετε να κάνετε είναι να στείλετε τα δεδομένα σε κάποιον με τουλάχιστον επιβάρυνσης. Για να σας δείξουν πώς μπορείτε να το κάνετε με απλώς λίγο κώδικα, σας παρέχουμε ένα νέο δείγμα, [AppToNotifyUsers][]. Επιλογές περιλαμβάνονται είναι ηλεκτρονικού ταχυδρομείου (SMTP), SMS και τηλεφώνου.

## <a name="application-structure"></a>Δομή εφαρμογής

Η εφαρμογή είναι γραμμένο σε C# και το αρχείο readme του δείγματος περιέχει όλες τις πληροφορίες που χρειάζεστε για να τροποποιήσετε, να δημιουργήσετε και να δημοσιεύσετε την εφαρμογή. Οι παρακάτω ενότητες παρέχουν μια επισκόπηση υψηλού επιπέδου του τι κάνει η εφαρμογή.

Θα σας Ξεκινήστε με την προϋπόθεση ότι έχετε κρίσιμα συμβάντα που προωθούνται στις ένα διανομέα συμβάν Azure ή IoT διανομέας. Θα γίνει οποιαδήποτε διανομέα, με την προϋπόθεση ότι έχετε πρόσβαση σε αυτό και γνωρίζετε τη συμβολοσειρά σύνδεσης.

Εάν δεν έχετε ήδη ένα συμβάν διανομέα ή IoT διανομέα, μπορείτε να εύκολα να ρυθμίσετε πέταλα δοκιμής με μια προστασία Arduino και μια Raspberry π, ακολουθώντας τις οδηγίες του έργου [Σύνδεση το τελείες](https://github.com/Azure/connectthedots) . Η απλή αισθητήρα στην προστασία του Arduino στέλνει τα επίπεδα light μέσω του π με ένα [Διανομέα συμβάν Azure][] (**ehdevices**) και μια εργασία [Ανάλυσης ροή Azure](https://azure.microsoft.com/services/stream-analytics/) προωθεί ειδοποιήσεις με ένα δεύτερο διανομέα συμβάντων (**ehalerts**) Εάν τα επίπεδα light λάβει κυμαίνεται κάτω από ένα συγκεκριμένο επίπεδο.

Κατά την εκκίνηση **AppToNotify** , διαβάζει ένα αρχείο ρύθμισης παραμέτρων (App.config) για να λάβετε τη διεύθυνση URL και τα διαπιστευτήρια για την ενότητα συμβάν λαμβάνει τις ειδοποιήσεις. Το, στη συνέχεια, δημιουργεί μια διαδικασία για την παρακολούθηση συνεχώς που διανομέας συμβάντων για οποιοδήποτε μήνυμα που παρέχεται μέσω – με την προϋπόθεση ότι έχετε μπορούν να έχουν πρόσβαση στη διεύθυνση URL για το συμβάν διανομέα ή IoT διανομέα και έγκυρα διαπιστευτήρια, αυτός ο κωδικός ανάγνωσης διανομείς συμβάν συνεχώς θα διαβάσει τι έρχεται. Κατά την εκκίνηση, η εφαρμογή διαβάζει επίσης τη διεύθυνση URL και τα διαπιστευτήρια για την υπηρεσία ανταλλαγής μηνυμάτων (ηλεκτρονικού ταχυδρομείου, SMS, τηλέφωνο) που θέλετε να χρησιμοποιήσετε και το όνομα/διεύθυνση του αποστολέα και μια λίστα των παραληπτών.

Όταν η οθόνη διανομέα συμβάν εντοπίσει ένα μήνυμα, ενεργοποιεί μια διεργασία που στέλνει το μήνυμα με τη μέθοδο που καθορίζεται στο αρχείο παραμέτρων. Σημειώστε ότι στέλνει κάθε μήνυμα εντοπίσει. Εάν ορίσετε την οθόνη για να τοποθετήστε το δείκτη σε ένα συμβάν διανομέα που λαμβάνει δέκα μηνύματα ανά δευτερόλεπτο, ο αποστολέας θα αποστολή δέκα μηνύματα ανά δευτερόλεπτο – δέκα μηνύματα ηλεκτρονικού ταχυδρομείου ανά δευτερόλεπτο, μηνύματα SMS δέκα ανά δευτερόλεπτο, δέκα τηλεφωνικές κλήσεις ανά δευτερόλεπτο. Για αυτόν το λόγο, φροντίστε να παρακολουθείτε ένα συμβάν διανομέα που λαμβάνει μόνο τις ειδοποιήσεις που πρέπει να σταλεί, δεν ένα συμβάν διανομέα που λαμβάνει όλα τα ανεπεξέργαστα δεδομένα από το αισθητήρες ή εφαρμογές.

## <a name="applicability"></a>Πεδίο εφαρμογής

Ο κώδικας σε αυτό το δείγμα εμφανίζει μόνο τον τρόπο για την παρακολούθηση συμβάντων διανομείς και πώς μπορείτε να καλέσετε εξωτερικές υπηρεσίες ανταλλαγής μηνυμάτων σε περίπτωση που θέλετε να προσθέσετε αυτήν τη λειτουργικότητα στην εφαρμογή σας. Σημειώστε ότι αυτή η λύση είναι μια DIY, εστίαση προγραμματιστής παράδειγμα μόνο. Δεν αντιμετωπίζει απαιτήσεις για μεγάλες επιχειρήσεις, όπως πλεονασμού, ανακατεύθυνση, επανεκκινήστε κατά την αποτυχία, κ.λπ. Για περισσότερες λύσεις συνολικής και παραγωγής, ανατρέξτε στα παρακάτω:

- Χρήση γραμμών σύνδεσης ή τις ειδοποιήσεις push με την υπηρεσία [Azure λογικής εφαρμογών](../app-service-logic/app-service-logic-connectors-list.md) .
- Χρήση [Azure ειδοποίηση διανομείς](https://msdn.microsoft.com/library/azure/jj927170.aspx), όπως περιγράφεται στο ιστολόγιο [μετάδοση τις ειδοποιήσεις push για κινητές συσκευές με διανομείς ειδοποίηση Azure εκατομμύρια](http://weblogs.asp.net/scottgu/broadcast-push-notifications-to-millions-of-mobile-devices-using-windows-azure-notification-hubs). 

## <a name="next-steps"></a>Επόμενα βήματα

Είναι απλό για να δημιουργήσετε μια υπηρεσία ειδοποιήσεων απλό που στέλνει μηνύματα ηλεκτρονικού ταχυδρομείου ή μηνύματα κειμένου στους παραλήπτες ή σε κλήσεις, να μεταγωγής δεδομένα έχουν ληφθεί από διανομέα συμβάν ή IoT διανομέα. Για να αναπτύξετε τη λύση για να ενημερώσετε τους χρήστες που βασίζονται σε δεδομένα που έχουν ληφθεί από αυτές τις διανομείς, επισκεφθείτε [AppToNotifyUsers][].

Για περισσότερες πληροφορίες σχετικά με αυτές τις διανομείς, ανατρέξτε στα ακόλουθα άρθρα:

- [Διανομείς Azure συμβάντος]
- [Azure IoT διανομέα]
- Γρήγορα αποτελέσματα με ένα [πρόγραμμα εκμάθησης συμβάν διανομείς].
- Μια ολοκληρωμένη [δείγμα εφαρμογής που χρησιμοποιεί το συμβάν διανομείς].

Για να αναπτύξετε τη λύση για να ενημερώσετε τους χρήστες που βασίζονται σε δεδομένα που έχουν ληφθεί από αυτές τις διανομείς, επισκεφθείτε:

- [AppToNotifyUsers][]

[Πρόγραμμα εκμάθησης διανομείς συμβάντος]: event-hubs-csharp-ephcs-getstarted.md
[Azure IoT διανομέα]: https://azure.microsoft.com/services/iot-hub/
[Διανομείς Azure συμβάντος]: https://azure.microsoft.com/services/event-hubs/
[Ο διανομέας Azure συμβάντος]: https://azure.microsoft.com/services/event-hubs/
[δείγμα εφαρμογής που χρησιμοποιεί το συμβάν διανομείς]: https://code.msdn.microsoft.com/Service-Bus-Event-Hub-286fd097
[AppToNotifyUsers]: https://github.com/Azure-Samples/event-hubs-dotnet-user-notifications
[Dynamics AX]: http://www.microsoft.com/dynamics/erp-ax-overview.aspx
[Azure τοποθεσίες Web]: https://azure.microsoft.com/services/app-service/web/
[SQL Azure]: https://azure.microsoft.com/services/sql-database/
[HDInsight]: https://azure.microsoft.com/services/hdinsight/
[Η Cortana οικογένεια πληροφοριών]: http://www.microsoft.com/server-cloud/cortana-analytics-suite/Overview.aspx?WT.srch=1&WT.mc_ID=SEM_lLFwOJm3&bknode=BlueKai
[IoT οικογένεια προγραμμάτων]: https://azure.microsoft.com/solutions/iot-suite/
[Λογική εφαρμογών]: https://azure.microsoft.com/services/app-service/logic/
[Διανομείς Azure ειδοποίησης]: https://azure.microsoft.com/services/notification-hubs/
[Azure Stream Analytics]: https://azure.microsoft.com/services/stream-analytics/
 
[1]: ./media/event-hubs-sensors-notify-users/event-hubs-sensor-alert.png
[2]: ./media/event-hubs-sensors-notify-users/event-hubs-erp-alert.png