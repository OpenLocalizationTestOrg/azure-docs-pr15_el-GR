<properties
    pageTitle="Έλεγχος ταυτότητας και εξουσιοδότησης για τις εφαρμογές API στο Azure εφαρμογής υπηρεσίας | Microsoft Azure"
    description="Μάθετε περισσότερα σχετικά με τις υπηρεσίες ελέγχου ταυτότητας και εξουσιοδότησης που παρέχει το Azure εφαρμογής υπηρεσίας για το API εφαρμογές."
    services="app-service\api"
    documentationCenter=".net"
    authors="tdykstra"
    manager="wpickett"
    editor=""/>

<tags
    ms.service="app-service-api"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="05/23/2016"
    ms.author="rachelap"/>

# <a name="authentication-and-authorization-for-api-apps-in-azure-app-service"></a>Έλεγχος ταυτότητας και εξουσιοδότησης για τις εφαρμογές API στο Azure εφαρμογής υπηρεσίας

## <a name="overview"></a>Επισκόπηση 

> [AZURE.NOTE] Αυτό το θέμα θα μετεγκατασταθεί με μια ενοποιημένη [Έλεγχος ταυτότητας της εφαρμογής υπηρεσίας / εξουσιοδότησης](../app-service/app-service-authentication-overview.md) θέμα, το οποίο καλύπτει Web, Mobile και εφαρμογές API.

Azure εφαρμογής υπηρεσίας προσφέρει ενσωματωμένες υπηρεσίες ελέγχου ταυτότητας και εξουσιοδότησης που υλοποίηση [διακριτικό 2.0](#oauth) και [Συνδέστε OpenID](#oauth). Σε αυτό το άρθρο περιγράφει τις υπηρεσίες και τις επιλογές που είναι διαθέσιμες για τις εφαρμογές API στο Azure εφαρμογής υπηρεσίας.

Το παρακάτω διάγραμμα παρουσιάζει ορισμένες βασικές χαρακτηριστικά του ελέγχου ταυτότητας εφαρμογής υπηρεσίας:

* Το preprocesses εισερχόμενες αιτήσεις API, γεγονός που σημαίνει ότι λειτουργεί με οποιαδήποτε γλώσσα ή framework υποστηρίζεται από την εφαρμογή υπηρεσίας.
* Σας προσφέρει πολλές επιλογές για τον όγκο ελέγχου ταυτότητας εργασία που θέλετε να κάνετε στο δικό σας κώδικα.
* Λειτουργεί τόσο τελικού χρήστη και ο έλεγχος ταυτότητας λογαριασμού υπηρεσίας. 
* Υποστηρίζει πέντε υπηρεσιών παροχής ταυτότητας: Azure Active Directory, Facebook, Google, Twitter και λογαριασμό Microsoft που διαθέτετε.
* Λειτουργεί το ίδιο για το API εφαρμογές Web Apps και εφαρμογές του Mobile.

![](./media/app-service-api-authentication/api-apps-overview.png)

## <a name="language-agnostic"></a>Γλώσσα agnostic

Επεξεργασία εφαρμογής υπηρεσίας ελέγχου ταυτότητας συμβαίνει πριν αιτήσεις πρόσβασης την εφαρμογή API, γεγονός που σημαίνει ότι λειτουργούν με τις δυνατότητες ελέγχου ταυτότητας για τις εφαρμογές API γραμμένο σε οποιαδήποτε γλώσσα ή πλαίσιο.  Το API μπορεί να βασίζονται στο ASP.NET, Java, Node.js ή σε οποιοδήποτε πλαίσιο που υποστηρίζει εφαρμογής υπηρεσίας.

Εφαρμογή υπηρεσίας μεταβιβάζει το διακριτικό web JSON (JWT) στην κεφαλίδα της εξουσιοδότησης από μια αίτηση HTTP και κώδικα που έχει γραφτεί σε οποιαδήποτε γλώσσα ή framework να λάβετε τις πληροφορίες που χρειάζεται από το διακριτικό. Επιπλέον, εφαρμογής υπηρεσίας παρέχει πιο εύκολη πρόσβαση στα τα πιο συχνά χρησιμοποιούμενες αξιώσεων, ορίζοντας ορισμένες ειδικές κεφαλίδες, όπως οι εξής:

* X-MS-ΠΡΌΓΡΑΜΜΑ-ΠΕΛΆΤΗ-ΚΕΦΆΛΑΙΟ-NAME
* X-MS-ΑΝΑΓΝΩΡΙΣΤΙΚΌ ΥΠΟΛΟΓΙΣΤΉ-ΠΕΛΆΤΗ-ΚΕΦΆΛΑΙΟ
* X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN
* X-MS-TOKEN-FACEBOOK-EXPIRES-ON
 
Σε ένα API .NET, μπορείτε να χρησιμοποιήσετε το `Authorize` χαρακτηριστικών και για λεπτομερή εξουσιοδότησης μπορείτε εύκολα να γράψετε κώδικα βάσει αξιώσεων επειδή πληροφορίες αξιώσεων συμπληρώνεται για εσάς σε κατηγορίες .NET.

## <a name="multiple-protection-options"></a>Πολλές επιλογές προστασίας

Εφαρμογής υπηρεσίας να αποτρέψετε ανώνυμου αιτήσεις HTTP να μην επικοινωνούν μαζί σας εφαρμογή API, μπορούν να μεταβιβάζουν σε όλες τις αιτήσεις και επικύρωση διακριτικά για αιτήσεις που περιλαμβάνουν τους ή το να επιτρέψετε σε όλες τις αιτήσεις χωρίς την εκτέλεση της ενέργειας σε αυτά:

1. Να επιτρέπεται μόνο με έλεγχο ταυτότητας αιτήσεις για την επίτευξη της εφαρμογής σας API.

    Εάν μια ανώνυμη αίτηση λαμβάνεται από ένα πρόγραμμα περιήγησης, εφαρμογής υπηρεσίας θα σας ανακατευθύνουν σε μια σελίδα σύνδεσης για την υπηρεσία παροχής ελέγχου ταυτότητας (Azure AD, Google, το Twitter, κ.λπ.) που επιλέγετε. 

    Με αυτήν την επιλογή, δεν χρειάζεται να γράφετε κώδικα ελέγχου ταυτότητας καθόλου στην εφαρμογή και κωδικό εξουσιοδότησης είναι απλοποιημένα επειδή τα σημαντικότερα αξιώσεων παρέχονται στις κεφαλίδες HTTP.

2. Να επιτρέπεται σε όλες τις αιτήσεις για την επίτευξη την εφαρμογή API, αλλά επικύρωση με έλεγχο ταυτότητας αιτήσεων και περνούν από τις πληροφορίες ελέγχου ταυτότητας των κεφαλίδων HTTP.

    Αυτή η επιλογή παρέχει περισσότερη ευελιξία στη χειρισμού αιτήσεων ανώνυμος, αλλά πρέπει να σύνταξη κώδικα, εάν δεν θέλετε οι ανώνυμοι χρήστες από τη χρήση του API. Εφόσον τα πιο δημοφιλή αξιώσεων μεταβιβάζονται στις κεφαλίδες των αιτήσεων HTTP, κωδικό εξουσιοδότησης είναι σχετικά απλή.
    
3. Να επιτρέπεται σε όλες τις αιτήσεις για να φτάσετε το API, λαμβάνουν καμία ενέργεια σε πληροφορίες ελέγχου ταυτότητας στις αιτήσεις.

    Αυτή η επιλογή αφήνει τις εργασίες του ελέγχου ταυτότητας και εξουσιοδότησης εντελώς έως κώδικα της εφαρμογής σας.

Στην [πύλη του Azure](https://portal.azure.com/), μπορείτε να επιλέξετε την επιλογή που θέλετε από το **ελέγχου ταυτότητας / εξουσιοδότησης** blade.

![](./media/app-service-api-authentication/authblade.png)

Για επιλογές 1 και 2, ενεργοποιήστε την επιλογή **Έλεγχος ταυτότητας της εφαρμογής υπηρεσίας**και, στη λίστα αναπτυσσόμενη **ενέργεια κατά την αίτηση δεν έχει γίνει έλεγχος ταυτότητας** , επιλέξτε **σύνδεση στο** ή **Αποδοχή αίτησης (καμία ενέργεια)**.  Εάν επιλέξετε να **συνδεθείτε**, πρέπει να επιλέξετε μια υπηρεσία παροχής ελέγχου ταυτότητας και ρύθμισης παραμέτρων αυτήν την υπηρεσία παροχής.

![](./media/app-service-api-authentication/actiontotake.png)

Για λεπτομερείς πληροφορίες σχετικά με τη ρύθμιση παραμέτρων ελέγχου ταυτότητας, δείτε [πώς μπορείτε να ρυθμίσετε τις παραμέτρους του εφαρμογής υπηρεσίας εφαρμογών για να χρησιμοποιήσετε login Azure Active Directory](../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md). Το άρθρο ισχύει για το API εφαρμογές, καθώς και εφαρμογές για κινητές συσκευές και συνδέσεις με άλλα άρθρα για τις άλλες υπηρεσίες παροχής ελέγχου ταυτότητας.
 
## <a id="internal"></a>Ο έλεγχος ταυτότητας λογαριασμού υπηρεσίας

Έλεγχος ταυτότητας της εφαρμογής υπηρεσίας λειτουργεί για το εσωτερικό σενάρια, όπως για κλήση από μια εφαρμογή του API σε άλλη εφαρμογή API. Σε αυτό το σενάριο, μπορείτε να λάβετε ένα διακριτικό, χρησιμοποιώντας τα διαπιστευτήρια για ένα λογαριασμό υπηρεσίας αντί για τα διαπιστευτήρια τελικού χρήστη. Ένας λογαριασμός υπηρεσίας είναι επίσης γνωστή ως μια *υπηρεσία κεφαλαίου* του Azure Active Directory και τον έλεγχο ταυτότητας ενός τέτοιου λογαριασμού είναι επίσης γνωστή ως ένα σενάριο υπηρεσία εξυπηρέτησης. 

Για σενάρια, την υπηρεσία εξυπηρέτησης προστασία της εφαρμογής που ονομάζεται API με χρήση του Azure Active Directory και παρέχει ένα διακριτικό AAD υπηρεσία κεφαλαίου εξουσιοδότησης όταν καλείτε την εφαρμογή API. Μπορείτε να λάβετε ένα διακριτικό, παρέχοντας το πρόγραμμα-πελάτη Αναγνωριστικό και μυστικού από την εφαρμογή AAD προγράμματος-πελάτη. Απαιτείται καμία ειδικό κωδικό μόνο Azure, όπως ήταν ισχύει για το χειρισμό το διακριτικό Zumo υπηρεσίες Mobile. Παράδειγμα αυτό το σενάριο χρήση των εφαρμογών του ASP.NET API καλύπτεται από το πρόγραμμα εκμάθησης [υπηρεσίας κεφαλαίου ελέγχου ταυτότητας για τις εφαρμογές του API](app-service-api-dotnet-service-principal-auth.md).

Εάν θέλετε να χειριστείτε ένα σενάριο υπηρεσία εξυπηρέτησης χωρίς τη χρήση ελέγχου ταυτότητας εφαρμογής υπηρεσίας, μπορείτε να χρησιμοποιήσετε πιστοποιητικά προγράμματος-πελάτη ή βασικό έλεγχο ταυτότητας. Για πληροφορίες σχετικά με τα πιστοποιητικά προγράμματος-πελάτη στο Azure, ανατρέξτε στο θέμα [Πώς να ρυθμίσετε τις παραμέτρους TLS αμοιβαία ελέγχου ταυτότητας για τις εφαρμογές Web](../app-service-web/app-service-web-configure-tls-mutual-auth.md). Για πληροφορίες σχετικά με το βασικό έλεγχο ταυτότητας στο ASP.NET, ανατρέξτε στο θέμα [Έλεγχος ταυτότητας φίλτρα σε ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).

Έλεγχος ταυτότητας λογαριασμού υπηρεσίας από μια εφαρμογή της λογικής εφαρμογής υπηρεσίας σε μια εφαρμογή API είναι μια ειδική περίπτωση που εξηγείται στο [χρήση το προσαρμοσμένο API φιλοξενούνται σε εφαρμογής υπηρεσίας με λογική εφαρμογές](../app-service-logic/app-service-logic-custom-hosted-api.md).

## <a name="mobile-client-authentication"></a>Έλεγχος ταυτότητας φορητός υπολογιστής-πελάτης

Για πληροφορίες σχετικά με τον τρόπο χειρισμού των τον έλεγχο ταυτότητας από κινητές συσκευές, ανατρέξτε στην [τεκμηρίωση σχετικά με τον έλεγχο ταυτότητας για εφαρμογές για κινητές συσκευές](../app-service-mobile/app-service-mobile-ios-get-started-users.md). Έλεγχος ταυτότητας της εφαρμογής υπηρεσίας λειτουργεί τον ίδιο τρόπο για εφαρμογές για κινητές συσκευές και εφαρμογές API.
  
## <a name="more-information"></a>Περισσότερες πληροφορίες

Για περισσότερες πληροφορίες σχετικά με τον έλεγχο ταυτότητας και εξουσιοδότησης στο Azure εφαρμογής υπηρεσίας, ανατρέξτε στους ακόλουθους πόρους:

* [Ανάπτυξη εφαρμογής υπηρεσίας ελέγχου ταυτότητας / εξουσιοδότησης](/blog/announcing-app-service-authentication-authorization/)
* [Πώς μπορείτε να ρυθμίσετε τις παραμέτρους του εφαρμογής υπηρεσίας εφαρμογών για να χρησιμοποιήσετε login Azure Active Directory](../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md) (Περιλαμβάνει συνδέσεις για άλλες υπηρεσίες παροχής ελέγχου ταυτότητας στο επάνω μέρος της σελίδας). 

Για περισσότερες πληροφορίες σχετικά με το διακριτικό 2.0, σύνδεση OpenID και τα διακριτικά Web JSON (JWT), ανατρέξτε στους ακόλουθους πόρους.

* [Γρήγορα αποτελέσματα με το διακριτικό 2.0] (http://shop.oreilly.com/product/0636920021810.do "Γρήγορα αποτελέσματα με το διακριτικό 2.0") 
* [Εισαγωγή στις OAuth2, OpenID σύνδεση και JSON Web διακριτικά (JWT) - PluralSight κύκλου](http://www.pluralsight.com/courses/oauth2-json-web-tokens-openid-connect-introduction) 
* [Δημιουργία και την ασφάλεια των RESTful API για πολλούς χρήστες στο ASP.NET - PluralSight κύκλου](http://www.pluralsight.com/courses/building-securing-restful-api-aspdotnet)

Για περισσότερες πληροφορίες σχετικά με το Azure Active Directory, ανατρέξτε στους ακόλουθους πόρους.

* [Azure AD σενάρια](http://aka.ms/aadscenarios)
* [Οδηγός Azure AD τους προγραμματιστές'](http://aka.ms/aaddev)
* [Azure AD δείγματα](http://aka.ms/aadsamples)

## <a name="next-steps"></a>Επόμενα βήματα

Σε αυτό το άρθρο περιλαμβάνει επεξήγηση τον έλεγχο ταυτότητας και εξουσιοδότηση δυνατότητες της εφαρμογής υπηρεσίας που μπορείτε να χρησιμοποιήσετε για τις εφαρμογές του API. Το επόμενο πρόγραμμα εκμάθησης στη σειρά γρήγορα αποτελέσματα δείχνει πώς μπορείτε να υλοποιήσετε [τον έλεγχο ταυτότητας χρήστη σε εφαρμογές API της εφαρμογής υπηρεσίας](app-service-api-dotnet-user-principal-auth.md).
