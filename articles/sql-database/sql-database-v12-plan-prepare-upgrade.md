<properties
    pageTitle="Σχεδιασμός αναβάθμισης περιβάλλοντος V12 βάσης δεδομένων SQL | Microsoft Azure"
    description="Περιγράφει τις προετοιμασίες και τους περιορισμούς που εμπλέκονται στη την αναβάθμιση στην έκδοση V12 της βάσης δεδομένων SQL Azure."
    services="sql-database"
    documentationCenter=""
    authors="MightyPen"
    manager="jhubbard"
    editor=""/>


<tags
    ms.service="sql-database"
    ms.workload="data-management"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="10/24/2016"
    ms.author="genemi"/>


# <a name="plan-and-prepare-to-upgrade-to-sql-database-v12"></a>Προγραμματισμός και προετοιμασία για αναβάθμιση σε V12 βάση δεδομένων SQL


Αυτό το θέμα περιγράφει το σχεδιασμό και την προετοιμασίες, πρέπει να εκτελέσετε για να αναβαθμίσετε τις βάσεις δεδομένων Azure SQL από έκδοση V11: σε V12.


Μια νέα [Πύλη Azure](https://portal.azure.com/) είναι διαθέσιμη για την υποστήριξη της αναβάθμισης σε V12.


Ο παρακάτω πίνακας παραθέτει άλλα θέματα της Βοήθειας για το V12.


| Τίτλος και σύνδεση | Περιγραφή του περιεχομένου |
| :--- | :--- |
| [Τι νέο υπάρχει στο V12 βάσης δεδομένων SQL](sql-database-v12-whats-new.md) | Περιγράφει τις λεπτομέρειες του πώς V12 μεταφέρει βάση δεδομένων SQL Azure πιο κοντά σε πλήρη ομοιομορφίας με το Microsoft SQL Server. |
| [Δημιουργία μιας βάσης δεδομένων σε V12 βάση δεδομένων SQL](sql-database-get-started.md) | Περιγράφει πώς μπορείτε να δημιουργήσετε μια νέα βάση δεδομένων Azure SQL στην έκδοση V12. Περιγράφει διάφορες επιλογές πέρα από απλώς μια κενή βάση δεδομένων. |


## <a name="plan-ahead"></a>Σχεδιασμός στο μέλλον


Οι παρακάτω υποενότητες περιγράφουν την εκμάθηση και λήψη αποφάσεων που πρέπει να διευθετήσετε, πριν να πάρετε μια ενέργειες προς την αναβάθμιση της βάσης δεδομένων Azure SQL στο V12.

### <a name="version-clarification"></a>Αποσαφήνιση έκδοση


Αυτό το έγγραφο αφορά την αναβάθμιση της βάσης δεδομένων SQL Microsoft Azure από την έκδοση V11: σε V12. Περισσότερα τυπικά οι αριθμοί έκδοσης είναι κοντά τις ακόλουθες δύο τιμές, όπως αναφέρονται από την Transact-SQL **ΕΠΙΛΈΞΤΕ @@version; ** :


- 12.0.2000.8 *(ή νεότερη έκδοση, bit V12)*
- 11.0.9228.18 *(V11:)*
 - Μερικές φορές V11: έχει επίσης γνωστή ως SAWA v2.

### <a name="service-tier-planning"></a>Λειτουργία σχεδιασμού επιπέδων


Βάση δεδομένων SQL Azure, ξεκινώντας με V12, θα υποστηρίζει μόνο τα επίπεδα υπηρεσίας που ονομάζεται Basic, τυπική και Premium. Το επίπεδο υπηρεσιών Web και επιχειρήσεις δεν υποστηρίζεται σε V12. Επομένως, εάν σκοπεύετε να αναβαθμίσετε τη βάση δεδομένων Azure SQL που είναι αποθηκευμένα στο το επίπεδο υπηρεσιών Web ή επιχειρήσεις, πρέπει να αποφασίσετε τι θα πρέπει να είναι το νέο επίπεδο υπηρεσιών.


Για λεπτομερείς πληροφορίες σχετικά με τα επίπεδα υπηρεσίας Basic, τυπική και Premium, ανατρέξτε στα θέματα:

- [Επίπεδα υπηρεσίας βάσης δεδομένων SQL](sql-database-service-tiers.md)
- [Αναβάθμιση βάσεις δεδομένων Web/επαγγελματικής βάσης δεδομένων SQL σε νέα επίπεδα υπηρεσίας](sql-database-upgrade-server-portal.md)



### <a name="review-the-geo-replication-configuration"></a>Εξετάστε τη ρύθμιση παραμέτρων παν αναπαραγωγής


Εάν τη βάση δεδομένων Azure SQL έχει ρυθμιστεί για την αναπαραγωγή παν, που θα πρέπει να εγγράφων της τρέχουσας ρύθμισης παραμέτρων και διακοπή αναπαραγωγής παν, πριν να ξεκινήσετε τις ενέργειες αναβάθμισης προετοιμασίας. Αφού ολοκληρωθεί η αναβάθμιση που πρέπει να ρυθμίσετε ξανά τη βάση δεδομένων για την αναπαραγωγή παν.


Η στρατηγική είναι να αποχωρήσετε από την προέλευση παραμένει ανέπαφο και να ελέγξετε σε ένα αντίγραφο της βάσης δεδομένων.


## <a name="preparation-actions"></a>Ενέργειες προετοιμασίας


Αφού έχετε ολοκληρώσει τον προγραμματισμό, μπορείτε να εκτελέσετε τα βήματα ενέργειας που περιγράφονται στις ακόλουθες ενότητες για να προετοιμαστείτε για την τελική φάση αναβάθμισης.


Λεπτομερείς περιγραφές των την τελική φάση αναβάθμισης είναι διαθέσιμες στα θέματα της Βοήθειας που είναι συνδεδεμένες στο επάνω μέρος αυτού του θέματος Βοήθειας.


### <a name="service-tier-actions"></a>Ενέργειες επίπεδο υπηρεσίας


Η υπηρεσία Web και επιχειρήσεις τις τιμές σε επίπεδο δεν υποστηρίζεται σε V12.


Εάν η βάση δεδομένων SQL Azure V11: μια βάση δεδομένων Web ή επιχειρήσεις, προσφέρει τη διαδικασία αναβάθμισης για να αλλάξετε τη βάση δεδομένων σε μια υποστηριζόμενη σειρά. Η αναβάθμιση συνιστά μια σειρά που ταιριάζει με το ιστορικό φόρτο εργασίας της βάσης δεδομένων σας. Ωστόσο, μπορείτε να επιλέξετε οποιοδήποτε υποστηριζόμενο επίπεδο που θέλετε.


Μπορείτε να μειώσετε τα βήματα που απαιτούνται κατά την αναβάθμιση, μεταβαίνοντας τη βάση δεδομένων V11: μακριά από το Web και επιχειρήσεις σειρά πριν να ξεκινήσετε την αναβάθμιση. Μπορείτε να το κάνετε αυτό, χρησιμοποιώντας τη νέα [Πύλη Azure](https://portal.azure.com/).


Εάν δεν είστε βέβαιοι ποια επίπεδο υπηρεσιών για να μεταβείτε, το επίπεδο S2 την τυπική σειρά μπορεί να είναι μια ορθολογική αρχική επιλογή. Οποιοδήποτε επίπεδο μικρότερο βαθμό θα έχουν λιγότερους πόρους από το Web και επιχειρήσεις επίπεδο περιείχε.


### <a name="suspend-geo-replication-during-upgrade"></a>Αναστολή παν αναπαραγωγής κατά την αναβάθμιση


Την αναβάθμιση σε V12 δεν είναι δυνατό να εκτελέσετε εάν παν αναπαραγωγής είναι ενεργή στη βάση δεδομένων σας. Πρώτα πρέπει να ρυθμίσατε τη βάση δεδομένων για να διακόψετε τη χρήση παν αναπαραγωγής.


Μόλις ολοκληρωθεί η αναβάθμιση, μπορείτε να ρυθμίσετε τη βάση δεδομένων για να χρησιμοποιήσετε ξανά παν αναπαραγωγής.


### <a name="open-ports-on-an-azure-vm-for-client-connectivity"></a>Ανοιχτές θύρες σε μια Εικονική Azure για συνδεσιμότητα υπολογιστή-πελάτη


Εάν το πρόγραμμα-πελάτης συνδέεται με V12 βάση δεδομένων SQL, ενώ εκτελείται το πρόγραμμα-πελάτη σε μια εικονική μηχανή Azure (Εικονική), πρέπει να ανοίξετε τις ακόλουθες περιοχές θύρας στην η Εικονική:

- 11000 11999
- 14000 14999


Κάντε κλικ [εδώ](sql-database-develop-direct-route-ports-adonet-v12.md) για λεπτομέρειες σχετικά με τις θύρες για V12 βάσης δεδομένων SQL. Οι θύρες είναι απαραίτητο από βελτιώσεις επιδόσεων στο V12 βάσης δεδομένων SQL.


##<a id="limitations"></a>Περιορισμοί κατά τη διάρκεια και μετά την αναβάθμιση σε V12


### <a name="portals-for-v12"></a>Πύλες για V12


Υπάρχουν τρεις πύλες για Azure και κάθε έχει διαφορετικές δυνατότητες σχετικά με τις V12 βάσης δεδομένων SQL.


- [http://Portal.Azure.com/](https://portal.azure.com/)<br/>Αυτή η πύλη Azure νέο και βρίσκεται ακόμη σε κατάσταση προεπισκόπησης. Αυτή η πύλη δεν είναι ακόμα σε πλήρη γενικής διαθεσιμότητας (GA). Αυτή η πύλη:
 - Να διαχειριστείτε το διακομιστή V12 και βάση δεδομένων.
 - Να κάνετε αναβάθμιση της βάσης δεδομένων σας V11: V12.


- [http://Manage.windowsazure.com/](http://manage.windowsazure.com/)<br/>Αυτή η πύλη κλασική Azure μπορεί να εμφανίσει σταδιακή. Αυτή η πύλη:
 - Να διαχειριστείτε το διακομιστή V12 και βάση δεδομένων.
 - Μπορεί να *μην* αναβάθμιση της βάσης δεδομένων σας V11: για να V12.


- (http://*yourservername*. database.windows.net)<br/>Azure SQL Classic πύλη βάσης δεδομένων:
 - Να*μην* Διαχείριση διακομιστών V12.


Συνιστάται να συνδεθείτε με τις βάσεις δεδομένων Azure SQL με το Visual Studio 2015 (VS2015). VS2015 μπορεί να χρησιμοποιηθεί για εργασίες όπως οι εξής:


- Για να εκτελέσετε μια πρόταση Transact-SQL.
- Για να σχεδιάσετε ένα σχήμα.
- Για να αναπτύξετε μια βάση δεδομένων, είτε στο Internet είτε χωρίς σύνδεση.


Ή, αντί για αυτό, δωρεάν μπορείτε να κάνετε λήψη [2015 Κοινότητας Visual Studio](https://www.visualstudio.com/vs/community/), που είναι μια ολοκληρωμένη έκδοση του VS2015.


Στην παλαιότερη Azure κλασική πύλη, στη σελίδα βάσης δεδομένων, μπορείτε να επιλέξετε **Άνοιγμα στο Visual Studio** για εκκίνηση VS2015 στον υπολογιστή σας για σύνδεση με τη βάση δεδομένων SQL Azure.


Για μια άλλη εναλλακτική λύση, μπορείτε να χρησιμοποιήσετε το SQL Server Management Studio (SSMS) 2014 με [CU6](http://support.microsoft.com/kb/3031047/) για να συνδεθείτε με βάση δεδομένων SQL Azure. Υπάρχουν περισσότερες λεπτομέρειες σε αυτήν τη δημοσίευση ιστολογίου:<br/>[Πρόγραμμα-πελάτη tooling ενημερωμένες εκδόσεις για βάση δεδομένων SQL Azure](https://azure.microsoft.com/blog/2014/12/22/client-tooling-updates-for-azure-sql-database/).


> [AZURE.IMPORTANT] Συνιστάται να χρησιμοποιείτε πάντα την πιο πρόσφατη έκδοση του Management Studio για να παραμείνετε συγχρονισμένοι με ενημερώσεις για το Microsoft Azure και βάση δεδομένων SQL. [Ενημέρωση SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx).


### <a name="limitation-during-upgrade-to-v12"></a>Περιορισμός *κατά την* αναβάθμιση σε V12


Η βάση δεδομένων V11: παραμένει διαθέσιμη για πρόσβαση σε δεδομένα κατά την αναβάθμιση σε V12. Υπάρχουν ακόμη μερικά περιορισμοί πρέπει να λάβετε υπόψη.


| Περιορισμός | Περιγραφή |
| :--- | :--- |
| Διάρκεια της αναβάθμισης | Στη διάρκεια της αναβάθμισης εξαρτάται από το μέγεθος, edition και τον αριθμό των βάσεων δεδομένων στο διακομιστή. Τη διαδικασία αναβάθμισης μπορούν να εκτελέσουν ώρες για ημέρες για τους διακομιστές ειδικά για τους διακομιστές που έχει βάσεις δεδομένων:<br/><br/>*Μεγαλύτερο από 50 GB, ή<br/> * Σε ένα επίπεδο υπηρεσιών μη premium<br/><br/>Η δημιουργία νέων βάσεων δεδομένων στο διακομιστή κατά την αναβάθμιση επίσης να αυξήσετε τη διάρκεια της αναβάθμισης. |
| Δεν υπάρχει παν-αναπαραγωγής | Αναπαραγωγή παν δεν υποστηρίζεται σε ένα διακομιστή V12 που εμπλέκεται αυτήν τη στιγμή σε μια αναβάθμιση από V11:. |
| Βάση δεδομένων είναι σύντομα διαθέσιμη στην τελική φάση της αναβάθμισης σε V12 | Οι βάσεις δεδομένων που ανήκουν σε διακομιστή V11: παραμένουν διαθέσιμα κατά τη διαδικασία αναβάθμισης. Ωστόσο, η σύνδεση με το διακομιστή και βάσεων δεδομένων είναι σύντομα διαθέσιμο στην τελική φάση, όταν ο διακόπτης μέσω αρχίζει από V11: για να το έτοιμο V12.<br/><br/>Μετάβαση σε περίοδο μπορεί να κυμαίνεται από 40 δευτερόλεπτα έως 5 λεπτά. Για τους περισσότερους διακομιστές, επάνω από το διακόπτη αναμένεται για να ολοκληρωθεί εντός 90 δευτερόλεπτα. Μετάβαση στο χρόνο αυξάνεται για τους διακομιστές που έχουν μεγάλου αριθμού βάσεις δεδομένων, ή όταν οι βάσεις δεδομένων έχουν έντονο εγγραφής φόρτους εργασίας. |


### <a name="limitation-after-upgrade-to-v12"></a>Περιορισμός *μετά την* αναβάθμιση σε V12


| Περιορισμός | Περιγραφή |
| :--- | :--- |
| Δεν είναι δυνατό να επαναφέρετε V11: | Μετά την αναβάθμιση αρχικής, το αποτέλεσμα δεν μπορούν να επανέλθει ή να αναιρεθεί. |
| Επίπεδο Web ή επιχειρήσεις | Αφού ξεκινήσει η αναβάθμιση, το διακομιστή για τη νέα βάση δεδομένων V12 δεν είναι πλέον αναγνωρίζουν ή αποδεχθείτε το επίπεδο υπηρεσιών Web ή επιχειρήσεις. |



### <a name="export-and-import-after-upgrade-to-v12"></a>Εξαγωγή και εισαγωγή *μετά την* αναβάθμιση σε V12


Μπορείτε να εξαγάγετε ή να εισαγάγετε μια βάση δεδομένων V12 χρησιμοποιώντας την [Πύλη Azure](https://portal.azure.com/). Ή μπορείτε να εξαγάγετε ή εισαγωγή με οποιοδήποτε από τα παρακάτω εργαλεία:


- SQL Server Management Studio (SSMS)
- Visual Studio 2015
- Πλαίσιο εργασίας εφαρμογών επιπέδων δεδομένων (DacFx)


Ωστόσο, για να χρησιμοποιήσετε τα εργαλεία, πρέπει να πρώτα να ή να εγκαταστήσετε τις πιο πρόσφατες ενημερώσεις για να βεβαιωθείτε ότι που υποστηρίζουν τις νέες δυνατότητες V12:


- [Αθροιστική ενημερωμένη έκδοση 6 για SQL Server Management Studio 2014](http://support2.microsoft.com/kb/3031047)
- [Ενημέρωση Φεβρουαρίου 2015 για Tooling στο Visual Studio 2013 βάση δεδομένων του SQL Server](https://msdn.microsoft.com/data/hh297027)
- [Φεβρουάριος 2015 επιπέδων δεδομένων εφαρμογής Framework (DacFx) για V12 βάσης δεδομένων Azure SQL](http://www.microsoft.com/download/details.aspx?id=45886)


> [AZURE.NOTE] Η προηγούμενη συνδέσεις εργαλείων ενημερώθηκαν στις ή μετά τις 2 Μαρτίου 2015. Συνιστάται να χρησιμοποιήσετε αυτές τις νεότερες ενημερώσεις από αυτά τα εργαλεία.


#### <a name="automated-export"></a>Αυτόματη εξαγωγή


Αυτόματη εξαγωγή εξακολουθεί να είναι διαθέσιμη ως προεπισκόπηση.  Δεν υπάρχουν ενημερωμένες εκδόσεις εργαλείο προγράμματος-πελάτη απαιτούνται κατά τη χρήση της αυτόματης εξαγωγής.  Εάν επιλέξετε να λάβει το αρχείο που προκύπτει και να εισαγάγετε ένα διακομιστή εσωτερικής εγκατάστασης, τις ενημερώσεις tooling που αναφέρονται παραπάνω είναι απαραίτητα για να εισαγάγετε με επιτυχία.


### <a name="restore-to-v12-of-a-deleted-v11-database"></a>Επαναφέρετε την V12 μιας διαγραμμένης βάσης δεδομένων V11:

Το παρακάτω σενάριο εξηγεί ότι μπορεί να γίνει επαναφορά μιας διαγραμμένης βάση δεδομένων SQL Azure V11: σε ένα διακομιστή βάσης δεδομένων SQL Azure V12.

1. Ας υποθέσουμε ότι έχετε ένα διακομιστή βάσης δεδομένων SQL Azure V11:. <br/> Στο διακομιστή, έχετε μια βάση δεδομένων κατά την παλιά επίπεδο υπηρεσιών Web και επιχειρήσεις.
2. Μπορείτε να διαγράψετε τη βάση δεδομένων.
3. Μπορείτε να αναβαθμίσετε το διακομιστή για να V12.
4. Στη συνέχεια μπορείτε να επαναφέρετε τη βάση δεδομένων με το διακομιστή. <br/> Η βάση δεδομένων με τον τρόπο αυτό έχει αναβαθμιστεί σε V12, σε επίπεδο S0 το επίπεδο τυπική υπηρεσιών.
5. Μπορείτε να μεταβείτε στη βάση δεδομένων σε οποιαδήποτε σειρά υποστηριζόμενη υπηρεσία, εάν S0 δεν είναι τις προτιμήσεις σας.


### <a name="powershell-cmdlets"></a>Cmdlet του PowerShell


Cmdlet του PowerShell είναι διαθέσιμες για να ξεκινήσετε, να διακόψετε ή παρακολούθηση της αναβάθμισης σε V12 βάση δεδομένων SQL Azure από V11: ή οποιαδήποτε άλλη έκδοση προ-V12.

- [Αναβάθμιση σε SQL V12 βάσης δεδομένων με χρήση του PowerShell](sql-database-upgrade-server-powershell.md)

Για την τεκμηρίωση αναφοράς σχετικά με τα παρακάτω cmdlet του PowerShell, ανατρέξτε στα θέματα:


- [Get-AzureRMSqlServerUpgrade](https://msdn.microsoft.com/library/azure/mt603582.aspx)
- [Έναρξη-AzureRMSqlServerUpgrade](https://msdn.microsoft.com/library/azure/mt619403.aspx)
- [Διακοπή AzureRMSqlServerUpgrade](https://msdn.microsoft.com/library/azure/mt603589.aspx)


Το cmdlet διακοπή σημαίνει ακύρωση, δεν παύση. Δεν υπάρχει τρόπος για να συνεχίσετε την αναβάθμιση, εκτός από το ξεκινήσετε ξανά από την αρχή. Το cmdlet διακοπή εκκαθαρίζει και όλους τους πόρους κατάλληλο για ενημερωμένες εκδόσεις.


## <a name="failure-resolution"></a>Αποτυχία ανάλυση


Εάν η αναβάθμιση αποτύχει για οποιονδήποτε λόγο μονές, τη βάση δεδομένων V11: παραμένει ενεργή και διαθέσιμη κανονικά.


## <a name="related-links"></a>Σχετικές συνδέσεις


- [Προεπισκόπηση δυνατότητες](https://azure.microsoft.com/services/preview/) του Microsoft Azure


<!--Anchors-->
[Subheading 1]: #subheading-1
