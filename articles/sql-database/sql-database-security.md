<properties
   pageTitle="Επισκόπηση ασφαλείας βάσης δεδομένων SQL"
   description="Μάθετε σχετικά με την ασφάλεια βάσης δεδομένων SQL Azure και του SQL Server, συμπεριλαμβανομένων των διαφορών μεταξύ στο cloud και SQL Server εσωτερικής εγκατάστασης όταν θέλετε να τον έλεγχο ταυτότητας, εξουσιοδότησης, ασφάλεια σύνδεσης, κρυπτογράφησης και συμμόρφωσης."
   services="sql-database"
   documentationCenter=""
   authors="tmullaney"
   manager="jhubbard"
   editor=""/>

<tags
   ms.service="sql-database"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-management"
   ms.date="06/09/2016"
   ms.author="thmullan;jackr"/>


# <a name="securing-your-sql-database"></a>Ασφάλιση της βάσης δεδομένων SQL

## <a name="overview"></a>Επισκόπηση

Σε αυτό το άρθρο παρουσιάζει τα βασικά στοιχεία του ασφάλιση η σειρά δεδομένων μιας εφαρμογής με βάση δεδομένων SQL Azure. Συγκεκριμένα, αυτό το άρθρο θα σας βοηθήσουν να ξεκινήσετε με πόρους περιορισμού της πρόσβασης, προστασία δεδομένων, και παρακολούθηση δραστηριοτήτων σε μια βάση δεδομένων δημιουργήθηκε το [Γρήγορα αποτελέσματα με το πρόγραμμα εκμάθησης βάση δεδομένων SQL](sql-database-get-started.md). Για μια πλήρη επισκόπηση των δυνατοτήτων ασφαλείας που είναι διαθέσιμα σε όλες μπορεί να είναι του SQL, ανατρέξτε στο [Κέντρο ασφάλειας για το μηχανισμό βάσεων δεδομένων SQL Server και βάση δεδομένων SQL Azure](https://msdn.microsoft.com/library/bb510589). Πρόσθετες πληροφορίες είναι επίσης διαθέσιμες στην [Ασφάλεια και βάση δεδομένων SQL Azure τεχνική λευκή βίβλος](https://download.microsoft.com/download/A/C/3/AC305059-2B3F-4B08-9952-34CDCA8115A9/Security_and_Azure_SQL_Database_White_paper.pdf) (PDF).

## <a name="connection-security"></a>Ασφάλεια σύνδεσης

Ασφάλεια σύνδεσης αναφέρεται σε ασφαλείς συνδέσεις στη βάση δεδομένων με χρήση του κανόνες τείχους προστασίας και κρυπτογράφηση σύνδεσης και πώς μπορείτε να περιορίσετε.

Κανόνες τείχους προστασίας χρησιμοποιούνται από το διακομιστή και τη βάση δεδομένων για να απορρίψετε προσπάθειες σύνδεσης από διευθύνσεις IP που δεν έχουν ρητά whitelisted. Για να επιτρέψετε την εφαρμογή σας ή δημόσια διεύθυνση IP του υπολογιστή-πελάτη για να επιχειρήσετε τη σύνδεση σε μια νέα βάση δεδομένων, πρέπει πρώτα να δημιουργήσετε έναν κανόνα τείχους προστασίας επιπέδου διακομιστή χρησιμοποιώντας την πύλη κλασική Azure, REST API ή PowerShell. Ως βέλτιστη πρακτική, θα πρέπει να περιορίσετε τις περιοχές διευθύνσεων IP επιτράπηκε μέσω του τείχους προστασίας του διακομιστή όσο είναι δυνατό. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Τείχος προστασίας βάσης δεδομένων SQL Azure](https://msdn.microsoft.com/library/ee621782).

Όλες οι συνδέσεις με βάση δεδομένων SQL Azure απαιτούν κρυπτογράφηση (SSL/TLS) σε όλες τις ώρες ενώ δεδομένων είναι "κατά τη μεταφορά" από τη βάση δεδομένων και. Συμβολοσειρά σύνδεσης της εφαρμογής σας, θα πρέπει να καθορίσετε τις παραμέτρους για να κρυπτογραφήσετε τη σύνδεση και *δεν* αξιόπιστο το πιστοποιητικό διακομιστή (αυτό γίνεται για εσάς εάν αντιγράψετε συμβολοσειρά σύνδεσης από την πύλη κλασική Azure), διαφορετικά η σύνδεση δεν θα επαληθεύσετε την ταυτότητα του διακομιστή και θα είναι ευαίσθητα "Άντρας-σε-ενδιάμεσες" επιθέσεις. Για το πρόγραμμα οδήγησης ADO.NET, για παράδειγμα, αυτές οι παράμετροι συμβολοσειρά σύνδεσης είναι **κρυπτογράφηση = True** και **TrustServerCertificate = False**. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [κρυπτογράφηση σύνδεσης βάσης δεδομένων SQL Azure και την επικύρωση πιστοποιητικών](https://msdn.microsoft.com/library/azure/ff394108#encryption).


## <a name="authentication"></a>Έλεγχος ταυτότητας

Έλεγχος ταυτότητας αναφέρεται σε πώς αποδεικνύετε την ταυτότητά σας κατά τη σύνδεση με τη βάση δεδομένων. Βάση δεδομένων SQL υποστηρίζει δύο τύπους ελέγχου ταυτότητας:

 - **Έλεγχος ταυτότητας του SQL**, που χρησιμοποιεί ένα όνομα χρήστη και τον κωδικό πρόσβασης
 - **Έλεγχος ταυτότητας azure Active Directory**, το οποίο χρησιμοποιεί τις ταυτότητες ελέγχονται από Azure Active Directory και υποστηρίζεται για διαχείριση και ενσωματωμένο τομέων

Όταν δημιουργήσατε το διακομιστή λογική για τη βάση δεδομένων, έχετε καθορίσει μια σύνδεση "Διαχείριση διακομιστή" με ένα όνομα χρήστη και τον κωδικό πρόσβασης. Χρησιμοποιεί αυτά τα διαπιστευτήρια, μπορείτε να τον έλεγχο ταυτότητας με οποιαδήποτε βάση δεδομένων σε αυτόν το διακομιστή ως κάτοχος της βάσης δεδομένων, ή "dbo." Εάν θέλετε να χρησιμοποιήσετε έλεγχο ταυτότητας Azure Active Directory, πρέπει να δημιουργήσετε μια άλλη διακομιστή διαχείρισης που ονομάζεται "Azure AD διαχειριστής," που επιτρέπεται να διαχειρίζεστε Azure AD χρήστες και ομάδες. Αυτό διαχειριστής μπορεί να εκτελεί επίσης όλες οι λειτουργίες που μπορούν να διαχειριστής κανονικό διακομιστή. Για αναλυτικές οδηγίες για τον τρόπο δημιουργίας διαχειριστής Azure AD για την ενεργοποίηση του ελέγχου ταυτότητας Azure Active Directory, ανατρέξτε στο θέμα [σύνδεση με βάση δεδομένων με χρησιμοποιώντας Azure Active Directory έλεγχος ταυτότητας του SQL](sql-database-aad-authentication.md) .

Ως βέλτιστη πρακτική εφαρμογή σας πρέπει να χρησιμοποιήσετε ένα διαφορετικό λογαριασμό για τον έλεγχο ταυτότητας--αυτόν τον τρόπο, μπορείτε να περιορίσετε τα δικαιώματα που έχουν εκχωρηθεί στην εφαρμογή και να μειώσετε τους κινδύνους της κακόβουλης δραστηριότητας σε περίπτωση κώδικα της εφαρμογής σας έχει ευπάθεια μια επίθεση εισαγωγής SQL. Η συνιστώμενη προσέγγιση είναι να δημιουργήσετε μια [που περιέχονται χρήστες της βάσης δεδομένων](https://msdn.microsoft.com/library/ff929188), που επιτρέπει την εφαρμογή σας για τον έλεγχο ταυτότητας απευθείας σε μια μεμονωμένη βάση δεδομένων. Μπορείτε να δημιουργήσετε περιεχόμενα βάσης δεδομένων χρήστη που χρησιμοποιεί έλεγχο ταυτότητας SQL εκτελώντας την ακόλουθη εντολή T SQL ενώ είστε συνδεδεμένοι στη βάση δεδομένων χρήστη ως login διαχείρισης διακομιστή:

```
CREATE USER ApplicationUser WITH PASSWORD = 'strong_password'; -- SQL Authentication
```

Εάν έχετε δημιουργήσει διαχειριστής Azure AD, μπορείτε να δημιουργήσετε περιεχόμενα βάσης δεδομένων χρήστη που χρησιμοποιεί έλεγχο ταυτότητας Azure Active Directory εκτελώντας την ακόλουθη εντολή T SQL ενώ είστε συνδεδεμένοι στη βάση δεδομένων χρήστη ως διαχειριστής του Azure AD:

```
CREATE USER [Azure_AD_principal_name | Azure_AD_group_display_name] FROM EXTERNAL PROVIDER; -- Azure Active Directory Authentication
```

Σε κάθε περίπτωση, συμβολοσειρά σύνδεσης της εφαρμογής σας θα πρέπει να καθορίσετε αυτά τα διαπιστευτήρια χρήστη, αντί να login διαχείρισης διακομιστή, για να συνδεθείτε με τη βάση δεδομένων.

Για περισσότερες πληροφορίες σχετικά με τον έλεγχο ταυτότητας με μια βάση δεδομένων SQL, ανατρέξτε στο θέμα [Διαχείριση βάσεων δεδομένων και συνδέσεις σε βάση δεδομένων SQL Azure](sql-database-manage-logins.md).


## <a name="authorization"></a>Εξουσιοδότηση
Εξουσιοδότηση αναφέρεται σε τι μπορείτε να κάνετε μέσα σε μια βάση δεδομένων SQL Azure και αυτό ελέγχεται από το λογαριασμό χρήστη ιδιότητες μελών ρόλων και δικαιωμάτων. Ως βέλτιστη πρακτική, θα πρέπει να εκχωρήσετε στους χρήστες το ελάχιστα απαραίτητα δικαιώματα. Βάση δεδομένων SQL του Azure διευκολύνει σε αυτό για να διαχειριστείτε με τους ρόλους στο T-SQL:

```
ALTER ROLE db_datareader ADD MEMBER ApplicationUser; -- allows ApplicationUser to read data
ALTER ROLE db_datawriter ADD MEMBER ApplicationUser; -- allows ApplicationUser to write data
```

Ο λογαριασμός διαχειριστή διακομιστή συνδέεστε με είναι μέλος της db_owner, η οποία έχει αρχή για να κάνετε τίποτα μέσα στη βάση δεδομένων. Αποθήκευση αυτού του λογαριασμού για την ανάπτυξη του σχήματος αναβαθμίσεις και άλλες λειτουργίες διαχείρισης. Χρησιμοποιήστε το λογαριασμό "ApplicationUser" με πιο περιορισμένα δικαιώματα για σύνδεση από την εφαρμογή σας στη βάση δεδομένων με τα ελάχιστα δικαιώματα που απαιτούνται από την εφαρμογή σας.

Υπάρχουν τρόποι για να περιορίσετε περαιτέρω τι να κάνετε ένα χρήστη με βάση δεδομένων SQL Azure:

* Εκτός από db_datareader και db_datawriter [Ρόλους βάσης δεδομένων](https://msdn.microsoft.com/library/ms189121) μπορεί να χρησιμοποιηθεί για να δημιουργήσετε λογαριασμούς χρήστη πιο ισχυρή εφαρμογών ή λιγότερο ισχυρά διαχείρισης λογαριασμών.
* Λεπτομερές [δικαιώματα](https://msdn.microsoft.com/library/ms191291) σάς επιτρέπουν να ελέγχετε ποιες λειτουργίες που μπορείτε να κάνετε σε μεμονωμένες στήλες, πινάκων, προβολών, διαδικασίες και άλλα αντικείμενα στη βάση δεδομένων.
* [Απομίμησης](https://msdn.microsoft.com/library/vstudio/bb669087) και την [υπογραφή λειτουργική μονάδα](https://msdn.microsoft.com/library/bb669102) μπορεί να χρησιμοποιηθεί για την ασφαλή η αναβάθμιση προσωρινά δικαιώματα.
* [Ασφάλεια σε επίπεδο γραμμής](https://msdn.microsoft.com/library/dn765131) μπορεί να χρησιμοποιηθεί όριο το οποίο γραμμών χρήστη μπορούν να έχουν πρόσβαση.
* [Εφαρμογή μάσκας δεδομένων](sql-database-dynamic-data-masking-get-started.md) μπορεί να χρησιμοποιηθεί για να περιορίσετε την έκθεση ευαίσθητα δεδομένα.
* [Αποθηκευμένες διαδικασίες](https://msdn.microsoft.com/library/ms190782) μπορεί να χρησιμοποιηθεί για να περιορίσετε τις ενέργειες που μπορούν να ληφθούν από τη βάση δεδομένων.

Διαχείριση βάσεων δεδομένων και λογική διακομιστές από την πύλη κλασική Azure ή τη χρήση του API διαχείρισης πόρων Azure ελέγχεται από εκχώρησης ρόλου του λογαριασμού σας χρήστη της πύλης. Για περισσότερες πληροφορίες σχετικά με αυτό το θέμα, ανατρέξτε στο θέμα [Έλεγχος πρόσβασης βάσει ρόλων στην πύλη Azure](../active-directory./role-based-access-control-configure.md).


## <a name="encryption"></a>Κρυπτογράφηση

Βάση δεδομένων SQL του Azure μπορεί να σας βοηθήσει να προστατεύσετε τα δεδομένα σας, κρυπτογραφώντας τα δεδομένα σας όταν είναι "στο υπόλοιπο" ή είναι αποθηκευμένα σε αρχεία βάσεων δεδομένων και δημιουργία αντιγράφων ασφαλείας, χρησιμοποιώντας [Διαφανή κρυπτογράφηση δεδομένων](http://go.microsoft.com/fwlink/?LinkId=526242). Για να κρυπτογραφήσετε τη βάση δεδομένων, συνδεθείτε ως κάτοχος της βάσης δεδομένων και εκτέλεση:

```
ALTER DATABASE [AdventureWorks] SET ENCRYPTION ON;
```

Για άλλους τρόπους για να κρυπτογραφήσετε το απόρρητο δεδομένων, μπορείτε να:

* [Κελί επίπεδο κρυπτογράφησης](https://msdn.microsoft.com/library/ms179331.aspx) για να κρυπτογραφήσετε συγκεκριμένες στήλες ή ακόμη και κελιών δεδομένων με διαφορετικά κλειδιά κρυπτογράφησης.
* Εάν χρειάζεστε μια λειτουργική μονάδα ασφαλείας υλικού ή κεντρικής διαχείρισης της ιεραρχίας κλειδιού κρυπτογράφησης, εξετάστε το ενδεχόμενο χρήσης [Azure κλειδί θάλαμο με τον SQL Server σε μια Εικονική Azure](http://blogs.technet.com/b/kv/archive/2015/01/12/using-the-key-vault-for-sql-server-encryption.aspx).
* [Πάντα κρυπτογραφημένα](https://msdn.microsoft.com/library/mt163865.aspx) (στην έκδοση preview) κάνει κρυπτογράφησης διαφανές για τις εφαρμογές και επιτρέπει στους υπολογιστές-πελάτες για να κρυπτογραφήσετε ευαίσθητα δεδομένα μέσα σε εφαρμογές προγράμματος-πελάτη χωρίς κοινή χρήση των κλειδιών κρυπτογράφησης με βάση δεδομένων SQL.

## <a name="auditing"></a>Έλεγχος

Τον έλεγχο και την παρακολούθηση συμβάντων βάσης δεδομένων μπορεί να σας βοηθήσει να διατηρήσετε την εφαρμογή ρυθμιστικών διατάξεων και να αναγνωρίσετε ύποπτη δραστηριότητα. Έλεγχος βάσης δεδομένων SQL σας επιτρέπει να εγγράψετε συμβάντα στη βάση δεδομένων σας για να ελέγχου συνδεθείτε στο λογαριασμό σας στο χώρο αποθήκευσης Azure. Έλεγχος βάσης δεδομένων SQL επίσης ενοποιείται με το Microsoft Power BI για να διευκολύνετε τη διερεύνηση αναφορές και αναλύσεις. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Γρήγορα αποτελέσματα με τον έλεγχο βάσης δεδομένων SQL](sql-database-auditing-get-started.md).

Εντοπισμός απειλή βάση δεδομένων SQL παρέχει ένα πρόσθετο επίπεδο ασφάλειας επάνω σε έλεγχος. Σας επιτρέπει να απαντήσετε σε απειλές καθώς προκύπτουν, παρέχοντας προειδοποιήσεις ασφαλείας σχετικά με δραστηριότητες ύπαρξη. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Γρήγορα αποτελέσματα με τον εντοπισμό απειλή βάσης δεδομένων SQL](sql-database-threat-detection-get-started.md).  

## <a name="compliance"></a>Συμμόρφωση

Εκτός από τις παραπάνω δυνατότητες και λειτουργίες που πληρούν τις απαιτήσεις διάφορες συμμόρφωσης ασφαλείας, βάση δεδομένων SQL Azure επίσης την εφαρμογή σας μπορεί να σας βοηθήσει να συμμετέχει σε κανονική ελέγχων και έχει πιστοποιηθεί σύμφωνα με έναν αριθμό πρότυπα συμμόρφωσης. Για περισσότερες πληροφορίες, ανατρέξτε στο [Κέντρο αξιοπιστίας της Microsoft Azure](https://azure.microsoft.com/support/trust-center/), όπου μπορείτε να βρείτε την πιο πρόσφατη λίστα της [βάσης δεδομένων SQL συμμόρφωσης πιστοποιήσεις](https://azure.microsoft.com/support/trust-center/services/).
