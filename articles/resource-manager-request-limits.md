<properties
   pageTitle="Azure όρια αίτησης από διαχειριστή πόρων | Microsoft Azure"
   description="Περιγράφει τον τρόπο χρήσης του περιορισμού με τη διαχείριση πόρων Azure αιτήσεις όταν έχετε έχει φτάσει όρια συνδρομής."
   services="azure-resource-manager"
   documentationCenter="na"
   authors="tfitzmac"
   manager="timlt"
   editor="tysonn"/>

<tags
   ms.service="azure-resource-manager"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="10/07/2016"
   ms.author="tomfitz"/>

# <a name="throttling-resource-manager-requests"></a>Διαχείριση πόρων αιτήσεις περιορισμού

Για κάθε συνδρομής και μισθωτή, διαχείριση πόρων όρια αιτήσεων σε 15.000 ανά ώρα αιτήσεις ανάγνωσης και εγγραφής για να 1.200 € ανά ώρα. Εάν σας εφαρμογή ή δέσμη ενεργειών φτάσει σε αυτά τα όρια, πρέπει να επιτάχυνσης αιτήσεις σας. Αυτό το θέμα δείχνει πώς να καθορίσετε τις υπόλοιπες αιτήσεις έχετε πριν να επικοινωνούν μαζί του ορίου και πώς να ανταποκρίνεται όταν έχετε φτάσει το όριο.

Όταν φτάσετε το όριο, εμφανίζεται ο κωδικός κατάστασης HTTP **429 υπερβολικά πολλές αιτήσεις**.

Ο αριθμός των αιτήσεων έχει εύρος για τη συνδρομή σας ή μισθωτή σας. Εάν έχετε πολλά, ταυτόχρονες αιτήσεις πραγματοποίηση αιτήσεις στη συνδρομή σας, οι αιτήσεις από αυτές τις εφαρμογές προστίθενται μαζί, για να καθορίσετε τον αριθμό των υπόλοιπων αιτήσεις.

Οι αιτήσεις συνδρομής εμβέλεια είναι αυτά τα involve διέρχεται το αναγνωριστικό συνδρομής, όπως την ανάκτηση του πόρου ομαδοποιεί με τη συνδρομή σας. Αιτήσεις μισθωτή εύρος δεν περιλαμβάνει το αναγνωριστικό συνδρομής, όπως την ανάκτηση έγκυρες Azure θέσεις.

## <a name="remaining-requests"></a>Υπόλοιπη αιτήσεις

Μπορείτε να καθορίσετε τον αριθμό των υπόλοιπων αιτήσεις εξετάζοντας κεφαλίδες απόκρισης. Κάθε αίτηση περιλαμβάνει τιμές για τον αριθμό των υπόλοιπων ανάγνωση και αιτήσεις εγγραφής. Ο παρακάτω πίνακας περιγράφει τις κεφαλίδες απόκρισης, μπορείτε να εξετάσετε για αυτές τις τιμές:

| Κεφαλίδας απόκρισης | Περιγραφή |
| --------------- | ----------- |
| x-MS-ratelimit-Remaining-Subscription-reads | Συνδρομή εύρος διαβάζει υπόλοιπο |
| x-MS-ratelimit-Remaining-Subscription-writes | Συνδρομή εύρος συντάσσει υπόλοιπο |
| x-MS-ratelimit-Remaining-tenant-reads | Εύρος μισθωτή διαβάζει υπόλοιπο |
| x-MS-ratelimit-Remaining-tenant-writes | Εύρος μισθωτή συντάσσει υπόλοιπο |
| x-MS-ratelimit-Remaining-Subscription-Resource-Requests | Συνδρομή εύρος υπόλοιπη αιτήσεις type πόρου.<br /><br />Αυτή η τιμή κεφαλίδας επιστρέφεται μόνο εάν μια υπηρεσία έχει παρακάμψει το προεπιλεγμένο όριο. Διαχείριση πόρων προσθέτει αυτήν την τιμή αντί για τη συνδρομή διαβάζει ή εγγραφές. |
| x-MS-ratelimit-Remaining-Subscription-Resource-ENTITIES-Read | Συνδρομή εύρος αιτήσεις συλλογής τύπος πόρου που απομένει.<br /><br />Αυτή η τιμή κεφαλίδας επιστρέφεται μόνο εάν μια υπηρεσία έχει παρακάμψει το προεπιλεγμένο όριο. Αυτή η τιμή παρέχει ο αριθμός των υπόλοιπων συλλογής αιτήσεων (λίστα πόρους). |
| x-MS-ratelimit-Remaining-tenant-Resource-Requests | Μισθωτή εύρος υπόλοιπη αιτήσεις type πόρου.<br /><br />Αυτή η κεφαλίδα προστίθεται μόνο για αιτήσεις σε επίπεδο μισθωτή και μόνο εάν μια υπηρεσία έχει παρακάμψει το προεπιλεγμένο όριο. Διαχείριση πόρων προσθέτει αυτήν την τιμή αντί για το μισθωτή διαβάζει ή εγγραφές. |
| x-MS-ratelimit-Remaining-tenant-Resource-ENTITIES-Read | Μισθωτή εύρος αιτήσεις συλλογής τύπος πόρου που απομένει.<br /><br />Αυτή η κεφαλίδα προστίθεται μόνο για αιτήσεις σε επίπεδο μισθωτή και μόνο εάν μια υπηρεσία έχει παρακάμψει το προεπιλεγμένο όριο. |

## <a name="retrieving-the-header-values"></a>Ανάκτηση τις τιμές κεφαλίδας

Ανάκτηση αυτές τις τιμές κεφαλίδας στο κώδικα ή δέσμης ενεργειών είναι δεν διαφέρει από την ανάκτηση οποιαδήποτε τιμή κεφαλίδας. 

Για παράδειγμα, στο **C#**, κάνετε ανάκτηση η τιμή κεφαλίδας από ένα αντικείμενο **HttpWebResponse** με το όνομα **Απάντηση** με τον ακόλουθο κώδικα:

    response.Headers.GetValues("x-ms-ratelimit-remaining-subscription-reads").GetValue(0)

Στο **PowerShell**, μπορείτε να ανακτήσετε την τιμή κεφαλίδας από μια λειτουργία WebRequest ενεργοποίηση.

    $r = Invoke-WebRequest -Uri https://management.azure.com/subscriptions/{guid}/resourcegroups?api-version=2016-09-01 -Method GET -Headers $authHeaders
    $r.Headers["x-ms-ratelimit-remaining-subscription-reads"]
    
Ή, εάν θέλετε να δείτε τις υπόλοιπες αιτήσεις για τον εντοπισμό σφαλμάτων, μπορείτε να παρέχετε το **-Εντοπισμός σφαλμάτων** παραμέτρου σε το cmdlet του **PowerShell** .

    Get-AzureRmResourceGroup -Debug
    
Που επιστρέφει πολλές πληροφορίες, όπως την ακόλουθη τιμή απόκριση:

    ...
    DEBUG: ============================ HTTP RESPONSE ============================

    Status Code:
    OK

    Headers:
    Pragma                        : no-cache
    x-ms-ratelimit-remaining-subscription-reads: 14999
    ...

Στο **Azure CLI**, μπορείτε να ανακτήσετε την τιμή κεφαλίδας, χρησιμοποιώντας την επιλογή πιο λεπτομερή.

    azure group list -vv --json

Που επιστρέφει μια πολλά στοιχεία, συμπεριλαμβανομένων των εξής αντικειμένου:

    ...
    silly: returnObject
    {
      "statusCode": 200,
      "header": {
        "cache-control": "no-cache",
        "pragma": "no-cache",
        "content-type": "application/json; charset=utf-8",
        "expires": "-1",
        "x-ms-ratelimit-remaining-subscription-reads": "14998",
        ...

## <a name="waiting-before-sending-next-request"></a>Αναμονή πριν από την αποστολή επόμενη αίτηση

Όταν φτάσετε το όριο αίτησης, διαχείριση πόρων επιστρέφει ο κωδικός κατάστασης **429** HTTP και μια **"Επανάληψη"-μετά την** τιμή στην κεφαλίδα. Το **"Επανάληψη"-μετά την** τιμή καθορίζει τον αριθμό των δευτερολέπτων που θα πρέπει να περιμένετε την εφαρμογή σας (ή αναστολής) πριν από την αποστολή της επόμενης αίτησης. Εάν στείλετε μια αίτηση πριν από την τιμή "Επανάληψη" έχει παρέλθει, δεν είναι επεξεργασία της αίτησής σας και επιστρέφεται μια νέα τιμή "Επανάληψη".
