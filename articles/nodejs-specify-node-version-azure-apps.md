<properties
    pageTitle="Καθορισμός μιας έκδοσης Node.js"
    description="Μάθετε πώς μπορείτε να καθορίσετε την έκδοση του Node.js που χρησιμοποιείται από το Azure τοποθεσίες Web και τις υπηρεσίες Cloud"
    services=""
    documentationCenter="nodejs"
    authors="rmcmurray"
    manager="wpickett"
    editor=""/>

<tags
    ms.service="multiple"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="nodejs"
    ms.topic="article"
    ms.date="08/11/2016"
    ms.author="robmcm"/>

# <a name="specifying-a-nodejs-version-in-an-azure-application"></a>Καθορισμός μιας έκδοσης Node.js σε μια εφαρμογή του Azure

Όταν φιλοξενίας μιας εφαρμογής Node.js, μπορείτε να διασφαλίσετε ότι η εφαρμογή σας χρησιμοποιεί μια συγκεκριμένη έκδοση της Node.js. Υπάρχουν πολλοί τρόποι για να πραγματοποιήσετε αυτές τις εφαρμογές που φιλοξενούνται στο Azure.

##<a name="default-versions"></a>Προεπιλεγμένες εκδόσεις

Οι εκδόσεις Node.js που παρέχεται από Azure ενημερώνονται συνεχώς. Εκτός εάν ορίζεται διαφορετικά, η προεπιλεγμένη έκδοση που καθορίζεται στο το `WEBSITE_NODE_DEFAULT_VERSION` μεταβλητή περιβάλλοντος θα χρησιμοποιηθεί. Για να παρακάμψετε αυτήν την προεπιλεγμένη τιμή, ακολουθήστε τα βήματα στις ακόλουθες ενότητες αυτού του άρθρου

> [AZURE.NOTE] Εάν διαθέτετε την εφαρμογή σας σε μια υπηρεσία Cloud Azure (ρόλος web ή εργαζόμενου) και είναι η πρώτη φορά που έχετε αναπτύξει την εφαρμογή, Azure θα επιχειρήσει να χρησιμοποιήσει την ίδια έκδοση του Node.js που έχετε εγκαταστήσει στο περιβάλλον ανάπτυξής σας Εάν ταιριάζει με μία από τις διαθέσιμες σε Azure προεπιλεγμένες εκδόσεις.

##<a name="versioning-with-packagejson"></a>Διαχείριση εκδόσεων με package.json

Μπορείτε να καθορίσετε την έκδοση του Node.js που θα χρησιμοποιηθεί, προσθέτοντας τα εξής στο αρχείο σας **package.json** :

    "engines":{"node":version}

Όπου *έκδοση* είναι το συγκεκριμένο αριθμό έκδοσης για να χρησιμοποιήσετε. Μπορείτε να μπορούν να καθορίσετε πιο σύνθετες συνθήκες για την έκδοση, όπως:

    "engines":{"node": "0.6.22 || 0.8.x"}

Επειδή το 0.6.22 δεν είναι μία από τις εκδόσεις που είναι διαθέσιμα στο περιβάλλον φιλοξενίας, την υψηλότερη έκδοση του το 0,8 θα έχουν τη σειρά που είναι διαθέσιμη χρησιμοποιηθεί - 0.8.4.

##<a name="versioning-websites-with-app-settings"></a>Τοποθεσίες Web διαχείρισης εκδόσεων με τις ρυθμίσεις εφαρμογής
Εάν διαθέτετε την εφαρμογή σε μια τοποθεσία Web, μπορείτε να ορίσετε τη μεταβλητή περιβάλλοντος **WEBSITE_NODE_DEFAULT_VERSION** στην επιθυμητή έκδοση. 

##<a name="versioning-cloud-services-with-powershell"></a>Υπηρεσίες διαχείρισης εκδόσεων Cloud με το PowerShell

Εάν φιλοξενείτε την εφαρμογή σε μια υπηρεσία στο Cloud και ανάπτυξη της εφαρμογής με χρήση του PowerShell Azure, μπορείτε να παρακάμψετε στην προεπιλεγμένη έκδοση Node.js χρησιμοποιώντας το cmdlet **Set-AzureServiceProjectRole** PowerShell. Για παράδειγμα:

    Set-AzureServiceProjectRole WebRole1 Node 0.8.4

Σημείωση Οι παράμετροι στην παραπάνω πρόταση διάκριση πεζών-κεφαλαίων.  Μπορείτε να επαληθεύσετε τη σωστή έκδοση του Node.js έχει επιλεγεί, επιλέγοντας την ιδιότητα **μηχανισμών** στο ο ρόλος σας **package.json**.

Μπορείτε επίσης να χρησιμοποιήσετε το **Get-AzureServiceProjectRoleRuntime** για να ανακτήσετε μια λίστα των εκδόσεων Node.js διαθέσιμη για εφαρμογές που φιλοξενούνται ως υπηρεσία στο Cloud.  Πάντα, επαληθεύστε την έκδοση του Node.js εξαρτάται από το έργο σας είναι σε αυτήν τη λίστα.

##<a name="using-a-custom-version-with-azure-websites"></a>Χρήση μιας προσαρμοσμένης έκδοσης με Azure τοποθεσίες Web

Ενώ Azure παρέχει πολλές εκδόσεις προεπιλεγμένη Node.js, μπορείτε να χρησιμοποιήσετε μια έκδοση που δεν παρέχεται από προεπιλογή. Εάν η εφαρμογή σας φιλοξενείται ως μια τοποθεσία Web του Azure, μπορείτε να το κάνετε χρησιμοποιώντας το αρχείο **iisnode.yml** . Τα παρακάτω βήματα θα κατά τη διαδικασία με τη χρήση μιας προσαρμοσμένης έκδοσης του Node.Js με μια τοποθεσία Web του Azure:

1. Δημιουργήστε ένα νέο κατάλογο και, στη συνέχεια, να δημιουργήσετε ένα αρχείο **server.js** εντός του καταλόγου. Το αρχείο **server.js** θα πρέπει να περιλαμβάνουν τα εξής:

        var http = require('http');
        http.createServer(function(req,res) {
          res.writeHead(200, {'Content-Type': 'text/html'});
          res.end('Hello from Azure running node version: ' + process.version + '</br>');
        }).listen(process.env.PORT || 3000);

    Αυτό θα εμφανίσει την έκδοση Node.js που χρησιμοποιείται όταν κάνετε περιήγηση στην τοποθεσία Web.

2. Δημιουργήστε μια νέα τοποθεσία Web και σημειώστε το όνομα της τοποθεσίας. Για παράδειγμα, τα ακόλουθα χρησιμοποιεί το [Azure εργαλεία γραμμής εντολών] για να δημιουργήσετε μια νέα τοποθεσία Web του Azure **mywebsite**με το όνομα και, στη συνέχεια, να ενεργοποιήσετε ένα αποθετήριο Git για την τοποθεσία Web.

        azure site create mywebsite --git

3. Δημιουργήστε έναν νέο κατάλογο που ονομάζεται **Ανακύκλωσης** ως θυγατρικό του καταλόγου που περιέχει το αρχείο **server.js** .

4. Κάντε λήψη του τη συγκεκριμένη έκδοση του **node.exe** (την έκδοση των Windows) που θέλετε να χρησιμοποιήσετε με την εφαρμογή. Για παράδειγμα, τα ακόλουθα χρησιμοποιεί **curl** για να κάνετε λήψη έκδοση 0.8.1:

        curl -O http://nodejs.org/dist/v0.8.1/node.exe

    Αποθηκεύστε το αρχείο **node.exe** στο φάκελο **bin** που δημιουργήσατε προηγουμένως.

5. Δημιουργία ενός αρχείου **iisnode.yml** στον ίδιο κατάλογο με το αρχείο **server.js** και, στη συνέχεια, προσθέστε το παρακάτω περιεχόμενο στο αρχείο **iisnode.yml** :

        nodeProcessCommandLine: "D:\home\site\wwwroot\bin\node.exe"

    Αυτή η διαδρομή είναι όπου το αρχείο **node.exe** μέσα στο έργο σας θα βρίσκονται αφού έχετε δημοσιεύσει την εφαρμογή σας στην τοποθεσία Web του Azure.

6. Δημοσιεύστε την εφαρμογή σας. Για παράδειγμα, επειδή το να δημιουργήσει μια νέα τοποθεσία Web με την παράμετρο--git νωρίτερα, τις παρακάτω εντολές θα προσθέσετε τα αρχεία της εφαρμογής μου τοπικό αρχείο φύλαξης Git και, στη συνέχεια, push τους στο αποθετήριο τοποθεσία Web:

        git add .
        git commit -m "testing node v0.8.1"
        git push azure master

    Μετά την εφαρμογή έχει δημοσιευθεί, ανοίξτε την τοποθεσία Web σε ένα πρόγραμμα περιήγησης. Θα πρέπει να δείτε ένα μήνυμα που αναφέρει "Hello από Azure εκτελείται έκδοση κόμβου: v0.8.1".

##<a name="next-steps"></a>Επόμενα βήματα

Τώρα που γνωρίζετε τον τρόπο για να καθορίσετε την έκδοση του Node.js χρησιμοποιούνται από την εφαρμογή σας, θα μάθετε πώς μπορείτε να [εργαστείτε με λειτουργικές μονάδες], [Δημιουργήστε και αναπτύξτε μια τοποθεσία Web Node.js]και [πώς μπορείτε να χρησιμοποιήσετε τα εργαλεία της γραμμής εντολών Azure για Mac και το Linux].

Για περισσότερες πληροφορίες, ανατρέξτε στο [Κέντρο για προγραμματιστές του Node.js](/develop/nodejs/).

[Πώς μπορείτε να χρησιμοποιήσετε τα εργαλεία της γραμμής εντολών Azure για Mac και το Linux]: xplat-cli-install.md
[Εργαλεία γραμμής εντολών Azure]: xplat-cli-install.md
[εργασία με λειτουργικές μονάδες]: nodejs-use-node-modules-azure-apps.md
[Δημιουργήστε και αναπτύξτε μια τοποθεσία Web Node.js]: web-sites-nodejs-develop-deploy-mac.md
