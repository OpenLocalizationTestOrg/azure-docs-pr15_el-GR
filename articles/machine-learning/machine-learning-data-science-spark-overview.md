<properties
    pageTitle="Επισκόπηση της επιστήμης δεδομένων χρησιμοποιώντας τους στο Azure HDInsight | Microsoft Azure"
    description="Το Κιτ εργαλείων MLlib τους εμφανίζει αξιοσημείωτη μηχανικής εκμάθησης μοντελοποίησης δυνατότητες για το περιβάλλον κατανέμεται HDInsight."
    services="machine-learning"
    documentationCenter=""
    authors="bradsev"
    manager="jhubbard"
    editor="cgronlun"  />

<tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="10/07/2016"
    ms.author="deguhath;bradsev;gokuma" />

# <a name="overview-of-data-science-using-spark-on-azure-hdinsight"></a>Επισκόπηση της επιστήμης δεδομένων χρησιμοποιώντας τους στο Azure HDInsight

[AZURE.INCLUDE [machine-learning-spark-modeling](../../includes/machine-learning-spark-modeling.md)]

Αυτή η οικογένεια προγραμμάτων των θεμάτων δείχνει πώς μπορείτε να χρησιμοποιήσετε τους HDInsight για να ολοκληρώσετε κοινές εργασίες science δεδομένων όπως κατάποσης δεδομένων, η δυνατότητα μηχανικής, μοντελοποίηση και μοντέλο αξιολόγησης. Τα δεδομένα που χρησιμοποιούνται είναι ένα δείγμα του 2013 νέα ΥΌΡΚΗ ταξί ταξιδιού και ναύλο συνόλου δεδομένων. Τα μοντέλα ενσωματωμένη περιλαμβάνουν εφοδιαστική και γραμμικής παλινδρόμησης, τυχαία συμπλεγμάτων δομών και δέντρα ενισχύεται διαβάθμισης. Τα θέματα εμφανίζονται επίσης πώς μπορείτε να αποθηκεύσετε αυτά τα μοντέλα στο χώρο αποθήκευσης αντικειμένων blob του Azure (WASB) και πώς μπορείτε να βαθμολογία και την αξιολόγησή τους πρόβλεψης επιδόσεων. Πιο σύνθετες θέματα καλύπτουν πώς μπορεί να είναι τα μοντέλα εκπαίδευση χρησιμοποιώντας θανόντων σταυρό επικύρωσης και hyper-παράμετρο. Αυτό το θέμα Επισκόπηση επίσης περιγράφει πώς μπορείτε να ρυθμίσετε το σύμπλεγμα τους που χρειάζεστε για να ολοκληρώσετε τα βήματα σε τρεις αναλυτικές παρουσιάσεις που παρέχονται. 

[Τους](http://spark.apache.org/) είναι μια παράλληλα ανοιχτού κώδικα επεξεργασίας framework που υποστηρίζει στη μνήμη επεξεργασίας για να ενισχύσει την απόδοση των εφαρμογών ανάλυσης μεγάλο δεδομένων. Μηχανισμός επεξεργασίας τους είναι σχεδιασμένες για ταχύτητα, ευκολία στη χρήση και εξελιγμένο analytics. Δυνατότητες στη μνήμη κατανέμεται κατά τον υπολογισμό του τους να είναι μια καλή επιλογή για επαναληπτικού αλγόριθμους σε μηχανικής εκμάθησης και graph υπολογισμούς. [MLlib](http://spark.apache.org/mllib/) είναι του τους μεταβλητού μεγέθους μηχανικής εκμάθησης βιβλιοθήκη που εμφανίζει δυνατότητες μοντελοποίησης αυτό κατανεμημένο περιβάλλον. 

[Τους HDInsight](../hdinsight/hdinsight-apache-spark-overview.md) είναι το Azure φιλοξενούμενη προσφοράς του ανοικτού κώδικα τους. Περιλαμβάνει επίσης υποστήριξη για τα **σημειωματάρια Jupyter PySpark** στο σύμπλεγμα τους που μπορεί να εκτελέσει αλληλεπιδραστικών ερωτήματα SQL τους για τη μεταμόρφωση, φιλτράρισμα και οπτικοποίηση δεδομένων που είναι αποθηκευμένα σε αντικείμενα blob του Azure (WASB). PySpark είναι το API Python για τους. Τα τμήματα κώδικα που παρέχουν τις λύσεις και να εμφανίσετε το σχετικό σχεδιάσεων για την απεικόνιση των δεδομένων εδώ εκτέλεση στα σημειωματάρια Jupyter εγκατεστημένο στον των συμπλεγμάτων τους. Τα βήματα μοντελοποίηση σε αυτά τα θέματα περιέχει κώδικα που δείχνει πώς μπορείτε να εκπαιδεύσετε, αξιολόγηση, αποθήκευση και κατανάλωση κάθε τύπο του μοντέλου. 

Τα βήματα ρύθμισης και κώδικα που παρέχεται σε αυτόν τον οδηγό είναι 1.6 τους 3.4 HDInsight. Ωστόσο, ο κώδικας εδώ και στο τα σημειωματάρια είναι γενικής χρήσης και θα πρέπει να εργαστείτε σε οποιαδήποτε σύμπλεγμα τους. Εάν δεν χρησιμοποιείτε HDInsight τους, τα βήματα ρύθμισης και τη Διαχείριση συμπλέγματος μπορεί να είναι λίγο διαφορετική από αυτό που φαίνεται εδώ.

## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

1ο πρέπει να έχετε μια συνδρομή του Azure. Εάν δεν έχετε ήδη ένα, ανατρέξτε στο θέμα [λήψη Azure δωρεάν δοκιμαστικής έκδοσης](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).

2 χρειάζεστε ένα σύμπλεγμα 1.6 τους 3.4 HDInsight για να ολοκληρώσετε αυτόν τον οδηγό. Για να δημιουργήσετε ένα, δείτε τις οδηγίες που παρέχονται στο [Γρήγορα αποτελέσματα: δημιουργία Apache τους σε Azure HDInsight](../hdinsight/hdinsight-apache-spark-jupyter-spark-sql.md). Το σύμπλεγμα τύπου και η έκδοση καθορίζεται από το μενού **Επιλογή τύπου για το σύμπλεγμα** . 


![](./media/machine-learning-data-science-spark-overview/spark-cluster-on-portal.png)

<!-- -->

> [AZURE.NOTE] Για ένα θέμα που σας δείχνει πώς μπορείτε να χρησιμοποιήσετε Scala και όχι Python για να ολοκληρώσετε εργασίες για μια διαδικασία φυσικής σε ολοκληρωμένες δεδομένων, ανατρέξτε στο θέμα του [Science δεδομένων με χρήση Scala με τους σε Azure](machine-learning-data-science-process-scala-walkthrough.md).

<!-- -->

>[AZURE.INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]


## <a name="the-nyc-2013-taxi-data"></a>Τα δεδομένα ταξί 2013 νέα ΥΌΡΚΗ

Τα δεδομένα του ταξιδιού ταξί νέα ΥΌΡΚΗ είναι 20 GB περίπου συμπιεσμένο τιμές διαχωρισμένες με κόμματα (CSV) αρχείων (χωρίς συμπίεση GB ~ 48), που περιλαμβάνει περισσότερες από 173 εκατομμύριο μεμονωμένα ταξίδια και το κομίστρων που καταβλήθηκε για κάθε ταξίδι. Κάθε εγγραφή ταξιδιού περιλαμβάνει τη συλλογή προς τα επάνω και απόθεσης θέση και ώρα, anonymized στοιχείο παραβίασης (του προγράμματος οδήγησης) αριθμό αδειών χρήσης και αριθμό medallion (μοναδικό αναγνωριστικό του ταξί). Τα δεδομένα καλύπτει όλα ταξίδια κατά το έτος 2013 και παρέχεται με τα παρακάτω δύο σύνολα δεδομένων για κάθε μήνα:

1. Τα αρχεία CSV 'trip_data' περιέχουν λεπτομέρειες ταξιδιού, όπως τον αριθμό των προσώπων, σηκώστε και dropoff σημείων, ενεργοποιούνται διάρκεια και μήκους ταξίδι. Ακολουθούν μερικές δειγμάτων εγγραφές:

        medallion,hack_license,vendor_id,rate_code,store_and_fwd_flag,pickup_datetime,dropoff_datetime,passenger_count,trip_time_in_secs,trip_distance,pickup_longitude,pickup_latitude,dropoff_longitude,dropoff_latitude
        89D227B655E5C82AECF13C3F540D4CF4,BA96DE419E711691B9445D6A6307C170,CMT,1,N,2013-01-01 15:11:48,2013-01-01 15:18:10,4,382,1.00,-73.978165,40.757977,-73.989838,40.751171
        0BD7C8F5BA12B88E0B67BED28BEA73D8,9FD8F69F0804BDB5549F40E9DA1BE472,CMT,1,N,2013-01-06 00:18:35,2013-01-06 00:22:54,1,259,1.50,-74.006683,40.731781,-73.994499,40.75066
        0BD7C8F5BA12B88E0B67BED28BEA73D8,9FD8F69F0804BDB5549F40E9DA1BE472,CMT,1,N,2013-01-05 18:49:41,2013-01-05 18:54:23,1,282,1.10,-74.004707,40.73777,-74.009834,40.726002
        DFD2202EE08F7A8DC9A57B02ACB81FE2,51EE87E3205C985EF8431D850C786310,CMT,1,N,2013-01-07 23:54:15,2013-01-07 23:58:20,2,244,.70,-73.974602,40.759945,-73.984734,40.759388
        DFD2202EE08F7A8DC9A57B02ACB81FE2,51EE87E3205C985EF8431D850C786310,CMT,1,N,2013-01-07 23:25:03,2013-01-07 23:34:24,1,560,2.10,-73.97625,40.748528,-74.002586,40.747868

2. Τα αρχεία CSV 'trip_fare' περιέχουν λεπτομέρειες στο ναύλο που καταβάλλεται για κάθε ταξιδιού, όπως τον τύπο πληρωμής, το ποσό ναύλο, πρόσθετης και των φόρων, συμβουλές και διόδια, και το συνολικό ποσό που καταβλήθηκε. Ακολουθούν μερικές δειγμάτων εγγραφές:

        medallion, hack_license, vendor_id, pickup_datetime, payment_type, fare_amount, surcharge, mta_tax, tip_amount, tolls_amount, total_amount
        89D227B655E5C82AECF13C3F540D4CF4,BA96DE419E711691B9445D6A6307C170,CMT,2013-01-01 15:11:48,CSH,6.5,0,0.5,0,0,7
        0BD7C8F5BA12B88E0B67BED28BEA73D8,9FD8F69F0804BDB5549F40E9DA1BE472,CMT,2013-01-06 00:18:35,CSH,6,0.5,0.5,0,0,7
        0BD7C8F5BA12B88E0B67BED28BEA73D8,9FD8F69F0804BDB5549F40E9DA1BE472,CMT,2013-01-05 18:49:41,CSH,5.5,1,0.5,0,0,7
        DFD2202EE08F7A8DC9A57B02ACB81FE2,51EE87E3205C985EF8431D850C786310,CMT,2013-01-07 23:54:15,CSH,5,0.5,0.5,0,0,6
        DFD2202EE08F7A8DC9A57B02ACB81FE2,51EE87E3205C985EF8431D850C786310,CMT,2013-01-07 23:25:03,CSH,9.5,0.5,0.5,0,0,10.5


Χρησιμοποιούμε έχουν ληφθεί ένα δείγμα 0,1% από αυτά τα αρχεία και να συνδεθεί το ταξίδι\_δεδομένων και ταξιδιού\_ναύλο CVS αρχεία σε ένα μεμονωμένο σύνολο δεδομένων για να χρησιμοποιήσετε ως του συνόλου δεδομένων εισόδου για αυτόν τον οδηγό. Το μοναδικό κλειδί για να συμμετάσχετε σε ταξίδι\_δεδομένων και ταξίδι\_ναύλο που αποτελείται από τα πεδία: medallion, στοιχείο παραβίασης\_πιστοποιητικό και απάντηση κλήσης από την\_ημερομηνίας/ώρας. Κάθε εγγραφή το σύνολο δεδομένων περιλαμβάνει τα παρακάτω χαρακτηριστικά που αντιπροσωπεύει ένα ταξίδι ταξί νέα ΥΌΡΚΗ:


|Πεδίο| Σύντομη περιγραφή
|------|---------------------------------
| Medallion |Anonymized ταξί medallion (ταξί μοναδικό αναγνωριστικό)
| hack_license |    Αριθμός anonymized Hackney μεταφορά άδειας χρήσης
| vendor_id |   Αναγνωριστικό προμηθευτή ταξί
| rate_code | Νέα ΥΌΡΚΗ ταξί ρυθμό ναύλο
| store_and_fwd_flag | Αποθήκευση και προώθηση σημαίας
| pickup_datetime | Επιλέξτε ημερομηνία & ώρα
| dropoff_datetime | Dropoff ημερομηνία & ώρα
| pickup_hour | Επιλέξτε ώρα
| pickup_week | Σηκώστε εβδομάδα του έτους
| ημέρα της εβδομάδας | Weekday (περιοχή 1-7)
| passenger_count | Αριθμός προσώπων σε ένα ταξίδι ταξί
| trip_time_in_secs | Χρόνος αποστολής και επιστροφής σε δευτερόλεπτα
| trip_distance | Απόσταση ταξιδιού που κάλυψε σε μίλια
| pickup_longitude | Σηκώστε γεωγραφικού
| pickup_latitude | Σηκώστε γεωγραφικό πλάτος
| dropoff_longitude | Dropoff γεωγραφικού
| dropoff_latitude | Γεωγραφικό πλάτος Dropoff
| direct_distance | Κατευθύνετε απόσταση μεταξύ επιλογή προς τα επάνω και dropoff θέσεις
| payment_type | Τύπος πληρωμής (αρχές έκδοσης πιστοποιητικών, πιστωτική κάρτα κ.λπ.)
| fare_amount | Ποσό ναύλο στο
| Τέλος | Τέλος
| mta_tax | MTA φόρου
| tip_amount | Συμβουλή ποσό
| tolls_amount | Ποσό διόδια
| total_amount | Συνολικό ποσό
| επικαλυπτόμενα | Με τμήμα στην άκρη (0/1 για χωρίς ή Ναι)
| tip_class | Συμβουλή κλάσης (0: $0, 1: $0-5, 2: $6-10, 3: $11-20, 4: > $20)


## <a name="execute-code-from-a-jupyter-notebook-on-the-spark-cluster"></a>Εκτέλεση κώδικα από ένα σημειωματάριο Jupyter στο σύμπλεγμα τους 

Μπορείτε να εκκινήσετε το Σημειωματάριο Jupyter από την πύλη του Azure. Βρείτε το σύμπλεγμά σας τους στον πίνακα εργαλείων σας και κάντε κλικ για να εισαγάγετε τη σελίδα διαχείρισης για το σύμπλεγμά σας. Για να ανοίξετε το Σημειωματάριο που σχετίζεται με το σύμπλεγμα τους, κάντε κλικ στην επιλογή **Πίνακες εργαλείων σύμπλεγμα** -> **Jupyter σημειωματαρίου** .

![](./media/machine-learning-data-science-spark-overview/spark-jupyter-on-portal.png)

Μπορείτε επίσης να περιηγηθείτε στο ***https://CLUSTERNAME.azurehdinsight.net/jupyter*** για να αποκτήσετε πρόσβαση στα σημειωματάρια Jupyter. Αντικαταστήστε το τμήμα CLUSTERNAME από αυτήν τη διεύθυνση URL με το όνομα του δικού σας συμπλέγματος. Χρειάζεστε τον κωδικό πρόσβασης για το λογαριασμό διαχειριστή για να αποκτήσετε πρόσβαση στα σημειωματάρια.

![](./media/machine-learning-data-science-spark-overview/spark-jupyter-notebook.png)

Επιλέξτε PySpark για να δείτε έναν κατάλογο που περιέχει μερικά παραδείγματα προ-συσκευασμένη τα σημειωματάρια που χρησιμοποιούν το API PySpark. Τα σημειωματάρια που περιέχει τα δείγματα κώδικα για αυτό οικογένεια του θέματος τους είναι διαθέσιμες στη [Github](https://github.com/Azure/Azure-MachineLearning-DataScience/tree/master/Misc/Spark/pySpark)


Μπορείτε να αποστείλετε τα σημειωματάρια απευθείας από το Github στο διακομιστή Jupyter σημειωματαρίου σε το σύμπλεγμά σας τους. Στην κεντρική σελίδα του Jupyter σας, κάντε κλικ στο κουμπί **Αποστολή** , στο δεξιό τμήμα της οθόνης. Ανοίγει ένα Εξερεύνηση αρχείων. Εδώ μπορείτε να επικολλήσετε τη διεύθυνση URL Github (ανεπεξέργαστα περιεχόμενο) του σημειωματαρίου και κάντε κλικ στην επιλογή **Άνοιγμα**. Τα σημειωματάρια PySpark είναι διαθέσιμες στη τις διευθύνσεις URL των εξής:

1.  [pySpark-machine-learning-data-science-spark-data-exploration-modeling.ipynb](https://github.com/Azure/Azure-MachineLearning-DataScience/blob/master/Misc/Spark/pySpark/pySpark-machine-learning-data-science-spark-data-exploration-modeling.ipynb)
2.  [pySpark-machine-learning-data-science-spark-model-consumption.ipynb](https://github.com/Azure/Azure-MachineLearning-DataScience/blob/master/Misc/Spark/pySpark/pySpark-machine-learning-data-science-spark-model-consumption.ipynb)
3.  [pySpark-machine-learning-data-science-spark-advanced-data-exploration-modeling.ipynb](https://github.com/Azure/Azure-MachineLearning-DataScience/blob/master/Misc/Spark/pySpark/pySpark-machine-learning-data-science-spark-advanced-data-exploration-modeling.ipynb)

Βλέπετε το όνομα του αρχείου στη λίστα αρχείο Jupyter με ένα κουμπί **αποστείλετε** ξανά. Κάντε κλικ σε αυτό το κουμπί **Αποστολή** . Τώρα που έχετε εισαγάγει το Σημειωματάριο. Επαναλάβετε αυτά τα βήματα για την αποστολή των άλλων σημειωματαρίων από αυτόν τον οδηγό.

> [AZURE.TIP] Μπορείτε να κάντε δεξί κλικ στις συνδέσεις από το πρόγραμμα περιήγησης και επιλέξτε **Αντιγραφή σύνδεσης** για να λάβετε τη διεύθυνση URL περιεχομένου ανεπεξέργαστα github. Μπορείτε να επικολλήσετε αυτή η διεύθυνση URL σε αποστολή Jupyter explorer πλαίσιο διαλόγου αρχείου.

Τώρα μπορείτε να κάνετε:

- Δείτε τον κωδικό, κάνοντας κλικ στο Σημειωματάριο.
- Εκτέλεση κάθε κελί πατώντας το συνδυασμό πλήκτρων **SHIFT-ENTER**.
- Εκτέλεση ολόκληρο το Σημειωματάριο, κάνοντας κλικ στο **κελί** -> **Εκτέλεση**.
- Χρησιμοποιήστε την αυτόματη απεικόνιση ερωτημάτων.

> [AZURE.TIP] Το πυρήνα PySpark απεικονίζει αυτόματα το αποτέλεσμα της ερωτήματα SQL (HiveQL). Σας δίνεται η επιλογή για να επιλέξετε από πολλούς διαφορετικούς τύπους από απεικονίσεις (πίνακα, πίτας, γραμμής, περιοχή ή ράβδων), χρησιμοποιώντας τα κουμπιά μενού **Τύπος** στο Σημειωματάριο:

![Καμπύλη ROC εφοδιαστική παλινδρόμησης για την προσέγγιση γενικής χρήσης](./media/machine-learning-data-science-spark-overview/pyspark-jupyter-autovisualization.png)

## <a name="whats-next"></a>Τι ακολουθεί;

Τώρα που έχουν ρυθμιστεί με ένα σύμπλεγμα HDInsight τους και έχετε αποστείλει τα σημειωματάρια Jupyter, είστε έτοιμοι να εργαστείτε με τα θέματα που αντιστοιχούν στα τρία σημειωματάρια PySpark. Εμφανίζονται πώς μπορείτε να εξερευνήσετε τα δεδομένα σας και, στη συνέχεια, τον τρόπο δημιουργίας και κατανάλωση μοντέλα. Το Σημειωματάριο Εξερεύνηση και μοντελοποίηση δεδομένων για προχωρημένους δείχνει πώς μπορείτε να συμπεριλάβετε σταυρό επικύρωσης, hyper-παραμέτρου σάρωση, και αξιολόγησης του μοντέλου. 

**Εξερεύνηση δεδομένων και μοντελοποίηση, με τους:** Εξερεύνηση του συνόλου δεδομένων και δημιουργία, βαθμολογία, και την αξιολόγησή του μηχανικής εκμάθησης μοντέλων με εργασία μέσω στο θέμα [Δημιουργία δυαδικό ταξινόμηση και μοντέλα παλινδρόμησης για τα δεδομένα με το Κιτ εργαλείων MLlib τους](machine-learning-data-science-spark-data-exploration-modeling.md) .

**Του μοντέλου κατανάλωση:** Για να μάθετε πώς μπορείτε να βαθμολογία τα μοντέλα ταξινόμηση και παλινδρόμησης που δημιουργήσατε σε αυτό το θέμα, ανατρέξτε στο θέμα [βαθμολογία και την αξιολόγησή τους ενσωματωμένη μηχανικής εκμάθησης μοντέλων](machine-learning-data-science-spark-model-consumption.md).

**Επικύρωση σταυρό και hyperparameter σάρωση**: ανατρέξτε στην ενότητα [Advanced Εξερεύνηση δεδομένων και μοντελοποίηση, με τους](machine-learning-data-science-spark-advanced-data-exploration-modeling.md) σε πώς μπορεί να είναι τα μοντέλα εκπαίδευση χρησιμοποιώντας σταυρό επικύρωσης και hyper-παράμετρο θανόντων

