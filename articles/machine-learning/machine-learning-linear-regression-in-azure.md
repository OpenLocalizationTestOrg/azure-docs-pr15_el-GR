<properties 
    pageTitle="Χρήση γραμμικής παλινδρόμησης στο μηχανικής εκμάθησης | Microsoft Azure" 
    description="Μια σύγκριση των μοντέλων γραμμικής παλινδρόμησης στο Excel και στο Azure μηχανικής εκμάθησης Studio" 
    metaKeywords="" 
    services="machine-learning" 
    documentationCenter="" 
    authors="garyericson" 
    manager="jhubbard" 
    editor="cgronlun"  />

<tags 
    ms.service="machine-learning" 
    ms.workload="data-services" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="09/09/2016" 
    ms.author="kbaroni;garye" />

# <a name="using-linear-regression-in-azure-machine-learning"></a>Χρήση γραμμικής παλινδρόμησης στο Azure μηχανικής εκμάθησης

> *Kate Baroni* και *Boatman Βασίλη* είναι αρχιτέκτονες λύση enterprise στο της Microsoft δεδομένων ιδέες κέντρο αριστείας. Σε αυτό το άρθρο περιγράφουν την εμπειρία τους μετεγκατάσταση μιας υπάρχουσας οικογένειας προγραμμάτων ανάλυσης παλινδρόμησης σε μια λύση που βασίζεται στο cloud, χρησιμοποιώντας Azure μηχανικής εκμάθησης.  
 
&nbsp; 
  
[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]  
 
## <a name="goal"></a>Στόχος

Το έργο με δύο στόχους υπόψη:  

1. Πρόβλεψης αναλυτικών στοιχείων χρήσης για να βελτιώσετε την ακρίβεια των μηνιαίων προβλέψεις εσόδων της εταιρείας μας  
2. Χρησιμοποιήστε Azure ML για να επιβεβαιώσετε, βελτιστοποίηση, αύξηση ταχύτητας, και την κλίμακα των αποτελεσμάτων τους.  

Όπως πολλές επιχειρήσεις, της εταιρείας μας, έχετε μια μηνιαία εσόδων προβλέψεις διαδικασία. Μας ομάδας για μικρές επιχειρήσεις αναλυτές έχει ανατεθεί με χρήση μηχανικής εκμάθησης για την υποστήριξη της διαδικασίας και τη βελτίωση της ακρίβειας πρόβλεψης.  Η ομάδα που αναλώθηκε πολλούς μήνες συλλογή δεδομένων από πολλές προελεύσεις και την εκτέλεση τα χαρακτηριστικά δεδομένων μέσω στατιστικής ανάλυσης εντοπισμός κλειδιού χαρακτηριστικά σχετικά με τις υπηρεσίες πρόβλεψη πωλήσεων.  Επόμενα βήματα ήταν για να ξεκινήσετε τη δημιουργία πρωτοτύπων στατιστικές παλινδρόμησης μοντέλα των δεδομένων στο Excel.  Μέσα σε λίγα εβδομάδες έπρεπε ένα μοντέλο παλινδρόμησης του Excel που outperforming το τρέχον πεδίο και οικονομικών προβλέψεις διεργασίες. Αυτό γίνεται το αποτέλεσμα της πρόβλεψης γραμμής βάσης.  


Στη συνέχεια, θα σας να εκτελέσατε το επόμενο βήμα για να μετακίνηση μας πρόβλεψης ανάλυση στο Azure ML για να μάθετε πώς θα μπορούσε να βελτιώσετε Azure ML στις επιδόσεις πρόβλεψης.


## <a name="achieving-predictive-performance-parity"></a>Την επίτευξη ομοιομορφίας πρόβλεψης επιδόσεων

Το πρώτο προτεραιότητα ήταν για την επίτευξη ομοιομορφίας μεταξύ των μοντέλων παλινδρόμησης Azure ML και στο Excel.  Ο συγκεκριμένος ακριβώς τα ίδια δεδομένα και την ίδια διαίρεσης για εκπαίδευση και έλεγχος δεδομένων θέλουμε να επιτύχετε ομοιομορφίας πρόβλεψης επιδόσεων μεταξύ του Excel και Azure ML.   Αρχικά απέτυχε. Μοντέλο του Excel outperformed το μοντέλο Azure ML.   Το σφάλμα ήταν λόγω έλλειψης Κατανόηση της ρύθμισης βάσης εργαλείο στο Azure ML. Μετά από μια συγχρονισμός με την ομάδα του προϊόντος Azure ML, εργαζόμαστε που αποκτήθηκε καλύτερη κατανόηση της ρύθμισης απαιτείται για τα σύνολα δεδομένων βάσης και επίτευξη ομοιομορφίας μεταξύ των δύο μοντέλων.  

### <a name="create-regression-model-in-excel"></a>Δημιουργία μοντέλου παλινδρόμησης στο Excel
Το Excel παλινδρόμησης χρησιμοποιείται το μοντέλο τυπική γραμμικής παλινδρόμησης που βρέθηκε στο πακέτο εργαλείων ανάλυσης του Excel. 

Εργαζόμαστε υπολογισμού *σημαίνουν απόλυτη % σφάλματος* και χρησιμοποιείται ως η μέτρηση επιδόσεων για το μοντέλο.  Χρειάστηκαν 3 μήνες η εξεύρεση μοντέλου εργασία με το Excel.  Θα σας έφερε πολλές από την εκμάθηση σε την έρευνα Azure ML που ο τελικός ήταν χρήσιμα για Κατανόηση απαιτήσεις.

### <a name="create-comparable-experiment-in-azure-machine-learning"></a>Δημιουργία έρευνας συγκρίσιμη στο Azure μηχανικής εκμάθησης  
Θα σας ακολουθήσετε αυτά τα βήματα για να δημιουργήσετε μας έρευνας στο Azure ML:  

1.  Αποστολή του συνόλου δεδομένων ως αρχείο csv για Azure ML (πολύ μικρό αρχείο)
2.  Δημιουργείται μια νέα έρευνας και χρησιμοποιείται η [Επιλογή στηλών στο σύνολο δεδομένων] [ select-columns] λειτουργικής μονάδας για να επιλέξετε τις ίδιες δυνατότητες δεδομένων που χρησιμοποιούνται στο Excel   
3.  Χρησιμοποιούνται τα [Δεδομένα διαίρεσης] [ split] λειτουργική μονάδα (με λειτουργία *Σχετική παράσταση* ) για να διαιρέσετε τα δεδομένα σε ακριβή ίδια τρένο σύνολα, όπως είχε γίνει στο Excel  
4.  Experimented με [Γραμμική παλινδρόμηση] [ linear-regression] λειτουργική μονάδα (προεπιλογή επιλογές μόνο), που τεκμηριώνονται και σε σύγκριση τα αποτελέσματα για να μας μοντέλο παλινδρόμησης στο Excel

### <a name="review-initial-results"></a>Αρχικό Επισκόπηση αποτελεσμάτων
Αρχικά, το Excel μοντέλο outperformed με σαφήνεια το μοντέλο Azure ML:  

|   |Excel|Azure ML|
|---|:---:|:---:|
|Επιδόσεων|   |  |
|<ul style="list-style-type: none;"><li>Προσαρμοσμένο R τετράγωνο</li></ul>| 0.96 |Δ/Υ|
|<ul style="list-style-type: none;"><li>Συντελεστής <br />Προσδιορισμός</li></ul>|Δ/Υ|   0.78<br />(χαμηλή ακρίβεια)|
|Ο όρος απόλυτη σφάλματος |  $9. 5M|  $ 19.4 M|
|Ο όρος απόλυτη σφάλματος (%)|   6.03%|  12.2%

Όταν θα σας εκτελέστηκε του διεργασίας και των αποτελεσμάτων από τους προγραμματιστές και επιστήμονες δεδομένων της ομάδας για Azure ML, γρήγορα παρέχονται ορισμένες χρήσιμες συμβουλές.  

* Όταν χρησιμοποιείτε [Γραμμικής παλινδρόμησης] [ linear-regression] λειτουργική μονάδα σε Azure ML, παρέχονται δύο μεθόδους:
    *  Online διαβάθμιση καταγωγής: Ενδέχεται να είναι πιο κατάλληλη για προβλήματα ευρείας κλίμακας
    *  Συνήθεις ελάχιστων τετραγώνων: Αυτή είναι η μέθοδος περισσότερα άτομα θεωρήστε ότι όταν αυτά ακούσετε γραμμικής παλινδρόμησης. Για μικρές σύνολα δεδομένων, συνήθεις ελάχιστων τετραγώνων μπορεί να είναι η καλύτερη επιλογή.
*  Εξετάστε το ενδεχόμενο Προσαρμογή την παράμετρο L2 Regularization πάχος για βελτίωση της απόδοσης. Έχει ρυθμιστεί να 0.001 από προεπιλογή και για το μικρό σύνολο δεδομένων, μπορούμε να εγκαταστήσουμε το για να 0,005 για βελτίωση της απόδοσης.    

### <a name="mystery-solved"></a>Mystery επιλυθεί!
Όταν θα σας εφαρμόσει τις συστάσεις, θα σας επίτευξη τις ίδιες επιδόσεις γραμμής βάσης σε ML Azure ως με το Excel:   

|| Excel|Azure ML (αρχικό)|Azure ML με ελάχιστων τετραγώνων|
|---|:---:|:---:|:---:|
|Τιμή με ετικέτα  |Τα πραγματικά στοιχεία (αριθμητικού)|ίδιο|ίδιο|
|Μαθαίνω  |Excel -> δεδομένων ανάλυσης παλινδρόμησης ->|Γραμμική παλινδρόμηση.|Γραμμική παλινδρόμηση|
|Επιλογές μαθαίνω|Δ/Υ|Τις προεπιλεγμένες ρυθμίσεις|συνήθεις ελάχιστων τετραγώνων<br />L2 = 0,005|
|Σύνολο δεδομένων|26 γραμμών, 3 χαρακτηριστικά, 1 ετικέτας.   Αριθμητικό όλων.|ίδιο|ίδιο|
|Διαίρεση: τρένο|Excel εκπαίδευση στις πρώτα 18 γραμμών, ελεγχθεί στις γραμμές τελευταία 8.|ίδιο|ίδιο|
|Διαίρεση: έλεγχος|Τύπος παλινδρόμησης εφαρμοστεί η τελευταία 8 γραμμές του Excel|ίδιο|ίδιο|
|**Επιδόσεων**||||
|Προσαρμοσμένο R τετράγωνο|0.96|Δ/Υ||
|Συντελεστής προσδιορισμού|Δ/Υ|0.78|0.952049|
|Ο όρος απόλυτη σφάλματος |$9. 5M|$ 19.4 M|$9. 5M|
|Ο όρος απόλυτη σφάλματος (%)|<span style="background-color: 00FF00;">6.03%</span>|12.2%|<span style="background-color: 00FF00;">6.03%</span>|

Επιπλέον, οι συντελεστές Excel σε σύγκριση επίσης και με τα βάρη δυνατοτήτων του Azure εκπαιδευμένο μοντέλου:

||Συντελεστές Excel|Η δυνατότητα Azure βάρους|
|---|:---:|:---:|
|Σημείο τομής/πόλωση|19470209.88|19328500|
|Δυνατότητα A|0.832653063|0.834156|
|Η δυνατότητα B|11071967.08|11007300|
|Η δυνατότητα C|25383318.09|25140800|

## <a name="next-steps"></a>Επόμενα βήματα

Θέλουμε να εκμετάλλευση Azure ML υπηρεσίας web μέσα από το Excel.  Μας επιχειρησιακοί αναλυτές που βασίζονται στο Excel και θα σας χρειάζονται ένας τρόπος για να καλέσετε την υπηρεσία web Azure ML με μια γραμμή δεδομένων του Excel και να το η προβλεπόμενη τιμή επιστροφής στο Excel.   

Επίσης θέλουμε να μας το μοντέλο, χρησιμοποιώντας τις επιλογές και αλγόριθμοι που είναι διαθέσιμοι σε Azure ML.

### <a name="integration-with-excel"></a>Ενοποίηση με το Excel
Οι λύσεις μας ήταν να operationalize μας μοντέλο παλινδρόμησης Azure ML, δημιουργώντας μια υπηρεσία web από το μοντέλο εκπαιδευμένο.  Μέσα σε λίγα λεπτά, που δημιουργήθηκε από την υπηρεσία web και θα μπορούσε να το ονομάζουμε απευθείας από το Excel για να επιστρέψει μια τιμή προβλεπόμενες εσόδων.    

Στην ενότητα *Πίνακα εργαλείων υπηρεσιών Web* περιλαμβάνει ένα βιβλίο εργασίας του Excel με δυνατότητα λήψης.  Το βιβλίο εργασίας περιλαμβάνει την υπηρεσία API και σχήματος πληροφοριών web ενσωματωμένο προ-διαμορφωμένα.   Όταν κάνετε κλικ σε *Κάντε λήψη του βιβλίου εργασίας του Excel*, ανοίγει και μπορείτε να το αποθηκεύσετε στον τοπικό σας υπολογιστή.    

![][1]
 
Με τα ανοιχτά βιβλία εργασίας, αντιγράψτε τις προκαθορισμένες παραμέτρους στην ενότητα μπλε παραμέτρου, όπως φαίνεται παρακάτω.  Αφού οι παράμετροι έχουν καταχωρηθεί, Excel κλήσεις στην υπηρεσία web AzureML και το προβλεπόμενες έχει βαθμολογηθεί ετικέτες θα εμφανίζονται στην ενότητα πράσινο προβλεπόμενες τιμές.  Το βιβλίο εργασίας θα συνεχίσουν να δημιουργήσετε προβλέψεων για παραμέτρους που βασίζεται σε μοντέλο σας εκπαιδευμένο για όλα τα στοιχεία γραμμής εισαχθεί στην ενότητα παραμέτρων.   Για περισσότερες πληροφορίες σχετικά με τη χρήση αυτής της δυνατότητας, ανατρέξτε στο θέμα [κατανάλωση μιας υπηρεσίας Web Azure μηχανικής εκμάθησης από το Excel](machine-learning-consuming-from-excel.md). 

![][2]
 
### <a name="optimization-and-further-experiments"></a>Βελτιστοποίηση και περαιτέρω δοκιμές
Τώρα που θα σας είχε μιας γραμμής βάσης με το μοντέλο του Excel, θα σας μετακινηθεί στο μέλλον να μας Azure ML γραμμικής παλινδρόμησης το μοντέλο.  Χρησιμοποιήσαμε τη λειτουργική μονάδα [Φιλτράρισμα με βάση τη δυνατότητα επιλογής] [ filter-based-feature-selection] για να βελτιώσετε την επιλογή μας των αρχικών δεδομένων στοιχεία και το βοήθησε μας για την επίτευξη μιας βελτίωση των επιδόσεων % 4.6 σημαίνουν απόλυτη σφάλματος.   Για τα μελλοντικά έργα, θα χρησιμοποιήσουμε αυτήν τη δυνατότητα που ήταν δυνατή η αποθήκευση μας εβδομάδες σε διαδοχικές προσεγγίσεις χαρακτηριστικά δεδομένων για να βρείτε το σωστό σύνολο δυνατοτήτων για να χρησιμοποιήσετε για μοντελοποίηση.  

Επόμενο στόχος μας είναι να συμπεριλάβετε πρόσθετους αλγόριθμους όπως [Bayesian] [ bayesian-linear-regression] ή [Ενισχύεται δέντρα αποφάσεων] [ boosted-decision-tree-regression] στο μας έρευνας για να συγκρίνετε τις επιδόσεις.    

Εάν θέλετε να πειραματιστείτε με παλινδρόμησης, ένα καλό σύνολο δεδομένων για να δοκιμάσετε είναι του συνόλου δεδομένων δείγμα παλινδρόμησης της αποδοτικότητας ενέργειας, το οποίο έχει πολλά αριθμητική χαρακτηριστικά. Το σύνολο δεδομένων παρέχεται ως μέρος του τα σύνολα δεδομένων δείγματος στο ML Studio.  Μπορείτε να χρησιμοποιήσετε μια ποικιλία εκμάθησης λειτουργικές μονάδες πρόβλεψη της φόρτωσης θέρμανσης ή ψύξης φόρτωση.  Το παρακάτω γράφημα είναι μια σύγκριση επιδόσεων διαφορετικό παλινδρόμησης μαθαίνει σε σχέση με την ενεργειακή απόδοση προβλέψεις σύνολο δεδομένων για τη μεταβλητή προορισμού φόρτωσης ψύξη: 

|Μοντέλο|Ο όρος απόλυτη σφάλματος|Ριζική μέση τιμή τετράγωνο σφάλματος|Σχετική απόλυτη σφάλματος|Σχετική τετράγωνο σφάλματος|Συντελεστής προσδιορισμού
|---|---|---|---|---|---
|Δέντρου αποφάσεων ενισχύεται|0.930113|1.4239|0.106647|0.021662|0.978338
|Γραμμική παλινδρόμηση (διαβάθμισης καταγωγής)|2.035693|2.98006|0.233414|0.094881|0.905119
|Παλινδρόμησης νευρικών δικτύου|1.548195|2.114617|0.177517|0.047774|0.952226
|Γραμμική παλινδρόμηση (συνήθεις ελάχιστων τετραγώνων)|1.428273|1.984461|0.163767|0.042074|0.957926  

## <a name="key-takeaways"></a>Πλήκτρο Takeaways 

Θα σας μάθατε συχνά από το τρέχον παλινδρόμησης Excel και Azure μηχανικής εκμάθησης πειραματισμούς παράλληλα. Δημιουργία του μοντέλου γραμμής βάσης στο Excel και να συγκρίνει με τα μοντέλα χρησιμοποιώντας Azure ML [Γραμμικής παλινδρόμησης] [ linear-regression] βοήθησε μας μάθετε Azure ML και θα σας εντόπισε ευκαιρίες για βελτίωση της απόδοσης επιλογής και το μοντέλο δεδομένων.         

Εντοπίσαμε επίσης ότι συνιστάται να χρησιμοποιήσετε την [επιλογή των δυνατοτήτων που βασίζεται στο φίλτρο] [ filter-based-feature-selection] για να επιταχύνετε την πρόβλεψη μελλοντικών έργων.  Εφαρμόζοντας τη δυνατότητα επιλογής στα δεδομένα σας, μπορείτε να δημιουργήσετε ένα βελτιωμένο μοντέλο σε Azure ML με καλύτερη συνολική απόδοση. 

Η δυνατότητα μεταφοράς του πρόβλεψης αναλυτικό προβλέψεις από το Azure ML στο Excel διασυστημικά επιτρέπει σημαντική αύξηση τη δυνατότητα να με επιτυχία παροχή αποτελεσμάτων σε ακροατήριο χρήστη γενικά επιχειρήσεις.     


## <a name="resources"></a>Πόροι
Για να μπορέσετε να εργαστείτε με παλινδρόμησης παρατίθενται ορισμένους πόρους:  

* Παλινδρόμησης στο Excel.  Εάν έχετε δοκιμάσει ποτέ παλινδρόμησης στο Excel, αυτό το πρόγραμμα εκμάθησης καθιστά εύκολη: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)
* Σύγκριση παλινδρόμησης προβλέψεις.  Tyler Chessman συντάξατε ένα άρθρο ιστολογίου που εξηγεί τον τρόπο χρόνου σειρά προβλέψεις στο Excel, το οποίο περιέχει καλή αρχάριους περιγραφή της γραμμικής παλινδρόμησης. [http://sqlmag.com/SQL-Server-Analysis-Services/understanding-Time-Series-forecasting-Concepts](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts)  
*   Συνήθεις ελάχιστων τετραγώνων γραμμικής παλινδρόμησης: Ελαττώματα, προβλήματα και μειονεκτήματα.  Για μια εισαγωγή και συζητήσεων παλινδρόμησης: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ )

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/
 
