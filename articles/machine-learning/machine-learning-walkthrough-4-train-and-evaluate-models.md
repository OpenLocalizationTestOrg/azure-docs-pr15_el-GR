<properties
    pageTitle="Βήμα 4: Εκπαίδευση και την αξιολόγησή τα μοντέλα πρόβλεψης αναλυτικό | Microsoft Azure"
    description="Βήμα 4 από την ανάπτυξη λύσης πρόβλεψης αναλυτικές οδηγίες: τρένο, βαθμολογία και Υπολογισμός πολλών μοντέλα στο Azure μηχανικής εκμάθησης Studio."
    services="machine-learning"
    documentationCenter=""
    authors="garyericson"
    manager="jhubbard"
    editor="cgronlun"/>

<tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="10/04/2016"
    ms.author="garye"/>


# <a name="walkthrough-step-4-train-and-evaluate-the-predictive-analytic-models"></a>Αναλυτικές οδηγίες βήμα 4: Εκπαίδευση και την αξιολόγησή του πρόβλεψης μοντέλα ανάλυσης

Αυτό το θέμα περιέχει το τέταρτο βήμα το αναλυτικές οδηγίες, [ανάπτυξη μιας λύσης πρόβλεψης ανάλυσης στο Azure μηχανικής εκμάθησης](machine-learning-walkthrough-develop-predictive-solution.md)


1.  [Δημιουργία χώρου εργασίας μηχανικής εκμάθησης](machine-learning-walkthrough-1-create-ml-workspace.md)
2.  [Αποστολή υπάρχοντα δεδομένα](machine-learning-walkthrough-2-upload-data.md)
3.  [Δημιουργήστε μια νέα έρευνας](machine-learning-walkthrough-3-create-new-experiment.md)
4.  **Εκπαίδευση και αξιολόγηση των μοντέλων**
5.  [Ανάπτυξη της υπηρεσίας web](machine-learning-walkthrough-5-publish-web-service.md)
6.  [Πρόσβαση στην υπηρεσία web](machine-learning-walkthrough-6-access-web-service.md)

----------

Ένα από τα πλεονεκτήματα της χρήσης του Azure μηχανικής εκμάθησης Studio για τη δημιουργία μηχανικής εκμάθησης μοντέλων έχει τη δυνατότητα να δοκιμάσετε περισσότερους από έναν τύπους μοντέλου κάθε φορά σε μια έρευνα και συγκρίνουν τα αποτελέσματα. Αυτός ο τύπος πειραματισμός σάς βοηθά να βρείτε την καλύτερη λύση για το πρόβλημά σας.

Στο την έρευνα που θα σας ανάπτυξη σε αυτές τις οδηγίες, θα σας θα δημιουργήσετε δύο διαφορετικούς τύπους μοντέλα και να συγκρίνετε, στη συνέχεια, τα αποτελέσματά τους βαθμολογίας για να αποφασίσετε ποια αλγόριθμο θέλουμε να χρησιμοποιήσετε στο μας τελικό έρευνας.  

Υπάρχουν διάφορα μοντέλα θα σας ενδέχεται να επιλέξουν. Για να δείτε τα διαθέσιμα μοντέλα, αναπτύξτε τον κόμβο **Μηχανικής εκμάθησης** στην παλέτα λειτουργική μονάδα και, στη συνέχεια, αναπτύξτε το στοιχείο **Μοντέλο προετοιμασία** και τους κόμβους από κάτω. Για τους σκοπούς της έρευνας σε αυτό, θα σας θα επιλέξετε την υποστήριξη ανύσματος υπολογιστή (SVM) και τις δέντρα αποφάσεων ενισχύεται δύο κατηγορίας λειτουργικές μονάδες.    

> [AZURE.TIP] Για να λάβετε βοήθεια σχετικά με το ποια βέλτιστη μηχανικής εκμάθησης αλγόριθμο σας εξυπηρετεί το συγκεκριμένο πρόβλημα που προσπαθείτε να επιλύσετε, δείτε [πώς μπορείτε να επιλέξετε αλγόριθμους για το Microsoft Azure μηχανικής εκμάθησης](machine-learning-algorithm-choice.md).

##<a name="train-the-models"></a>Εκπαίδευση των μοντέλων
Πρώτα, ας ρύθμιση στο μοντέλο δέντρου αποφάσεων ενισχύεται:  

1.  Εύρεση του [Δέντρου αποφάσεων ενισχύεται δύο κατηγορίας] [ two-class-boosted-decision-tree] λειτουργικής μονάδας από την παλέτα λειτουργική μονάδα και μεταφέρετέ τη στη τον καμβά.
2.  Βρείτε το [Μοντέλο τρένο] [ train-model] λειτουργική μονάδα, σύρετέ το στη τον καμβά και, στη συνέχεια, συνδέστε το αποτέλεσμα της λειτουργικής μονάδας δέντρου αποφάσεων ενισχύεται με το αριστερό θύρα εισόδου ("μη εκπαιδευμένων μοντέλο") από το [Μοντέλο τρένο] [ train-model] λειτουργική μονάδα.
    
    Του [Δέντρου αποφάσεων ενισχύεται δύο κατηγορίας] [ two-class-boosted-decision-tree] λειτουργική μονάδα προετοιμάζει το γενικό μοντέλο και [Εκπαίδευση μοντέλο] [ train-model] χρησιμοποιεί δεδομένα εκπαίδευση για την εκπαίδευση του μοντέλου. 
     
3.  Σύνδεση το αριστερό αποτέλεσμα ("σύνολο αποτελεσμάτων δεδομένων") από το αριστερό [Εκτέλεση δέσμης ενεργειών R] [ execute-r-script] λειτουργική μονάδα προς τα δεξιά εισαγωγής θύρα ("σύνολο δεδομένων") από το [Μοντέλο τρένο] [ train-model] λειτουργική μονάδα.

    > [AZURE.TIP] Δεν χρειαζόμαστε δύο από τα δεδομένα εισόδου και ένα από τα εξόδους από την [Εκτέλεση ενεργειών R] [ execute-r-script] λειτουργική μονάδα για αυτό έρευνας, ώστε να μας αφήστε τα συνημμένη. 

4.  Επιλέξτε το [Μοντέλο τρένο] [ train-model] λειτουργική μονάδα. Στο παράθυρο **Ιδιότητες** , κάντε κλικ στην επιλογή **Εκκίνηση επιλογής στήλης**, επιλέξτε **Όλοι οι τύποι** στην αναπτυσσόμενη λίστα προς τα κάτω στην περιοχή **Διαθέσιμες στήλες** και πληκτρολογήστε "Πιστωτικό κίνδυνο" στο πεδίο κειμένου. Επιλέξτε **Όλοι οι τύποι** , στην αναπτυσσόμενη λίστα στην περιοχή **Επιλεγμένες στήλες**. Επιλέξτε "Πιστωτικό κίνδυνο" και κάντε κλικ στο κουμπί επισήμανση βέλος για να το μετακινήσετε σε **Επιλεγμένες στήλες**. 
5.  Κάντε κλικ στην επιλογή **Αποθήκευση**.


Αυτό το τμήμα του την έρευνα τώρα είναι κάπως έτσι:  

![Εκπαίδευση μοντέλου][1]

Στη συνέχεια, μπορούμε να εγκαταστήσουμε το μοντέλο SVM.  

Πρώτα, λίγο επεξήγηση SVM. Δέντρα αποφάσεων ενισχύεται λειτουργούν καλύτερα με τις δυνατότητες του οποιονδήποτε τύπο. Ωστόσο, επειδή η λειτουργική μονάδα SVM δημιουργεί μια γραμμική τάξη, το μοντέλο που δημιουργεί έχει τη βέλτιστη σφάλματος δοκιμής όταν όλες οι δυνατότητες αριθμητική έχουν την ίδια κλίμακα. Για να μετατρέψετε όλες τις δυνατότητες του αριθμητική την ίδια κλίμακα, χρησιμοποιούμε ένα μετασχηματισμό "Tanh" (με τα [Δεδομένα κανονικοποίηση] [ normalize-data] λειτουργική μονάδα.) Αυτό μετατρέπει τους αριθμούς σε περιοχή [0,1]. Δυνατότητες συμβολοσειρά μετατρέπονται από τη λειτουργική μονάδα SVM έλαβε δυνατότητες και, στη συνέχεια, σε δυαδικό δυνατότητες 0/1, έτσι δεν πρέπει να με μη αυτόματο τρόπο μετασχηματισμός δυνατότητες συμβολοσειρά. Επίσης, δεν θέλουμε να μετασχηματισμός της στήλης πιστωτικό κίνδυνο (στήλη 21) - είναι αριθμητική, αλλά είναι η τιμή που θα σας εκπαίδευση στο μοντέλο πρόβλεψη, ώστε να πρέπει να αφήσετε μόνοι.  

Για να ρυθμίσετε το μοντέλο SVM, κάντε τα εξής:

1.  Εύρεση [Υπολογιστή ανύσματος υποστήριξη δύο κατηγορίας] [ two-class-support-vector-machine] λειτουργικής μονάδας από την παλέτα λειτουργική μονάδα και μεταφέρετέ τη στη τον καμβά.
2.  Κάντε δεξί κλικ στο [Μοντέλο τρένο] [ train-model] λειτουργικής μονάδας, επιλέξτε **Αντιγραφή**, και, στη συνέχεια, κάντε δεξί κλικ στον καμβά και επιλέξτε **Επικόλληση**. Το αντίγραφο του [Μοντέλου τρένο] [ train-model] λειτουργική μονάδα έχει την ίδια επιλογή στήλης με το αρχικό.
3.  Συνδέστε το αποτέλεσμα της λειτουργικής μονάδας SVM στην αριστερή εισαγωγής θύρα ("μη εκπαιδευμένων μοντέλο") το δεύτερο [Τρένο μοντέλο] [ train-model] λειτουργική μονάδα.
4.  Εύρεση των [Δεδομένων κανονικοποίηση] [ normalize-data] λειτουργική μονάδα και μεταφέρετέ τη στη τον καμβά.
5.  Σύνδεση της εισόδου της παρούσας ενότητας στην αριστερή έξοδο από το αριστερό [Εκτέλεση δέσμης ενεργειών R] [ execute-r-script] λειτουργική μονάδα (Σημειώστε ότι η θύρα εξόδου της λειτουργικής μονάδας ενδέχεται να είστε συνδεδεμένοι σε περισσότερους από έναν άλλο λειτουργική μονάδα).
6.  Συνδέστε τη θύρα αριστερό εξόδου ("μετασχηματισμό συνόλου δεδομένων") τα [Δεδομένα κανονικοποίηση] [ normalize-data] λειτουργική μονάδα προς τα δεξιά εισαγωγής θύρα ("σύνολο δεδομένων") το δεύτερο [Τρένο μοντέλο] [ train-model] λειτουργική μονάδα.
7.  Στο παράθυρο **ιδιοτήτων** για τα [Δεδομένα κανονικοποίηση] [ normalize-data] λειτουργικής μονάδας, επιλέξτε **Tanh** για την παράμετρο **μετασχηματισμού μέθοδο** .
8.  Κάντε κλικ στην επιλογή **Εκκίνηση επιλογής στήλης**, επιλέξτε "Χωρίς στήλες" για **Αρχίζει από**, **επιλέξτε στην πρώτη αναπτυσσόμενη λίστα** , επιλέξτε **Τύπος στήλης** στη δεύτερη αναπτυσσόμενη λίστα, και επιλέξτε **αριθμητική** στην τρίτη αναπτυσσόμενη λίστα. Καθορίζει ότι μετατρέπονται όλες τις αριθμητικές στήλες (και μόνο αριθμητικό).
9.  Κάντε κλικ στο σύμβολο του συν (+) στα δεξιά αυτής της γραμμής - αυτό δημιουργεί μια σειρά αναπτυσσόμενη λίστα. Επιλέξτε **εξαίρεση** στην πρώτη αναπτυσσόμενη λίστα, επιλέξτε **τα ονόματα στηλών** στο δεύτερο αναπτυσσόμενη λίστα, και κάντε κλικ στο πεδίο κειμένου και επιλέξτε "Πιστωτικό κίνδυνο" από τη λίστα των στηλών. Καθορίζει ότι θα πρέπει να αγνοηθεί στήλη πιστωτικό κίνδυνο (πρέπει να το κάνετε αυτό, επειδή αυτή η στήλη είναι αριθμητική και έτσι διαφορετικά θα είναι μετασχηματισμό).
10. Κάντε κλικ στο **κουμπί OK**.  


Τα [Δεδομένα κανονικοποίηση] [ normalize-data] λειτουργική μονάδα τώρα έχει ρυθμιστεί για να εκτελέσετε μια μετασχηματισμό Tanh σε όλες τις αριθμητικές στήλες εκτός από τη στήλη πιστωτικών κινδύνων.  

Αυτό το τμήμα του μας έρευνας πρέπει τώρα να μοιάζει κάπως έτσι:  

![Εκπαίδευση του δεύτερου μοντέλου][2]  

##<a name="score-and-evaluate-the-models"></a>Βαθμολογία και την αξιολόγησή τα μοντέλα

Χρησιμοποιούμε τα δεδομένα δοκιμών που έχει αποσυνδεθεί από τα [Δεδομένα διαίρεσης] [ split] βαθμολογία μας εκπαιδευμένο μοντέλα τη λειτουργική μονάδα. Θα σας, στη συνέχεια, μπορείτε να συγκρίνετε τα αποτελέσματα από τα δύο μοντέλα για να δείτε την οποία που δημιουργούνται καλύτερα αποτελέσματα.  

1.  Βρείτε το [Μοντέλο βαθμολογία] [ score-model] λειτουργική μονάδα και μεταφέρετέ τη στη τον καμβά.
2.  Συνδεθείτε στο [Μοντέλο τρένο] [ train-model] λειτουργική μονάδα που είναι συνδεδεμένη με το [Δέντρου αποφάσεων ενισχύεται δύο κατηγορίας] [ two-class-boosted-decision-tree] λειτουργική μονάδα προς τα αριστερά εισαγωγής θύρα του [Μοντέλου βαθμολογία] [ score-model] λειτουργική μονάδα.
3.  Συνδέστε τη σωστή θύρα εισόδου του [Μοντέλου βαθμολογία] [ score-model] λειτουργικής μονάδας στην αριστερή έξοδο από το δεξιό [Εκτέλεση δέσμης ενεργειών R] [ execute-r-script] λειτουργική μονάδα.

    Το [Μοντέλο βαθμολογία] [ score-model] λειτουργική μονάδα να τώρα τις πληροφορίες της πιστωτικής από τα δεδομένα δοκιμής, το εκτελείτε μέσω του μοντέλου και συγκρίνετε την προβλέψεων δημιουργεί το μοντέλο με την πραγματική πιστωτικής στήλη κινδύνου στα δεδομένα δοκιμής.

4.  Αντιγραφή και επικόλληση στο [Μοντέλο βαθμολογία] [ score-model] λειτουργικής μονάδας για να δημιουργήσετε ένα δεύτερο αντίγραφο ή σύρετε τον καμβά μια νέα λειτουργική μονάδα.
5.  Συνδέστε το αριστερό εισαγωγής θύρα της παρούσας ενότητας στο μοντέλο SVM (δηλαδή, σύνδεση στη θύρα εξόδου του [Μοντέλου τρένο] [ train-model] λειτουργική μονάδα που είναι συνδεδεμένη με [Δύο κατηγορίας υποστήριξη ανύσματος μηχανική] [ two-class-support-vector-machine] λειτουργική μονάδα).
6.  Για το μοντέλο SVM, που έχετε να κάνετε το ίδιο μετασχηματισμό για τα δεδομένα δοκιμής όπως κάναμε στα δεδομένα εκπαίδευσης. Επομένως, αντιγράψτε και επικολλήστε τα [Δεδομένα κανονικοποίηση] [ normalize-data] λειτουργικής μονάδας για να δημιουργήσετε ένα δεύτερο αντίγραφο και συνδέστε τη με την αριστερή έξοδο από το δεξιό [Εκτέλεση δέσμης ενεργειών R] [ execute-r-script] λειτουργική μονάδα.
7.  Συνδέστε τη σωστή θύρα εισόδου του [Μοντέλου βαθμολογία] [ score-model] λειτουργικής μονάδας στην αριστερή έξοδο των [Δεδομένων κανονικοποίηση] [ normalize-data] λειτουργική μονάδα.  

Για να υπολογιστεί τα δύο αποτελέσματα βαθμολογίας, χρησιμοποιούμε ένα [Μοντέλο αξιολόγηση] [ evaluate-model] λειτουργική μονάδα.  

1.  Βρείτε το [Μοντέλο αξιολόγηση] [ evaluate-model] λειτουργική μονάδα και μεταφέρετέ τη στη τον καμβά.
2.  Συνδέστε το αριστερό θύρα εισόδου στη θύρα εξόδου του [Μοντέλου βαθμολογία] [ score-model] λειτουργική μονάδα που σχετίζεται με το μοντέλο δέντρου ενισχύεται απόφασης.
3.  Συνδέστε τη δεξιά θύρα εισόδου στο άλλο [Μοντέλο βαθμολογία] [ score-model] λειτουργική μονάδα.  

Για να εκτελέσετε την έρευνα, κάντε κλικ στο κουμπί **ΕΚΤΈΛΕΣΗ** κάτω από τον καμβά. Ενδέχεται να χρειαστούν μερικά λεπτά. Μια ένδειξη περιστρεφόμενο σε κάθε λειτουργική μονάδα να εμφανίζει που εκτελείται και, στη συνέχεια, ένα πράσινο σημάδι ελέγχου όταν ολοκληρωθεί η λειτουργική μονάδα. Όταν όλες οι λειτουργικές μονάδες έχουν ένα σημάδι ελέγχου, η έρευνα έχει ολοκληρωθεί η εκτέλεση.

Η έρευνα πρέπει τώρα να μοιάζει κάπως έτσι:  

![Την αξιολόγηση δύο μοντέλα][3]

Για να ελέγξετε τα αποτελέσματα, κάντε κλικ στη θύρα εξόδου του [Μοντέλου αξιολόγηση] [ evaluate-model] λειτουργική μονάδα και επιλέξτε **αναπαράσταση**.  

[Αξιολόγηση μοντέλου] [ evaluate-model] λειτουργική μονάδα παράγει ένα ζεύγος καμπύλες και μετρικά που σας επιτρέπει να συγκρίνετε τα αποτελέσματα από τα δύο scored μοντέλα. Μπορείτε να προβάλετε τα αποτελέσματα ως χαρακτηριστικό τελεστή ακουστικό (ROC) καμπύλες, καμπύλες ακρίβεια/ανάκληση ή καμπύλες ανύψωσης. Πρόσθετα δεδομένα εμφανίζονται περιλαμβάνει μια μήτρα σύγχυση, τιμές του αθροιστικού για την περιοχή στην περιοχή της καμπύλης (AUC) και άλλες μετρήσεις. Μπορείτε να αλλάξετε το όριο, μετακινώντας το ρυθμιστικό προς τα αριστερά ή δεξιά και να δείτε πώς επηρεάζει το σύνολο των μετρήσεων.  

Στα δεξιά του γραφήματος, κάντε κλικ στην επιλογή **συνόλου δεδομένων Scored** ή **Scored σύνολο δεδομένων για να συγκρίνετε** για να επισημάνετε το συσχετισμένο καμπύλης και για να εμφανιστεί το παρακάτω σχετικές μετρήσεις. Στο υπόμνημα για τις καμπύλες, "Έχει βαθμολογηθεί συνόλου δεδομένων" αντιστοιχεί στην αριστερή θύρα εισόδου του [Μοντέλου αξιολόγηση] [ evaluate-model] λειτουργική μονάδα - στην περίπτωσή μας, αυτό είναι το μοντέλο δέντρου ενισχύεται απόφασης. "Σύνολο δεδομένων για να συγκρίνετε έχει βαθμολογηθεί" αντιστοιχεί στη σωστή θύρα εισαγωγής - το μοντέλο SVM στην περίπτωσή μας. Όταν κάνετε κλικ σε μία από αυτές τις ετικέτες, της καμπύλης για αυτό το μοντέλο επισημαίνεται και να εμφανίσετε το αντίστοιχο μετρικά, όπως φαίνεται στο παρακάτω γραφικό.  

![Καμπύλες ROC για μοντέλα][4]

Εξετάζοντας αυτές τις τιμές, μπορείτε να αποφασίσετε ποιο μοντέλο βρίσκεται πιο κοντά σας δίνει τα αποτελέσματα που αναζητάτε. Μπορείτε να επιστρέψετε και να διαδοχικές προσεγγίσεις στην έρευνα σας, αλλάζοντας τις τιμές στα μοντέλα διαφορετικά. 

> [AZURE.TIP] Κάθε φορά που εκτελείτε την έρευνα μια εγγραφή από αυτήν διαδοχικών προσεγγίσεων διατηρούνται στο ιστορικό εκτέλεση. Μπορείτε να προβάλετε αυτά τα διαδοχικών προσεγγίσεων, και να επιστρέψετε σε οποιαδήποτε από αυτά, κάνοντας κλικ στην επιλογή **ΠΡΟΒΟΛΉ ΙΣΤΟΡΙΚΟΎ ΕΚΤΈΛΕΣΗ** κάτω από τον καμβά. Μπορείτε επίσης να επιλέξετε **Πριν από την εκτέλεση** στο παράθυρο " **Ιδιότητες** " για να επιστρέψετε την αμέσως προηγούμενη διαδοχικών προσεγγίσεων εκείνο που έχετε ανοιχτό.
> 
Μπορείτε να κάνετε ένα αντίγραφο του οποιαδήποτε διαδοχικών προσεγγίσεων της έρευνας σας κάνοντας κλικ στην επιλογή " **ΑΠΟΘΉΚΕΥΣΗ ΩΣ** " κάτω από τον καμβά. Χρησιμοποιήστε ιδιότητες **Σύνοψη** και την **Περιγραφή** της έρευνας για να διατηρήσετε μια εγγραφή του τι έχετε δοκιμάσει στις τις επαναλήψεις έρευνας.

>  Για περισσότερες λεπτομέρειες, ανατρέξτε στο θέμα [Διαχείριση πειραματιστείτε διαδοχικών προσεγγίσεων στο Azure μηχανικής εκμάθησης Studio](machine-learning-manage-experiment-iterations.md).  


----------

**Επόμενο: [ανάπτυξη της υπηρεσίας web](machine-learning-walkthrough-5-publish-web-service.md)**

[1]: ./media/machine-learning-walkthrough-4-train-and-evaluate-models/train1.png
[2]: ./media/machine-learning-walkthrough-4-train-and-evaluate-models/train2.png
[3]: ./media/machine-learning-walkthrough-4-train-and-evaluate-models/train3.png
[4]: ./media/machine-learning-walkthrough-4-train-and-evaluate-models/train4.png


<!-- Module References -->
[evaluate-model]: https://msdn.microsoft.com/library/azure/927d65ac-3b50-4694-9903-20f6c1672089/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
[normalize-data]: https://msdn.microsoft.com/library/azure/986df333-6748-4b85-923d-871df70d6aaf/
[score-model]: https://msdn.microsoft.com/library/azure/401b4f92-e724-4d5a-be81-d5b0ff9bdb33/
[train-model]: https://msdn.microsoft.com/library/azure/5cc7053e-aa30-450d-96c0-dae4be720977/
[two-class-boosted-decision-tree]: https://msdn.microsoft.com/library/azure/e3c522f8-53d9-4829-8ea4-5c6a6b75330c/
[two-class-support-vector-machine]: https://msdn.microsoft.com/library/azure/12d8479b-74b4-4e67-b8de-d32867380e20/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/
