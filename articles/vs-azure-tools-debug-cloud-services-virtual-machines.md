<properties 
    pageTitle="Τον εντοπισμό σφαλμάτων σε μια υπηρεσία Azure cloud ή μια εικονική μηχανή στο Visual Studio | Microsoft Azure"
    description="Τον εντοπισμό σφαλμάτων σε μια υπηρεσία Cloud ή μια εικονική μηχανή στο Visual Studio"
    services="visual-studio-online"
    documentationCenter="na"
    authors="TomArcher"
    manager="douge"
    editor="" />
<tags 
    ms.service="visual-studio-online"
    ms.devlang="multiple"
    ms.topic="article"
    ms.tgt_pltfrm="multiple"
    ms.workload="na"
    ms.date="08/15/2016"
    ms.author="tarcher" />

# <a name="debugging-an-azure-cloud-service-or-virtual-machine-in-visual-studio"></a>Τον εντοπισμό σφαλμάτων σε μια υπηρεσία Azure cloud ή μια εικονική μηχανή στο Visual Studio

Visual Studio παρέχει διάφορες επιλογές για τον εντοπισμό σφαλμάτων υπηρεσίες Azure cloud και εικονικές μηχανές.



## <a name="debug-your-cloud-service-on-your-local-computer"></a>Εντοπισμός σφαλμάτων την υπηρεσία cloud στον τοπικό σας υπολογιστή

Μπορείτε να εξοικονομήσετε χρόνο και χρήμα, χρησιμοποιώντας το Azure τον υπολογισμό προσομοίωσης για τον εντοπισμό σφαλμάτων της υπηρεσίας cloud σε έναν τοπικό υπολογιστή. Κατά τον εντοπισμό σφαλμάτων σε μια υπηρεσία τοπικά πριν να την αναπτύξετε, μπορείτε να βελτιώσετε αξιοπιστία και επιδόσεις χωρίς να πληρώνετε για χρόνο υπολογισμού. Ωστόσο, ορισμένες ενδέχεται να παρουσιαστεί σφάλματα μόνο όταν εκτελείτε μια υπηρεσία cloud στο Azure ίδια. Μπορείτε να προσθέσετε αυτά τα σφάλματα εάν ενεργοποιήσετε απομακρυσμένου εντοπισμού σφαλμάτων όταν δημοσιεύετε υπηρεσία σας και, στη συνέχεια, επισυνάψτε το πρόγραμμα εντοπισμού σφαλμάτων σε μια παρουσία ρόλο.

Το προσομοίωσης προσομοιώνει την υπηρεσία τον υπολογισμό Azure και εκτελείται στο περιβάλλον του τοπικού ώστε να μπορείτε να ελέγξετε και να διορθώσετε την υπηρεσία cloud, πριν να την αναπτύξετε. Το προσομοίωσης χειρίζεται τον κύκλο ζωής των παρουσιών το ρόλο και παρέχει πρόσβαση σε προσομοιωμένη πόρους, όπως τοπικού χώρου αποθήκευσης. Όταν εντοπισμός σφαλμάτων ή όταν εκτελείτε την υπηρεσία από το Visual Studio, ξεκινά αυτόματα το προσομοίωσης ως εφαρμογή φόντου και, στη συνέχεια, ανάπτυξη της υπηρεσίας για να την προσομοίωσης. Μπορείτε να χρησιμοποιήσετε το προσομοίωσης για να προβάλετε την υπηρεσία όταν εκτελείται στο τοπικό περιβάλλον. Μπορείτε να εκτελέσετε την πλήρη έκδοση ή η σύντομη έκδοση του το προσομοίωσης. (Ξεκινώντας με το Azure 2.3, η σύντομη έκδοση του το προσομοίωσης είναι η προεπιλεγμένη.) Ανατρέξτε στο θέμα [Χρήση προσομοίωσης Express για να εκτελέσετε και εντοπισμός σφαλμάτων σε μια υπηρεσία Cloud τοπικά](https://msdn.microsoft.com/library/dn339018.aspx).

### <a name="to-debug-your-cloud-service-on-your-local-computer"></a>Για να εντοπίσετε την υπηρεσία cloud στον τοπικό σας υπολογιστή

1. Στη γραμμή μενού, επιλέξτε **Εντοπισμός σφαλμάτων**, **Ξεκινήστε τον εντοπισμό σφαλμάτων** για να εκτελέσετε το έργο σας Azure cloud υπηρεσίας. Ως εναλλακτική λύση, μπορείτε να πατήστε το πλήκτρο F5. Θα δείτε ένα μήνυμα που ξεκινά το προσομοίωσης τον υπολογισμό. Όταν ξεκινά το προσομοίωσης, το εικονίδιο στην περιοχή ειδοποιήσεων επιβεβαιώνει το.

    ![Azure προσομοίωσης στην περιοχή ειδοποιήσεων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC783828.png)

1. Εμφανίζει το περιβάλλον εργασίας χρήστη για το προσομοίωσης υπολογισμού με το άνοιγμα του μενού συντόμευσης για το Azure εικονίδιο στην περιοχή ειδοποιήσεων και, στη συνέχεια, επιλέξτε **Εμφάνιση τον υπολογισμό προσομοίωσης περιβάλλοντος εργασίας Χρήστη**.

    Αριστερό τμήμα του περιβάλλοντος εργασίας Χρήστη του εμφανίζει τις υπηρεσίες που έχουν αναπτυχθεί αυτήν τη στιγμή για να το προσομοίωσης υπολογισμού και τις παρουσίες ρόλο που εκτελεί κάθε υπηρεσία. Μπορείτε να επιλέξετε την υπηρεσία ή τους ρόλους για να εμφανίσετε κύκλου ζωής, καταγραφή και διαγνωστικών πληροφοριών στο δεξιό παράθυρο. Εάν η εστίαση στο επάνω περιθώριο ενός παραθύρου περιλαμβάνονται, επεκτείνεται για να συμπληρώσετε δεξιό τμήμα του παραθύρου.

1. Ακολουθήστε τα βήματα της εφαρμογής, επιλέγοντας εντολές στο μενού **Εντοπισμός σφαλμάτων** και τη ρύθμιση των σημείων διακοπής στον κώδικα. Καθώς βήμα μέσω της εφαρμογής στον εντοπισμό σφαλμάτων, τα παράθυρα ενημερώνονται με την τρέχουσα κατάσταση της εφαρμογής. Όταν διακόπτετε εντοπισμού, διαγράφεται την ανάπτυξη εφαρμογών. Εάν η εφαρμογή σας περιλαμβάνει ένα ρόλο web και που έχετε ορίσει την ιδιότητα ενέργεια εκκίνησης για να ξεκινήσετε το πρόγραμμα περιήγησης web, το Visual Studio ξεκινά η εφαρμογή web σας στο πρόγραμμα περιήγησης. Εάν αλλάξετε τον αριθμό των εμφανίσεων ενός ρόλου στις παραμέτρους της υπηρεσίας, πρέπει να διακόψετε την υπηρεσία cloud και, στη συνέχεια, επανεκκινήστε τον εντοπισμό σφαλμάτων, έτσι ώστε να μπορείτε να προσθέσετε αυτές τις νέες παρουσίες του ρόλου.

    **Σημείωση:** Όταν διακόπτετε εκτελείται ή τον εντοπισμό σφαλμάτων της υπηρεσίας, δεν είναι διακοπεί η προσομοίωσης τοπικό σας υπολογιστή και προσομοίωσης χώρου αποθήκευσης. Πρέπει να διακόψετε τους ρητά από την περιοχή ειδοποιήσεων.


## <a name="debug-a-cloud-service-in-azure"></a>Εντοπισμός σφαλμάτων σε μια υπηρεσία στο cloud στο Azure

Για τον εντοπισμό σφαλμάτων σε μια υπηρεσία cloud από έναν απομακρυσμένο υπολογιστή, πρέπει να ενεργοποιήσετε αυτήν τη λειτουργικότητα ρητά κατά την ανάπτυξη την υπηρεσία cloud, έτσι ώστε να απαιτούνται υπηρεσιών (msvsmon.exe, για παράδειγμα) είναι εγκατεστημένα στον τις εικονικές μηχανές που εκτελούνται παρουσίες του ρόλου. Εάν δεν ενεργοποιήσετε απομακρυσμένου εντοπισμού σφαλμάτων όταν δημοσιευτεί στην υπηρεσία, πρέπει να δημοσιεύσετε ξανά την υπηρεσία με απομακρυσμένη ενεργοποιημένο τον εντοπισμό σφαλμάτων.

Εάν ενεργοποιήσετε απομακρυσμένου εντοπισμού σφαλμάτων για μια υπηρεσία cloud, να μην έχει μειωμένη απόδοση ή να προκύψουν πρόσθετες χρεώσεις. Δεν πρέπει να χρησιμοποιείτε απομακρυσμένο εντοπισμό σφαλμάτων σε μια υπηρεσία παραγωγής, επειδή οι υπολογιστές-πελάτες που χρησιμοποιούν την υπηρεσία ενδέχεται να επηρεαστούν αρνητικά.

>[AZURE.NOTE] Όταν δημοσιεύετε μια υπηρεσία cloud από το Visual Studio, μπορείτε να ενεργοποιήσετε **IntelliTrace** για όλους τους ρόλους σε αυτήν την υπηρεσία που στοχεύουν το 4 .NET Framework ή το διαίρεσης 4,5 .NET Framework. Με τη χρήση **IntelliTrace**, μπορείτε να εξετάσετε τα συμβάντα που έγιναν σε ένα ρόλο παρουσία στο παρελθόν και να αναπαραγάγετε το περιβάλλον από εκείνη τη στιγμή. Δείτε [τον εντοπισμό σφαλμάτων σε μια υπηρεσία cloud δημοσιευμένο με IntelliTrace και του Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) και [Χρήση IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).

### <a name="to-enable-remote-debugging-for-a-cloud-service"></a>Για να ενεργοποιήσετε την απομακρυσμένου εντοπισμού σφαλμάτων για μια υπηρεσία στο cloud

1. Άνοιγμα του μενού συντόμευσης για το έργο Azure και, στη συνέχεια, επιλέξτε **Δημοσίευση**.

1. Επιλέξτε το περιβάλλον **ενδιάμεσου σταδίου** και τη ρύθμιση παραμέτρων **εντοπισμού σφαλμάτων** .

    Αυτό είναι μόνο κατευθυντήριες γραμμές. Μπορείτε να επιλέξετε για να εκτελέσετε το περιβάλλοντα δοκιμής σε ένα περιβάλλον παραγωγής. Ωστόσο, ενδέχεται να επηρεάσουν αρνητικά επηρεάζουν τους χρήστες Εάν ενεργοποιήσετε ο απομακρυσμένος εντοπισμός σφαλμάτων στο περιβάλλον παραγωγής. Μπορείτε να επιλέξετε τη ρύθμιση παραμέτρων έκδοσης, αλλά η ρύθμιση παραμέτρων εντοπισμού σφαλμάτων καθιστά εύκολη εντοπισμού.

    ![Επιλέξτε τη ρύθμιση παραμέτρων εντοπισμού σφαλμάτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746717.gif)

1. Ακολουθήστε τα βήματα συνήθη, αλλά επιλέξτε το πλαίσιο ελέγχου **Ενεργοποίηση της απομακρυσμένης πρόγραμμα εντοπισμού σφαλμάτων για όλους τους ρόλους** στην καρτέλα **Ρυθμίσεις για προχωρημένους** .

    ![Εντοπισμός σφαλμάτων ρύθμισης παραμέτρων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746718.gif)

### <a name="to-attach-the-debugger-to-a-cloud-service-in-azure"></a>Για να επισυνάψετε το πρόγραμμα εντοπισμού σφαλμάτων σε μια υπηρεσία στο cloud στο Azure

1. Στην Εξερεύνηση διακομιστή, αναπτύξτε τον κόμβο για την υπηρεσία cloud.

1. Άνοιγμα του μενού συντόμευσης για το ρόλο ή ρόλο παρουσία στην οποία θέλετε να επισυνάψετε και, στη συνέχεια, επιλέξτε **Επισύναψη εντοπισμού σφαλμάτων**.

    Εάν εντοπισμό σφαλμάτων σε ένα ρόλο, το πρόγραμμα εντοπισμού σφαλμάτων Visual Studio επισυνάπτει σε κάθε παρουσία της αυτόν το ρόλο. Το πρόγραμμα εντοπισμού σφαλμάτων θα διακόψετε σε ένα σημείο διακοπής για την πρώτη παρουσία ρόλο που εκτελείται αυτήν τη γραμμή κώδικα και ικανοποιούν τις συνθήκες από συγκεκριμένο σημείο διακοπής. Εάν εντοπισμό σφαλμάτων σε μια παρουσία, το πρόγραμμα εντοπισμού σφαλμάτων επισυνάπτει μόνο σε αυτήν την παρουσία και αλλαγές σε ένα σημείο διακοπής μόνο όταν αυτήν τη συγκεκριμένη παρουσία εκτελείται αυτήν τη γραμμή κώδικα και ικανοποιούν συνθήκες το σημείο διακοπής.

    ![Επισύναψη εντοπισμού σφαλμάτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746719.gif)

1. Αφού το πρόγραμμα εντοπισμού σφαλμάτων επισυνάπτει μια παρουσία, εντοπισμού σφαλμάτων ως συνήθως. Το πρόγραμμα εντοπισμού σφαλμάτων επισυνάπτει αυτόματα τη διαδικασία κατάλληλο κεντρικού υπολογιστή για το ρόλο. Ανάλογα με το τι είναι το ρόλο, το πρόγραμμα εντοπισμού σφαλμάτων επισυνάπτει w3wp.exe, WaWorkerHost.exe ή WaIISHost.exe. Για να επαληθεύσετε τη διαδικασία στην οποία έχει επισυναφθεί το πρόγραμμα εντοπισμού σφαλμάτων, αναπτύξτε τον κόμβο παρουσία στην Εξερεύνηση Server. Για περισσότερες πληροφορίες σχετικά με τις διαδικασίες Azure, ανατρέξτε στο θέμα [Αρχιτεκτονική ρόλο Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) .

    ![Επιλέξτε το πλαίσιο διαλόγου τύπος κώδικα](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)

1. Για να προσδιορίσετε τις διαδικασίες στην οποία έχει επισυναφθεί το πρόγραμμα εντοπισμού σφαλμάτων, ανοίξετε το πλαίσιο διαλόγου διεργασίες, από τη γραμμή μενού και επιλέγοντας εντοπισμού σφαλμάτων, Windows, διεργασίες. (Πληκτρολογίου: Ctrl + Alt + Z) Για να αποσπάσετε μια συγκεκριμένη διαδικασία, ανοίξτε το μενού συντόμευσης και, στη συνέχεια, επιλέξτε **Απόσπαση διεργασία**. Ή, εντοπίστε τον κόμβο παρουσία στην Εξερεύνηση διακομιστή, βρείτε τη διεργασία, ανοίξτε το μενού συντόμευσης και, στη συνέχεια, επιλέξτε **Απόσπαση διεργασία**.

    ![Εντοπισμός σφαλμάτων διαδικασιών](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC690787.gif)

>[AZURE.WARNING] Αποφύγετε μεγάλη σταματά σε σημεία διακοπής όταν απομακρυσμένου εντοπισμού σφαλμάτων. Azure χειρίζεται μια διεργασία που έχει διακοπεί για περισσότερο από μερικά λεπτά ως δεν ανταποκρίνεται και διακόπτει την αποστολή κίνηση για να την παρουσία. Εάν διακόψετε για μεγάλο χρονικό διάστημα, msvsmon.exe αποσυνδέει από τη διαδικασία.

Για να αποσυνδέσετε το πρόγραμμα εντοπισμού σφαλμάτων από όλες τις διεργασίες στο παρουσία ή ρόλο, ανοίξτε το μενού συντόμευσης για το ρόλο ή παρουσίας που κάνετε εντοπισμό σφαλμάτων και, στη συνέχεια, επιλέξτε **Απόσπαση εντοπισμού σφαλμάτων**.

## <a name="limitations-of-remote-debugging-in-azure"></a>Περιορισμοί της απομακρυσμένης εντοπισμού στο Azure

Από το Azure SDK 2.3, ο απομακρυσμένος εντοπισμός σφαλμάτων έχει τους ακόλουθους περιορισμούς.

- Με το απομακρυσμένο ενεργοποιημένο τον εντοπισμό σφαλμάτων, δεν μπορείτε να δημοσιεύσετε μια υπηρεσία στο cloud στο οποίο έχει περισσότερα από 25 παρουσίες, οποιονδήποτε ρόλο.

- Το πρόγραμμα εντοπισμού σφαλμάτων χρησιμοποιεί θύρες 30400 να 30424, 31400 να 31424 και 32400 σε 32424. Εάν προσπαθείτε να χρησιμοποιήσετε οποιαδήποτε από αυτές τις θύρες, δεν θα μπορείτε να δημοσιεύσετε την υπηρεσία και ένα από τα ακόλουθα μηνύματα σφάλματος θα εμφανίζονται στο αρχείο καταγραφής της δραστηριότητας για Azure: 

    - Σφάλμα κατά την επικύρωση του αρχείου .cscfg σε σχέση με το αρχείο .csdef. 
    Η περιοχή δεσμευμένη θύρα "περιοχή" για το τελικό Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector του ρόλου 'ρόλο' επικαλύπτει ένα ήδη καθορισμένο θύρα ή περιοχή.
    - Εκχώρηση απέτυχε. Προσπαθήστε ξανά αργότερα, δοκιμάστε να μειώσετε το μέγεθος Εικονική ή τον αριθμό των παρουσιών ρόλο ή δοκιμάστε την ανάπτυξη σε διαφορετική περιοχή.


## <a name="debugging-azure-virtual-machines"></a>Εντοπισμός σφαλμάτων Azure εικονικές μηχανές

Μπορείτε να προσθέσετε τα προγράμματα που εκτελούνται σε Azure εικονικές μηχανές χρησιμοποιώντας την Εξερεύνηση διακομιστή στο Visual Studio. Όταν ενεργοποιείτε απομακρυσμένο εντοπισμό σφαλμάτων σε μια εικονική μηχανή Azure, Azure εγκαθιστά την επέκταση απομακρυσμένου εντοπισμού σφαλμάτων στον υπολογιστή εικονική. Στη συνέχεια, μπορείτε να επισυνάψετε σε διεργασίες στον υπολογιστή εικονικές και εντοπισμός σφαλμάτων όπως θα κάνατε κανονικά.

>[AZURE.NOTE] Εικονικές μηχανές που δημιουργήσατε στη στοίβα manager Azure πόρος μπορεί να είναι διορθώνεται απομακρυσμένα χρησιμοποιώντας την Εξερεύνηση Cloud στο Visual Studio 2015. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Διαχείριση Azure πόρους με την Εξερεύνηση Cloud](http://go.microsoft.com/fwlink/?LinkId=623031).

### <a name="to-debug-an-azure-virtual-machine"></a>Για τον εντοπισμό σφαλμάτων σε μια εικονική μηχανή Azure

1. Στην Εξερεύνηση διακομιστή, αναπτύξτε τον κόμβο εικονικές μηχανές και επιλέξτε τον κόμβο του η εικονική μηχανή που θέλετε να εντοπίσετε σφάλματα.

1. Ανοίξτε το μενού περιβάλλοντος και επιλέξτε **Ενεργοποίηση εντοπισμού**. Όταν ερωτηθείτε αν είστε βέβαιοι ότι θέλετε να ενεργοποιήσετε τον εντοπισμό σφαλμάτων σε η εικονική μηχανή, επιλέξτε **Ναι**.

    Azure εγκαθιστά την επέκταση απομακρυσμένου εντοπισμού σφαλμάτων στον υπολογιστή εικονικές για να ενεργοποιήσετε τον εντοπισμό σφαλμάτων.

    ![Εικονική μηχανή ενεργοποιήσετε την εντολή εντοπισμού σφαλμάτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Αρχείο καταγραφής Azure δραστηριοτήτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)

1. Αφού ολοκληρωθεί η την επέκταση απομακρυσμένου εντοπισμού σφαλμάτων κατά την εγκατάσταση, ανοίξτε το μενού περιβάλλοντος η εικονική μηχανή και επιλέξτε **Επισύναψη εντοπισμού σφαλμάτων...**

    Azure λαμβάνει μια λίστα με τις διεργασίες στον υπολογιστή εικονικές και εμφανίζει τους στο την επισύναψη σε διαδικασία παράθυρο διαλόγου.

    ![Επισύναψη εντολής εντοπισμού σφαλμάτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)

1. Στο παράθυρο διαλόγου **Προσάρτηση σε διαδικασία** , επιλέξτε την **επιλογή** για να περιορίσετε τη λίστα αποτελεσμάτων για να εμφανίσετε μόνο τους τύπους κώδικα που θέλετε να εντοπίσετε σφάλματα. Μπορείτε να προσθέσετε 32 bit ή 64 bit διαχειριζόμενο κώδικα, εγγενή κώδικα ή και τα δύο.

    ![Επιλέξτε το πλαίσιο διαλόγου τύπος κώδικα](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)

1. Επιλέξτε τις διαδικασίες που θέλετε να εντοπισμός σφαλμάτων στον υπολογιστή εικονικές και, στη συνέχεια, επιλέξτε **Επισύναψη**. Για παράδειγμα, μπορείτε να επιλέξετε τη διαδικασία w3wp.exe, εάν θέλατε για τον εντοπισμό σφαλμάτων σε μια εφαρμογή web στον υπολογιστή εικονική. Ανατρέξτε στο θέμα [Εντοπισμός σφαλμάτων μία ή περισσότερες διεργασίες στο Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) και την [Αρχιτεκτονική ρόλο Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) για περισσότερες πληροφορίες.

## <a name="create-a-web-project-and-a-virtual-machine-for-debugging"></a>Δημιουργήστε ένα έργο web και μια εικονική μηχανή για τον εντοπισμό σφαλμάτων

Πριν να δημοσιεύσετε το έργο σας Azure, που μπορεί να σας φανεί χρήσιμο να ελέγξετε σε περιβάλλον περιεχόμενα που υποστηρίζει τον εντοπισμό σφαλμάτων και έλεγχος σενάρια και, όπου μπορείτε να εγκαταστήσετε το δοκιμή και εποπτεία προγραμμάτων. Ένας τρόπος να το κάνετε αυτό είναι να απομακρυσμένα εντοπισμός σφαλμάτων σε μια εικονική μηχανή την εφαρμογή σας.

Έργα του Visual Studio ASP.NET παρέχουν μια επιλογή για να δημιουργήσετε ένα εύχρηστο εικονικό μηχάνημα που μπορείτε να χρησιμοποιήσετε για τη δοκιμή της εφαρμογής. Η εικονική μηχανή περιλαμβάνει συνήθως με τις ανάγκες τελικά σημεία όπως PowerShell, απομακρυσμένης επιφάνειας εργασίας και WebDeploy.

### <a name="to-create-a-web-project-and-a-virtual-machine-for-debugging"></a>Για να δημιουργήσετε ένα έργο web και μια εικονική μηχανή για τον εντοπισμό σφαλμάτων

1. Στο Visual Studio, δημιουργήστε μια νέα εφαρμογή Web ASP.NET.

1. Στο παράθυρο διαλόγου νέο έργο ASP.NET, στην ενότητα Azure, επιλέξτε **εικονική μηχανή** στο αναπτυσσόμενο πλαίσιο λίστας. Αφήστε επιλεγμένο το πλαίσιο ελέγχου **Δημιουργία απομακρυσμένους πόρους** . Επιλέξτε **OK** για να συνεχίσετε.

    Εμφανίζεται το παράθυρο διαλόγου **Δημιουργία εικονικό μηχάνημα σε Azure** .


    ![Δημιουργία διαλόγου στο project web ASP.NET](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746723.png)

    **Σημείωση:** Θα σας ζητηθεί να συνδεθείτε λογαριασμό σας Azure εάν έχετε ήδη πραγματοποιήσει είσοδο.

1. Επιλέξτε τις διάφορες ρυθμίσεις για την εικονική μηχανή και, στη συνέχεια, επιλέξτε **OK**. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [εικονικές μηχανές]( http://go.microsoft.com/fwlink/?LinkId=623033) .

    Το όνομα που εισάγετε για όνομα DNS θα είναι το όνομα του υπολογιστή εικονική. 

    ![Δημιουργία εικονική μηχανή στο παράθυρο διαλόγου Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746724.png)

    Azure δημιουργεί το εικονικό μηχάνημα και, στη συνέχεια, τις διατάξεις και ρυθμίζει τα τελικά σημεία, όπως απομακρυσμένης επιφάνειας εργασίας και ανάπτυξη του Web



1. Αφού η εικονική μηχανή έχει ρυθμιστεί πλήρως, επιλέξτε την εικονική μηχανή κόμβο στην Εξερεύνηση Server.

1. Ανοίξτε το μενού περιβάλλοντος και επιλέξτε **Ενεργοποίηση εντοπισμού**. Όταν ερωτηθείτε αν είστε βέβαιοι ότι θέλετε να ενεργοποιήσετε τον εντοπισμό σφαλμάτων σε η εικονική μηχανή, επιλέξτε **Ναι**. 

    Azure εγκαθιστά την επέκταση απομακρυσμένου εντοπισμού σφαλμάτων για να την εικονική μηχανή για να ενεργοποιήσετε τον εντοπισμό σφαλμάτων.

    ![Εικονική μηχανή ενεργοποιήσετε την εντολή εντοπισμού σφαλμάτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Αρχείο καταγραφής Azure δραστηριοτήτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)

1. Δημοσιεύσετε το έργο σας, όπως περιγράφεται στην [Τρόπος: ανάπτυξη ενός Web με ένα κλικ δημοσίευση έργου στο Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx). Επειδή θέλετε να εντοπίσετε σφάλματα στον υπολογιστή εικονικές, στη σελίδα " **Ρυθμίσεις** " του οδηγού **Δημοσίευσης Web** , επιλέξτε **Εντοπισμός σφαλμάτων** με τη ρύθμιση παραμέτρων. Αυτό διασφαλίζει ότι τα σύμβολα κώδικα είναι διαθέσιμα κατά τον εντοπισμό σφαλμάτων.

    ![Ρυθμίσεις δημοσίευσης](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718349.png)

1. Στις **Επιλογές δημοσίευσης αρχείο**, επιλέξτε **Κατάργηση πρόσθετων αρχείων στον προορισμό** αν το έργο έχει ήδη αναπτυχθεί σε μια προηγούμενη φάση.

1. Αφού δημοσιεύει του έργου, στο μενού περιβάλλοντος η εικονική μηχανή στην Εξερεύνηση διακομιστή, επιλέξτε **Επισύναψη εντοπισμού σφαλμάτων...**

    Azure λαμβάνει μια λίστα με τις διεργασίες στον υπολογιστή εικονικές και εμφανίζει τους στο την επισύναψη σε διαδικασία παράθυρο διαλόγου.

    ![Επισύναψη εντολής εντοπισμού σφαλμάτων](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)

1. Στο παράθυρο διαλόγου **Προσάρτηση σε διαδικασία** , επιλέξτε την **επιλογή** για να περιορίσετε τη λίστα αποτελεσμάτων για να εμφανίσετε μόνο τους τύπους κώδικα που θέλετε να εντοπίσετε σφάλματα. Μπορείτε να προσθέσετε 32 bit ή 64 bit διαχειριζόμενο κώδικα, εγγενή κώδικα ή και τα δύο.

    ![Επιλέξτε το πλαίσιο διαλόγου τύπος κώδικα](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)

1. Επιλέξτε τις διαδικασίες που θέλετε να εντοπισμός σφαλμάτων στον υπολογιστή εικονικές και, στη συνέχεια, επιλέξτε **Επισύναψη**. Για παράδειγμα, μπορείτε να επιλέξετε τη διαδικασία w3wp.exe, εάν θέλατε για τον εντοπισμό σφαλμάτων σε μια εφαρμογή web στον υπολογιστή εικονική. Ανατρέξτε στο θέμα [Εντοπισμός σφαλμάτων μία ή περισσότερες διεργασίες στο Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) για περισσότερες πληροφορίες.

## <a name="next-steps"></a>Επόμενα βήματα

- Χρησιμοποιήστε **Intellitrace** για τη συλλογή ένα αρχείο καταγραφής κλήσεων και συμβάντα από ένα διακομιστή κυκλοφορίας. Δείτε [τον εντοπισμό σφαλμάτων σε μια υπηρεσία Cloud δημοσιευμένο με IntelliTrace και του Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).
- Χρησιμοποιήστε **Διαγνωστικά του Azure** για να συνδεθείτε λεπτομερείς πληροφορίες από κώδικα που εκτελείται μέσα σε ρόλους, εάν εκτελούνται οι ρόλοι στο περιβάλλον ανάπτυξης ή στο Azure. Ανατρέξτε στο θέμα [συλλογή καταγραφή δεδομένων, χρησιμοποιώντας τα Διαγνωστικά Azure](http://go.microsoft.com/fwlink/p/?LinkId=400450).
