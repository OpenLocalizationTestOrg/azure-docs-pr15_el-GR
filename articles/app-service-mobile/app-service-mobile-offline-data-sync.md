<properties
    pageTitle="Συγχρονισμός δεδομένων χωρίς σύνδεση στο Azure εφαρμογές για κινητές συσκευές | Microsoft Azure"
    description="Εννοιολογική αναφορά και Επισκόπηση της δυνατότητας συγχρονισμού εκτός σύνδεσης δεδομένων για εφαρμογές του Mobile Azure"
    documentationCenter="windows"
    authors="adrianhall"
    manager="dwrede"
    editor=""
    services="app-service\mobile"/>

<tags
    ms.service="app-service-mobile"
    ms.workload="mobile"
    ms.tgt_pltfrm="na"
    ms.devlang="multiple"
    ms.topic="article"
    ms.date="10/01/2016"
    ms.author="adrianha"/>

# <a name="offline-data-sync-in-azure-mobile-apps"></a>Συγχρονισμός δεδομένων χωρίς σύνδεση στο Azure εφαρμογές για κινητές συσκευές

## <a name="what-is-offline-data-sync"></a>Τι είναι ο συγχρονισμός δεδομένων χωρίς σύνδεση;

Συγχρονισμός δεδομένων χωρίς σύνδεση είναι ένα πρόγραμμα-πελάτη και διακομιστή SDK δυνατότητα Azure Mobile εφαρμογών που σας διευκολύνει τους προγραμματιστές για να δημιουργήσετε εφαρμογές που λειτουργούν χωρίς σύνδεση σε δίκτυο.

Κατά την εφαρμογή σας είναι σε λειτουργία χωρίς σύνδεση, οι χρήστες εξακολουθούν να να δημιουργήσετε και να τροποποιήσετε δεδομένα, τα οποία θα αποθηκευτούν σε ένα τοπικό χώρο αποθήκευσης. Όταν η εφαρμογή είναι πάλι σε σύνδεση, το μπορούν να συγχρονιστούν τοπικών αλλαγών με την εφαρμογή Mobile Azure παρασκηνίου. Η δυνατότητα περιλαμβάνει επίσης υποστήριξη για τον εντοπισμό διενέξεις όταν αλλάξει η ίδια εγγραφή στο πρόγραμμα-πελάτη και υπολογιστή στο παρασκήνιο. Διενέξεις, στη συνέχεια, αντιμετώπισης είτε στο διακομιστή ή το πρόγραμμα-πελάτη.

Συγχρονισμού χωρίς σύνδεση έχει έναν αριθμό από πλεονεκτήματα:

* Βελτίωση της εφαρμογής απόκριση με προσωρινή αποθήκευση δεδομένων server τοπικά στη συσκευή
* Δημιουργήστε έναν ισχυρό εφαρμογές που παραμένουν χρήσιμη όταν υπάρχουν ζητήματα δικτύου
* Να επιτρέπεται στους τελικούς χρήστες να δημιουργούν και να τροποποιούν δεδομένα, ακόμα και όταν δεν υπάρχει πρόσβαση δικτύου, υποστήριξης σενάρια, με το μικρό ή χωρίς σύνδεση
* Συγχρονισμός δεδομένων σε πολλές συσκευές και εντοπισμός διενέξεων, όταν την ίδια εγγραφή τροποποιείται από δύο συσκευές
* Χρήση του δικτύου όριο υψηλής αδράνειας ή με βάση τη χρήση δικτύων

Τα παρακάτω προγράμματα εκμάθησης δείχνουν τον τρόπο για να προσθέσετε συγχρονισμού χωρίς σύνδεση σε κινητές συσκευές τους πελάτες σας χρήση εφαρμογών του Azure Mobile:

* [Android: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]
* [iOS: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]
* [Xamarin iOS: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]
* [Xamarin Android: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]
* [Xamarin.Forms: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση](app-service-mobile-xamarin-forms-get-started-offline-data.md)
* [Καθολική πλατφόρμα Windows: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]

## <a name="what-is-a-sync-table"></a>Τι είναι ένας πίνακας συγχρονισμού;

Για να αποκτήσετε πρόσβαση στο τελικό σημείο "/ πίνακες", το πρόγραμμα-πελάτη κινητών Azure SDK παρέχουν διασυνδέσεων όπως `IMobileServiceTable` (.NET προγράμματος-πελάτη SDK) ή `MSTable` (iOS προγράμματος-πελάτη). Αυτά τα API σύνδεση απευθείας με την εφαρμογή Mobile Azure παρασκηνίου και θα αποτύχει, εάν η συσκευή-πελάτη δεν διαθέτει μια σύνδεση δικτύου.

Για την υποστήριξη χρήση χωρίς σύνδεση, την εφαρμογή σας θα πρέπει να αντί για αυτό χρησιμοποιήστε τον *πίνακα συγχρονισμού* API, όπως είναι οι `IMobileServiceSyncTable` (.NET προγράμματος-πελάτη SDK) ή `MSSyncTable` (iOS προγράμματος-πελάτη). Όλες τις ίδιες λειτουργίες CRUD (δημιουργία, ανάγνωση, ενημέρωση, διαγραφή) λειτουργούν σε σχέση με πίνακα συγχρονισμού API, αλλά τώρα θα ανάγνωση από ή εγγραφή σε έναν *τοπικό χώρο αποθήκευσης*. Πριν από τις λειτουργίες πίνακα συγχρονισμού μπορούν να πραγματοποιηθούν, πρέπει να προετοιμαστεί του τοπικού χώρου αποθήκευσης.

## <a name="what-is-a-local-store"></a>Τι είναι ένα τοπικό χώρο αποθήκευσης;

Τοπικός χώρος αποθήκευσης είναι το επίπεδο διατήρησης δεδομένων στη συσκευή προγράμματος-πελάτη. Το SDK προγράμματος-πελάτη Azure εφαρμογές του Mobile παρέχει μια προεπιλεγμένη υλοποίηση τοπικού χώρου αποθήκευσης. Στα Windows, Xamarin και Android, βασίζεται σε SQLite; στο iOS, βασίζεται σε βασικά δεδομένα.

Για να χρησιμοποιήσετε την εφαρμογή SQLite βασίζεται σε Windows Phone ή Windows 8.1 χώρου αποθήκευσης, πρέπει να εγκαταστήσετε μια επέκταση SQLite. Για περισσότερες λεπτομέρειες, ανατρέξτε στο θέμα [καθολικής πλατφόρμα Windows: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]. Android και iOS πλοίο με μια έκδοση του SQLite στο λειτουργικό σύστημα συσκευή μόνη της, έτσι δεν χρειάζεται να δημιουργήσετε αναφορά τη δική σας έκδοση του SQLite.

Οι προγραμματιστές μπορούν επίσης να εφαρμόσετε τις δικές τους τοπικού χώρου αποθήκευσης. Για παράδειγμα, εάν θέλετε να αποθηκεύσετε δεδομένα σε κρυπτογραφημένη μορφή στον φορητό υπολογιστή-πελάτη, μπορείτε να ορίσετε ένα τοπικό χώρο αποθήκευσης που χρησιμοποιεί SQLCipher για κρυπτογράφηση.

## <a name="what-is-a-sync-context"></a>Τι είναι ένα περιβάλλον συγχρονισμού;

Ένα *περιβάλλον συγχρονισμού* σχετίζεται με ένα πρόγραμμα-πελάτη κινητών αντικείμενο (όπως είναι οι `IMobileServiceClient` ή `MSClient`) και παρακολουθεί τις αλλαγές που πραγματοποιούνται με πίνακες του συγχρονισμού. Το περιβάλλον συγχρονισμός διατηρεί μια *λειτουργία ουρά* διατηρώντας μια ταξινομημένη λίστα CUD λειτουργίες (δημιουργία, ενημέρωση, διαγραφή) που θα σταλεί αργότερα στο διακομιστή.

Τοπικός χώρος αποθήκευσης είναι συσχετισμένη με το περιβάλλον συγχρονισμού χρησιμοποιώντας μια μέθοδο προετοιμασίας όπως `IMobileServicesSyncContext.InitializeAsync(localstore)` στο το [.NET προγράμματος-πελάτη SDK].

## <a name="how-sync-works"></a>Πώς χωρίς σύνδεση λειτουργίας του συγχρονισμού

Όταν χρησιμοποιείτε πίνακες συγχρονισμού, στοιχεία ελέγχου σας κώδικα του προγράμματος-πελάτη όταν τοπικές αλλαγές θα συγχρονιστούν με μια εφαρμογή Mobile Azure παρασκηνίου. Τίποτα αποστέλλεται υπόβαθρο μέχρι να υπάρχει μια κλήση σε *push* τοπικές αλλαγές. Ομοίως, του τοπικού χώρου αποθήκευσης συμπληρώνεται με νέα δεδομένα μόνο όταν υπάρχει μια κλήση για να *αντλήσει* δεδομένα.

* **Push**: Push είναι μια πράξη σε περιβάλλον συγχρονισμού και στέλνει όλες οι αλλαγές CUD από το τελευταίο πάτημα. Σημειώστε ότι δεν είναι δυνατή η αποστολή μόνο έναν μεμονωμένο πίνακα αλλαγές, επειδή διαφορετικά λειτουργίες ήταν δυνατή η αποστολή εκτός σειράς. Push εκτελεί μια σειρά από ΥΠΌΛΟΙΠΑ κλήσεις σας παρασκηνίου Azure εφαρμογή Mobile, το οποίο με τη σειρά θα τροποποιείτε μια βάση δεδομένων διακομιστή.

* **Ελκυστική**: ελκυστική εκτελείται σε βάση ανά πίνακα και μπορεί να προσαρμοστεί με ένα ερώτημα για να ανακτήσετε μόνο ένα υποσύνολο των δεδομένων διακομιστή. Το SDK προγράμματος-πελάτη κινητών Azure, στη συνέχεια, εισαγάγετε τα δεδομένα που προκύπτουν στο του τοπικού χώρου αποθήκευσης.

* **Προωθεί το έμμεσα**: Εάν μια ελκυστική έχει εκτελεστεί σε έναν πίνακα που έχει σε εκκρεμότητα τοπικό ενημερώσεις, η ελκυστική θα εκτελεστεί πρώτα μια push σε περιβάλλον συγχρονισμού. Αυτό σας βοηθά να ελαχιστοποιήσετε τις διενέξεις ανάμεσα στις αλλαγές που βρίσκονται ήδη στην ουρά και νέα δεδομένα από το διακομιστή.

* **Τμηματική συγχρονισμού**: η πρώτη παράμετρος για τη λειτουργία ελκυστική είναι ένα *όνομα ερωτήματος* που χρησιμοποιείται μόνο από το πρόγραμμα-πελάτη. Εάν χρησιμοποιείτε ένα όνομα ερωτήματος δεν είναι null, το SDK Mobile Azure θα εκτελέσει μια *επαυξητική συγχρονισμού*.
  Κάθε φορά μια λειτουργία ελκυστική επιστρέφει ένα σύνολο αποτελεσμάτων, την πιο πρόσφατη `updatedAt` χρονική σήμανση από αυτό το σύνολο αποτελεσμάτων είναι αποθηκευμένο σε πίνακες του τοπικού συστήματος SDK. Οι επόμενες ελκυστική λειτουργίες θα ανακτήσει μόνο εγγραφές μετά τη συγκεκριμένη χρονική σήμανση.

  Για να χρησιμοποιήσετε αυξανόμενες συγχρονισμού, το διακομιστή σας πρέπει να επιστρέφει χαρακτηριστικό `updatedAt` τιμές και πρέπει επίσης να υποστηρίζει ταξινόμηση με βάση αυτό το πεδίο. Ωστόσο, επειδή το SDK προσθέτει το δικό της ταξινόμησης στο πεδίο updatedAt, δεν μπορείτε να χρησιμοποιήσετε ένα ερώτημα ελκυστική που έχει το δικό της `$orderBy$` όρος.

  Το όνομα του ερωτήματος μπορεί να είναι οποιαδήποτε συμβολοσειρά που επιλέγετε, αλλά πρέπει να είναι μοναδικός για κάθε λογική ερώτημα στην εφαρμογή σας.
  Διαφορετικά, διαφορετικά ελκυστική λειτουργίες μπορεί να αντικατασταθούν τα ίδια χρονικής σήμανσης αυξάνονται συγχρονισμού και τα ερωτήματά σας μπορεί να επιστρέψει εσφαλμένα αποτελέσματα.

  Εάν το ερώτημα έχει μια παράμετρος, είναι ένας τρόπος για να δημιουργήσετε ένα όνομα ερωτήματος μοναδικό για να ενσωματώσετε την τιμή της παραμέτρου.
  Για παράδειγμα, εάν φιλτράρετε σε αναγνωριστικό χρήστη, το όνομα του ερωτήματος μπορεί να είναι ως εξής (σε C#):

        await todoTable.PullAsync("todoItems" + userid,
            syncTable.Where(u => u.UserId == userid));

  Εάν θέλετε να εξαιρεθείτε από αυξάνονται συγχρονισμού, μεταβιβάζουν `null` με το αναγνωριστικό ερωτήματος. Σε αυτήν την περίπτωση, όλες οι εγγραφές θα ανακτηθούν σε κάθε κλήση για να `PullAsync`, που είναι ενδεχομένως αποτελεσματική.

* **Purging**: μπορείτε να απαλείψετε τα περιεχόμενα του τοπικού χώρου αποθήκευσης με χρήση `IMobileServiceSyncTable.PurgeAsync`.
  Αυτό μπορεί να είναι απαραίτητο, εάν έχετε παλιά δεδομένα στη βάση δεδομένων προγράμματος-πελάτη, ή εάν θέλετε να απορρίψετε όλες τις αλλαγές σε εκκρεμότητα.

  Μια εκκαθάριση θα γίνει απαλοιφή πίνακα από τον τοπικό χώρο αποθήκευσης. Εάν υπάρχουν λειτουργίες σε εκκρεμότητα συγχρονισμού με το διακομιστή βάσης δεδομένων, η εκκαθάριση θα εμφανίσουν εξαίρεση, εκτός εάν η παράμετρος *Εκκαθάριση ισχύ* έχει οριστεί.

  Ως παράδειγμα δεδομένων χωρίς ενημέρωση του υπολογιστή-πελάτη, ας υποθέσουμε ότι στο παράδειγμα "λίστα todo", Device1 χρησιμοποιεί μόνο τα στοιχεία που δεν έχουν ολοκληρωθεί. Στη συνέχεια, μια todoitem "Αγορά γάλακτος" έχει επισημανθεί ολοκληρωθεί στο διακομιστή από μια άλλη συσκευή. Ωστόσο, Device1 θα εξακολουθούν να διαθέτουν το todoitem "Αγορά γάλακτος" στον τοπικό χώρο αποθήκευσης επειδή αυτό έλξη μόνο τα στοιχεία που δεν έχουν επισημανθεί ως ολοκληρωμένη. Μια εκκαθάριση θα καταργήστε την επιλογή αυτού του στοιχείου μη ενημερωμένες.

## <a name="next-steps"></a>Επόμενα βήματα

* [iOS: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]
* [Xamarin iOS: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]
* [Xamarin Android: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]
* [Καθολική πλατφόρμα Windows: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]

<!-- Links -->
[Πρόγραμμα-πελάτη .NET SDK]: app-service-mobile-dotnet-how-to-use-client-library.md
[Android: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]: app-service-mobile-android-get-started-offline-data.md
[iOS: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]: app-service-mobile-ios-get-started-offline-data.md
[Xamarin iOS: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]: app-service-mobile-xamarin-ios-get-started-offline-data.md
[Xamarin Android: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]: app-service-mobile-xamarin-ios-get-started-offline-data.md
[Καθολική πλατφόρμα Windows: Ενεργοποίηση συγχρονισμού χωρίς σύνδεση]: app-service-mobile-windows-store-dotnet-get-started-offline-data.md
