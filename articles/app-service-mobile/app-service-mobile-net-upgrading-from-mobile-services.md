<properties
    pageTitle="Αναβάθμιση από τις υπηρεσίες κινητές συσκευές στο Azure εφαρμογής υπηρεσίας"
    description="Μάθετε πώς μπορείτε να αναβαθμίσετε εύκολα την εφαρμογή υπηρεσιών Mobile σε μια εφαρμογή της εφαρμογής υπηρεσίας Mobile"
    services="app-service\mobile"
    documentationCenter=""
    authors="adrianhall"
    manager="dwrede"
    editor=""/>

<tags
    ms.service="app-service-mobile"
    ms.workload="mobile"
    ms.tgt_pltfrm="mobile"
    ms.devlang="dotnet"
    ms.topic="article"
    ms.date="10/01/2016"
    ms.author="adrianha"/>

# <a name="upgrade-your-existing-net-azure-mobile-service-to-app-service"></a>Αναβάθμιση του υπάρχοντος .NET Azure υπηρεσίας κινητών τηλεφώνων εφαρμογής υπηρεσίας

Εφαρμογή υπηρεσίας Mobile είναι ένα νέο τρόπο για να δημιουργήσετε εφαρμογές για κινητές συσκευές με Windows Azure. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Τι είναι οι εφαρμογές του Mobile;].

Αυτό το θέμα περιγράφει τον τρόπο για να αναβαθμίσετε μια υπάρχουσα εφαρμογή παρασκηνίου .NET από τις υπηρεσίες Mobile Azure σε μια νέα εφαρμογή υπηρεσίας οι εφαρμογές του Mobile. Ενώ πραγματοποιείτε αυτήν την αναβάθμιση, την υπάρχουσα εφαρμογή υπηρεσιών Mobile μπορεί να συνεχίσει να λειτουργεί.   Εάν πρέπει να κάνετε αναβάθμιση μιας εφαρμογής παρασκηνίου Node.js, ανατρέξτε στην [αναβάθμιση των υπηρεσιών σας Node.js Mobile](./app-service-mobile-node-backend-upgrading-from-mobile-services.md).

Κατά την αναβάθμιση σε υπηρεσία εφαρμογής Azure έναν φορητό υπολογιστή στο παρασκήνιο, θα έχει πρόσβαση σε όλες τις δυνατότητες εφαρμογής υπηρεσίας και χρέωσης σύμφωνα με [τις τιμές εφαρμογής υπηρεσίας], τις τιμές και όχι Mobile υπηρεσιών.

##<a name="migrate-vs-upgrade"></a>Μετεγκατάσταση έναντι αναβάθμισης

[AZURE.INCLUDE [app-service-mobile-migrate-vs-upgrade](../../includes/app-service-mobile-migrate-vs-upgrade.md)]

>[AZURE.TIP] Συνιστάται να που [μετεγκατάσταση](app-service-mobile-migrating-from-mobile-services.md) πριν μεταβείτε μέσω αναβάθμισης. Αυτόν τον τρόπο, μπορείτε να θέσετε και στις δύο εκδόσεις της εφαρμογής σας σε το ίδιο πρόγραμμα υπηρεσίας εφαρμογή και να αναλαμβάνουν χωρίς πρόσθετο κόστος.

###<a name="improvements-in-mobile-apps-net-server-sdk"></a>Βελτιώσεις στο διακομιστή .NET εφαρμογές του Mobile SDK

Αναβάθμιση στο νέο [SDK εφαρμογές του Mobile](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) παρέχει τα ακόλουθα πλεονεκτήματα:

- Περισσότερη ευελιξία εξαρτήσεις NuGet. Στο περιβάλλον φιλοξενίας παρέχει πλέον τη δική εκδόσεις των NuGet πακέτα, ώστε να μπορείτε να χρησιμοποιήσετε εναλλακτικές συμβατές εκδόσεις. Ωστόσο, εάν υπάρχουν νέα κρίσιμη bugfixes ή ενημερώσεις ασφαλείας για το κινητό διακομιστή SDK ή εξαρτήσεις, πρέπει να ενημερώσετε με μη αυτόματο τρόπο την υπηρεσία.

- Περισσότερη ευελιξία στη στο SDK κινητές συσκευές. Ρητά, μπορείτε να ελέγχετε ποιες δυνατότητες και δρομολογεί έχουν ρυθμιστεί, όπως τον έλεγχο ταυτότητας, πίνακα APIs και το τελικό σημείο καταχώρησης push. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [πώς μπορείτε να χρησιμοποιήσετε το διακομιστή .NET SDK για εφαρμογές του Mobile Azure](app-service-mobile-net-upgrading-from-mobile-services.md#server-project-setup).

- Υποστήριξη για άλλους τύπους έργων ASP.NET και δρομολογεί. Τώρα μπορείτε να φιλοξενήσετε ελεγκτές MVC και Web API στο ίδιο έργο ως το έργο σας φορητό υπολογιστή στο παρασκήνιο.

- Υποστήριξη για νέες δυνατότητες εφαρμογής υπηρεσίας ελέγχου ταυτότητας, οι οποίες σας επιτρέπουν να χρησιμοποιήσετε ένα κοινό ρύθμιση παραμέτρων ελέγχου ταυτότητας σε σας web και εφαρμογές για κινητές συσκευές.

##<a name="overview"></a>Γενική επισκόπηση αναβάθμισης

Σε πολλές περιπτώσεις, η αναβάθμιση θα είναι τόσο απλή όσο η μετάβαση στο νέο διακομιστή εφαρμογές του Mobile SDK και αναδημοσίευση του κώδικα σε μια νέα παρουσία εφαρμογή Mobile. Υπάρχουν, ωστόσο ορισμένα σενάρια που θα απαιτεί ορισμένες πρόσθετες ρυθμίσεις, όπως σενάρια ελέγχου ταυτότητας για προχωρημένους και την εργασία με προγραμματισμένες εργασίες. Κάθε μία από αυτές τις καλύπτεται στις ενότητες νεότερη έκδοση.

>[AZURE.TIP] Συνιστάται να διαβάσετε και να κατανοήσετε το υπόλοιπο μέρος αυτού του θέματος πλήρως πριν να ξεκινήσετε την αναβάθμιση. Σημειώστε από τις δυνατότητες του χρησιμοποιείτε που ονομάζονται κάτω από το.

Το πρόγραμμα-πελάτη κινητών υπηρεσιών SDK είναι **δεν** είναι συμβατή με το νέο διακομιστή εφαρμογές του Mobile SDK. Προκειμένου να εξασφαλιστεί συνέχειας της υπηρεσίας για την εφαρμογή σας, που δεν θα πρέπει να δημοσιεύσετε τις αλλαγές σε μια τοποθεσία αυτήν τη στιγμή που εξυπηρετούν δημοσιευμένα προγράμματα-πελάτες. Αντί για αυτό, θα πρέπει να μπορείτε να δημιουργήσετε μια νέα εφαρμογή για κινητές συσκευές που χρησιμοποιείται ως ένα διπλότυπο. Μπορείτε να τοποθετήσετε αυτής της εφαρμογής στο το ίδιο πρόγραμμα εφαρμογής υπηρεσίας για να αποφύγετε τις πρόσθετες οικονομικών κόστος.

Στη συνέχεια, θα έχετε δύο εκδόσεις της εφαρμογής: ένα που να είναι η ίδια και λειτουργεί δημοσιευτεί εφαρμογές σε το φυσικό περιβάλλον, και το άλλο που μπορείτε να κάνετε στη συνέχεια, αναβάθμιση και προορισμού με μια νέα έκδοση προγράμματος-πελάτη. Μπορείτε να μετακινήσετε και να ελέγξετε τον κωδικό με το ρυθμό, αλλά θα πρέπει να βεβαιωθείτε ότι τυχόν διορθώσεις σφαλμάτων που κάνετε να εφαρμοστούν και τα δύο. Μόλις πιστεύετε ότι ένα επιθυμητό αριθμό του προγράμματος-πελάτη εφαρμογές από το φυσικό περιβάλλον έχουν ενημερωθεί στην πιο πρόσφατη έκδοση, μπορείτε να διαγράψετε την αρχική εφαρμογή μετεγκαταστάθηκαν εάν που θέλετε.

Το πλήρες διάρθρωσης για τη διαδικασία αναβάθμισης είναι ως εξής:

1. Δημιουργήστε μια νέα εφαρμογή Mobile
2. Ενημέρωση του έργου για να χρησιμοποιήσετε τη νέα SDK διακομιστή
3. Μια νέα έκδοση της εφαρμογής σας προγράμματος-πελάτη
4. (Προαιρετικό) Διαγράψτε το αρχικό μετεγκαταστάθηκαν παρουσίας

##<a name="mobile-app-version"></a>Δημιουργία μιας δεύτερης παρουσία της εφαρμογής
Το πρώτο βήμα για την αναβάθμιση είναι να δημιουργήσετε τον πόρο εφαρμογή Mobile που θα φιλοξενήσει τη νέα έκδοση της εφαρμογής σας. Εάν ήδη μετεγκατάσταση μια υπάρχουσα υπηρεσία κινητών τηλεφώνων, που θα θέλετε να δημιουργήσετε αυτήν την έκδοση στο ίδιο σχέδιο φιλοξενίας. Ανοίξτε την [πύλη του Azure] και μεταβείτε στην εφαρμογή μετεγκατάστασης σας. Σημειώστε το πρόγραμμα υπηρεσιών εφαρμογής λειτουργεί με.

Στη συνέχεια, δημιουργήστε την δεύτερη παρουσία της εφαρμογής, ακολουθώντας τις [οδηγίες δημιουργίας .NET παρασκηνίου](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app). Όταν σας ζητηθεί να επιλέξετε το πρόγραμμα υπηρεσιών εφαρμογής ή "πρόγραμμα φιλοξενίας" επιλέξετε το πρόγραμμα της εφαρμογής σας μετεγκαταστάθηκαν.

Που πιθανώς θα θέλετε να χρησιμοποιήσετε την ίδια βάση δεδομένων και την ειδοποίηση διανομέα όπως κάνατε σε υπηρεσίες Mobile. Μπορείτε να αντιγράψετε αυτές τις τιμές, ανοίγοντας [Azure πύλη] και περιήγηση στην αρχική εφαρμογή, στη συνέχεια, κάντε κλικ στην επιλογή **Ρυθμίσεις** > **Ρυθμίσεις εφαρμογής**. Στην περιοχή **Συμβολοσειρές σύνδεσης**, αντιγράψτε `MS_NotificationHubConnectionString` και `MS_TableConnectionString`. Μεταβείτε στη νέα σας τοποθεσία αναβάθμισης και επικολλήστε τα στο, αντικαθιστώντας τυχόν υπάρχουσες τιμές. Επαναλάβετε τη διαδικασία για οποιεσδήποτε άλλες ρυθμίσεις εφαρμογής τις ανάγκες των εφαρμογών σας. Εάν δεν χρησιμοποιείτε μια υπηρεσία μετεγκατάστασης, μπορείτε να διαβάσετε συμβολοσειρές σύνδεσης και των ρυθμίσεων της εφαρμογής από την καρτέλα **Ρύθμιση παραμέτρων** της ενότητας Mobile υπηρεσίες του [Azure κλασική πύλη].

Δημιουργήστε ένα αντίγραφο του ASP.NET έργου για την εφαρμογή σας και να δημοσιεύσετε στη νέα σας τοποθεσία. Χρήση ενός αντιγράφου της εφαρμογής σας προγράμματος-πελάτη ενημερωθεί με τη νέα διεύθυνση URL, επικυρώστε ότι όλα λειτουργούν όπως αναμένεται.

## <a name="updating-the-server-project"></a>Ενημέρωση του project server

Εφαρμογές του Mobile παρέχει μια νέα [Mobile εφαρμογή διακομιστή SDK] το οποίο παρέχει πολλές από την ίδια λειτουργικότητα με το περιβάλλον εκτέλεσης υπηρεσίες Mobile. Πρώτα, θα πρέπει να καταργήσετε όλες τις αναφορές για τα πακέτα υπηρεσιών Mobile. Ο διαχειριστής του πακέτου NuGet, αναζητήστε `WindowsAzure.MobileServices.Backend`. Οι περισσότερες εφαρμογές θα δείτε διάφορες πακέτων εδώ, συμπεριλαμβανομένων των `WindowsAzure.MobileServices.Backend.Tables` και `WindowsAzure.MobileServices.Backend.Entity`. Σε αυτήν την περίπτωση, ξεκινήστε με το μικρότερο πακέτο στο δέντρο εξάρτησης, που βρίσκονται όπως `Entity`, και να το καταργήσετε. Όταν σας ζητηθεί, μην καταργήσετε όλα τα πακέτα εξαρτώμενες. Επαναλάβετε αυτήν τη διαδικασία έως ότου έχετε καταργήσει `WindowsAzure.MobileServices.Backend` ίδια.

Σε αυτό το σημείο, έχετε ένα έργο που δεν είναι πλέον αναφέρεται SDK υπηρεσίες Mobile.

Στη συνέχεια θα προσθέσετε αναφορές στο SDK εφαρμογές του Mobile. Για αυτήν την αναβάθμιση, οι περισσότερες προγραμματιστές θα θέλετε να κάνετε λήψη και εγκατάσταση του `Microsoft.Azure.Mobile.Server.Quickstart` συσκευασία, καθώς αυτό θα έλκει ολόκληρο το σύνολο απαιτείται.

Θα υπάρχουν αρκετά μερικά προγράμματος μεταγλώττισης σφάλματα που προκύπτουν από τις διαφορές μεταξύ του SDK, αλλά αυτές είναι εύκολο να διεύθυνση και καλύπτονται τα υπόλοιπα αυτήν την ενότητα.

### <a name="base-configuration"></a>Βασική ρύθμιση παραμέτρων

Στη συνέχεια, στο WebApiConfig.cs, μπορείτε να αντικαταστήσετε:

        // Use this class to set configuration options for your mobile service
        ConfigOptions options = new ConfigOptions();

        // Use this class to set WebAPI configuration options
        HttpConfiguration config = ServiceConfig.Initialize(new ConfigBuilder(options));

με το

        HttpConfiguration config = new HttpConfiguration();
        new MobileAppConfiguration()
            .UseDefaultConfiguration()
        .ApplyTo(config);

>[AZURE.NOTE] Εάν θέλετε να μάθετε περισσότερα σχετικά με τον νέο διακομιστή .NET SDK και πώς να Προσθαφαίρεση δυνατοτήτων από την εφαρμογή, ανατρέξτε στο θέμα [πώς μπορείτε να χρησιμοποιήσετε το διακομιστή .NET SDK] .

Εάν η εφαρμογή σας κάνει χρήση των δυνατοτήτων ελέγχου ταυτότητας, θα πρέπει επίσης να καταχωρήσετε ένα ενδιάμεσο OWIN. Σε αυτήν την περίπτωση, πρέπει να μετακινήσετε τον παραπάνω κωδικό ρύθμισης παραμέτρων σε μια νέα κλάση OWIN εκκίνησης.

1. Προσθήκη του πακέτου NuGet `Microsoft.Owin.Host.SystemWeb` Εάν δεν περιλαμβάνεται ήδη στο έργο σας.
2. Στο Visual Studio, κάντε δεξί κλικ στο έργο σας και επιλέξτε **Προσθήκη** -> **Νέο στοιχείο**. Επιλέξτε **Web** -> **Γενικά** -> **κλάση OWIN εκκίνησης**.
3. Μετακίνηση του παραπάνω κώδικα για MobileAppConfiguration από `WebApiConfig.Register()` για να το `Configuration()` μέθοδο τάξη σας νέα εκκίνησης.

Βεβαιωθείτε ότι το `Configuration()` μέθοδο τελειώνει με:

        app.UseWebApi(config)
        app.UseAppServiceAuthentication(config);

Υπάρχουν επιπλέον αλλαγές που σχετίζονται με τον έλεγχο ταυτότητας που καλύπτονται στην παρακάτω ενότητα πλήρη έλεγχο ταυτότητας.

### <a name="working-with-data"></a>Εργασία με δεδομένα

Στις υπηρεσίες Mobile, το όνομα της εφαρμογής για κινητές συσκευές λειτουργούσαν ως το προεπιλεγμένο όνομα σχήματος στη ρύθμιση των Framework οντότητα.

Για να βεβαιωθείτε ότι έχετε το ίδιο σχήμα που αναφέρεται ως παλαιότερα, χρησιμοποιήστε τα ακόλουθα για να ορίσετε το σχήμα του DbContext για την εφαρμογή σας:

        string schema = System.Configuration.ConfigurationManager.AppSettings.Get("MS_MobileServiceName");

Βεβαιωθείτε ότι έχετε MS_MobileServiceName ορίσετε εάν μπορείτε να κάνετε τα παραπάνω. Μπορείτε επίσης να παρέχετε άλλο όνομα σχήματος, εάν η εφαρμογή σας προσαρμόσει προηγουμένως αυτό.

### <a name="system-properties"></a>Ιδιότητες συστήματος

#### <a name="naming"></a>Ονομασία

Ο διακομιστής των υπηρεσιών Azure Mobile SDK, ιδιότητες συστήματος πάντα περιέχουν μια διπλής υπογράμμισης (`__`) πρόθεμα για τις ιδιότητες:

- __createdAt
- __updatedAt
- __deleted
- __version

Το πρόγραμμα-πελάτη κινητών υπηρεσιών SDK έχουν ειδική λογική για την ανάλυση Ιδιότητες συστήματος σε αυτήν τη μορφή.

Στις εφαρμογές του Mobile Azure, ιδιότητες συστήματος δεν είναι πλέον μια ειδική μορφή και έχετε τα ονόματα των εξής:

- createdAt
- updatedAt
- Διαγραφή
- έκδοση

Το πρόγραμμα-πελάτη εφαρμογές του Mobile SDK χρησιμοποιεί τα νέα ονόματα Ιδιότητες συστήματος, έτσι ώστε δεν απαιτούνται αλλαγές στον κώδικα του προγράμματος-πελάτη. Ωστόσο, εάν πραγματοποιείτε απευθείας ΥΠΌΛΟΙΠΑ κλήσεις στην υπηρεσία σας, στη συνέχεια, θα πρέπει να αλλάξετε τα ερωτήματά σας αντίστοιχα.

#### <a name="local-store"></a>Τοπικού χώρου αποθήκευσης

Οι αλλαγές στα ονόματα των Ιδιότητες συστήματος σημαίνει ότι δεν είναι συμβατό με τις εφαρμογές του Mobile μια τοπική βάση δεδομένων συγχρονισμού χωρίς σύνδεση για τις υπηρεσίες του Mobile. Εάν είναι δυνατόν, θα πρέπει να αποφύγετε την αναβάθμιση του προγράμματος-πελάτη εφαρμογές από τις υπηρεσίες Mobile εφαρμογές του Mobile μέχρι μετά από αλλαγές σε εκκρεμότητα έχουν αποσταλεί στο διακομιστή. Στη συνέχεια, στην αναβαθμισμένη εφαρμογή πρέπει να χρησιμοποιήσετε ένα νέο όνομα αρχείου της βάσης δεδομένων.

Εάν μια εφαρμογή προγράμματος-πελάτη αναβαθμίζεται από τις υπηρεσίες Mobile σε εφαρμογές του Mobile ενώ υπάρχουν αλλαγές χωρίς σύνδεση σε εκκρεμότητα στην ουρά λειτουργίας, πρέπει να ενημερωθούν βάση δεδομένων του συστήματος για να χρησιμοποιήσετε τα νέα ονόματα στηλών. Στο iOS, αυτό μπορείτε να επιτύχετε χρησιμοποιώντας ελαφριά μετεγκαταστάσεις για να αλλάξετε τα ονόματα των στηλών. Σε Android και το πρόγραμμα-πελάτη διαχειριζόμενων .NET, θα πρέπει να γράψετε προσαρμοσμένο SQL για να μετονομάσετε τις στήλες για τους πίνακές σας δεδομένων αντικειμένου.

Στο iOS, θα πρέπει να αλλάξετε το σχήμα βασικά δεδομένα για το οντοτήτων δεδομένων ώστε να ταιριάζει με τα εξής. Σημειώστε ότι οι ιδιότητες `createdAt`, `updatedAt` και `version` δεν έχουν πλέον ένα `ms_` πρόθεμα:

| Χαρακτηριστικό |  Τύπος   | Σημείωση                                                 |
|---------- |  ------ | -----------------------------------------------------|
| αναγνωριστικό        | Συμβολοσειρά, επισημανθεί ως απαιτούμενη  | πρωτεύον κλειδί στον απομακρυσμένο χώρο αποθήκευσης         |
| createdAt | Ημερομηνία    | (προαιρετικό) χάρτες createdAt ιδιότητα συστήματος         |
| updatedAt | Ημερομηνία    | (προαιρετικό) χάρτες updatedAt ιδιότητα συστήματος         |
| έκδοση   | Συμβολοσειρά  | (προαιρετικό) χρησιμοποιείται για τον εντοπισμό διενέξεις, χάρτες έκδοση |

#### <a name="querying-system-properties"></a>Υποβολή ερωτημάτων Ιδιότητες συστήματος

Στις υπηρεσίες Mobile Azure, ιδιότητες συστήματος δεν αποστέλλονται από προεπιλογή, αλλά μόνο όταν σας ζητείται χρησιμοποιώντας τη συμβολοσειρά ερωτήματος `__systemProperties`. Αντίθετα, στο σύστημα εφαρμογές του Mobile Azure ιδιότητες είναι **πάντα επιλεγμένο** δεδομένου ότι αποτελούν μέρος του το μοντέλο αντικειμένων του SDK διακομιστή.

Αυτή η αλλαγή επηρεάζει κυρίως προσαρμοσμένο υλοποιήσεις των διαχειριστών τομέα, όπως επεκτάσεις της `MappedEntityDomainManager`. Στις υπηρεσίες Mobile, εάν ένας υπολογιστής-πελάτης ζητά ποτέ οποιεσδήποτε ιδιότητες συστήματος, είναι πιθανό να χρησιμοποιήσετε ένα `MappedEntityDomainManager` που δεν αντιστοιχεί στην πραγματικότητα όλες τις ιδιότητες. Ωστόσο, σε εφαρμογές του Mobile Azure, αυτές οι ιδιότητες που δεν έχουν αντιστοιχιστεί θα προκαλέσει σφάλμα σε ερωτήματα ΛΉΨΗ.

Ο ευκολότερος τρόπος για να επιλύσετε το ζήτημα είναι να τροποποιήσετε DTOs σας, ώστε να κληρονομούν από `ITableData` αντί για `EntityData`. Στη συνέχεια, προσθέστε το `[NotMapped]` χαρακτηριστικών για τα πεδία που θα πρέπει να παραλειφθεί.

Για παράδειγμα, ορίζει τα εξής `TodoItem` με χωρίς ιδιότητες συστήματος:

    using System.ComponentModel.DataAnnotations.Schema;

    public class TodoItem : ITableData
    {
        public string Text { get; set; }

        public bool Complete { get; set; }

        public string Id { get; set; }

        [NotMapped]
        public DateTimeOffset? CreatedAt { get; set; }

        [NotMapped]
        public DateTimeOffset? UpdatedAt { get; set; }

        [NotMapped]
        public bool Deleted { get; set; }

        [NotMapped]
        public byte[] Version { get; set; }
    }

Σημείωση: Εάν λάβετε σφάλματα `NotMapped`, προσθέστε μια αναφορά σε συγκρότησης `System.ComponentModel.DataAnnotations`.

### <a name="cors"></a>CORS

Υπηρεσίες Mobile περιλαμβάνεται ορισμένες υποστήριξη για CORS με αναδίπλωση της λύσης ASP.NET CORS. Αυτό το επίπεδο αναδίπλωσης έχει καταργηθεί για να δώσετε τον προγραμματιστή μεγαλύτερο έλεγχο, ώστε να μπορείτε να αξιοποιήσετε απευθείας [CORS ASP.NET υποστηρίζουν](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).

Οι κύριες περιοχές του πρόβλημα εάν χρησιμοποιείτε CORS που είναι το `eTag` και `Location` κεφαλίδες πρέπει να επιτρέπεται σε σειρά για το πρόγραμμα-πελάτη SDK για να λειτουργήσει σωστά.

### <a name="push-notifications"></a>Ειδοποιήσεις Push
Για push, το κύριο στοιχείο που μπορεί να λείπουν από το διακομιστή SDK είναι η κλάση PushRegistrationHandler. Καταχωρήσεις αντιμετωπίζονται λίγο διαφορετικά σε εφαρμογές του Mobile και tagless καταχωρήσεων είναι ενεργοποιημένες από προεπιλογή. Διαχείριση ετικετών είναι δυνατό να γίνει με τη χρήση προσαρμοσμένων APIs. Ανατρέξτε στο θέμα τις οδηγίες [την καταχώρηση για ετικέτες](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) για περισσότερες πληροφορίες.

### <a name="scheduled-jobs"></a>Προγραμματισμένες εργασίες
Προγραμματισμένες εργασίες δεν είναι ενσωματωμένες σε εφαρμογές του Mobile, έτσι θα πρέπει να αναβαθμίσετε μεμονωμένα τυχόν υπάρχουσες εργασίες που έχετε στο σας παρασκηνίου .NET. Μία επιλογή είναι να δημιουργήσετε μια προγραμματισμένη [Εργασία Web] στην τοποθεσία του κώδικα εφαρμογή Mobile. Μπορείτε επίσης μπορεί να ρύθμιση έναν ελεγκτή που περιέχει τον κωδικό του έργου και να ρυθμίσετε τις παραμέτρους του [Χρονοδιαγράμματος Azure] να το πετύχετε αυτό το τελικό σημείο στο αναμενόμενο χρονοδιάγραμμα.

### <a name="miscellaneous-changes"></a>Διάφορες αλλαγές
Όλα τα ApiControllers που θα καταναλωθεί από ένα πρόγραμμα-πελάτη κινητών τώρα πρέπει να έχετε το `[MobileAppController]` χαρακτηριστικό. Αυτό δεν είναι πλέον περιλαμβάνονται από προεπιλογή, ώστε άλλοι ApiControllers για να μεταβείτε δεν επηρεάζεται από την κινητή formatters.

Το `ApiServices` αντικείμενο δεν είναι πλέον τμήμα του SDK. Για να έχετε πρόσβαση στις ρυθμίσεις εφαρμογή Mobile, μπορείτε να χρησιμοποιήσετε τα εξής:

    MobileAppSettingsDictionary settings = this.Configuration.GetMobileAppSettingsProvider().GetMobileAppSettings();

Ομοίως, καταγραφή πραγματοποιείται πλέον χρησιμοποιώντας την τυπική συγγραφής ανίχνευση ASP.NET:

    ITraceWriter traceWriter = this.Configuration.Services.GetTraceWriter();
    traceWriter.Info("Hello, World");  

##<a name="authentication"></a>Ζητήματα ελέγχου ταυτότητας

Τα στοιχεία ελέγχου ταυτότητας των υπηρεσιών Mobile τώρα έχουν μετακινηθεί στο τη δυνατότητα εφαρμογής υπηρεσίας ελέγχου ταυτότητας/εξουσιοδότησης. Μπορείτε να μάθετε σχετικά με την ενεργοποίηση αυτό για την τοποθεσία σας διαβάζοντας το θέμα [Προσθήκη ελέγχου ταυτότητας για την εφαρμογή για κινητές συσκευές](app-service-mobile-ios-get-started-users.md) .

Για ορισμένες υπηρεσίες παροχής, όπως AAD, Facebook και το Google, θα πρέπει να μπορείτε να αξιοποιήσετε την υπάρχουσα καταχώρηση από την εφαρμογή σας αντίγραφο. Πρέπει να μεταβείτε στην πύλη της υπηρεσίας παροχής ταυτότητας και να προσθέσετε μια νέα διεύθυνση URL redirect για την καταχώρηση. Στη συνέχεια, ρύθμιση παραμέτρων εφαρμογής υπηρεσίας ελέγχου ταυτότητας/εξουσιοδότησης με το Αναγνωριστικό υπολογιστή-πελάτη και το μυστικό.

### <a name="controller-action-authorization"></a>Εξουσιοδότηση ενέργεια ελεγκτή
Όλες τις εμφανίσεις του το `[AuthorizeLevel(AuthorizationLevel.User)]` χαρακτηριστικού πρέπει τώρα να αλλάξει για να χρησιμοποιήσετε την τυπική ASP.NET `[Authorize]` χαρακτηριστικό. Επιπλέον, οι ελεγκτές είναι τώρα ανώνυμη από προεπιλογή, όπως τις άλλες εφαρμογές ASP.NET.
Αν χρησιμοποιείτε μία από τις άλλες επιλογές AuthorizeLevel, όπως διαχειριστή ή εφαρμογή, σημειώστε ότι αυτές είναι πλέον. Αντί για αυτό, μπορείτε να ρυθμίσετε AuthorizationFilters για το κοινόχρηστο απόρρητο ή να ρυθμίσετε τις παραμέτρους μιας AAD κεφάλαιο υπηρεσίας για να ενεργοποιήσετε την υπηρεσία εξυπηρέτησης κλήσεις με ασφάλεια.

### <a name="getting-additional-user-information"></a>Λήψη πληροφοριών επιπλέον χρήστη

Μπορείτε να λάβετε πληροφορίες επιπλέον χρηστών, συμπεριλαμβανομένων των κωδικών πρόσβασης μέσω του `GetAppServiceIdentityAsync()` μέθοδο:

        FacebookCredentials creds = await this.User.GetAppServiceIdentityAsync<FacebookCredentials>();

Επιπλέον, εάν η εφαρμογή σας διαρκεί εξαρτήσεις χρήστης αναγνωριστικών, όπως την αποθήκευσή τους σε μια βάση δεδομένων, είναι σημαντικό να λάβετε υπόψη ότι τα αναγνωριστικά χρήστη μεταξύ των υπηρεσιών Mobile και εφαρμογών υπηρεσίας Mobile είναι διαφορετικά. Εξακολουθείτε να μπορείτε να λάβετε το Αναγνωριστικό χρήστη υπηρεσίες Mobile, μέσω. Όλες τις δευτερεύουσες κλάσεις ProviderCredentials έχουν μια ιδιότητα αναγνωριστικό χρήστη. Επομένως, πρέπει να συνεχίσετε από το παράδειγμα πριν από:

        string mobileServicesUserId = creds.Provider + ":" + creds.UserId;

Εάν η εφαρμογή σας χρησιμοποιήσετε τυχόν εξαρτήσεις αναγνωριστικά χρήστη, είναι σημαντικό ότι μπορείτε αξιοποιήσετε της ίδιας καταχώρησης με μια υπηρεσία παροχής ταυτότητας εάν είναι δυνατό. Αναγνωριστικά χρήστη περιορίζονται για την καταχώρηση εφαρμογής που χρησιμοποιήθηκε, συνήθως, ώστε η εισαγωγή μιας νέας εγγραφής για μπορούσατε να δημιουργήσετε προβλήματα με αντίστοιχα δεδομένα τους από τους χρήστες.

### <a name="custom-authentication"></a>Προσαρμοσμένος έλεγχος ταυτότητας

Εάν η εφαρμογή σας χρησιμοποιεί μια λύση προσαρμοσμένου ελέγχου ταυτότητας, που θα θέλετε να βεβαιωθείτε ότι στην αναβαθμισμένη τοποθεσία έχει πρόσβαση στο σύστημα. Ακολουθήστε τις οδηγίες νέα για προσαρμοσμένο έλεγχο ταυτότητας στην [Επισκόπηση SDK .NET server] για να ενσωματώσετε τη λύση σας. Σημειώστε ότι τα στοιχεία ελέγχου ταυτότητας των προσαρμοσμένων είναι ακόμα σε προεπισκόπηση.

##<a name="updating-clients"></a>Ενημέρωση προγράμματα-πελάτες
Όταν έχετε μια λειτουργικές παρασκηνίου εφαρμογή Mobile, μπορείτε να εργαστείτε σε μια νέα έκδοση της εφαρμογής σας προγράμματος-πελάτη που χρησιμοποιεί το. Εφαρμογές του Mobile περιλαμβάνει επίσης μια νέα έκδοση του προγράμματος-πελάτη SDK και παρόμοια με την αναβάθμιση του διακομιστή παραπάνω, θα πρέπει να καταργήσετε όλες τις αναφορές του SDK υπηρεσίες Mobile πριν από την εγκατάσταση των εκδόσεων εφαρμογές του Mobile.

Μία από τις κύριες αλλαγές μεταξύ των εκδόσεων είναι ότι το κατασκευές δεν χρειάζεστε πλέον ένα πλήκτρο εφαρμογής. Τώρα απλώς περάσετε στη διεύθυνση URL της εφαρμογής Mobile. Για παράδειγμα, σε υπολογιστές-πελάτες .NET, το `MobileServiceClient` κατασκευή είναι τώρα:

        public static MobileServiceClient MobileService = new MobileServiceClient(
            "https://contoso.azurewebsites.net", // URL of the Mobile App
        );

Μπορείτε να διαβάσετε σχετικά με την εγκατάσταση του νέου SDK και χρησιμοποιώντας τη νέα δομή μέσω τις παρακάτω συνδέσεις:

- [iOS έκδοση 3.0.0 ή νεότερη έκδοση](app-service-mobile-ios-how-to-use-client-library.md)
- [.NET (Windows/Xamarin) έκδοση 2.0.0 ή νεότερη έκδοση](app-service-mobile-dotnet-how-to-use-client-library.md)

Εάν η εφαρμογή σας κάνει χρήση ειδοποιήσεων push, σημειώστε τις οδηγίες συγκεκριμένες εγγραφής για κάθε πλατφόρμα, ως υπήρξε υπάρχουν ορισμένες αλλαγές καθώς και.

Όταν έχετε τη νέα έκδοση προγράμματος-πελάτη που είναι έτοιμη, δοκιμή, σε σχέση με το έργο σας αναβαθμισμένο διακομιστή. Μετά την επαλήθευση ότι λειτουργεί, μπορείτε να αποδεσμεύσετε μια νέα έκδοση της εφαρμογής σας σε "πελάτες". Τελικά, όταν οι πελάτες σας να είχατε την ευκαιρία να λάβετε αυτές τις ενημερωμένες εκδόσεις, μπορείτε να διαγράψετε την έκδοση Mobile υπηρεσιών από την εφαρμογή σας. Σε αυτό το σημείο, έχετε αναβαθμίσει εντελώς σε μια εφαρμογή Mobile εφαρμογής υπηρεσίας, χρησιμοποιώντας το πιο πρόσφατες εφαρμογές του Mobile διακομιστή SDK.

<!-- URLs. -->

[Πύλη του Azure]: https://portal.azure.com/
[Azure κλασική πύλη]: https://manage.windowsazure.com/
[Τι είναι οι εφαρμογές του Mobile;]: app-service-mobile-value-prop.md
[I already use web sites and mobile services – how does App Service help me?]: /en-us/documentation/articles/app-service-mobile-value-prop-migration-from-mobile-services
[SDK κινητής εφαρμογής διακομιστή]: http://www.nuget.org/packages/microsoft.azure.mobile.server
[Create a Mobile App]: app-service-mobile-xamarin-ios-get-started.md
[Add push notifications to your mobile app]: app-service-mobile-xamarin-ios-get-started-push.md
[Add authentication to your mobile app]: app-service-mobile-xamarin-ios-get-started-users.md
[Azure χρονοδιαγράμματος]: /en-us/documentation/services/scheduler/
[Εργασία στο Web]: ../app-service-web/websites-webjobs-resources.md
[Πώς μπορείτε να χρησιμοποιήσετε το διακομιστή .NET SDK]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
[Migrate from Mobile Services to an App Service Mobile App]: app-service-mobile-migrating-from-mobile-services.md
[Migrate your existing Mobile Service to App Service]: app-service-mobile-migrating-from-mobile-services.md
[Εφαρμογή υπηρεσίας τις τιμές]: https://azure.microsoft.com/en-us/pricing/details/app-service/
[Επισκόπηση SDK διακομιστή .NET]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
