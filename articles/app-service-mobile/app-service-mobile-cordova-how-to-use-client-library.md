<properties
    pageTitle="Πώς να χρησιμοποιείτε Apache Cordova προσθήκης για Azure εφαρμογές για κινητές συσκευές"
    description="Πώς να χρησιμοποιείτε Apache Cordova προσθήκης για Azure εφαρμογές για κινητές συσκευές"
    services="app-service\mobile"
    documentationCenter="javascript"
    authors="adrianhall"
    manager="erikre"
    editor=""/>

<tags
    ms.service="app-service-mobile"
    ms.workload="mobile"
    ms.tgt_pltfrm="mobile-html"
    ms.devlang="javascript"
    ms.topic="article"
    ms.date="10/01/2016"
    ms.author="adrianha"/>

# <a name="how-to-use-apache-cordova-client-library-for-azure-mobile-apps"></a>Πώς να χρησιμοποιείτε Apache Cordova βιβλιοθήκη προγράμματος-πελάτη για Azure εφαρμογές για κινητές συσκευές

[AZURE.INCLUDE [app-service-mobile-selector-client-library](../../includes/app-service-mobile-selector-client-library.md)]

Αυτός ο οδηγός σας μαθαίνει για να εκτελέσετε κοινά σενάρια χρησιμοποιώντας την πιο πρόσφατη [Προσθήκη Cordova Apache για εφαρμογές του Mobile Azure]. Εάν είστε νέος χρήστης του Azure εφαρμογές του Mobile, πρώτη πλήρη [Azure Mobile Apps γρήγορης εκκίνησης] για να δημιουργήσετε έναν υπολογιστή στο παρασκήνιο, δημιουργήστε έναν πίνακα και λήψη προ-δομημένες Apache Cordova έργου. Σε αυτόν τον οδηγό, θα σας εστιάσετε την προσθήκη Cordova Apache πλευρά του προγράμματος-πελάτη.

## <a name="supported-platforms"></a>Υποστηριζόμενες πλατφόρμες

Αυτό το SDK υποστηρίζει Apache Cordova v6.0.0 και νεότερη έκδοση σε iOS, Android και Windows συσκευές.  Η υποστήριξη πλατφόρμας είναι ως εξής:

* Android API 19-24 (KitKat έως Nougat)
* iOS 8.0 και οι νεότερες εκδόσεις.
* Windows Phone 8.0
* Windows Phone 8.1
* Πλατφόρμα γενικής χρήσης των Windows

##<a name="Setup"></a>Το πρόγραμμα εγκατάστασης και τις προϋποθέσεις

Αυτός ο οδηγός προϋποθέτει ότι έχετε δημιουργήσει έναν υπολογιστή στο παρασκήνιο με έναν πίνακα. Αυτός ο οδηγός προϋποθέτει ότι ο πίνακας έχει το ίδιο σχήμα ως τους πίνακες σε αυτά τα προγράμματα εκμάθησης. Αυτός ο οδηγός επίσης προϋποθέτει ότι έχετε προσθέσει την προσθήκη Cordova Apache κώδικα.  Εάν δεν το έχετε κάνει αυτό, μπορείτε να προσθέσετε την προσθήκη Apache Cordova στο έργο σας στη γραμμή εντολών:

```
cordova plugin add cordova-plugin-ms-azure-mobile-apps
```

Για περισσότερες πληροφορίες σχετικά με τη δημιουργία [την πρώτη εφαρμογή Apache Cordova], ανατρέξτε στην τεκμηρίωση τους.

[AZURE.INCLUDE [app-service-mobile-html-js-library.md](../../includes/app-service-mobile-html-js-library.md)]


##<a name="auth"></a>Πώς μπορείτε να: έλεγχο ταυτότητας χρηστών

Azure εφαρμογής υπηρεσίας υποστηρίζει τον έλεγχο ταυτότητας και εξουσιοδότησης χρησιμοποιώντας διάφορες υπηρεσίες παροχής ταυτότητας εξωτερικών χρήστες της εφαρμογής: Facebook, Google, λογαριασμό Microsoft που διαθέτετε και Twitter. Μπορείτε να ορίσετε δικαιώματα σε πίνακες για να περιορίσετε την πρόσβαση για συγκεκριμένες ενέργειες μόνο σε χρήστες με έλεγχο ταυτότητας. Μπορείτε επίσης να χρησιμοποιήσετε την ταυτότητα των εξουσιοδοτημένων χρηστών για την υλοποίηση των κανόνων εξουσιοδότησης σε δέσμες ενεργειών διακομιστή. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα το πρόγραμμα εκμάθησης [Γρήγορα αποτελέσματα με τον έλεγχο ταυτότητας] .

Κατά τη χρήση του ελέγχου ταυτότητας σε μια εφαρμογή Apache Cordova, των παρακάτω προσθηκών Cordova πρέπει να είναι διαθέσιμες:

* [cordova-Προσθήκη-συσκευή]
* [cordova-Προσθήκη-inappbrowser]

Υποστηρίζονται δύο ροών ελέγχου ταυτότητας: ένα διακομιστή και μια ροή προγράμματος-πελάτη.  Τη ροή διακομιστή παρέχει το πιο απλός εμπειρία ελέγχου ταυτότητας, όπως βασίζεται στο περιβάλλον εργασίας ελέγχου ταυτότητας web της υπηρεσίας παροχής. Η ροή προγράμματος-πελάτη επιτρέπει όπως για βαθύτερη ενοποίηση με τις δυνατότητες ειδικά για τη συσκευή-καθολικής σύνδεσης που βασίζεται σε SDK ειδικά για τη συσκευή υπηρεσίας παροχής.

[AZURE.INCLUDE [app-service-mobile-html-js-auth-library.md](../../includes/app-service-mobile-html-js-auth-library.md)]

###<a name="configure-external-redirect-urls"></a>Πώς μπορείτε να: ρύθμιση παραμέτρων σας κινητής εφαρμογής υπηρεσίας για εξωτερική ανακατεύθυνσης διευθύνσεων URL.

Πολλοί τύποι Apache Cordova εφαρμογές Χρησιμοποιήστε μια δυνατότητα βρόχος επιστροφής για το χειρισμό ροών διακριτικό περιβάλλοντος εργασίας Χρήστη.  Περιβάλλον εργασίας Χρήστη OAuth ροών στο τοπικού κεντρικού υπολογιστή προκαλέσει προβλήματα, επειδή η υπηρεσία ελέγχου ταυτότητας μόνο γνωρίζει πώς να χρησιμοποιούν την υπηρεσία από προεπιλογή.  Παραδείγματα προβληματικό ροών διακριτικό περιβάλλοντος εργασίας Χρήστη περιλαμβάνουν τα εξής:

- Την αλυσιδωτή προσομοίωσης.
- Live νέα φόρτωση με ΙΟΝΙΚΩΝ.
- Εκτέλεση τοπικά φορητό υπολογιστή στο παρασκήνιο
- Εκτελεί υπόβαθρο κινητές συσκευές σε διαφορετική υπηρεσία εφαρμογής Azure από τη μία παρέχει έλεγχο ταυτότητας.

Ακολουθήστε αυτές τις οδηγίες για να προσθέσετε τις τοπικές ρυθμίσεις για τη ρύθμιση παραμέτρων:

1. Συνδεθείτε [πύλη του Azure]
2. Επιλέξτε **όλους τους πόρους** ή **Τις υπηρεσίες εφαρμογών** και, στη συνέχεια, κάντε κλικ στο όνομα της εφαρμογής σας Mobile.
3. Κάντε κλικ στην επιλογή **Εργαλεία**
4. Κάντε κλικ στην επιλογή **Εξερεύνηση των πόρων** στο μενού ΤΉΡΗΣΗ και, στη συνέχεια, κάντε κλικ στο κουμπί **Μετάβαση**.  Ανοίγει ένα νέο παράθυρο ή tab.
5. Αναπτύξτε τη **ρύθμισης παραμέτρων**, **authsettings** κόμβους για την τοποθεσία σας στο αριστερό παράθυρο περιήγησης.
6. Κάντε κλικ στην επιλογή **Επεξεργασία**
7. Αναζητήστε το στοιχείο "allowedExternalRedirectUrls".  Μπορεί να έχει οριστεί σε τιμή null ή έναν πίνακα τιμών.  Αλλάξτε την τιμή με την ακόλουθη τιμή:

         "allowedExternalRedirectUrls": [
             "http://localhost:3000",
             "https://localhost:3000"
         ],

    Αντικαταστήστε τις διευθύνσεις URL με τις διευθύνσεις URL των υπηρεσιών σας.  Παραδείγματα "http://localhost:3000" (για την υπηρεσία δείγμα Node.js) ή "http://localhost:4400" (για την υπηρεσία αλυσιδωτή).  Ωστόσο, αυτές οι διευθύνσεις URL είναι παραδείγματα - την κατάστασή σας, συμπεριλαμβανομένων των υπηρεσιών που αναφέρονται στα παραδείγματα, ενδέχεται να είναι διαφορετικές.
8. Κάντε κλικ στο κουμπί **Ανάγνωσης/εγγραφής** στην επάνω δεξιά γωνία της οθόνης.
9. Κάντε κλικ στο πράσινο κουμπί **ΤΟΠΟΘΈΤΗΣΗ** .

Οι ρυθμίσεις αποθηκεύονται σε αυτό το σημείο.  Μην κλείσετε το παράθυρο του προγράμματος περιήγησης μέχρι να ολοκληρώσετε τις ρυθμίσεις αποθήκευσης.
Επίσης, προσθέστε αυτές τις διευθύνσεις URL βρόχος επιστροφής στις ρυθμίσεις CORS της εφαρμογής υπηρεσίας:

1. Συνδεθείτε [πύλη του Azure]
2. Επιλέξτε **όλους τους πόρους** ή **Τις υπηρεσίες εφαρμογών** και, στη συνέχεια, κάντε κλικ στο όνομα της εφαρμογής σας Mobile.
3. Το blade ρυθμίσεις ανοίγει αυτόματα.  Εάν δεν το, κάντε κλικ στην επιλογή **Όλες οι ρυθμίσεις**.
4. Κάντε κλικ στην επιλογή **CORS** στην περιοχή του μενού API.
5. Πληκτρολογήστε τη διεύθυνση URL που θέλετε να προσθέσετε στο πλαίσιο που παρέχεται και πατήστε το πλήκτρο Enter.
6. Εισαγάγετε πρόσθετες διευθύνσεις URL, όπως απαιτείται.
7. Κάντε κλικ στο κουμπί **Αποθήκευση** για να αποθηκεύσετε τις ρυθμίσεις.

Χρειάζονται περίπου 10 έως 15 δευτερολέπτων για τις νέες ρυθμίσεις για να τεθούν σε ισχύ.

##<a name="register-for-push"></a>Πώς μπορείτε να: Register για τις ειδοποιήσεις Push

Εγκαταστήστε το [phonegap-Προσθήκη-push] να χειρίζεται τις ειδοποιήσεις προώθησης.  Αυτή η προσθήκη μπορούν να προστεθούν εύκολα με χρήση του `cordova plugin add` εντολή στη γραμμή εντολών, ή μέσω του προγράμματος εγκατάστασης προσθήκης Git μέσα σε Visual Studio.  Ο ακόλουθος κώδικας στην εφαρμογή Apache Cordova καταχωρεί τη συσκευή σας για τις ειδοποιήσεις push:

```
var pushOptions = {
    android: {
        senderId: '<from-gcm-console>'
    },
    ios: {
        alert: true,
        badge: true,
        sound: true
    },
    windows: {
    }
};
pushHandler = PushNotification.init(pushOptions);

pushHandler.on('registration', function (data) {
    registrationId = data.registrationId;
    // For cross-platform, you can use the device plugin to determine the device
    // Best is to use device.platform
    var name = 'gcm'; // For android - default
    if (device.platform.toLowerCase() === 'ios')
        name = 'apns';
    if (device.platform.toLowerCase().substring(0, 3) === 'win')
        name = 'wns';
    client.push.register(name, registrationId);
});

pushHandler.on('notification', function (data) {
    // data is an object and is whatever is sent by the PNS - check the format
    // for your particular PNS
});

pushHandler.on('error', function (error) {
    // Handle errors
});
```

Χρήση του SDK διανομείς ειδοποίηση για την αποστολή ειδοποιήσεων push από το διακομιστή.  Χωρίς αποστολή ειδοποιήσεων push απευθείας από προγράμματα-πελάτες. Αυτή η ενέργεια θα μπορούσαν να χρησιμοποιηθούν για να προκαλέσει άρνηση υπηρεσίας σε σχέση με ειδοποίηση διανομείς ή το Γραμματίων.  Το Γραμματίων θα μπορούσε να απαγόρευση κυκλοφορία σας ως αποτέλεσμα όπως επιθέσεις.

<!-- URLs. -->
[Πύλη του Azure]: https://portal.azure.com
[Azure κινητή εφαρμογές γρήγορης εκκίνησης]: app-service-mobile-cordova-get-started.md
[Γρήγορα αποτελέσματα με τον έλεγχο ταυτότητας]: app-service-mobile-cordova-get-started-users.md
[Add authentication to your app]: app-service-mobile-cordova-get-started-users.md

[Προσθήκη Cordova Apache για Azure εφαρμογές για κινητές συσκευές]: https://www.npmjs.com/package/cordova-plugin-ms-azure-mobile-apps
[την πρώτη εφαρμογή Apache Cordova]: http://cordova.apache.org/#getstarted
[phonegap-facebook-plugin]: https://github.com/wizcorp/phonegap-facebook-plugin
[phonegap-Προσθήκη-push]: https://www.npmjs.com/package/phonegap-plugin-push
[cordova-Προσθήκη-συσκευή]: https://www.npmjs.com/package/cordova-plugin-device
[cordova-Προσθήκη-inappbrowser]: https://www.npmjs.com/package/cordova-plugin-inappbrowser
[Query object documentation]: https://msdn.microsoft.com/en-us/library/azure/jj613353.aspx
