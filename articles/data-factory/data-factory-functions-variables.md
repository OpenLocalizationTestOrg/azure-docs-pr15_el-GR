<properties 
    pageTitle="Συναρτήσεις εργοστασίου δεδομένων και μεταβλητές συστήματος | Microsoft Azure" 
    description="Παρέχει μια λίστα των συναρτήσεων εργοστασίου δεδομένων Azure και μεταβλητές συστήματος" 
    documentationCenter="" 
    authors="sharonlo101" 
    manager="jhubbard" 
    editor="monicar"
    services="data-factory"
/>

<tags 
    ms.service="data-factory" 
    ms.workload="data-services" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="10/11/2016" 
    ms.author="shlo"/>

# <a name="azure-data-factory---functions-and-system-variables"></a>Azure δεδομένων Factory - συναρτήσεις και μεταβλητές συστήματος
Σε αυτό το άρθρο παρέχει πληροφορίες σχετικά με τις συναρτήσεις και μεταβλητές που υποστηρίζονται από το Azure εργοστασίου δεδομένων.
  
## <a name="data-factory-system-variables"></a>Μεταβλητές συστήματος εργοστασίου δεδομένων

Το όνομα της μεταβλητής | Περιγραφή | Εμβέλεια αντικειμένου | Εμβέλεια JSON και περιπτώσεις χρήσης
------------- | ----------- | ------------ | ------------------------
WindowStart | Έναρξη της χρονικό διάστημα για την τρέχουσα δραστηριότητά εκτέλεση παραθύρου | δραστηριότητα | <ol><li>Καθορίστε τα ερωτήματα επιλογής δεδομένων. Ανατρέξτε στα άρθρα γραμμή σύνδεσης που αναφέρεται στο άρθρο [Δραστηριότητες κίνηση δεδομένων](data-factory-data-movement-activities.md) .</li><li>Περάσετε παραμέτρους δέσμης ενεργειών Hive (δείγμα φαίνεται παραπάνω).</li>
WindowEnd | Τέλος της χρονικό διάστημα για την τρέχουσα δραστηριότητά εκτέλεση παραθύρου | δραστηριότητα | όπως περιγράφεται παραπάνω
SliceStart | Έναρξη του χρονικού διαστήματος για δεδομένα φέτα που δημιουργήθηκαν | δραστηριότητα<br/>σύνολο δεδομένων | <ol><li>Καθορίστε ονόματα αρχείου και φακέλου δυναμικές διαδρομές ενώ εργάζεστε με [Αντικειμένων Blob του Azure](data-factory-azure-blob-connector.md) και [το σύστημα αρχείων συνόλων δεδομένων](data-factory-onprem-file-system-connector.md).</li><li>Καθορίστε εισαγωγής εξαρτήσεις με συναρτήσεις εργοστασίου δεδομένων στη συλλογή εισόδων δραστηριότητας.</li></ol>
SliceEnd | Τέλος της χρονικό διάστημα για την τρέχουσα δεδομένων φέτα που δημιουργήθηκαν | δραστηριότητα<br/>σύνολο δεδομένων | όπως περιγράφεται παραπάνω. 

> [AZURE.NOTE] Προς το παρόν εργοστασίου δεδομένων απαιτεί ότι το χρονοδιάγραμμα που καθορίζεται στη δραστηριότητα ακριβώς ταιριάζουν με το χρονοδιάγραμμα που καθορίζεται στη διαθεσιμότητα του συνόλου δεδομένων εξόδου. Αυτό σημαίνει ότι WindowStart, WindowEnd και SliceStart και SliceEnd αντιστοίχιση πάντα με την ίδια χρονική περίοδο και ένα μεμονωμένο αποτέλεσμα φέτα.
 
## <a name="data-factory-functions"></a>Συναρτήσεις εργοστασίου δεδομένων 

Μπορείτε να χρησιμοποιήσετε συναρτήσεις σε εργοστασίου δεδομένων μαζί με παραπάνω μεταβλητές αναφερόμενης συστήματος για το παρακάτω λόγους:

1.  Καθορισμός ερωτήματα επιλογής δεδομένων (ανατρέξτε στα άρθρα σύνδεσης στα οποία γίνεται αναφορά από το άρθρο [Δραστηριότητες κίνηση δεδομένων](data-factory-data-movement-activities.md) .

    Η σύνταξη για να καλέσετε μια συνάρτηση εργοστασίου δεδομένων είναι: ** $$ ** για ερωτήματα επιλογής δεδομένων και άλλες ιδιότητες στα τη δραστηριότητα και τα σύνολα δεδομένων.  
2. Καθορισμός εισαγωγής εξαρτήσεις με συναρτήσεις εργοστασίου δεδομένων στη δραστηριότητα εισροές συλλογής (δείτε παραπάνω δείγμα).

    $$ δεν είναι απαραίτητη για τον καθορισμό εισαγωγής εξάρτηση παραστάσεις.   

Το παρακάτω δείγμα, **sqlReaderQuery** ιδιοτήτων σε ένα αρχείο JSON έχει αντιστοιχιστεί σε μια τιμή που επιστρέφεται από τη συνάρτηση **Text.Format** . Αυτό το δείγμα χρησιμοποιεί επίσης μια μεταβλητή συστήματος με το όνομα **WindowStart**, που αντιπροσωπεύει την ώρα έναρξης της δραστηριότητας εκτέλεση παραθύρου.
    
    {
        "Type": "SqlSource",
        "sqlReaderQuery": "$$Text.Format('SELECT * FROM MyTable WHERE StartTime = \\'{0:yyyyMMdd-HH}\\'', WindowStart)"
    }

### <a name="functions"></a>Συναρτήσεις

Στους παρακάτω πίνακες παρατίθενται όλες τις λειτουργίες του Azure εργοστασίου δεδομένων:

Κατηγορία | Συνάρτηση | Παράμετροι | Περιγραφή
-------- | -------- | ---------- | ----------- 
Ώρα | AddHours(X,Y) | Χ: DateTime <br/><br/>Y: int | Προσθέτει τη δεδομένη στιγμή X Y ώρες. <br/><br/>Παράδειγμα: 9/5/2013 12:00:00 μμ + 2 ώρες = 9/5/2013 2:00:00 μ.μ.
Ώρα | AddMinutes(X,Y) | Χ: DateTime <br/><br/>Y: int | Προσθέτει λεπτά Y X.<br/><br/>Παράδειγμα: 9/15/2013 12:00:00 μμ + 15 λεπτά = 9/15/2013 12:15:00 μ.μ.
Ώρα | StartOfHour(X) | Χ: Datetime | Λαμβάνει την ώρα έναρξης για την ώρα που αναπαριστάνεται από το στοιχείο ώρα του X. <br/><br/>Παράδειγμα: StartOfHour του 15/9/2013 είναι 05:10:23 μμ 15/9/2013 05:00:00 μ.μ.
Ημερομηνία | AddDays(X,Y) | Χ: DateTime<br/><br/>Y: int | Προσθέτει ημέρες Y X.<br/><br/>Παράδειγμα: 9/15/2013 12:00:00 μμ + 2 ημερών = 9/17/2013 12:00:00 μ.μ.
Ημερομηνία | AddMonths(X,Y) | Χ: DateTime<br/><br/>Y: int | Προσθέτει μήνες Y X.<br/><br/>Παράδειγμα: 9/15/2013 12:00:00 μμ + 1 μήνα = 10/15/2013 12:00:00 μ.μ. 
Ημερομηνία | AddQuarters(X,Y) | Χ: DateTime <br/><br/>Y: int | Προσθέτει Y * 3 μήνες σε X.<br/><br/>Παράδειγμα: 9/15/2013 12:00:00 μμ + 1 τρίμηνο = 12/15/2013 12:00:00 μ.μ.
Ημερομηνία | AddWeeks(X,Y) | Χ: DateTime<br/><br/>Y: int | Προσθέτει Y * 7 ημέρες για να X<br/><br/>Παράδειγμα: 9/15/2013 12:00:00 μμ + 1 εβδομάδα = 9/22/2013 12:00:00 μ.μ.
Ημερομηνία | AddYears(X,Y) | Χ: DateTime<br/><br/>Y: int | Προσθέτει έτη Y X.<br/><br/>Παράδειγμα: 9/15/2013 12:00:00 μμ + 1 έτος = 9/15/2014 12:00:00 μ.μ.
Ημερομηνία | Day(X) | Χ: DateTime | Λαμβάνει το στοιχείο ημέρα του X.<br/><br/>Παράδειγμα: Ημέρα του 15/9/2013 12:00:00 μμ είναι 9. 
Ημερομηνία | DayOfWeek(X) | Χ: DateTime | Λαμβάνει την ημέρα της εβδομάδας στοιχείο του X.<br/><br/>Παράδειγμα: DayOfWeek του 15/9/2013 12:00:00 μμ είναι Κυριακή.
Ημερομηνία | DayOfYear(X) | Χ: DateTime | Λαμβάνει την ημέρα του έτους που αναπαριστάνεται από το στοιχείο έτος του X.<br/><br/>Παραδείγματα:<br/>1/12/2015: ημέρα 335 της 2015<br/>31/12/2015: ημέρα 365 του 2015<br/>31/12/2016: ημέρα 366 του 2016 (δίσεκτο)
Ημερομηνία | DaysInMonth(X) | Χ: DateTime | Λαμβάνει τις ημέρες του μήνα, που αντιπροσωπεύονται από το στοιχείο month της παραμέτρου X.<br/><br/>Παράδειγμα: DaysInMonth του 15/9/2013 είναι 30 δεδομένου ότι υπάρχουν 30 ημέρες του μήνα Σεπτεμβρίου.
Ημερομηνία | EndOfDay(X) | Χ: DateTime | Λαμβάνει την ημερομηνία-ώρα που αντιπροσωπεύει το τέλος της ημέρας (στοιχείο ημέρα) του X.<br/><br/>Παράδειγμα: EndOfDay του 15/9/2013 είναι 05:10:23 μμ 15/9/2013 11:59:59 μμ.
Ημερομηνία | EndOfMonth(X) | Χ: DateTime | Λαμβάνει το τέλος του μήνα που αντιπροσωπεύονται από το στοιχείο month της παραμέτρου X. <br/><br/>Παράδειγμα: EndOfMonth του 15/9/2013 05:10:23 ΜΜ είναι 30/9/2013 11:59:59 PM (ημερομηνία ώρα που αντιπροσωπεύει το τέλος του μήνα Σεπτεμβρίου)
Ημερομηνία | StartOfDay(X) | Χ: DateTime | Λαμβάνει την έναρξη της ημέρας που αντιπροσωπεύονται από το στοιχείο ημέρα της παραμέτρου X.<br/><br/>Παράδειγμα: StartOfDay του 15/9/2013 είναι 05:10:23 μμ 15/9/2013 12:00:00 ΠΜ.
Ημερομηνίας και ώρας | From(X) | Χ: συμβολοσειρά | Η ανάλυση της συμβολοσειράς X σε μια ημερομηνία ώρα.
Ημερομηνίας και ώρας | Ticks(X) | Χ: DateTime | Λαμβάνει το υποδιαιρέσεις ιδιότητα της παραμέτρου X. Μία υποδιαίρεσης ισούται με δισεκατομμυριοσατά. Η τιμή αυτής της ιδιότητας αντιπροσωπεύει τον αριθμό των συγχρονισμών που έχουν παρέλθει από 12:00:00 τα μεσάνυχτα, 1 Ιανουαρίου 0001. 
Κείμενο | Format(X) | Χ: μεταβλητή συμβολοσειράς | Μορφοποιεί το κείμενο.

#### <a name="textformat-example"></a>Παράδειγμα Text.Format

    "defines": { 
        "Year" : "$$Text.Format('{0:yyyy}',WindowStart)",
        "Month" : "$$Text.Format('{0:MM}',WindowStart)",
        "Day" : "$$Text.Format('{0:dd}',WindowStart)",
        "Hour" : "$$Text.Format('{0:hh}',WindowStart)"
    }

Ανατρέξτε στο θέμα [προσαρμοσμένη ημερομηνία και ώρα συμβολοσειρές μορφής](https://msdn.microsoft.com/library/8kb3ddd4.aspx) το θέμα που περιγράφει τις διαφορετικές επιλογές μορφοποίησης που μπορείτε να χρησιμοποιήσετε (για παράδειγμα: ΕΕ έναντι εεεε). 

> [AZURE.NOTE] Κατά τη χρήση μιας συνάρτησης μέσα σε μια άλλη συνάρτηση, δεν χρειάζεται να χρησιμοποιήσετε **$$** πρόθεμα για τη συνάρτηση εσωτερική. Για παράδειγμα: $$Text.Format ('PartitionKey eq \\' my_pkey_filter_value\\' και σελίδας RowKey \\' {0:yyyy-MM-dd HH:mm:ss}\\'', Time.AddHours (SliceStart, -6)). Σε αυτό το παράδειγμα, σημειώστε ότι **$$** πρόθεμα δεν χρησιμοποιείται για τη συνάρτηση **Time.AddHours** . 
  

