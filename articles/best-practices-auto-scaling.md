<properties
   pageTitle="Καθοδήγηση Autoscaling | Microsoft Azure"
   description="Καθοδήγηση σχετικά με τον τρόπο autoscale δυναμικά εκχώρηση πόρων που απαιτούνται από μια εφαρμογή."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="autoscaling-guidance"></a>Καθοδήγηση Autoscaling

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="overview"></a>Επισκόπηση
Autoscaling είναι η διαδικασία δυναμικά κατανομή των πόρων που απαιτούνται από μια εφαρμογή για να ταιριάζουν με απαιτήσεις για την απόδοση και να πληρούν τις συμβάσεις επιπέδου υπηρεσιών (SLA), ενώ ελαχιστοποίηση του χρόνου εκτέλεσης κόστους. Καθώς εξελίσσεται του όγκου εργασίας, μια εφαρμογή μπορεί να απαιτούν πρόσθετους πόρους για να το ενεργοποιήσετε για να εκτελέσετε τις εργασίες έγκαιρα. Όπως απαιτήσεων slackens, τους πόρους μπορεί να γίνει καταργήστε την που έχει εκχωρηθεί για να ελαχιστοποιήσετε το κόστος, ενώ εξακολουθείτε να συντήρηση των επιδόσεων του επαρκής και SLA της σύσκεψης.
Autoscaling αξιοποιεί της ελαστικότητας της περιβάλλοντα που φιλοξενείται στο cloud κατά τη διευκόλυνση της επιβάρυνσης διαχείρισης. Αυτό γίνεται, μειώνοντας την ανάγκη για έναν τελεστή σε συνεχή παρακολουθεί τις επιδόσεις του συστήματος και λήψη αποφάσεων σχετικά με την προσθήκη ή την κατάργηση πόρων.
>[AZURE.NOTE] Autoscaling ισχύει για όλους τους πόρους που χρησιμοποιούνται από μια εφαρμογή, όχι μόνο τους πόρους του υπολογισμού. Για παράδειγμα, εάν το σύστημά σας χρησιμοποιεί ουρές μηνυμάτων για αποστολή και λήψη πληροφοριών, ήταν δυνατή η δημιουργία επιπλέον ουρές όπως το κλίμακες.

## <a name="types-of-scaling"></a>Τύποι κλιμάκωση
Κλιμάκωση συνήθως λαμβάνει μία από τις ακόλουθες δύο μορφές:

- **Κατακόρυφη** (συχνά αναφέρονται ως _κλίμακας προς τα επάνω ή προς τα κάτω_). Αυτή η φόρμα απαιτεί να τροποποιήσετε το υλικό (επεκτείνετε ή να μειώσετε τη δυνατότητα και επιδόσεων), ή να αναπτύξετε ξανά τη λύση με χρήση εναλλακτικού υλικό που περιλαμβάνει την κατάλληλη χωρητικότητα και τις επιδόσεις. Σε ένα περιβάλλον cloud, την πλατφόρμα υλικού είναι συνήθως περιβάλλον αναπαράστασης. Εκτός εάν το αρχικό υλικό ουσιαστικά ήταν overprovisioned, με την επακόλουθη προκαταρκτικό κεφαλαιακών εξόδων, κατακόρυφα κλίμακας προς τα επάνω σε αυτό το περιβάλλον περιλαμβάνει την προμήθεια πιο ισχυρή πόρους και, στη συνέχεια, μετακίνηση του συστήματος σε αυτούς τους πόρους νέα. Κατακόρυφη κλιμάκωση είναι συχνά μια διεργασία ενοχλητικούς που απαιτεί να γίνουν ενώ αυτό είναι να επαναληφθεί η ανάπτυξη του συστήματος προσωρινά μη διαθέσιμος. Ενδέχεται να είναι δυνατό να διατηρήσετε το αρχικό σύστημα που εκτελείται κατά το νέο υλικό παρέχεται και έφερε συνδεδεμένοι, αλλά είναι πιθανό να έχει ορισμένες διακοπές κατά την επεξεργασία μεταβάσεις από το παλιό περιβάλλον προς το νέο. Αυτό είναι ασυνήθιστο να χρησιμοποιήσετε autoscaling για να υλοποιήσετε μια κατακόρυφη κλίμακας στρατηγική.
- **Οριζόντια** (συχνά αναφέρονται ως _Κλιμάκωση ανάληψη και στο_). Αυτή η φόρμα απαιτεί την ανάπτυξη της λύσης πρόσθετη ή λιγότερους πόρων, η οποία είναι συνήθως αγαθό πόρους και όχι μεγάλης ισχύος συστήματα. Η λύση να συνεχίσετε να εκτελείται χωρίς διακοπή ενώ αυτοί οι πόροι που έχουν παρασχεθεί. Όταν ολοκληρωθεί η διαδικασία προετοιμασίας, αντίγραφα των στοιχείων που περιλαμβάνει τη λύση μπορεί να είναι αναπτυχθεί σε αυτές τις επιπλέον πόρους και που καθίστανται διαθέσιμες. Εάν μειωθεί ζήτηση, τους επιπλέον πόρους μπορεί να ανακτηθεί μετά τα στοιχεία με τη χρήση τους να έχει κλείσει καθαρή. Πολλά συστήματα βασίζεται στο cloud, συμπεριλαμβανομένων των Windows Azure, υποστηρίζει την αυτοματοποίηση αυτής της φόρμας από κλίμακα.

## <a name="implement-an-autoscaling-strategy"></a>Υλοποίηση μια στρατηγική autoscaling
Εφαρμογή μιας στρατηγικής autoscaling συνήθως περιλαμβάνει τα εξής στοιχεία και διαδικασίες:

- Οργάνων και συστημάτων στα επίπεδα εφαρμογής, την υπηρεσία και την υποδομή παρακολούθησης. Αυτά τα συστήματα καταγραφή κλειδιού μετρήσεις, όπως χρόνους απόκρισης, μήκη ουρά, η χρήση της CPU και η χρήση της μνήμης.
- Λήψης αποφάσεων λογική που μπορούν να αξιολογήσετε τους παράγοντες εποπτευόμενη κλίμακας έναντι όρια προκαθορισμένες συστήματος ή χρονοδιαγράμματα και λήψη αποφάσεων σχετικά με το εάν θέλετε να περιορίσετε το μέγεθος ή όχι.
- Στοιχεία τα οποία είναι υπεύθυνα για την εκτέλεση εργασιών που σχετίζονται με κλιμάκωση το σύστημα, όπως προμήθειας ή καταργήστε την προμήθεια του πόρους.
- Δοκιμές, παρακολούθηση και της ρύθμισης της στρατηγικής autoscaling για να βεβαιωθείτε ότι λειτουργεί όπως αναμένεται.

Περισσότερα περιβάλλοντα βασίζεται στο cloud, όπως Azure, παρέχει ενσωματωμένη autoscaling μηχανισμούς που συνηθισμένα σενάρια διεύθυνση. Εάν το περιβάλλον ή την υπηρεσία που χρησιμοποιείτε δεν παρέχει τις απαραίτητες αυτόματης κλιμάκωσης λειτουργίες ή εάν έχετε ακραίες autoscaling απαιτήσεις πέρα από τις δυνατότητές του, ίσως χρειαστεί μια προσαρμοσμένη εφαρμογή. Χρησιμοποιήστε αυτή την προσαρμοσμένη εφαρμογή συλλογής λειτουργικές και μετρήσεις σύστημα, την ανάλυση τους για να εντοπίσετε σχετικά δεδομένα και, στη συνέχεια, να κλιμακωθεί πόρους ανάλογα.


## <a name="configure-autoscaling-for-an-azure-solution"></a>Ρύθμιση παραμέτρων autoscaling για μια λύση Azure
Υπάρχουν αρκετές επιλογές για τη ρύθμιση παραμέτρων autoscaling για το Azure λύσεις:

- **Azure Autoscale** υποστηρίζει τα πιο συνηθισμένα σενάρια κλίμακας που βασίζεται σε ένα χρονοδιάγραμμα και, προαιρετικά, ενεργοποίησε κλίμακας λειτουργίες βάσει χρόνου εκτέλεσης μετρικών (όπως χρήσης του επεξεργαστή, μήκος ουράς ή ενσωματωμένα και προσαρμοσμένα μετρητές). Μπορείτε να ρυθμίσετε πολιτικές απλό autoscaling για μια λύση γρήγορα και εύκολα, χρησιμοποιώντας την πύλη του Azure. Για πιο λεπτομερείς στοιχείου ελέγχου, μπορείτε να κάνετε χρήση των το [Azure υπηρεσίας διαχείρισης REST API](https://msdn.microsoft.com/library/azure/ee460799.aspx) ή το [Azure διαχείριση πόρων REST API](https://msdn.microsoft.com//library/azure/dn790568.aspx). Στη [Βιβλιοθήκη διαχείρισης υπηρεσίας παρακολούθηση Azure](http://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring) στη [Βιβλιοθήκη Microsoft ιδέες](https://www.nuget.org/packages/Microsoft.Azure.Insights/) (στην έκδοση preview) είναι SDK που επιτρέπουν τη συλλογή μετρικά από διαφορετικούς πόρους και εκτελέστε autoscaling με τη χρήση των REST API. Για τους πόρους όπου υποστήριξη για τη διαχείριση πόρων Azure δεν είναι διαθέσιμη, ή εάν χρησιμοποιείτε τις υπηρεσίες Cloud Azure, την υπηρεσία διαχείρισης REST API μπορεί να χρησιμοποιηθεί για autoscaling. Σε όλες τις άλλες περιπτώσεις, χρησιμοποιήστε τη διαχείριση πόρων Azure.
- **Μια προσαρμοσμένη λύση**, με βάση το οργάνων σε εφαρμογή και δυνατότητες διαχείρισης του Azure, μπορεί να είναι χρήσιμες. Για παράδειγμα, μπορείτε να χρησιμοποιήσετε Azure Διαγνωστικά ή άλλων μεθόδων οργάνων σε εφαρμογή σας, μαζί με προσαρμοσμένου κώδικα για συνεχή παρακολούθηση και την εξαγωγή μετρικά της εφαρμογής. Θα μπορούσατε να έχετε προσαρμοσμένων κανόνων που λειτουργούν σε αυτές τις μετρήσεις, και χρησιμοποιήστε τη Διαχείριση υπηρεσίας ή διαχείρισης πόρων REST API του να ενεργοποιεί autoscaling. Τα μετρικά για την ενεργοποίηση μιας λειτουργίας κλίμακας μπορεί να είναι οποιαδήποτε ενσωματωμένη ή προσαρμοσμένη μετρητή ή άλλες οργάνων υλοποιήσετε μέσα από την εφαρμογή. Ωστόσο, δεν είναι απλή για την υλοποίηση της, μια προσαρμοσμένη λύση και θα πρέπει να ληφθούν υπόψη μόνο εάν καμία από τις προηγούμενες μεθόδους δεν μπορούν να πληρούν τις απαιτήσεις σας. Το [Μπλοκ εφαρμογής Autoscaling](http://msdn.microsoft.com/library/hh680892%28v=pandp.50%29.aspx) κάνει χρήση αυτής της προσέγγισης.
- **Υπηρεσίες άλλου κατασκευαστή**, όπως [Paraleap AzureWatch](http://www.paraleap.com/AzureWatch), σάς επιτρέπουν να περιορίσετε το μέγεθος μιας λύσης που βασίζεται σε χρονοδιαγραμμάτων, δείκτες απόδοσης φόρτωση και το σύστημα υπηρεσίας, προσαρμοσμένων κανόνων και συνδυασμούς διάφορους τύπους κανόνων.

Κατά την επιλογή των λύσεων autoscaling να λάβει, λάβετε υπόψη τα εξής σημεία:

- Χρησιμοποιήστε τις δυνατότητες ενσωματωμένη autoscaling της πλατφόρμας, αν μπορεί να πληρούν τις απαιτήσεις σας. Εάν όχι, εξετάστε προσεκτικά αν πραγματικά χρειάζεστε πιο σύνθετες δυνατότητες κλιμάκωσης. Ορισμένα παραδείγματα πρόσθετες απαιτήσεις ενδέχεται να περιλαμβάνουν περισσότερων υποδιαίρεση του στοιχείου ελέγχου, διαφορετικούς τρόπους για να εντοπίσετε έναυσμα συμβάντων για κλιμάκωση, κλιμάκωση στις συνδρομές και κλίμακας άλλους τύπους πόρων.
- Εξετάστε το ενδεχόμενο αν που μπορεί να προβλέψει η φόρτωση σχετικά με την εφαρμογή με επαρκή ακρίβεια μόνο εξαρτώνται από προγραμματισμένη autoscaling (Προσθήκη και κατάργηση παρουσίες ώστε να ανταποκρίνεται αναμενόμενων κορυφών απαιτήσεων). Όπου δεν είναι δυνατό, χρησιμοποιήστε αντίδρασης autoscaling βάσει μετρικών που συλλέγονται κατά το χρόνο εκτέλεσης, για να επιτρέψετε την εφαρμογή για το χειρισμό απρόσμενα αλλαγές που ζητούνται. Συνήθως, μπορείτε να συνδυάσετε αυτές τις μεθόδους. Για παράδειγμα, δημιουργήστε μια στρατηγική που προσθέτει πόρους όπως υπολογισμού, το χώρο αποθήκευσης και ουρές, με βάση ένα χρονοδιάγραμμα των χρόνων όταν γνωρίζετε ότι η εφαρμογή είναι πιο απασχολημένη. Αυτό σας βοηθά να διασφαλιστεί ότι είναι διαθέσιμη όταν απαιτείται, χωρίς την καθυστέρηση κατά την εκκίνηση παρουσιών της νέας δυναμικότητα. Επιπλέον, για κάθε κανόνα προγραμματισμένη, Καθορισμός μετρικών που επιτρέπουν αντίδρασης autoscaling κατά τη διάρκεια αυτής της περιόδου για να βεβαιωθείτε ότι η εφαρμογή μπορεί να χειριστεί σταθερή αλλά απρόσμενα κορυφών ζήτηση.
- Συχνά είναι δύσκολο να κατανοήσετε τη σχέση μεταξύ των μετρήσεων και χωρητικότητα απαιτήσεις, ιδίως όταν μια εφαρμογή έχει αναπτυχθεί αρχικά. Προτιμάτε για την παροχή μια μικρή επιπλέον δυναμικότητα στην αρχή, και, στη συνέχεια, παρακολούθηση και με ακρίβεια τους κανόνες autoscaling για να εμφανιστεί η δυναμικότητα πιο κοντά στο πραγματικό φορτίο.

### <a name="use-azure-autoscale"></a>Χρήση του Azure Autoscale
Autoscale σάς επιτρέπει να ρυθμίσετε τις παραμέτρους κλίμακα ανάληψη και κλιμάκωση στις επιλογές για μια λύση. Autoscale αυτόματα να προσθέσετε και να καταργήσετε τις εμφανίσεις της Azure Cloud Services στο web και τους ρόλους εργασίας, τις υπηρεσίες Mobile Azure και δυνατότητα Web Apps στο Azure εφαρμογής υπηρεσίας. Το επίσης να ενεργοποιήσετε την αυτόματη κλιμάκωση κατά την έναρξη και διακοπή παρουσίες του εικονικές μηχανές Windows Azure. Μια στρατηγική Azure autoscaling περιλαμβάνει δύο σύνολα παράγοντες:

- Βασίζεται στο χρονοδιάγραμμα autoscaling που μπορούν να εξασφαλίσουν πρόσθετες εμφανίσεις αυτής είναι διαθέσιμα να συμπίπτουν με μια αναμενόμενη κορύφωσης σε χρήση και να κλίμακα όταν ο χρόνος κορύφωσης πέρασε. Αυτό σας επιτρέπει να βεβαιωθείτε ότι έχετε αρκετό παρουσίες εκτελείται ήδη, χωρίς να περιμένουν για το σύστημα προκειμένου να αντιμετωπίζεται η φόρτωση.
- Μετρικά βάσει autoscaling που απαντά παράγοντες όπως average η χρήση της CPU πάνω από την τελευταία ώρα ή το όριο των μηνυμάτων που επεξεργάζεται τη λύση σε έναν Azure χώρου αποθήκευσης ή Azure Bus υπηρεσία ουράς. Αυτό σας επιτρέπει την εφαρμογή με αντικείμενο ξεχωριστά από τους κανόνες προγραμματισμένη autoscaling ώστε να περιλαμβάνει μη προγραμματισμένη ή απρόβλεπτων αλλαγές που ζητούνται.

Κατά τη χρήση Autoscale, λάβετε υπόψη τα εξής σημεία:

- Της στρατηγικής autoscaling συνδυάζει τόσο προγραμματισμένη και βάσει μετρικά κλιμάκωση. Μπορείτε να καθορίσετε και οι δύο τύποι κανόνων για μια υπηρεσία.
- Πρέπει να ρυθμίσετε τις παραμέτρους των κανόνων autoscaling και, στη συνέχεια, να παρακολουθούν τις επιδόσεις της εφαρμογής σας μέσα στο χρόνο. Χρήση των αποτελεσμάτων παρακολούθησης για να προσαρμόσετε τον τρόπο με την οποία το σύστημα κλίμακες εάν είναι απαραίτητο. Ωστόσο, συνεχίστε να θυμάστε ότι autoscaling που δεν είναι μια στιγμιαία διαδικασία. Ο χρόνος απάντησης σε ένα μετρικό όπως average CPU χρήσης υπερβαίνει (ή που υπάγονται κάτω από το) ένα συγκεκριμένο όριο.
- Κανόνες Autoscaling που χρησιμοποιούν το μηχανισμό εντοπισμού που βασίζεται σε ένα χαρακτηριστικό μετράται έναυσμα (όπως μήκος χρήση ή ουρά CPU) Χρησιμοποιήστε μια συγκεντρωτική τιμή πάνω από την ώρα, αντί να στιγμιαία τιμές, για να ενεργοποιήσετε μια ενέργεια autoscaling. Από προεπιλογή, το συγκεντρωτικό αποτέλεσμα είναι ο μέσος όρος των τιμών. Αυτό δεν επιτρέπει στο σύστημα αντιδρούν πάρα πολύ γρήγορα ή να προκαλεί ταχεία ταλάντωση. Επίσης, επιτρέπει χρόνο για νέες παρουσίες που αυτόματης-ξεκινούν να ρυθμίσουν σε εκτέλεση της λειτουργίας, αποτροπή επιπλέον autoscaling ενεργειών από ενώ οι νέες παρουσίες που ξεκινούν προς τα επάνω. Για τις υπηρεσίες Cloud Azure και εικονικές μηχανές Windows Azure, η προεπιλεγμένη περίοδος για τη συγκέντρωση είναι 45 λεπτά, επομένως, ενδέχεται να χρειαστεί έως σε αυτήν την περίοδο χρόνου για τη μέτρηση να ενεργοποιεί autoscaling απάντηση αιχμές ζήτηση. Μπορείτε να αλλάξετε την περίοδο συνάθροισης, χρησιμοποιώντας το SDK, αλλά έχετε υπόψη ότι οι περίοδοι λιγότερα από 25 λεπτά μπορεί να προκαλέσει απρόσμενα αποτελέσματα (για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Αυτόματη κλιμάκωση υπηρεσίες Cloud σε ποσοστό της CPU με το Azure παρακολούθηση υπηρεσίες βιβλιοθήκης διαχείρισης](http://rickrainey.com/2013/12/15/auto-scaling-cloud-services-on-cpu-percentage-with-the-windows-azure-monitoring-services-management-library/)). Για τις εφαρμογές Web, τη μέση χρονική περίοδο είναι πολύ μικρότερο, επιτρέποντάς νέες παρουσίες να είναι διαθέσιμο σε περίπου πέντε λεπτά μετά από μια αλλαγή η μέτρηση average έναυσμα.
- Εάν ρυθμίζετε autoscaling χρησιμοποιώντας το SDK αντί για την πύλη web, μπορείτε να καθορίσετε ένα χρονοδιάγραμμα πιο λεπτομερείς κατά την οποία οι κανόνες είναι ενεργό. Επίσης, μπορείτε να δημιουργήσετε το δικό σας μετρικά και να τις χρησιμοποιήσετε με ή χωρίς οποιαδήποτε από τις υπάρχουσες στο autoscaling κανόνων. Για παράδειγμα, ίσως θελήσετε να χρησιμοποιεί εναλλακτικές μετρητές, όπως ο αριθμός των αιτήσεων ανά δευτερόλεπτο ή τη διαθεσιμότητα average μνήμης, ή προσαρμοσμένο μετρητές που μετρούν συγκεκριμένων επιχειρηματικών διεργασιών.
- Όταν autoscaling εικονικές μηχανές Windows Azure, πρέπει να αναπτύξετε μια αριθμός των παρουσιών της η εικονική μηχανή που ισούται με τον μέγιστο αριθμό που θα σας επιτρέψει autoscaling για να ξεκινήσετε. Αυτές τις περιπτώσεις, πρέπει να είναι τμήμα του ίδιου συνόλου διαθεσιμότητα. Ο μηχανισμός autoscaling εικονικές μηχανές δεν δημιουργήσετε ή να διαγράψετε τις εμφανίσεις της η εικονική μηχανή; αντί για αυτό, οι κανόνες autoscaling ρυθμίζετε τις παραμέτρους θα ξεκινήσει και διακοπή κατάλληλο αριθμό από αυτές τις περιπτώσεις. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [προσαρμόζεται αυτόματα μια εφαρμογή που εκτελείται Web ρόλους, εργαζόμενου ρόλους, ή εικονικές μηχανές](./cloud-services/cloud-services-how-to-scale.md).
- Εάν δεν είναι δυνατή η εκκίνηση νέες παρουσίες, ίσως επειδή συμπληρώθηκε το μέγιστο όριο για μια συνδρομή ή προκύψει σφάλμα κατά την εκκίνηση, την πύλη ενδέχεται να εμφανίζει ότι ένα autoscaling λειτουργία ολοκληρώθηκε με επιτυχία. Ωστόσο, οι επόμενες **ChangeDeploymentConfiguration** συμβάντα που εμφανίζονται στην πύλη θα εμφανίσει μόνο που ζητήθηκε μια εκκίνηση της υπηρεσίας και δεν θα υπάρξει καμία συμβάντος για να υποδείξετε ότι ολοκληρώθηκε με επιτυχία.
- Μπορείτε να χρησιμοποιήσετε την πύλη web περιβάλλοντος εργασίας Χρήστη για να συνδέσετε τους πόρους όπως εμφανίσεις βάσης δεδομένων SQL και ουρές με μια παρουσία της υπηρεσίας υπολογισμού. Αυτό σας επιτρέπει να πιο εύκολα πρόσβαση τις επιμέρους μη αυτόματες και αυτόματες επιλογές ρύθμισης παραμέτρων για κάθε έναν από τους πόρους συνδεδεμένων κλίμακας. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [ΔΙΑΔΙΚΑΣΙΕΣ: σύνδεση ενός πόρου σε μια υπηρεσία cloud](cloud-services-how-to-manage.md#linkresources) και [πώς μπορείτε να περιορίσετε το μέγεθος μιας εφαρμογής](./cloud-services/cloud-services-how-to-scale.md).
- Όταν ρυθμίζετε τις παραμέτρους πολλών πολιτικές και κανόνες, να μπορεί να έρχονται σε διένεξη μεταξύ τους. Autoscale χρησιμοποιεί την εξής κανόνες επίλυσης διενέξεων για να βεβαιωθείτε ότι υπάρχει πάντοτε επαρκής αριθμός παρουσιών που εκτελούνται:
  - Κλίμακα πράξεις πάντα προηγούνται κλίμακα σε εργασίες.
  - Όταν διαβάθμιση της διένεξης λειτουργίες, τον κανόνα που ξεκινά η μεγαλύτερη αύξηση του αριθμού των εμφανίσεων έχει προτεραιότητα.
  - Όταν κλιμάκωση σε διένεξη λειτουργίες, τον κανόνα που ξεκινά τη μικρότερη μείωση του αριθμού των παρουσιών έχει προτεραιότητα.

<a name="the-azure-monitoring-services-management-library"></a>

## <a name="application-design-considerations-for-implementing-autoscaling"></a>Εφαρμογή θέματα σχεδίασης για την εφαρμογή autoscaling
Autoscaling δεν είναι μια λύση άμεσα. Απλώς Προσθήκη πόρων σε ένα σύστημα ή περισσότερες παρουσίες μιας διαδικασίας δεν εγγυάται ότι θα βελτιώνει τις επιδόσεις του συστήματος. Κατά τη σχεδίαση μιας στρατηγικής autoscaling, λάβετε υπόψη τα εξής σημεία:

- Το σύστημα πρέπει να έχουν σχεδιαστεί να είναι οριζόντια μεταβλητού μεγέθους. Αποφύγετε τη δημιουργία υποθέσεων σχετικά με την παρουσία συσχέτισης; όχι στη σχεδίαση λύσεις που απαιτούν ότι ο κώδικας εκτελείται πάντα σε μια συγκεκριμένη παρουσία μιας διεργασίας. Κατά την κλιμάκωση οριζόντια μια υπηρεσία cloud ή στην τοποθεσία web, δεν λαμβάνεται ως δεδομένο ότι μια σειρά από αιτήσεις από την ίδια προέλευση θα δρομολογούνται πάντα την ίδια παρουσία. Για τον ίδιο λόγο, σχεδίαση να είναι χωρίς κατάσταση για να αποφύγετε να απαιτείται από μια σειρά των αιτήσεων από μια εφαρμογή για να δρομολογούνται πάντα την ίδια παρουσία της υπηρεσίας υπηρεσίες. Κατά τη σχεδίαση μιας υπηρεσίας που διαβάζει τα μηνύματα από μια ουρά και να τα επεξεργάζεται, μην κάνετε τις υποθέσεις σχετικά με την παρουσία ποια από τις λαβές υπηρεσίας ένα συγκεκριμένο μήνυμα. Autoscaling θα μπορούσε να ξεκινήσετε πρόσθετες εμφανίσεις αυτής της υπηρεσίας, καθώς εξελίσσεται η μήκος ουράς. Το [Μοτίβο καταναλωτές κάθε](http://msdn.microsoft.com/library/dn568101.aspx) περιγράφει τον τρόπο χειρισμού των αυτό το σενάριο.
- Εάν η λύση εφαρμόζει μια εργασία μεγάλη διάρκεια εκτέλεσης, σχεδίαση για την υποστήριξη κλίμακας ανάληψη και κλίμακας σε αυτήν την εργασία. Χωρίς προθεσμία περίθαλψη, όπως μια εργασία θα μπορούσε να αποτρέψετε μια παρουσία μιας διαδικασίας τερματισμό καθαρή όταν το σύστημα κλίμακες στο ή αυτό θα μπορούσε να απώλεια δεδομένων, εάν η διεργασία υποχρεωτικά τερματίζεται. Ιδανικά, refactor μια εργασία μεγάλη διάρκεια εκτέλεσης και διασπάσετε την επεξεργασία που εκτελεί σε μικρότερο μέγεθος, διακριτή μπλοκ. Η [δίαυλοι και φίλτρα μοτίβο](http://msdn.microsoft.com/library/dn568100.aspx) παρέχει ένα παράδειγμα του πώς μπορείτε να επιτύχετε αυτό.
- Εναλλακτικά, μπορείτε να υλοποιήσετε μηχανισμό σημείο ελέγχου που αναφέρει πληροφορίες σχετικά με την εργασία σε τακτά χρονικά διαστήματα εγγραφές και αποθηκεύστε αυτήν την κατάσταση στο διαρκή χώρου αποθήκευσης με δυνατότητα πρόσβασης από οποιαδήποτε παρουσία της διαδικασίας εκτελεί την εργασία. Με αυτόν τον τρόπο, εάν η διαδικασία είναι τερματισμού, την εργασία που του εκτέλεση μπορεί να συνεχιστεί από το τελευταίο σημείο ελέγχου χρησιμοποιώντας μια άλλη παρουσία.
- Όταν εργασίες στο παρασκήνιο εκτελείται σε παρουσίες ξεχωριστή υπολογισμού, όπως στο εργαζόμενου τους ρόλους των υπηρεσιών cloud μια φιλοξενούνται εφαρμογής, ίσως χρειαστεί να κλιμακωθεί διαφορετικά τμήματα της εφαρμογής που χρησιμοποιεί διαφορετικές πολιτικές κλίμακας. Για παράδειγμα, ίσως χρειαστεί να αναπτύξετε το υπολογισμού του περιβάλλοντος εργασίας χρήστη πρόσθετες εμφανίσεις χωρίς αύξηση του αριθμού των φόντο τον υπολογισμό παρουσίες ή το αντίθετο από αυτό. Αν προσφέρετε διαφορετικά επίπεδα της υπηρεσίας (όπως πακέτα βασικές και premium service), ίσως χρειαστεί να κλιμακωθεί στους πόρους υπολογισμού για πακέτα υπηρεσιών premium πιο ταχύτητα από αυτά για τα πακέτα βασικές υπηρεσίας προκειμένου να πληροί SLA.
- Μπορείτε να χρησιμοποιήσετε το μήκος της ουράς βάσει του οποίου περιβάλλοντος εργασίας Χρήστη και φόντο τον υπολογισμό παρουσίες επικοινωνία ως κριτηρίου για της στρατηγικής autoscaling. Αυτή είναι η βέλτιστη ένδειξη δυσαναλογία ή διαφορά μεταξύ ο τρέχων φόρτος και τη δυνατότητα επεξεργασίας της εργασίας φόντο.
- Αν βασίζετε τη στρατηγική autoscaling σε μετρητές που μετρούν επιχειρηματικών διαδικασιών, όπως τον αριθμό των παραγγελιών ανά ώρα ή ο μέσος χρόνος εκτέλεσης μιας σύνθετες συναλλαγής, βεβαιωθείτε ότι έχετε κατανοήσει πλήρως τη σχέση μεταξύ των αποτελεσμάτων από αυτούς τους τύπους των μετρητών και τις απαιτήσεις δυναμικότητας πραγματική υπολογισμού. Ίσως χρειαστεί να κλιμάκωση περισσότερα από ένα στοιχείο ή τον υπολογισμό μονάδας απάντηση με τις αλλαγές σε επιχειρηματική διαδικασία μετρητές.  
- Για να αποτρέψετε ένα σύστημα προσπάθεια για να κλιμακωθεί υπερβολικά ανάληψη και για να αποφύγετε το κόστος που σχετίζεται με πολλά χιλιάδες παρουσιών που εκτελούνται, εξετάστε το ενδεχόμενο να περιορίσετε τον μέγιστο αριθμό των παρουσιών που μπορούν να προστεθούν αυτόματα. Οι περισσότερες autoscaling μηχανισμούς σάς επιτρέπουν να καθορίσετε τον ελάχιστο και μέγιστο αριθμό των παρουσιών για έναν κανόνα. Επιπλέον, εξετάστε το ενδεχόμενο να μειωθεί ομαλά τη λειτουργικότητα που παρέχει το σύστημα εάν ο μέγιστος αριθμός των παρουσιών έχουν αναπτυχθεί και το σύστημα εξακολουθεί να φορτώνεται.
- Διατήρηση υπόψη autoscaling που ενδέχεται να μην το μηχανισμό καταλληλότερο για το χειρισμό ενός απότομη καταιγισμού στο φόρτο εργασίας. Ο χρόνος για να προμηθεύσουν και να ξεκινήσετε νέες παρουσίες μιας υπηρεσίας ή προσθήκη πόρων σε ένα σύστημα και η ζήτηση κορύφωσης ενδέχεται να έχουν περάσει από το χρόνο αυτές τις επιπλέον πόρους έχουν γίνει διαθέσιμη. Σε αυτό το σενάριο, μπορεί να είναι καλύτερη για να μειώσετε την υπηρεσία. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα το [Μοτίβο περιορισμού](http://msdn.microsoft.com/library/dn589798.aspx).
- Αντίθετα, εάν χρειάζεστε τη δυνατότητα να επεξεργάζονται όλες τις αιτήσεις όταν η ένταση κυμαίνεται γρήγορα και κόστους δεν είναι μια κύρια παραγόντων που συνεισφέρουν, μπορείτε να χρησιμοποιήσετε μια στρατηγική αυστηρές autoscaling που ξεκινά πρόσθετες εμφανίσεις πιο γρήγορα. Μπορείτε επίσης να χρησιμοποιήσετε μια προγραμματισμένη πολιτική που ξεκινά επαρκής αριθμός των παρουσιών ώστε να ανταποκρίνονται στο μέγιστο φορτίο πριν αναμένεται που φόρτωση.
- Ο μηχανισμός autoscaling πρέπει να παρακολουθείτε τη διαδικασία autoscaling και συνδεθείτε τις λεπτομέρειες του συμβάντος κάθε autoscaling (τι ενεργοποίησε, ποιες πόροι έχουν προστεθεί ή καταργηθεί, και πότε). Εάν δημιουργήσετε ένα προσαρμοσμένο autoscaling μηχανισμό, βεβαιωθείτε ότι το ενσωματώνει αυτήν τη δυνατότητα. Ανάλυση της αποτελεσματικότητας της στρατηγικής autoscaling τις πληροφορίες για να σας βοηθήσει μέτρησης και ρύθμιση, εάν είναι απαραίτητο. Μπορείτε να με ακρίβεια και τα δύο σύντομο όρο, όπως τα μοτίβα χρήση γίνονται πιο εμφανή, και άνω μακροπρόθεσμα, καθώς επεκτείνει την επιχείρηση ή εξελίσσονται τις απαιτήσεις της εφαρμογής. Εάν μια εφαρμογή υπερβεί το ανώτερο όριο που ορίζονται για autoscaling, ο μηχανισμός επίσης μπορεί να ειδοποίηση τελεστή ποιος μπορεί να ξεκινήσει με μη αυτόματο τρόπο επιπλέον πόρους εάν είναι απαραίτητο. Σημειώστε ότι, σε αυτές τις περιπτώσεις, τον τελεστή μπορεί επίσης να είναι υπεύθυνη για την κατάργηση με μη αυτόματο τρόπο αυτούς τους πόρους, αφού διευκολύνει το φόρτο εργασίας.

## <a name="related-patterns-and-guidance"></a>Σχετικές μοτίβα και καθοδήγηση
Τις παρακάτω οδηγίες και μοτίβα μπορεί επίσης να σχετικά με το σενάριό σας κατά την εφαρμογή autoscaling:

- [Περιορισμού μοτίβο](http://msdn.microsoft.com/library/dn589798.aspx). Αυτό το μοτίβο περιγράφει πώς μια εφαρμογή μπορεί να συνεχίσει να λειτουργεί και ικανοποιούν SLA όταν μια αύξηση στον ζήτηση τοποθετεί μια ακραίες φόρτωση σε πόρους. Περιορισμού μπορεί να χρησιμοποιηθεί με autoscaling για να αποτρέψετε ένα σύστημα είναι από κουραστείτε, ενώ το σύστημα κλίμακες ανάληψη.
- [Κάθε μοτίβο των καταναλωτών](http://msdn.microsoft.com/library/dn568101.aspx). Αυτό το μοτίβο περιγράφει πώς μπορείτε να υλοποιήσετε ένα χώρο συγκέντρωσης των παρουσιών της υπηρεσίας που μπορεί να διαχειριστεί τα μηνύματα από οποιαδήποτε παρουσία της εφαρμογής. Autoscaling μπορεί να χρησιμοποιηθεί για την έναρξη και διακοπή παρουσιών της υπηρεσίας ώστε να ταιριάζει με την αναμενόμενη φόρτο εργασίας. Αυτή η προσέγγιση επιτρέπει ένα σύστημα να επεξεργάζεται πολλά μηνύματα ταυτόχρονα να Βελτιστοποίηση μετάδοσης, βελτίωση κλιμάκωση και τη διαθεσιμότητα και να εξισορροπήσετε το φόρτο εργασίας.
- [Οδηγίες Τηλεμετρίας και οργάνων](http://msdn.microsoft.com/library/dn589775.aspx). Οργάνων και τηλεμετρίας είναι σημαντική για τη συγκέντρωση των πληροφοριών που μπορεί να καθοδηγήσετε τη διαδικασία autoscaling.

## <a name="more-information"></a>Περισσότερες πληροφορίες
- [Πώς μπορείτε να περιορίσετε το μέγεθος μιας εφαρμογής](./cloud-services/cloud-services-how-to-scale.md)
- [Προσαρμόζεται αυτόματα μια εφαρμογή που εκτελείται Web ρόλων, ρόλοι εργαζόμενου ή εικονικές μηχανές](cloud-services-how-to-manage.md#linkresources)
- [Πώς μπορείτε να: σύνδεση ενός πόρου σε μια υπηρεσία cloud](cloud-services-how-to-manage.md#linkresources)
- [Κλιμάκωση συνδεδεμένων πόροι](./cloud-services/cloud-services-how-to-scale.md#scale-link-resources)
- [Παρακολούθηση βιβλιοθήκης διαχείρισης υπηρεσιών Azure](http://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring)
- [Διαχείριση υπηρεσίας Azure REST API](http://msdn.microsoft.com/library/azure/ee460799.aspx)
- [Azure REST API διαχείρισης πόρων](https://msdn.microsoft.com/library/azure/dn790568.aspx)
- [Βιβλιοθήκη Microsoft ιδέες](https://www.nuget.org/packages/Microsoft.Azure.Insights/)
- [Λειτουργίες σε Autoscaling](http://msdn.microsoft.com/library/azure/dn510374.aspx)
- [Namespace Microsoft.WindowsAzure.Management.Monitoring.Autoscale](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.management.monitoring.autoscale.aspx)
