<properties
    pageTitle="Συνεχής ενοποίηση στις υπηρεσίες ομάδας και στο χρήση έργων ομάδα πόρων Azure | Microsoft Azure"
    description="Περιγράφει πώς μπορείτε να ρυθμίσετε συνεχής ενοποίηση του Visual Studio Team Services με τη χρήση έργα ανάπτυξης ομάδα πόρων Azure στο Visual Studio."
    services="visual-studio-online"
    documentationCenter="na"
    authors="mlearned"
    manager="erickson-doug"
    editor="" />

 <tags
    ms.service="azure-resource-manager"
    ms.devlang="multiple"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="08/01/2016"
    ms.author="mlearned" />

# <a name="continuous-integration-in-visual-studio-team-services-using-azure-resource-group-deployment-projects"></a>Συνεχής ενοποίηση του Visual Studio ομάδας υπηρεσίες χρησιμοποιώντας έργα ανάπτυξης Azure ομάδα πόρων

Για να αναπτύξετε ένα πρότυπο Azure, πρέπει να εκτελέσετε εργασίες για να μεταβείτε στα διάφορα στάδια: δημιουργία του, δοκιμής, Αντιγραφή σε Azure (ονομάζεται επίσης "Τοποθέτηση"), και ανάπτυξη προτύπου.  Υπάρχουν δύο τρόποι να το κάνετε αυτό στις υπηρεσίες του Visual Studio ομάδας (και στο υπηρεσίες ομάδας). Και οι δύο μέθοδοι παρέχουν τα ίδια αποτελέσματα, επομένως, επιλέξτε αυτό που ταιριάζει καλύτερα τη ροή εργασίας σας.

-   Προσθέστε ένα βήμα προς βήμα για τον ορισμό Δόμηση που εκτελεί τη δέσμη ενεργειών του PowerShell που περιλαμβάνεται στο έργο ομάδα πόρων Azure ανάπτυξης (ανάπτυξη-AzureResourceGroup.ps1). Η δέσμη ενεργειών αντιγράφει αντικείμενα και, στη συνέχεια, αναπτύσσει το πρότυπο.
-   Προσθήκη πολλών Team Services και στο Δόμηση βήματα, κάθε μία εκτέλεση εργασίας στάδιο.

Σε αυτό το άρθρο παρουσιάζει πώς μπορείτε να χρησιμοποιήσετε την πρώτη επιλογή (Χρησιμοποιήστε έναν ορισμό Δόμηση για να εκτελέσετε τη δέσμη ενεργειών PowerShell). Ένα πλεονέκτημα αυτής της επιλογής είναι ότι η δέσμη ενεργειών που χρησιμοποιούνται από τους προγραμματιστές στο Visual Studio είναι η ίδια δέσμη ενεργειών που χρησιμοποιούνται από τις υπηρεσίες ομάδας και στο. Αυτή η διαδικασία προϋποθέτει ότι έχετε ήδη ένα έργο ανάπτυξης του Visual Studio επιλεγμένο σε υπηρεσίες ομάδας και στο.

## <a name="copy-artifacts-to-azure"></a>Αντιγραφή αντικείμενα Azure 

Ανεξάρτητα από το σενάριο, εάν έχετε οποιαδήποτε αντικείμενα που απαιτούνται για την ανάπτυξη προτύπου, θα πρέπει να δώσετε πρόσβαση από διαχειριστή πόρων Azure σε αυτά. Αυτά τα στοιχεία μπορούν να περιλαμβάνουν αρχείων όπως:

-   Ένθετα πρότυπα
-   DSC δεσμών ενεργειών ρύθμισης παραμέτρων και
-   Δυαδικά αρχεία εφαρμογών

### <a name="nested-templates-and-configuration-scripts"></a>Ένθετα πρότυπα και ρύθμιση παραμέτρων δέσμες ενεργειών
Όταν χρησιμοποιείτε τα πρότυπα που παρέχονται από Visual Studio (ή με τμήματα κώδικα Visual Studio δημιουργήθηκε), η δέσμη ενεργειών PowerShell στάδια όχι μόνο τα αντικείμενα, το parameterizes επίσης το URI για τους πόρους για διαφορετικές αναπτύξεις. Η δέσμη ενεργειών, στη συνέχεια, αντιγράφει τα αντικείμενα σε ασφαλή κοντέινερ στο Azure, δημιουργεί μια διακριτικό συσχετισμών ασφαλείας για αυτό το κοντέινερ, και, στη συνέχεια, μεταφέρει αυτά τα στοιχεία με την ανάπτυξη του προτύπου. Ανατρέξτε στο θέμα [Δημιουργία μιας ανάπτυξης του προτύπου](https://msdn.microsoft.com/library/azure/dn790564.aspx) για να μάθετε περισσότερα σχετικά με τα πρότυπα ένθετη.

## <a name="set-up-continuous-deployment-in-vs-team-services"></a>Ρύθμιση του συνεχής ανάπτυξης στις υπηρεσίες ομάδας και στο

Για να καλέσετε τη δέσμη ενεργειών PowerShell στις υπηρεσίες ομάδας και στο, πρέπει να ενημερώσετε τον ορισμό Δόμηση. Σύντομη, τα βήματα είναι: 

1.  Επεξεργαστείτε τον ορισμό Δόμηση.
1.  Ρύθμιση του Azure εξουσιοδότησης στις υπηρεσίες ομάδας και στο.
1.  Προσθέστε ένα βήμα Δόμηση Azure PowerShell που αναφέρεται η δέσμη ενεργειών PowerShell του έργου ανάπτυξης Azure ομάδα πόρων.
1.  Ορίστε την τιμή της παραμέτρου *- ArtifactsStagingDirectory* για να εργαστείτε με ένα έργο που έχει δημιουργηθεί στις υπηρεσίες ομάδας και στο.

### <a name="detailed-walkthrough"></a>Λεπτομερή ανάλυση

Ακολουθήστε τα παρακάτω βήματα θα σας καθοδηγήσει τα απαραίτητα βήματα για να ρυθμίσετε τις παραμέτρους της συνεχούς ανάπτυξης στις υπηρεσίες ομάδας και στο 

1.  Επεξεργασία ορισμού του Δόμηση Services και στο ομάδας και προσθέστε ένα βήμα Δόμηση Azure PowerShell. Επιλέξτε τον ορισμό Δόμηση στην κατηγορία **Δημιουργία ορισμών** και, στη συνέχεια, επιλέξτε τη σύνδεση **επεξεργασίας** .

    ![][0]

1.  Προσθήκη νέου βήματος Δόμηση **Azure PowerShell** για τον ορισμό Δόμηση και, στη συνέχεια, επιλέξτε **Προσθήκη Δόμηση βήμα...** κουμπί.

    ![][1]

1.  Επιλέξτε την κατηγορία **εργασίας ανάπτυξης** , επιλέξτε την εργασία **Azure PowerShell** και, στη συνέχεια, επιλέξτε το κουμπί " **Προσθήκη** ".

    ![][2]

1.  Επιλέξτε το βήμα Δόμηση **Azure PowerShell** και, στη συνέχεια, συμπληρώστε τις τιμές.

    1.  Εάν έχετε ήδη προστεθεί στις υπηρεσίες ομάδας και στο τελικού σημείου υπηρεσίας Azure, επιλέξτε τη συνδρομή στο αναπτυσσόμενο πλαίσιο λίστας **Azure συνδρομή** και, στη συνέχεια, μεταβείτε στην επόμενη ενότητα. 

        Εάν δεν έχετε τελικού σημείου υπηρεσίας Azure στις υπηρεσίες ομάδας και στο, θα πρέπει να προσθέσετε μία. Αυτή η υπο-ενότητα σάς καθοδηγούν τη διαδικασία. Εάν ο λογαριασμός Azure σας χρησιμοποιεί ένα λογαριασμό Microsoft (όπως Hotmail), θα χρειαστεί να ακολουθήσετε τα παρακάτω βήματα για να λάβετε ένα κεφάλαιο υπηρεσία ελέγχου ταυτότητας.

    1.  Επιλέξτε τη σύνδεση **Διαχείριση** δίπλα στο στοιχείο τη **Συνδρομή Azure** πλαίσιο αναπτυσσόμενης λίστας.

        ![][3]

    1. Επιλέξτε **Azure** στο **Νέο τελικό σημείο υπηρεσίας** αναπτυσσόμενο πλαίσιο λίστας.

        ![][4]

    1.  Στο παράθυρο διαλόγου **Προσθήκη συνδρομή Azure** , ενεργοποιήστε την επιλογή **Κεφάλαιο υπηρεσίας** .

        ![][5]

    1.  Προσθέστε τις πληροφορίες Azure τη συνδρομή σας στο παράθυρο διαλόγου **Προσθήκη Azure συνδρομής** . Θα πρέπει να παρέχουν τα ακόλουθα στοιχεία:
        -   Αναγνωριστικό συνδρομής
        -   Όνομα της συνδρομής
        -   Αναγνωριστικό υπηρεσίας κεφάλαιο
        -   Υπηρεσία αρχικού αριθμού-κλειδιού
        -   Αναγνωριστικό μισθωτή

    1.  Προσθέστε ένα όνομα της επιλογής σας στο πλαίσιο όνομα **συνδρομής** . Αυτή η τιμή θα εμφανιστεί αργότερα στην αναπτυσσόμενη λίστα στις υπηρεσίες ομάδας και στο **Azure συνδρομής** . 

    1.  Εάν δεν γνωρίζετε το Αναγνωριστικό Azure τη συνδρομή σας, μπορείτε να χρησιμοποιήσετε μία από τις παρακάτω εντολές για να το.
        
        Για δέσμες ενεργειών PowerShell, χρησιμοποιήστε:

        `Get-AzureRmSubscription`

        Για Azure CLI, χρησιμοποιήστε:

        `azure account show`
    

    1.  Για να λάβετε ένα Αναγνωριστικό υπηρεσίας κεφάλαιο, πλήκτρο κεφάλαιο υπηρεσίας και, στη συνέχεια, Αναγνωριστικό μισθωτή, ακολουθήστε τη διαδικασία στην [εφαρμογή δημιουργία υπηρεσίας καταλόγου Active Directory και την υπηρεσία κεφάλαιο με πύλη](resource-group-create-service-principal-portal.md) ή [τον έλεγχο ταυτότητας αρχής υπηρεσίας με τη διαχείριση πόρων Azure](resource-group-authenticate-service-principal.md).

    1.  Προσθέστε τις τιμές Αναγνωριστικού κεφάλαιο υπηρεσίας, υπηρεσία κεφάλαιο κλειδί και Αναγνωριστικό μισθωτή στο παράθυρο διαλόγου **Προσθήκη Azure συνδρομής** και, στη συνέχεια, επιλέξτε το κουμπί **OK** .

        Τώρα έχετε έγκυρη αρχής υπηρεσίας για να χρησιμοποιήσετε για να εκτελέσετε τη δέσμη ενεργειών Azure PowerShell.

1.  Επεξεργαστείτε τον ορισμό Δόμηση και επιλέξτε το βήμα Δόμηση **Azure PowerShell** . Επιλέξτε τη συνδρομή στο αναπτυσσόμενο πλαίσιο λίστας **Azure συνδρομής** . (Εάν η συνδρομή δεν εμφανίζεται, επιλέξτε το κουμπί " **Ανανέωση** " δίπλα στη σύνδεση **Διαχείριση** .) 

    ![][8]

1.  Δώστε τη διαδρομή προς τη δέσμη ενεργειών PowerShell AzureResourceGroup.ps1 ανάπτυξη. Για να το κάνετε αυτό, επιλέξτε το κουμπί με τα αποσιωπητικά (...) δίπλα στο πλαίσιο **Διαδρομή δέσμης ενεργειών** , μεταβείτε στη δέσμη ενεργειών PowerShell ανάπτυξη AzureResourceGroup.ps1 στο φάκελο **δεσμών ενεργειών** του έργου σας, επιλέξτε την και, στη συνέχεια, επιλέξτε το κουμπί **OK** . 

    ![][9]

1. Αφού επιλέξετε τη δέσμη ενεργειών, ενημερώστε τη διαδρομή προς τη δέσμη ενεργειών ώστε να εκτελείται από το Build.StagingDirectory (το ίδιο κατάλογο που έχει οριστεί *ArtifactsLocation* ). Μπορείτε να το κάνετε αυτό, προσθέτοντας "$(Build.StagingDirectory)/"μέχρι την αρχή της διαδρομής δέσμης ενεργειών.

    ![][10]

1.  Στο παράθυρο διαλόγου **Ορίσματα δέσμης ενεργειών** , πληκτρολογήστε τις ακόλουθες παραμέτρους (σε μία γραμμή). Όταν εκτελείτε τη δέσμη ενεργειών στο Visual Studio, μπορείτε να δείτε πώς και στο χρησιμοποιεί τις παραμέτρους στο παράθυρο **εξόδου** . Μπορείτε να τη χρησιμοποιήσετε ως σημείο εκκίνησης για τη ρύθμιση τις τιμές παραμέτρων στο βήμα σας δόμηση.

  	| Παράμετρος | Περιγραφή|
  	|---|---|
  	| -ResourceGroupLocation           | Η τιμή παν θέση όπου βρίσκεται η ομάδα πόρων, όπως **eastus** ή **' Ανατολικής η.π.α. '**. (Προσθήκη μονά εισαγωγικά, εάν υπάρχει κενό διάστημα στο όνομά της.) Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Azure περιοχές](https://azure.microsoft.com/en-us/regions/) .|                                                                                                                                                                                                                              |
  	| -ResourceGroupName               | Το όνομα της ομάδας πόρων που χρησιμοποιείται για αυτήν την ανάπτυξη.|                                                                                                                                                                                                                                                                                                                                                                                                                |
  	| -UploadArtifacts                 | Αυτή η παράμετρος, κατά την παρουσίαση, καθορίζει ότι αντικείμενα πρέπει να αποσταλεί Azure από το τοπικό σύστημα. Πρέπει να ορίσετε αυτόν το διακόπτη εάν την ανάπτυξη προτύπου απαιτεί επιπλέον αντικείμενα που θέλετε να του σταδίου χρησιμοποιώντας τη δέσμη ενεργειών PowerShell (όπως δέσμες ενεργειών ρύθμισης παραμέτρων ή ένθετα πρότυπα).                                                                                                                                                                 |
  	| -StorageAccountName              | Το όνομα του λογαριασμού χώρου αποθήκευσης που χρησιμοποιείται σε αντικείμενα στάδιο για αυτήν την ανάπτυξη. Αυτή η παράμετρος απαιτείται μόνο εάν αντιγράψετε αντικείμενα σε Azure. Αυτόν το λογαριασμό χώρου αποθήκευσης δεν θα δημιουργηθεί αυτόματα από την ανάπτυξη, πρέπει να υπάρχει ήδη.|                                                                                                                                                                                                                     |
  	| -StorageAccountResourceGroupName | Το όνομα της ομάδας πόρων που σχετίζεται με το λογαριασμό χώρου αποθήκευσης. Αυτή η παράμετρος απαιτείται μόνο εάν αντιγράψετε αντικείμενα σε Azure.|                                                                                                                                                                                                                                                                                                                               |
  	| -TemplateFile                    | Η διαδρομή προς το αρχείο προτύπου του έργου ανάπτυξης Azure ομάδα πόρων. Για να βελτιώσετε ευελιξία, χρησιμοποιήστε μια διαδρομή για αυτήν την παράμετρο που είναι σε σχέση με τη θέση της δέσμης ενεργειών του PowerShell αντί για μια απόλυτη διαδρομή.|
  	| -TemplateParametersFile          | Η διαδρομή προς το αρχείο τις παραμέτρους του έργου ανάπτυξης Azure ομάδα πόρων. Για να βελτιώσετε ευελιξία, χρησιμοποιήστε μια διαδρομή για αυτήν την παράμετρο που είναι σε σχέση με τη θέση της δέσμης ενεργειών του PowerShell αντί για μια απόλυτη διαδρομή.|
  	| -ArtifactStagingDirectory        | Αυτή η παράμετρος σας επιτρέπει να το PowerShell δέσμης ενεργειών γνωρίζετε το φάκελο από όπου θα πρέπει να αντιγραφούν δυαδικών αρχείων του έργου. Αυτή η τιμή αντικαθιστά την προεπιλεγμένη τιμή που χρησιμοποιούνται από τη δέσμη ενεργειών PowerShell. Για να χρησιμοποιήσετε τις υπηρεσίες ομάδας και στο, ορίστε την τιμή σε: $(Build.StagingDirectory) - ArtifactStagingDirectory                                                                                                                                                                                              |

    Ακολουθεί ένα παράδειγμα ορίσματα δέσμης ενεργειών (γραμμή εσφαλμένος για αναγνωσιμότητα):

    ``` 
    -ResourceGroupName 'MyGroup' -ResourceGroupLocation 'eastus' -TemplateFile '..\templates\azuredeploy.json' 
    -TemplateParametersFile '..\templates\azuredeploy.parameters.json' -UploadArtifacts -StorageAccountName 'mystorageacct' 
    –StorageAccountResourceGroupName 'Default-Storage-EastUS' -ArtifactStagingDirectory '$(Build.StagingDirectory)' 
    ```

    Όταν ολοκληρώσετε την εργασία, θα πρέπει να έχει την εξής μορφή στο πλαίσιο **Ορίσματα δέσμης ενεργειών** .

    ![][11]

1.  Αφού προσθέσετε όλα τα απαιτούμενα στοιχεία με το PowerShell Azure Δόμηση βήμα, επιλέξτε **ουρά** Δόμηση κουμπί για να δημιουργήσετε το έργο. **Δημιουργία** οθόνης εμφανίζει την έξοδο από τη δέσμη ενεργειών PowerShell.

## <a name="next-steps"></a>Επόμενα βήματα

Διαβάστε την [Επισκόπηση της διαχείρισης πόρων Azure](azure-resource-manager/resource-group-overview.md) για να μάθετε περισσότερα σχετικά με τη διαχείριση πόρων Azure και τις ομάδες Azure πόρων.


[0]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough1.png
[1]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough2.png
[2]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough3.png
[3]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough4.png
[4]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough5.png
[5]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough6.png
[8]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough9.png
[9]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough10.png
[10]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough11b.png
[11]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough12.png
