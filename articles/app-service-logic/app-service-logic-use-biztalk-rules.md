<properties
   pageTitle="Μάθετε περισσότερα σχετικά με και να δημιουργήσετε μια εφαρμογή BizTalk κανόνες API σε εφαρμογή της λογικής | Microsoft Azure"
   description="Αυτό το θέμα περιγράφει τις δυνατότητες των κανόνων BizTalk σύνδεσης και παρέχει οδηγίες σχετικά με τη χρήση"
   services="logic-apps"
   documentationCenter=".net,nodejs,java"
   authors="anuragdalmia"
   manager="erikre"
   editor=""/>

<tags
   ms.service="logic-apps"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration"
   ms.date="04/20/2016"
   ms.author="andalmia"/>

#<a name="biztalk-rules"></a>Κανόνες BizTalk

[AZURE.INCLUDE [app-service-logic-version-message](../../includes/app-service-logic-version-message.md)]

Επιχειρησιακών κανόνων ενσωματώνει τις πολιτικές και τις αποφάσεις που ελέγχουν επιχειρηματικών διαδικασιών. Οι πολιτικές αυτές μπορεί να οριστεί τυπικά στην εγχειρίδια τη διαδικασία, οι συμβάσεις ή συμφωνίες ή μπορεί να υπάρχει ως γνώσεων ή γνώσεις που είναι ενσωματωμένες στο υπαλλήλων. Οι πολιτικές αυτές τις δυναμικές και μπορεί να αλλάξει μέσω χρόνου παράδοσης σε αλλαγές προγράμματα για επιχειρήσεις, κανονισμών ή άλλους λόγους.

Εφαρμογή αυτών των πολιτικών σε παραδοσιακά γλώσσες προγραμματισμού απαιτεί ουσιαστικό χρόνο και συντονισμός και δεν δίνει τη δυνατότητα μη προγραμματιστές για να συμμετάσχετε σε δημιουργία και τη συντήρηση των πολιτικών επιχειρήσεις. BizTalk επιχειρησιακών κανόνων παρέχει έναν τρόπο για να υλοποιήσετε αυτές τις πολιτικές γρήγορα και να ξεχωρίζουμε το υπόλοιπο των επιχειρηματικών διεργασιών. Αυτό επιτρέπει τις απαιτούμενες αλλαγές στις πολιτικές επιχειρήσεις χωρίς να επηρεάζονται τα υπόλοιπα των επιχειρηματικών διεργασιών.

##<a name="why-rules"></a>Γιατί κανόνων

Υπάρχουν 3 κλειδιού λόγοι για να χρησιμοποιήσετε BizTalk επιχειρησιακών κανόνων σε επιχειρηματική διαδικασία:

* Ξεχωρίζουμε επιχειρηματικής λογικής από κώδικα εφαρμογής
- Να επιτρέπεται επιχειρησιακοί αναλυτές για να έχετε περισσότερο έλεγχο επιχειρηματικής λογικής διαχείρισης
+ Αλλαγές σε επιχειρηματικής λογικής μεταβείτε παραγωγής πιο γρήγορα

##<a name="rules-concepts"></a>Κανόνες έννοιες

##<a name="vocabulary"></a>Λεξιλόγιο

Ένα _λεξιλόγιο_ είναι μια συλλογή ορισμών που αποτελείται από φιλικό ονόματα για τα αντικείμενα υπολογιστών που χρησιμοποιούνται σε συνθήκες και ενέργειες κανόνων. Λεξιλόγιο ορισμούς κάντε ευκολότερη την ανάγνωση, η κατανόηση και κοινή χρήση με άτομα σε μια συγκεκριμένη επιχειρηματικό τομέα τους κανόνες.

Vocabularies έχουν σχεδιαστεί για να φέρουμε κοντά το άνοιγμα μεταξύ σημασιολογία επιχειρήσεις και της εφαρμογής. Για παράδειγμα, μια σύνδεση δεδομένων για μια κατάσταση έγκρισης μπορεί να οδηγούν σε μια συγκεκριμένη στήλη σε μια συγκεκριμένη γραμμή σε μια συγκεκριμένη βάση δεδομένων, με ένα ερώτημα SQL. Αντί για την εισαγωγή αυτό είδος σύνθετη απεικόνιση σε έναν κανόνα, αντί για αυτό μπορείτε να δημιουργήσετε έναν ορισμό λεξιλόγιο, που σχετίζεται με αυτήν τη σύνδεση δεδομένων, με ένα φιλικό όνομα "Κατάσταση". Στη συνέχεια, μπορείτε να συμπεριλάβετε "Κατάσταση" σε οποιονδήποτε αριθμό κανόνων και ο μηχανισμός κανόνα να ανακτήσετε τα αντίστοιχα δεδομένα από τον πίνακα.

##<a name="rule"></a>Ο κανόνας

Επιχειρησιακών κανόνων είναι δηλωτικό προτάσεις που διέπουν τη διεξαγωγή των επιχειρηματικών διαδικασιών. Ένας κανόνας αποτελείται από μια συνθήκη και ενέργειες. Η συνθήκη αξιολογείται και, εάν αποτιμάται στην τιμή true, ο μηχανισμός κανόνα ξεκινά μία ή περισσότερες ενέργειες.
Κανόνες στο πλαίσιο κανόνων επιχειρήσεις ορίζονται, χρησιμοποιώντας την παρακάτω μορφή:

_IF_ _η συνθήκη_ _Στη συνέχεια_ _ενέργεια_

Εξετάστε το ακόλουθο παράδειγμα:

*Ποσό IF είναι μικρότερη ή ίση με διαθέσιμες πιστώσεις*  
*Στη συνέχεια, διεξαγωγή συναλλαγή και αποδεικτικό εκτύπωσης*

Αυτός ο κανόνας καθορίζει αν θα διεξαχθούν συναλλαγή μέσω της εφαρμογής εταιρικής λογικής, με τη μορφή μια σύγκριση των δύο νομισματικές τιμές, με τη μορφή ένα ποσό συναλλαγής και διαθέσιμη κεφαλαίων.
Μπορείτε να χρησιμοποιήσετε τον κανόνα επιχειρήσεις για δημιουργία, τροποποίηση και ανάπτυξη των επιχειρησιακών κανόνων. Εναλλακτικά, μπορείτε να εκτελέσετε τις παραπάνω ενέργειες μέσω προγραμματισμού.

###<a name="conditions"></a>Συνθήκες

Μια συνθήκη είναι αληθής/ψευδής (Boolean) παράσταση που αποτελείται από ένα ή περισσότερα κατηγορήματα.
Στο παράδειγμά μας, το κατηγορήματος μικρότερο ή ίσο με εφαρμόζεται το ποσό και τις διαθέσιμες πιστώσεις. Αυτή η συνθήκη θα είναι πάντα σε true ή false.
Κατηγορήματα μπορεί να συνδυαστεί με τους λογικούς τελεστές AND, OR, και ΌΧΙ για να σχηματίσουν μια λογική παράσταση που είναι ενδεχομένως αρκετά μεγάλο, αλλά θα πάντα να είναι true ή false.

###<a name="actions"></a>Ενέργειες

Οι ενέργειες είναι οι λειτουργική συνέπειες των συνθήκης αξιολόγησης. Αν ικανοποιείται μια συνθήκη κανόνα, αντίστοιχη ενέργεια ή τις ενέργειες που ξεκίνησε.
Στο παράδειγμά μας, "διεξαγωγή κίνησης" και "Εκτύπωση αποδεικτικό" είναι ενεργειών που πραγματοποιούνται όταν και μόνο όταν η συνθήκη (σε αυτήν την περίπτωση, "ΕΆΝ ποσό είναι μικρότερη ή ίση με διαθέσιμες πιστώσεις") είναι αληθής.
Ενέργειες απεικονίζονται στο πλαίσιο κανόνων επιχειρήσεις από την εκτέλεση λειτουργιών σύνολο σε έγγραφα XML.

##<a name="policy"></a>Πολιτική

Μια πολιτική είναι μια λογική ομαδοποίηση των κανόνων. Μπορείτε Συντάξτε μια πολιτική, αποθηκεύστε το, ελέγξτε το και, όταν είστε ικανοποιημένοι με τα αποτελέσματα, χρησιμοποιήστε την σε ένα περιβάλλον παραγωγής.

###<a name="policy-composition"></a>Σύνθεση πολιτικής

Μπορείτε να συντάξετε πολιτικές στην πύλη του κανόνες. Μια πολιτική μπορεί να περιέχει ένα σύνολο κανόνων αυθαίρετα μεγάλο, αλλά συνήθως συντάσσετε μια πολιτική από τους κανόνες που σχετίζονται με ένα συγκεκριμένο επιχειρηματικό τομέα στο περιβάλλον της εφαρμογής που θα χρησιμοποιούν την πολιτική.

###<a name="policy-testing"></a>Έλεγχος πολιτικής
Αποτελεσματική, μπορείτε να εκτελέσετε μια εκτέλεση δοκιμής της πολιτικής σας πριν να χρησιμοποιηθεί σε ένα περιβάλλον παραγωγής. Η πύλη κανόνες σάς επιτρέπει να παρέχετε δεδομένα εισόδου σε μια πολιτική, εκτελέστε την πολιτική και προβάλετε τα αποτελέσματά. Το αποτέλεσμα περιλαμβάνει αρχεία καταγραφής, εκτέλεση κανόνα, συνθήκη αξιολόγησης, και των εξόδων που θα προκύψει.

##<a name="sample-scenario---insurance-claims"></a>Δείγμα σεναρίου - αξιώσεων ασφάλισης
Ας λαμβάνουν ένα σενάριο δείγμα και καθοδηγήσει όπως θα σας σύνθεση της εταιρικής λογικής για την ίδια.

![Εναλλακτικό κείμενο][1]

Σε ένα πολύ απλό σενάριο ασφάλισης αξιώσεων, τον αιτούντα υποβάλλει του αίτησης ασφάλισης (χρησιμοποιώντας οποιοδήποτε πρόγραμμα-πελάτη όπως τοποθεσία Web, τηλέφωνο εφαρμογής, κλπ). Αυτό αίτηση διεκδίκηση λαμβάνει σταλεί σε μονάδα επεξεργασίας διεκδίκηση την επιχείρηση και με βάση το αποτέλεσμα της επεξεργασίας, το αίτημα μπορεί να είναι είτε εγκρίθηκε, απορρίφθηκε ή αποστέλλεται κατά μήκος για περαιτέρω μη αυτόματη επεξεργασία.
Η μονάδα διεκδίκηση επεξεργασίας σε σενάριο μας θα είναι εκείνη που περιλαμβάνουν της εταιρικής λογικής για το σύστημα. Εκτελεί μια πιο κοντινή ματιά στην αυτή η μονάδα, μπορούμε να δούμε τα εξής:

![Εναλλακτικό κείμενο][2]

Επιτρέψτε μας τώρα χρήση επιχειρησιακών κανόνων για την υλοποίηση αυτό επιχειρηματικής λογικής.


##<a name="creation-of-rules-api-app"></a>Δημιουργία της εφαρμογής Api κανόνων


1. Συνδεθείτε στην πύλη του Azure
2. Επιλογή-Δημιουργία > Marketplace, στη συνέχεια, αναζητήστε *BizTalk κανόνων*
3. Επιλέξτε κανόνες BizTalk από τη λίστα των αποτελεσμάτων. Ανοίγει το blade BizTalk κανόνων
4. Επιλέξτε το κουμπί *Δημιουργία* ![εναλλακτικό κείμενο][3]
1. Στο το νέο blade που ανοίγει, πληκτρολογήστε τις ακόλουθες πληροφορίες:  
    1. Όνομα – δώστε ένα όνομα για την εφαρμογή κανόνων API
    1. Πρόγραμμα εφαρμογής υπηρεσίας – επιλέξτε ή δημιουργήστε ένα νέο πρόγραμμα υπηρεσιών εφαρμογής
    1. Τις τιμές επίπεδο – επιλέξτε το επίπεδο τιμολόγησης που θέλετε να βρίσκεται σε αυτήν την εφαρμογή
    1. Ομάδα πόρων – επιλέξτε ή δημιουργήστε όπου η εφαρμογή θα πρέπει να βρίσκονται στην ομάδα πόρων
    2. Συνδρομή - επιλέξτε τη συνδρομή που θέλετε να χρησιμοποιήσετε
    1. Θέση: Επιλέξτε τη γεωγραφική θέση όπου θέλετε την εφαρμογή για ανάπτυξη.
4.  Επιλέξτε *Δημιουργία*. Εφαρμογή API της BizTalk κανόνες θα δημιουργηθεί μέσα σε λίγα λεπτά.

##<a name="vocabulary-creation"></a>Δημιουργία λεξιλόγιο
Αφού δημιουργήσετε μια εφαρμογή BizTalk κανόνες API, το επόμενο βήμα θα ήταν για να δημιουργήσετε vocabularies. Την προοπτική είναι ότι ο προγραμματιστής είναι τα πιο κοινά άτομο για να κάνετε αυτήν την άσκηση. Ακολουθεί ο τρόπος για να βρείτε αυτή την εργασία:


1. Εκκίνηση σας BizTalk κανόνες API εφαρμογή από την πύλη, μεταβαίνοντας αναζήτηση -> API εφαρμογές - ><Your Rules API App>. Αυτό θα σας βοηθήσουν να στον πίνακα εργαλείων εφαρμογής API κανόνες παρόμοια με την παρακάτω:

   ![Εναλλακτικό κείμενο][4]

2 Επιλέξτε "Λεξιλόγιο ορισμών". Αυτό θα εμφανίσει το 3 λεξιλόγιο σύνταξης οθόνη επιλέξτε "Προσθήκη" για να ξεκινήσετε την προσθήκη νέων ορισμών λεξιλόγιο.
Υπάρχουν 2 τύποι λεξιλόγιο ορισμών υποστηρίζονται αυτήν τη στιγμή – λεκτικής σταθεράς και XML.

##<a name="literal-definition"></a>Ακριβές ορισμού
1.  Αφού κάνετε κλικ στο "Προσθήκη", ένα νέο Blade "Προσθήκη ορισμού" ανοίγει. Πληκτρολογήστε τις παρακάτω τιμές
  1.    Όνομα – μόνο αλφαριθμητικούς χαρακτήρες αναμένεται χωρίς ειδικούς χαρακτήρες. Επίσης, αυτό πρέπει να είναι μοναδικό την υπάρχουσα λίστα ορισμού λεξιλόγιο.
  2.    Περιγραφή – προαιρετικό πεδίο.
  3.    Πληκτρολογήστε ορισμού – υπάρχουν 2 τους τύπους που υποστηρίζονται. Επιλέξτε λεκτικής σταθεράς σε αυτό το παράδειγμα
  4.    Τύπος δεδομένων – αυτό επιτρέπει στους χρήστες για να επιλέξετε τον τύπο δεδομένων του ορισμού. Προς το παρόν υποστηρίζονται τύποι δεδομένων 4: να.  Συμβολοσειρά – αυτές τις τιμές πρέπει να εισάγονται σε διπλά εισαγωγικά ("παράδειγμα συμβολοσειρά")  
    II. Δυαδική – αυτό μπορεί να είναι αληθής ή ψευδής  
    III.    Ο αριθμός-μπορεί να είναι οποιοσδήποτε αριθμός δεκαδικών ψηφίων  
    IV. DateTime – αυτό σημαίνει ότι το ανάλυσης δεν είναι τύπος ημερομηνίας. Δεδομένα πρέπει να καταχωρούνται χρησιμοποιώντας αυτήν τη μορφή – ηη/μμ/εεεε hh:mm:ss AM\PM  
  5. Εισαγάγετε – αυτό είναι όπου μπορείτε να εισαγάγετε την τιμή του ορισμού του. Τις τιμές που πληκτρολογείτε εδώ πρέπει να συμφωνεί με τον τύπο δεδομένων που επιλέγετε. Μπορείτε να εισαγάγετε μια μοναδική τιμή, ένα σύνολο από τιμές διαχωρισμένες με κόμματα ή μια περιοχή τιμών χρησιμοποιώντας τη λέξη-κλειδί *για να*. Για παράδειγμα, μπορείτε να εισαγάγετε μοναδική τιμή 1. ένα σύνολο 1, 2, 3. ή μια περιοχή 1 έως 5. Σημειώστε ότι η περιοχή υποστηρίζεται μόνο για αριθμούς.
  6. Επιλέξτε *OK*.

![Εναλλακτικό κείμενο][5]
##<a name="xml-definition"></a>Ορισμός XML
Εάν λεξιλόγιο τύπος έχει οριστεί ως XML, πρέπει να καθοριστεί το παρακάτω εισόδων  
  μια.    Σχήμα – κλικ για επιλογή σχετικά με αυτό θα ανοίξει έναν νέο χρήστη επιτρέποντας blade για να επιλέξετε είτε από μια λίστα δυνατότητας για να αποστείλετε ένα νέο ή ήδη αποσταλεί σχήματα.
β.    XPATH – αυτή η εισαγωγής λαμβάνει ξεκλείδωτη μόνο αφού επιλέξετε ένα σχήμα στο προηγούμενο βήμα. Κάνοντας κλικ σε αυτό θα εμφανίσει το σχήμα που έχει επιλεγεί η και σας επιτρέπει στο χρήστη να επιλέξει ο κόμβος για την οποία πρέπει να δημιουργηθεί ένα ορισμού λεξιλόγιο.  
  c.    FACT – αυτό εισαγωγής προσδιορίζει ποιο αντικείμενο δεδομένων θα χορηγηθεί στα το μηχανισμό κανόνων για επεξεργασία. Αυτή είναι μια ιδιότητα για προχωρημένους και έχει οριστεί για το γονικό στοιχείο του επιλεγμένου XPATH από προεπιλογή. FACT γίνεται ιδιαίτερα σημαντικό για συλλογή και αλυσιδωτή σενάρια.

![Εναλλακτικό κείμενο][6]

### <a name="add-bulk"></a>Προσθέστε μαζικά
Τα παραπάνω βήματα έχετε καταγράψει την εμπειρία για τη δημιουργία ορισμών λεξιλόγιο. Μετά τη δημιουργία, οι ορισμοί που έχουν δημιουργηθεί λεξιλόγιο θα εμφανιστεί στη φόρμα λίστας. Υπάρχουν απαιτήσεις για να μπορέσετε να δημιουργήσετε πολλούς ορισμούς από το ίδιο σχήμα αντί να επαναλαμβάνετε τα παραπάνω βήματα κάθε μία φορά. Αυτό είναι όπου γίνεται ιδιαίτερα χρήσιμη δυνατότητα μαζική Προσθήκη.
Επιλογή "Προσθήκη μαζική" θα σας μεταφέρουν σε μια νέα blade. Το πρώτο βήμα είναι να επιλέξετε το σχήμα για το οποίο είναι πολλαπλούς ορισμούς που θα δημιουργηθεί. Αυτή η επιλογή θα ανοίξει ένα νέο blade είτε για να επιλέξετε από μια λίστα με τα σχήματα έχουν ήδη αποσταλεί δυνατότητας ή για να αποστείλετε ένα νέο.
Τώρα, η ιδιότητα διαδρομές XPath λαμβάνει μη κλειδωμένα. Αυτή η επιλογή θα ανοίξει το πρόγραμμα προβολής σχήματος, όπου μπορείτε να επιλέξετε πολλούς κόμβους.
Τα ονόματα για τους ορισμούς πολλών δημιουργήθηκε προεπιλεγμένη το όνομα του κόμβου επιλεγμένο. Αυτά τα πάντα είναι δυνατή η τροποποίηση μετά τη δημιουργία της.

![Εναλλακτικό κείμενο][7]

##<a name="policy-creation"></a>Δημιουργία πολιτικής
Όταν ο προγραμματιστής έχει δημιουργήσει απαιτείται vocabularies, την προοπτική είναι ότι θα την επιχειρηματικός αναλυτής τη μία τη δημιουργία πολιτικών επιχειρήσεις μέσω της πύλης Azure.  
    1. σε την εφαρμογή κανόνων που δημιουργήσατε, υπάρχει μια πολιτική φακός κάνοντας κλικ στην επιλογή που ο χρήστης θα μεταβείτε στη σελίδα Δημιουργία πολιτικής.  
    2. Αυτή η σελίδα θα εμφανίσει τη λίστα των πολιτικών που έχει αυτή η συγκεκριμένη εφαρμογή κανόνων. Τον αναλυτή να προσθέσετε μια νέα πολιτική, απλώς πληκτρολογώντας το όνομα πολιτικής και πάτημα καρτέλα δύο φορές. Πολλές πολιτικές μπορεί να βρίσκεται σε μια μεμονωμένη εφαρμογή API κανόνων.  
    3. επιλέγοντας την πολιτική που έχουν δημιουργηθεί θα διαρκέσει ο χρήστης στη σελίδα λεπτομέρειες πολιτικής όπου μία μπορούν να δουν οι κανόνες που βρίσκονται στην πολιτική.  
    ![Εναλλακτικό κείμενο][8]
 4.  Επιλέξτε "Προσθήκη" για να προσθέσετε έναν νέο κανόνα. Αυτό θα σας μεταφέρουν σε μια νέα blade.

##<a name="rule-creation"></a>Δημιουργία κανόνα
Ένας κανόνας είναι συλλογή δηλώσεις συνθήκη και μια ενέργεια. Εάν η συνθήκη είναι true, εκτελούνται οι ενέργειες. Στο το blade Δημιουργία κανόνα, δώστε ένα όνομα μοναδικό κανόνα (για τη συγκεκριμένη πολιτική) και μια περιγραφή (προαιρετικά).
Στο πλαίσιο συνθήκη (ΕΆΝ) μπορεί να χρησιμοποιηθεί για τη δημιουργία σύνθετων προτάσεις υπό όρους. Ακολουθούν οι λέξεις-κλειδιά που υποστηρίζονται:  
1.  Και – υπό όρους χειριστή  
2.  Ή – υπό όρους χειριστή  
3.  η\_δεν\_υπάρχει  
4.  υπάρχει  
5.  FALSE  
6.  είναι\_ίσο\_να  
7.  είναι\_μεγαλύτερη\_από  
8.  είναι\_μεγαλύτερη\_από\_ίσο\_να  
9.  είναι\_στο  
10. είναι\_λιγότερο\_από  
11. είναι\_λιγότερο\_από\_ίσο\_να  
12. είναι\_δεν\_στο  
13. είναι\_δεν\_ίσο\_να  
14. MOD  
15. TRUE  

Στο πλαίσιο Action(THEN) μπορεί να περιέχει πολλαπλές δηλώσεις, ένα σε κάθε γραμμή, για να δημιουργήσετε ενέργειες που πρέπει να εκτελεστούν. Ακολουθούν οι λέξεις-κλειδιά που υποστηρίζονται:  
1.  ισούται με  
2.  FALSE  
3.  TRUE  
4.  Διακοπή  
5.  MOD  
6.  τιμή null  
7.  ενημέρωση  

Συνθήκη και μια ενέργεια πλαίσια παράσχετε Intellisense για να σας βοηθήσει να συντάξουν γρήγορα έναν κανόνα. Αυτό μπορεί να ενεργοποιηθεί με πάτημα ctrl + πλήκτρο διαστήματος ή από την εκκίνηση απλώς να πληκτρολογήσετε. Λέξεις-κλειδιά που ταιριάζουν με χαρακτήρες που πληκτρολογήθηκαν θα αυτόματα φιλτραρισμένο προς τα κάτω και θα εμφανίζονται. Το παράθυρο intellisense θα εμφανίζει όλες τις λέξεις-κλειδιά και των ορισμών λεξιλόγιο.
![Εναλλακτικό κείμενο][9]

##<a name="explicit-forward-chaining"></a>Ρητή αλυσιδωτή προς τα εμπρός
Κανόνες BizTalk υποστηρίζει ρητά προς τα εμπρός αλυσιδωτή, εάν οι χρήστες θα θέλατε να υπολογιστεί εκ νέου κανόνων στο απόκριση ορισμένων ενεργειών, τους μπορεί να ενεργοποιήσει αυτήν χρησιμοποιώντας συγκεκριμένες λέξεις-κλειδιά. Ακολουθούν οι λέξεις-κλειδιά που υποστηρίζονται:  
   1.   ενημέρωση <vocabulary definition> – αυτή τη λέξη-κλειδί αξιολογεί εκ νέου όλους τους κανόνες που χρησιμοποιεί τον ορισμό της καθορισμένης λεξιλόγιο στο τη συνθήκη.  
   2.   Διακόπτει – αυτή τη λέξη-κλειδί διακόπτει όλες εκτελέσεις κανόνα

##<a name="enabledisable-rules"></a>Κανόνες Enable\Disable
Κάθε κανόνα στην πολιτική μπορεί να ενεργοποιηθεί ή να απενεργοποιηθεί. Όλοι οι κανόνες είναι ενεργοποιημένες από προεπιλογή. Δεν θα απενεργοποίησης κανόνων να εκτελεστεί κατά την εκτέλεση πολιτικής. Κανόνες Enable\Disable μπορεί να γίνει είτε από το blade κανόνα απευθείας – οι εντολές είναι διαθέσιμες στη γραμμή εντολών στο επάνω μέρος του blade ή από την πολιτική, το μενού περιβάλλοντος (δεξιό κλικ σε έναν κανόνα) έχει την επιλογή να enable\disable.

##<a name="rule-priority"></a>Προτεραιότητα κανόνα
Όλοι οι κανόνες μιας πολιτικής εκτελούνται με τη σειρά. Την προτεραιότητα της εκτέλεσης προσδιορίζεται από τη σειρά με την οποία υπάρχουν στην πολιτική. Προτεραιότητα αυτό μπορεί να αλλάξει με απλή μεταφορά και απόθεση τον κανόνα.

##<a name="test-policy"></a>Δοκιμή πολιτικής
Μπορείτε να ελέγξετε τις πολιτικές σας χρησιμοποιώντας την εντολή "Δοκιμή πολιτικής" στο το blade δοκιμή πολιτικής. Σε αυτό το blade μπορείτε να δείτε μια λίστα με λεξιλόγιο των ορισμών που χρησιμοποιούνται στην πολιτική που απαιτούν μια εισαγωγή από το χρήστη. Οι χρήστες με μη αυτόματο τρόπο να προσθέσετε τιμές για αυτά τα στοιχεία εισόδου για το σενάριο δοκιμής. Εναλλακτικά, οι χρήστες μπορούν επίσης να εισαγάγετε δοκιμή XMLs για εισόδων. Αφού όλα τα δεδομένα εισόδου στο, μπορεί να εκτελεστεί η δοκιμή και το εξόδους για κάθε ορισμό λεξιλόγιο θα εμφανίζονται στη στήλη εξόδου για εύκολη σύγκριση. Για να προβάλετε αρχεία καταγραφής φιλικό επιχειρηματικού αναλυτή, κάντε κλικ στην εντολή "Προβολή αρχείων καταγραφής" για να προβάλετε τα αρχεία καταγραφής εκτέλεσης. Για να αποθηκεύσετε τα αρχεία καταγραφής, η επιλογή "Αποθήκευση εξόδου" είναι διαθέσιμη για την αποθήκευση όλων δοκιμή σχετικά δεδομένα για την ανάλυση ανεξάρτητα.

## <a name="using-rules-in-logic-apps"></a>Χρήση κανόνων σε εφαρμογές της λογικής
Όταν η πολιτική έχει συνταχθεί και ελεγχθεί, είναι τώρα έτοιμο για κατανάλωση. Μπορείτε να δημιουργήσετε μια νέα εφαρμογή λογικής, επιλέγοντας λογικής εφαρμογές από την αριστερή πλευρά της αρχικής σελίδας της πύλης. Μετά τη δημιουργία της εφαρμογής σας λογικής, εκκίνηση του προγράμματος, στη συνέχεια, επιλέξτε *εναύσματα και ενέργειες*. Στη συνέχεια, μπορείτε να επιλέξετε το πρότυπο *Δημιουργία από την αρχή* . Ακολουθήστε τα βήματα για να προσθέσετε την εφαρμογή BizTalk κανόνες API στην εφαρμογή λογικής. Αφού το κάνετε αυτό, θα υπάρχει μια επιλογή για να επιλέξετε ποια εφαρμογή κανόνων API (ενέργεια) για να προορισμού. Ενέργειες περιλαμβάνουν τη λίστα των πολιτικών που πρέπει να εκτελεστούν. Επιλέξτε μια συγκεκριμένη πολιτική μετά από την οποία τα δεδομένα εισόδου που απαιτείται για την πολιτική πρέπει να δοθεί. Οι χρήστες μπορούν να χρησιμοποιούν την έξοδο από την εφαρμογή API κανόνες μετά για περαιτέρω αποφάσεων.

## <a name="using-rules-via-apis"></a>Χρήση κανόνων μέσω APIs
Επίσης μπορεί να ενεργοποιηθεί η εφαρμογή API κανόνων χρησιμοποιώντας ένα εμπλουτισμένο σύνολο των API. Αυτό τρόπο με τον οποίο οι χρήστες δεν ισχύει για απλώς χρήση λογικής εφαρμογών και να χρησιμοποιήσετε κανόνες σε οποιαδήποτε εφαρμογή του, καθιστώντας τις κλήσεις ΥΠΌΛΟΙΠΟ. Τα ακριβή REST API διαθέσιμη μπορούν να προβληθούν κάνοντας κλικ στην επιλογή από το "API ορισμού" φακό στον πίνακα εργαλείων κανόνων.

![Εναλλακτικό κείμενο][10]

Ακολουθεί ένα παράδειγμα για το πώς ένα μπορεί να χρησιμοποιήσετε αυτό το API στο C#

            // Constructing the JSON message to use in API call to Rules API App

            // xmlInstance is the XML message instance to be passed as input to our Policy
            string xmlInstance = "<ns0:Patient xmlns:ns0=\"http://tempuri.org/XMLSchema.xsd\">  <ns0:Name>Name_0</ns0:Name>  <ns0:Email>Email_0</ns0:Email>  <ns0:PatientID>PatientID_0</ns0:PatientID>  <ns0:Age>10.4</ns0:Age>  <ns0:Claim>    <ns0:ClaimDate>2012-05-31T13:20:00.000-05:00</ns0:ClaimDate>    <ns0:ClaimID>10</ns0:ClaimID>    <ns0:TreatmentID>12</ns0:TreatmentID>    <ns0:ClaimAmount>10000.0</ns0:ClaimAmount>    <ns0:ClaimStatus>ClaimStatus_0</ns0:ClaimStatus>    <ns0:ClaimStatusReason>ClaimStatusReason_0</ns0:ClaimStatusReason>  </ns0:Claim></ns0:Patient>";

            JObject input = new JObject();

            // The JSON object is to be of form {"<XMLSchemName>_<RootNodeName>":"<XML Instance String>".
            // In the below case, we are using XML Schema - "insruanceclaimsschema" and the root node is "Patient".
            // This is CASE SENSITIVE.
            input.Add("insuranceclaimschema_Patient", xmlInstance);
            string stringContent = JsonConvert.SerializeObject(input);


            // Making REST call to Rules API App
            HttpClient httpClient = new HttpClient();

            // The url is the Host URL of the Rules API App
            httpClient.BaseAddress = new Uri("https://rulesservice77492755b7b54c3f9e1df8ba0b065dc6.azurewebsites.net/");
            HttpContent httpContent = new StringContent(stringContent);
            httpContent.Headers.ContentType = MediaTypeHeaderValue.Parse("application/json");

            // Invoking API "Execute" on policy "InsruranceClaimPolicy" and getting response JSON object. The url can be gotten from the API Definition Lens
            var postReponse = httpClient.PostAsync("api/Policies/InsuranceClaimPolicy?comp=Execute", httpContent).Result;

Σημειώστε ότι η παραπάνω εφαρμογή κανόνων API έχει τις ρυθμίσεις ασφαλείας που έχει οριστεί σε "Δημόσια Anon". Αυτό μπορεί να οριστεί από μέσα στην εφαρμογή API χρησιμοποιώντας - όλες οι ρυθμίσεις -> Ρυθμίσεις εφαρμογής -> επίπεδο πρόσβασης.

![Εναλλακτικό κείμενο][11]

## <a name="editing-vocabulary-and-policy"></a>Επεξεργασία λεξιλόγιο και πολιτικής
Ένα από τα βασικά πλεονεκτήματα της χρήσης επιχειρησιακών κανόνων είναι ότι είναι δυνατή η προώθηση αλλαγές επιχειρηματικής λογικής παραγωγή πολύ πιο γρήγορη. Τυχόν αλλαγές που πραγματοποιείτε σε λεξιλόγιο και τις πολιτικές εφαρμόζεται αμέσως στο παραγωγής. Χρήστη πρέπει απλώς να μεταβείτε στο αντίστοιχο λεξιλόγιο ορισμού ή πολιτικής και κάντε τις αλλαγές για να τεθούν σε ισχύ.

<!--Image references-->
[1]: ./media/app-service-logic-use-biztalk-rules/InsuranceScenario.PNG
[2]: ./media/app-service-logic-use-biztalk-rules/InsuranceBusinessLogic.png
[3]: ./media/app-service-logic-use-biztalk-rules/CreateRuleApiApp.png
[4]: ./media/app-service-logic-use-biztalk-rules/RulesDashboard.png
[5]: ./media/app-service-logic-use-biztalk-rules/LiteralVocab.PNG
[6]: ./media/app-service-logic-use-biztalk-rules/XMLVocab.PNG
[7]: ./media/app-service-logic-use-biztalk-rules/BulkAdd.PNG
[8]: ./media/app-service-logic-use-biztalk-rules/PolicyList.PNG
[9]: ./media/app-service-logic-use-biztalk-rules/RuleCreate.PNG
[10]: ./media/app-service-logic-use-biztalk-rules/APIDef.PNG
[11]: ./media/app-service-logic-use-biztalk-rules/PublicAnon.PNG
