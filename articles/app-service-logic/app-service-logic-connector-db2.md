<properties
   pageTitle="Χρησιμοποιώντας τη γραμμή σύνδεσης DB2 στο Microsoft Azure εφαρμογής υπηρεσίας | Microsoft Azure"
   description="Πώς μπορείτε να χρησιμοποιήσετε τη γραμμή σύνδεσης DB2 με λογική εφαρμογής εναύσματα και ενέργειες"
   services="logic-apps"
   documentationCenter=".net,nodejs,java"
   authors="gplarsen"
   manager="erikre"
   editor=""/>

<tags
   ms.service="logic-apps"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration"
   ms.date="05/31/2016"
   ms.author="plarsen"/>

# <a name="db2-connector"></a>Γραμμή σύνδεσης DB2
>[AZURE.NOTE] Αυτή η έκδοση του άρθρου ισχύει για λογική εφαρμογές 2014-12-01-προεπισκόπηση σχήματος έκδοση.

Σύνδεση της Microsoft για DB2 είναι μια εφαρμογή API για τη σύνδεση εφαρμογές μέσω Azure εφαρμογής υπηρεσίας για τους πόρους που είναι αποθηκευμένα σε μια βάση δεδομένων IBM DB2. Γραμμή σύνδεσης περιλαμβάνει ένα πρόγραμμα-πελάτη Microsoft για να συνδεθείτε με απομακρυσμένους υπολογιστές διακομιστή DB2 μέσω σύνδεσης δικτύου TCP/IP, συμπεριλαμβανομένων των Azure υβριδική συνδέσεις σε διακομιστές DB2 εσωτερικής εγκατάστασης χρησιμοποιώντας τη μετάδοση Azure Service Bus σύνδεσης υποστηρίζει τις ακόλουθες λειτουργίες βάσης δεδομένων:

- ΕΠΙΛΈΞΤΕ ανάγνωση γραμμών χρησιμοποιώντας
- Ψηφοφορίας για να διαβάσετε γραμμών με ΕΠΙΛΈΞΤΕ τη ΜΈΤΡΗΣΗ ακολουθούμενο από ΕΠΙΛΟΓΉ
- Προσθέστε μία γραμμή ή πολλές γραμμές (μαζική) χρησιμοποιώντας την εντολή INSERT
- Τροποποίηση μία γραμμή ή πολλές γραμμές (μαζική) χρησιμοποιώντας UPDATE
- Κατάργηση μία γραμμή ή πολλές γραμμές (μαζική) χρησιμοποιώντας ΔΙΑΓΡΑΦΉ
- Ανάγνωση να τροποποιήσουν τις γραμμές χρησιμοποιώντας ΕΠΙΛΈΞΤΕ ΔΡΟΜΈΑ ακολουθούμενο από ΕΝΗΜΈΡΩΣΗ όπου ΤΡΈΧΟΝΤΑ του ΔΡΟΜΈΑ
- Διαβάστε για να καταργήσετε γραμμές χρησιμοποιώντας ΕΠΙΛΈΞΤΕ ΔΡΟΜΈΑ ακολουθούμενο από ΕΝΗΜΈΡΩΣΗ όπου ΤΡΈΧΟΝΤΑ του ΔΡΟΜΈΑ
- Εκτελέστε τη διαδικασία με παραμέτρους εισόδου και εξόδου, τιμή, σύνολο αποτελεσμάτων, χρησιμοποιώντας την ΚΛΉΣΗ επιστροφής
- Προσαρμοσμένες εντολές και σύνθετες λειτουργίες χρησιμοποιώντας την ΕΠΙΛΟΓΉ, εισαγωγή, ΕΝΗΜΈΡΩΣΗ, ΔΙΑΓΡΑΦΉ

## <a name="triggers-and-actions"></a>Εναύσματα και ενέργειες
Γραμμή σύνδεσης υποστηρίζει τις παρακάτω εναύσματα εφαρμογή λογική και τις ενέργειες:

Εναυσμάτων | Ενέργειες
--- | ---
<ul><li>Δεδομένα ψηφοφορίας</li></ul> | <ul><li>Μαζική εισαγωγή</li><li>Εισαγωγή</li><li>Μαζική ενημέρωση</li><li>Ενημέρωση</li><li>Κλήση</li><li>Μαζική διαγραφή</li><li>Διαγραφή</li><li>Επιλέξτε</li><li>Ενημέρωση υπό όρους</li><li>Δημοσίευση στο EntitySet</li><li>Διαγραφή υπό όρους</li><li>Επιλέξτε μία οντότητα</li><li>Διαγραφή</li><li>Upsert να EntitySet</li><li>Προσαρμοσμένες εντολές</li><li>Σύνθετες λειτουργίες</li></ul>


## <a name="create-the-db2-connector"></a>Δημιουργήστε τη γραμμή σύνδεσης DB2
Μπορείτε να ορίσετε μια γραμμή σύνδεσης μέσα σε μια εφαρμογή λογικής ή από το Azure Marketplace, όπως στο ακόλουθο παράδειγμα:  

1. Στο το Azure startboard, επιλέξτε **Marketplace**.
2. Στο το **όλα όσα** blade, πληκτρολογήστε **db2** στο πλαίσιο **Αναζήτηση όλων** και, στη συνέχεια, κάντε κλικ στην επιλογή το πλήκτρο enter.
3. Στο πλαίσιο Αναζήτηση όλα τα αποτελέσματα τμήμα του παραθύρου, επιλέξτε **DB2 γραμμή σύνδεσης**.
4. Στο το blade περιγραφή DB2 σύνδεσης, επιλέξτε **Δημιουργία**.
5. Στο το blade πακέτου DB2 σύνδεσης, πληκτρολογήστε το όνομα (π.χ. "Db2ConnectorNewOrders"), εφαρμογή υπηρεσίας Σχεδιασμός και άλλες ιδιότητες.
6. Επιλέξτε **Ρυθμίσεις πακέτου**και εισαγάγετε τις παρακάτω ρυθμίσεις πακέτου:  

    Όνομα | Απαιτείται |  Περιγραφή
--- | --- | ---
Συμβολοσειρά σύνδεσης | Ναι | Συμβολοσειρά σύνδεσης DB2 προγράμματος-πελάτη (π.χ., "διεύθυνση δικτύου = όνομα_διακομιστή; Θύρα δικτύου = 50000; Αναγνωριστικό χρήστη = όνομα χρήστη; Κωδικός πρόσβασης = κωδικού πρόσβασης, αρχικού καταλόγου = ΔΕΊΓΜΑ. Συσκευασία συλλογής = NWIND; προεπιλεγμένη διάταξη = NWIND ").
Πίνακες | Ναι | Τιμές διαχωρισμένες με κόμμα λίστα πίνακα, προβολή και ψευδώνυμο ονόματα που απαιτούνται για λειτουργίες OData και για τη δημιουργία swagger τεκμηρίωση με παραδείγματα (π.χ. "*NEWORDERS*").
Διαδικασίες | Ναι | Τιμές διαχωρισμένες με κόμμα λίστα διαδικασίας και συνάρτηση ονομάτων (π.χ. "SPORDERID").
Σύνδεση εντός της επιχείρησης | Όχι | Ανάπτυξη εσωτερικής εγκατάστασης χρησιμοποιώντας Azure μεταγωγής Bus υπηρεσίας.
ServiceBusConnectionString | Όχι | Azure συμβολοσειρά σύνδεσης υπηρεσίας Bus μεταγωγή.
PollToCheckData | Όχι | ΕΠΙΛΈΞΤΕ ΠΛΉΘΟΣ πρόταση για χρήση με ένα έναυσμα εφαρμογή λογικής (π.χ. "ΕΠΙΛΈΞΤΕ ΠΛΉΘΟΣ (\*) από NEWORDERS ΠΟΎ SHIPDATE IS NULL").
PollToReadData | Όχι | Πρόταση SELECT για χρήση με ένα έναυσμα εφαρμογή λογικής (π.χ. "ΕΠΙΛΈΞΤΕ \* από NEWORDERS ΠΟΎ ΒΡΊΣΚΕΤΑΙ η τιμή NULL για ΕΝΗΜΈΡΩΣΗ ΗΜΕΡΟΜΗΝΊΑ_ΑΠΟΣΤΟΛΉΣ").
PollToAlterData | Όχι | ΕΝΗΜΈΡΩΣΗ ή ΔΙΑΓΡΑΦΉ πρόταση για χρήση με ένα έναυσμα εφαρμογή λογικής (π.χ. "ΗΜΕΡΟΜΗΝΊΑ_ΑΠΟΣΤΟΛΉΣ ΟΡΙΣΜΌΣ NEWORDERS ΕΝΗΜΈΡΩΣΗ = ΤΡΈΧΟΥΣΑ ΗΜΕΡΟΜΗΝΊΑ όπου ΤΡΈΧΟΥΣΑ ΤΗΣ &lt;ΔΡΟΜΈΑ&gt;").

7. Επιλέξτε **OK**και, στη συνέχεια, επιλέξτε **Δημιουργία**.
8. Όταν ολοκληρωθεί η εγκατάσταση, τις ρυθμίσεις πακέτου είναι παρόμοιο με το εξής:  
![][1]


## <a name="logic-app-with-db2-connector-action-to-add-data"></a>Εφαρμογή λογικής με DB2 ενέργεια σύνδεσης για να προσθέσετε δεδομένα ##
Μπορείτε να ορίσετε μια ενέργεια εφαρμογής λογικής για να προσθέσετε δεδομένα σε έναν πίνακα DB2 χρησιμοποιώντας μια εισαγωγή API ή δημοσίευση για τη λειτουργία του οντότητα OData. Για παράδειγμα, μπορείτε να εισαγάγετε μια νέα εγγραφή παραγγελίας πελάτη, με την επεξεργασία μιας πρότασης SQL INSERT σε έναν πίνακα με μια στήλη, επιστρέφει την τιμή ταυτότητας ή τις γραμμές που επηρεάζονται στην εφαρμογή λογικής (ΕΠΙΛΟΓΉ ORDID από το ΤΕΛΙΚΌ ΠΊΝΑΚΑ (εισαγωγή σε NWIND. ΤΙΜΈΣ NEWORDERS ("ΚΩΔΠΕΛΆΤΗ", ΟΝΌΜΑΤΟΣ ΠΑΡΑΛΉΠΤΗ, SHIPADDR, ΠΌΛΗΣ ΠΑΡΑΛΉΠΤΗ, SHIPREG, SHIPZIP) (;;;;;;))).

> [AZURE.TIP] DB2 σύνδεση "*καταχώρηση για να EntitySet*" επιστρέφει την τιμή της στήλης ταυτότητας και "*Εισαγωγή API*" επιστρέφει γραμμές που επηρεάζονται

1. Στο το Azure startboard, επιλέξτε **+** (σύμβολο συν), **Web + Mobile**και, στη συνέχεια **λογική εφαρμογής**.
2. Πληκτρολογήστε το όνομα (π.χ. "NewOrdersDb2"), εφαρμογή υπηρεσίας πρόγραμμα ή άλλες ιδιότητες και, στη συνέχεια, επιλέξτε **Δημιουργία**.
3. Στο το Azure startboard, επιλέξτε τη λογική εφαρμογής που μόλις δημιουργήσατε, τις **Ρυθμίσεις**και, στη συνέχεια, **εναύσματα και ενέργειες**.
4. Στο blade εναύσματα και τις ενέργειες, επιλέξτε **Δημιουργία από την αρχή** μέσα στην εφαρμογή λογικής πρότυπα.
5. Στον πίνακα API εφαρμογών, επιλέξτε **Περιοδικότητα**, ορίστε μια συχνότητα και διάστημα και, στη συνέχεια, **σημάδι ελέγχου**.
6. Στον πίνακα API εφαρμογών, επιλέξτε **γραμμή σύνδεσης DB2**, αναπτύξτε τη λίστα εργασιών για να επιλέξετε **Εισαγωγή σε NEWORDER**.
7. Αναπτύξτε τη λίστα παραμέτρους για να εισαγάγετε τις ακόλουθες τιμές:  

    Όνομα | Τιμή
--- | --- 
"ΚΩΔΠΕΛΆΤΗ" | 10042
ΟΝΌΜΑΤΟΣ ΠΑΡΑΛΉΠΤΗ | Χώρος αποθήκευσης Kountry τεμπέλη K 
SHIPADDR | Βεράντας 12 ορχήστρα
ΠΌΛΗΣ ΠΑΡΑΛΉΠΤΗ | Walla Walla 
SHIPREG | ΑΤΤΙΚΗ
SHIPZIP | 99362 

8. Επιλέξτε το **σημάδι ελέγχου** για να αποθηκεύσετε τις ρυθμίσεις ενέργειας και, στη συνέχεια, **Αποθήκευση**.
9. Οι ρυθμίσεις θα πρέπει να μοιάζει ως εξής:  
![][3]

10. Στη λίστα **όλα εκτελείται** στο πλαίσιο **ενεργειών**, επιλέξτε το στοιχείο στη λίστα πρώτη (πιο πρόσφατη εκτέλεση). 
11. Στο το blade **λογική εφαρμογής εκτέλεση** , επιλέξτε το στοιχείο **ΕΝΈΡΓΕΙΑΣ** **db2connectorneworders**.
12. Στο το blade **λογική εφαρμογής ενέργεια** , επιλέξτε τη **ΣΎΝΔΕΣΗ ΕΙΣΌΔΩΝ**. Γραμμή σύνδεσης DB2 χρησιμοποιεί τα δεδομένα εισόδου για την επεξεργασία μια δήλωση INSERT με παραμέτρους.
13. Στο το blade **λογική εφαρμογής ενέργεια** , επιλέξτε τη **ΣΎΝΔΕΣΗ ΕΞΌΔΟΥΣ**. Τα δεδομένα εισόδου πρέπει να μοιάζει ως εξής:  
![][4]

#### <a name="what-you-need-to-know"></a>Τι πρέπει να γνωρίζετε

- Γραμμή σύνδεσης περικόπτει τα ονόματα πινάκων DB2 όταν σχηματίζοντας λογική εφαρμογής ενέργεια ονόματα. Για παράδειγμα, η λειτουργία **Εισαγωγή σε NEWORDERS** δεκαδικά ψηφία περικόπτονται για να **εισαγάγετε στο NEWORDER**.
- Μετά την αποθήκευση της εφαρμογής λογικής **εναύσματα και τις ενέργειες**, εφαρμογή λογικής επεξεργάζεται τη λειτουργία. Μπορεί να υπάρχουν καθυστέρηση από έναν αριθμό δευτερολέπτων (π.χ. 3-5 δευτερόλεπτα) πριν από την λογική εφαρμογή επεξεργάζεται τη λειτουργία. Προαιρετικά, μπορείτε να επιλέξετε **Εκτέλεση τώρα** για την επεξεργασία της λειτουργίας.
- Γραμμή σύνδεσης DB2 καθορίζει EntitySet μέλη με χαρακτηριστικά, όπως εάν το μέλος που αντιστοιχεί σε μια στήλη DB2 με έναν προεπιλεγμένο ή που δημιουργούνται από στήλες (π.χ., ταυτότητα). Εφαρμογή λογικής εμφανίζει ένας κόκκινος αστερίσκος δίπλα στο όνομα Αναγνωριστικό μέλος EntitySet, για να καταδείξετε DB2 στηλών που απαιτούν τιμές. Δεν πρέπει να καταχωρήσετε μια τιμή για το μέλος ORDID, που αντιστοιχεί σε στήλη ταυτότητας DB2. Ενδέχεται να μπορείτε να εισαγάγετε τιμές για τα άλλα προαιρετικά μέλη (ΣΤΟΙΧΕΊΑ, ORDDATE, REQDATE, SHIPID, ΚΟΜΊΣΤΡΩΝ, SHIPCTRY), που αντιστοιχούν σε στήλες DB2 με προεπιλεγμένες τιμές. 
- Γραμμή σύνδεσης DB2 επιστρέφει εφαρμογή λογικής την απάντηση στη δημοσίευση για να EntitySet που περιλαμβάνει τις τιμές για τις στήλες ταυτότητα, που προέρχεται από το SQLDARD DRDA (δεδομένα απάντηση περιοχή δεδομένων SQL) σχετικά με την έτοιμη πρόταση SQL INSERT. Διακομιστής DB2 δεν επιστρέφει τις τιμές που έχουν εισαχθεί για στήλες με προεπιλεγμένες τιμές.  


## <a name="logic-app-with-db2-connector-action-to-add-bulk-data"></a>Εφαρμογή λογικής με ενέργεια σύνδεσης DB2 για μαζική Προσθήκη δεδομένων ##
Μπορείτε να ορίσετε μια ενέργεια εφαρμογής λογικής για να προσθέσετε δεδομένα σε έναν πίνακα DB2, χρησιμοποιώντας μια λειτουργία API μαζική εισαγωγή. Για παράδειγμα, μπορείτε να εισαγάγετε δύο νέα σειρά εγγραφές πελάτη, με την επεξεργασία μιας πρότασης SQL INSERT χρησιμοποιώντας έναν πίνακα τιμών γραμμή σε έναν πίνακα με μια στήλη, επιστρέφοντας τις γραμμές που επηρεάζονται στην εφαρμογή λογικής (ΕΠΙΛΟΓΉ ORDID από το ΤΕΛΙΚΌ ΠΊΝΑΚΑ (εισαγωγή σε NWIND. ΤΙΜΈΣ NEWORDERS ("ΚΩΔΠΕΛΆΤΗ", ΟΝΌΜΑΤΟΣ ΠΑΡΑΛΉΠΤΗ, SHIPADDR, ΠΌΛΗΣ ΠΑΡΑΛΉΠΤΗ, SHIPREG, SHIPZIP) (;;;;;;))).

1. Στο το Azure startboard, επιλέξτε **+** (σύμβολο συν), **Web + Mobile**και, στη συνέχεια **λογική εφαρμογής**.
2. Πληκτρολογήστε το όνομα (π.χ. "NewOrdersBulkDb2"), εφαρμογή υπηρεσίας πρόγραμμα ή άλλες ιδιότητες και, στη συνέχεια, επιλέξτε **Δημιουργία**.
3. Στο το Azure startboard, επιλέξτε τη λογική εφαρμογής που μόλις δημιουργήσατε, τις **Ρυθμίσεις**και, στη συνέχεια, **εναύσματα και ενέργειες**.
4. Στο blade εναύσματα και τις ενέργειες, επιλέξτε **Δημιουργία από την αρχή** μέσα στην εφαρμογή λογικής πρότυπα.
5. Στον πίνακα API εφαρμογών, επιλέξτε **Περιοδικότητα**, ορίστε μια συχνότητα και διάστημα και, στη συνέχεια, **σημάδι ελέγχου**.
6. Στον πίνακα API εφαρμογών, επιλέξτε **DB2 γραμμή σύνδεσης**, αναπτύξτε τη λίστα εργασιών για να επιλέξετε **Μαζική εισαγωγή σε ΝΈΑ**.
7. Πληκτρολογήστε την τιμή **γραμμές** ως πίνακα. Για παράδειγμα, αντιγράψτε και επικολλήστε το εξής:

    ```
    [{"CUSTID":10081,"SHIPNAME":"Trail's Head Gourmet Provisioners","SHIPADDR":"722 DaVinci Blvd.","SHIPCITY":"Kirkland","SHIPREG":"WA","SHIPZIP":"98034"},{"CUSTID":10088,"SHIPNAME":"White Clover Markets","SHIPADDR":"305 14th Ave. S. Suite 3B","SHIPCITY":"Seattle","SHIPREG":"WA","SHIPZIP":"98128","SHIPCTRY":"USA"}]
    ```

8. Επιλέξτε το **σημάδι ελέγχου** για να αποθηκεύσετε τις ρυθμίσεις ενέργειας και, στη συνέχεια, **Αποθήκευση**. Οι ρυθμίσεις θα πρέπει να μοιάζει ως εξής:  
![][6]

9. Στη λίστα **όλα εκτελείται** στην περιοχή **εργασίες**, κάντε κλικ στο στοιχείο στη λίστα πρώτη (πιο πρόσφατη εκτέλεση).
10. Στο η **εφαρμογή λογικής εκτέλεση** blade, κάντε κλικ στο στοιχείο **ΕΝΈΡΓΕΙΑΣ** .
11. Στο το blade **λογική εφαρμογής ενέργεια** , κάντε κλικ στη **ΣΎΝΔΕΣΗ ΕΙΣΌΔΩΝ**. Το εξόδους πρέπει να μοιάζει ως εξής:  
[][7]
12. Στο το blade **λογική εφαρμογής ενέργεια** , κάντε κλικ στη **ΣΎΝΔΕΣΗ ΕΞΌΔΟΥΣ**. Το εξόδους πρέπει να μοιάζει ως εξής:  
![][8]

#### <a name="what-you-need-to-know"></a>Τι πρέπει να γνωρίζετε

- Γραμμή σύνδεσης περικόπτει τα ονόματα πινάκων DB2 όταν σχηματίζοντας λογική εφαρμογής ενέργεια ονόματα. Για παράδειγμα, η λειτουργία **Μαζική εισαγωγή σε NEWORDERS** δεκαδικά ψηφία περικόπτονται **μαζικής**εισαγωγής σε ΝΈΑ.
- Παραλείποντας στήλες ταυτότητας (π.χ., ORDID), τύπο nullable στήλες (π.χ., SHIPDATE) και στήλες με προεπιλεγμένες τιμές (π.χ. ORDDATE, REQDATE, SHIPID, ΚΟΜΊΣΤΡΩΝ, SHIPCTRY), βάση δεδομένων DB2 δημιουργεί τιμές.
- Καθορίζοντας "Σήμερα" και "αύριο", γραμμής σύνδεσης DB2 δημιουργεί "ΤΡΈΧΟΥΣΑ ΗΜΕΡΟΜΗΝΊΑ" και "ΤΡΈΧΟΥΣΑ ΗΜΕΡΟΜΗΝΊΑ + 1 ΗΜΈΡΑ" λειτουργίες (π.χ., REQDATE). 


## <a name="logic-app-with-db2-connector-trigger-to-read-alter-or-delete-data"></a>Εφαρμογή λογικής με DB2 έναυσμα σύνδεσης για την ανάγνωση, τροποποίηση ή διαγραφή δεδομένων ##
Μπορείτε να ορίσετε ένα έναυσμα εφαρμογή λογικής ψηφοφορία και την ανάγνωση δεδομένων από έναν πίνακα DB2 χρησιμοποιώντας μια σύνθετη λειτουργία API ψηφοφορίας δεδομένων. Για παράδειγμα, μπορείτε να διαβάσετε μία ή περισσότερες νέα σειρά εγγραφές πελάτη, επιστρέφει τις εγγραφές στην εφαρμογή λογικής. Οι ρυθμίσεις πακέτου/εφαρμογή DB2 σύνδεσης πρέπει να μοιάζει ως εξής:

    Ρύθμιση εφαρμογών | Τιμή
--- | --- | ---
PollToCheckData | ΕΠΙΛΈΞΤΕ ΠΛΉΘΟΣ (\*) από NEWORDERS όπου SHIPDATE ΕΊΝΑΙ NULL
PollToReadData | ΕΠΙΛΈΞΤΕ \* από NEWORDERS όπου SHIPDATE ΕΊΝΑΙ NULL για την ενημερωμένη ΈΚΔΟΣΗ
PollToAlterData | <no value specified>


Επίσης, μπορείτε να ορίσετε ένα έναυσμα εφαρμογή λογικής για να τις ψηφοφορίας, διαβάστε και αλλάξτε δεδομένα σε πίνακα DB2, χρησιμοποιώντας μια σύνθετη λειτουργία API ψηφοφορίας δεδομένων. Για παράδειγμα, μπορείτε να διαβάσετε μία ή περισσότερες νέα σειρά εγγραφές πελάτη, ενημερώστε τις τιμές στη γραμμή, επιστρέφοντας των επιλεγμένων (πριν από ενημέρωση) εγγραφών στην εφαρμογή λογικής. Οι ρυθμίσεις πακέτου/εφαρμογή DB2 σύνδεσης πρέπει να μοιάζει ως εξής:

    Ρύθμιση εφαρμογών | Τιμή
--- | --- | ---
PollToCheckData | ΕΠΙΛΈΞΤΕ ΠΛΉΘΟΣ (\*) από NEWORDERS όπου SHIPDATE ΕΊΝΑΙ NULL
PollToReadData | ΕΠΙΛΈΞΤΕ \* από NEWORDERS όπου SHIPDATE ΕΊΝΑΙ NULL για την ενημερωμένη ΈΚΔΟΣΗ
PollToAlterData | ΕΝΗΜΈΡΩΣΗ NEWORDERS ΣΎΝΟΛΟ SHIPDATE = ΤΡΈΧΟΥΣΑ ΗΜΕΡΟΜΗΝΊΑ όπου ΤΗΣ ΤΡΈΧΟΥΣΑΣ &lt;ΔΡΟΜΈΑ&gt;


Επιπλέον, μπορείτε να ορίσετε ένα έναυσμα εφαρμογή λογικής ψηφοφορία, διαβάστε και κατάργησης δεδομένων από έναν πίνακα DB2 χρησιμοποιώντας μια σύνθετη λειτουργία API ψηφοφορίας δεδομένων. Για παράδειγμα, μπορείτε να διαβάσετε μία ή περισσότερες νέα σειρά εγγραφές πελάτη, διαγραφή γραμμών, επιστρέφοντας των επιλεγμένων (πριν από τη διαγραφή) εγγραφών στην εφαρμογή λογικής. Οι ρυθμίσεις πακέτου/εφαρμογή DB2 σύνδεσης πρέπει να μοιάζει ως εξής:

    Ρύθμιση εφαρμογών | Τιμή
--- | --- | ---
PollToCheckData | ΕΠΙΛΈΞΤΕ ΠΛΉΘΟΣ (\*) από NEWORDERS όπου SHIPDATE ΕΊΝΑΙ NULL
PollToReadData | ΕΠΙΛΈΞΤΕ \* από NEWORDERS όπου SHIPDATE ΕΊΝΑΙ NULL για την ενημερωμένη ΈΚΔΟΣΗ
PollToAlterData | ΔΙΑΓΡΑΦΉ NEWORDERS όπου ΤΗΣ ΤΡΈΧΟΥΣΑΣ &lt;ΔΡΟΜΈΑ&gt;

Σε αυτό το παράδειγμα, εφαρμογή λογικής θα ψηφοφορία, ανάγνωση, ενημέρωση, και, στη συνέχεια, εκ νέου Διαβάστε δεδομένα στον πίνακα DB2.

1. Στο το Azure startboard, επιλέξτε **+** (σύμβολο συν), **Web + Mobile**και, στη συνέχεια **λογική εφαρμογής**.
2. Πληκτρολογήστε το όνομα (π.χ. "ShipOrdersDb2"), εφαρμογή υπηρεσίας πρόγραμμα ή άλλες ιδιότητες και, στη συνέχεια, επιλέξτε **Δημιουργία**.
3. Στο το Azure startboard, επιλέξτε τη λογική εφαρμογής που μόλις δημιουργήσατε, τις **Ρυθμίσεις**και, στη συνέχεια, **εναύσματα και ενέργειες**.
4. Στο blade εναύσματα και τις ενέργειες, επιλέξτε **Δημιουργία από την αρχή** μέσα στην εφαρμογή λογικής πρότυπα.
5. Στον πίνακα API εφαρμογών, επιλέξτε **γραμμή σύνδεσης DB2**, ορίστε μια συχνότητα και διάστημα και, στη συνέχεια, **σημάδι ελέγχου**.
6. Στον πίνακα API εφαρμογές, επιλέξτε **γραμμή σύνδεσης DB2**, αναπτύξτε τη λίστα εργασιών για να επιλέξετε την **επιλογή από NEWORDERS**.
7. Επιλέξτε το **σημάδι ελέγχου** για να αποθηκεύσετε τις ρυθμίσεις ενέργειας και, στη συνέχεια, **Αποθήκευση**. Οι ρυθμίσεις θα πρέπει να μοιάζει ως εξής:  
![][10]  
8. Κάντε κλικ στην επιλογή για να κλείσετε το blade **εναύσματα και ενέργειες** και, στη συνέχεια, κάντε κλικ στην επιλογή για να κλείσετε το blade **Ρυθμίσεις** .
9. Στη λίστα **όλα εκτελείται** στην περιοχή **εργασίες**, κάντε κλικ στο στοιχείο στη λίστα πρώτη (πιο πρόσφατη εκτέλεση).
10. Στο η **εφαρμογή λογικής εκτέλεση** blade, κάντε κλικ στο στοιχείο **ΕΝΈΡΓΕΙΑΣ** .
11. Στο το blade **λογική εφαρμογής ενέργεια** , κάντε κλικ στη **ΣΎΝΔΕΣΗ ΕΞΌΔΟΥΣ**. Το εξόδους πρέπει να μοιάζει ως εξής:  
![][11]


## <a name="logic-app-with-db2-connector-action-to-remove-data"></a>Εφαρμογή λογικής με DB2 ενέργεια σύνδεσης για να καταργήσετε δεδομένα ##
Μπορείτε να ορίσετε μια ενέργεια εφαρμογής λογικής για να καταργήσετε δεδομένα από έναν πίνακα DB2 χρησιμοποιώντας ένα API Delete ή δημοσίευση για τη λειτουργία του οντότητα OData. Για παράδειγμα, μπορείτε να εισαγάγετε μια νέα εγγραφή παραγγελίας πελάτη, με την επεξεργασία μιας πρότασης SQL INSERT σε έναν πίνακα με μια στήλη, επιστρέφει την τιμή ταυτότητας ή τις γραμμές που επηρεάζονται στην εφαρμογή λογικής (ΕΠΙΛΟΓΉ ORDID από το ΤΕΛΙΚΌ ΠΊΝΑΚΑ (εισαγωγή σε NWIND. ΤΙΜΈΣ NEWORDERS ("ΚΩΔΠΕΛΆΤΗ", ΟΝΌΜΑΤΟΣ ΠΑΡΑΛΉΠΤΗ, SHIPADDR, ΠΌΛΗΣ ΠΑΡΑΛΉΠΤΗ, SHIPREG, SHIPZIP) (;;;;;;))).

## <a name="create-logic-app-using-db2-connector-to-remove-data"></a>Δημιουργία εφαρμογής λογικής χρησιμοποιώντας DB2 σύνδεσης για να καταργήσετε δεδομένα ##
Μπορείτε να δημιουργήσετε μια νέα εφαρμογή λογικής από μέσα του Azure Marketplace και, στη συνέχεια, χρησιμοποιήστε τη γραμμή σύνδεσης DB2 ως ενέργεια για να καταργήσετε τις παραγγελίες των πελατών. Για παράδειγμα, μπορείτε να χρησιμοποιήσετε τη λειτουργία διαγραφής DB2 σύνδεσης υπό όρους για την επεξεργασία μιας πρότασης SQL DELETE (ΔΙΑΓΡΑΦΉ από NEWORDERS όπου ORDID > = 10000).

1. Στο μενού διανομέα του πίνακα Azure **Έναρξη** , κάντε κλικ στην επιλογή **+** (σύμβολο συν), κάντε κλικ στην επιλογή **Web + Mobile**και, στη συνέχεια, κάντε κλικ στην επιλογή **εφαρμογή λογικής**. 
2. Στο το blade **Δημιουργία λογικής εφαρμογής** , πληκτρολογήστε ένα **όνομα**, για παράδειγμα **RemoveOrdersDb2**.
3. Επιλέξτε ή καθορίστε τιμές για τις υπόλοιπες ρυθμίσεις (π.χ., σχέδιο παροχής υπηρεσιών, ομάδα πόρων).
4. Οι ρυθμίσεις θα πρέπει να είναι ως εξής. Κάντε κλικ στην επιλογή **Δημιουργία**:  
![][12]  
5. Στο το blade **Ρυθμίσεις** , κάντε κλικ στην επιλογή **εναύσματα και ενέργειες**.
6. Στο blade **εναύσματα και τις ενέργειες** , στη λίστα **εφαρμογών λογικής πρότυπα** , κάντε κλικ στην επιλογή **Δημιουργία από την αρχή**.
7. Στο blade **εναύσματα και τις ενέργειες** , στον πίνακα **API εφαρμογές** , στην ομάδα πόρων, κάντε κλικ στην επιλογή **Περιοδικότητα**.
8. Στην επιφάνεια σχεδίασης εφαρμογή λογικής, κάντε κλικ στο στοιχείο **Περιοδικότητα** , ορίστε μια **συχνότητα** και ένα **διάστημα**, για παράδειγμα **ημέρες** και **1**, και, στη συνέχεια, κάντε κλικ στην επιλογή το **σημάδι ελέγχου** για να αποθηκεύσετε τις ρυθμίσεις στοιχείο περιοδικότητα.
9. Στο blade **εναύσματα και τις ενέργειες** , στον πίνακα **API εφαρμογές** , στην ομάδα πόρων, κάντε κλικ στην επιλογή **σύνδεσης DB2**.
10. Στην επιφάνεια σχεδίασης εφαρμογή λογικής, κάντε κλικ στο στοιχείο ενέργεια **DB2 σύνδεσης** , κάντε κλικ στα αποσιωπητικά (****...) για να αναπτύξετε τη λίστα εργασιών και, στη συνέχεια, κάντε κλικ στην επιλογή **Διαγραφή υπό όρους από N**.
11. Το στοιχείο ενέργειας DB2 σύνδεσης, πληκτρολογήστε **ORDID σελίδας 10000** για μια **παράσταση που προσδιορίζει ένα υποσύνολο των καταχωρήσεων**.
12. Επιλέξτε το **σημάδι ελέγχου** για να αποθηκεύσετε τις ρυθμίσεις ενέργειας και, στη συνέχεια, κάντε κλικ στην επιλογή **Αποθήκευση**. Οι ρυθμίσεις θα πρέπει να μοιάζει ως εξής:  
![][13]  
13. Κάντε κλικ στην επιλογή για να κλείσετε το blade **εναύσματα και ενέργειες** και, στη συνέχεια, κάντε κλικ στην επιλογή για να κλείσετε το blade **Ρυθμίσεις** .
14. Στη λίστα **όλα εκτελείται** στην περιοχή **εργασίες**, κάντε κλικ στο στοιχείο στη λίστα πρώτη (πιο πρόσφατη εκτέλεση).
15. Στο η **εφαρμογή λογικής εκτέλεση** blade, κάντε κλικ στο στοιχείο **ΕΝΈΡΓΕΙΑΣ** .
16. Στο το blade **λογική εφαρμογής ενέργεια** , κάντε κλικ στη **ΣΎΝΔΕΣΗ ΕΞΌΔΟΥΣ**. Το εξόδους πρέπει να μοιάζει ως εξής:  
![][14]

**Σημείωση:** Λογική εφαρμογή σχεδίασης περικόπτει τα ονόματα πινάκων. Για παράδειγμα, η λειτουργία **Διαγραφή υπό όρους από NEWORDERS** περικόπτεται, ώστε να **διαγράψετε υπό όρους από N**.


> [AZURE.TIP] Χρησιμοποιήστε τις παρακάτω προτάσεις SQL για να δημιουργήσετε το δείγμα πίνακα και αποθηκευμένες διαδικασίες. 

Μπορείτε να δημιουργήσετε το δείγμα πίνακα NEWORDERS χρησιμοποιώντας τις παρακάτω προτάσεις DB2 SQL DDL:
 
    CREATE TABLE ORDERS (  
        ORDID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 10000, INCREMENT BY 1) ,  
        CUSTID INT NOT NULL ,  
        EMPID INT NOT NULL DEFAULT 10000 ,  
        ORDDATE DATE NOT NULL DEFAULT CURRENT DATE ,  
        REQDATE DATE DEFAULT CURRENT DATE ,  
        SHIPDATE DATE ,  
        SHIPID INT NOT NULL DEFAULT 10000,  
        FREIGHT DECIMAL (9,2) NOT NULL DEFAULT 0.00 ,  
        SHIPNAME CHAR (40) NOT NULL ,  
        SHIPADDR CHAR (60) NOT NULL ,  
        SHIPCITY CHAR (20) NOT NULL ,  
        SHIPREG CHAR (15) NOT NULL ,  
        SHIPZIP CHAR (10) NOT NULL ,  
        SHIPCTRY CHAR (15) NOT NULL DEFAULT 'USA' ,  
        PRIMARY KEY(ORDID)  
        )  
 
    CREATE UNIQUE INDEX XORDID ON ORDERS (ORDID ASC)  



Μπορείτε να δημιουργήσετε τη διαδικασία SPOERID αποθηκευμένο δείγμα χρησιμοποιώντας την ακόλουθη πρόταση DB2 DDL:
 
    CREATE OR REPLACE PROCEDURE NWIND.SPORDERID (IN ORDERID VARCHAR(128))  
        DYNAMIC RESULT SETS 1  
    P1: BEGIN  
        DECLARE CURSOR1 CURSOR WITH RETURN FOR  
            SELECT * FROM NWIND.NEWORDERS  
                WHERE ORDID = ORDERID;  
        OPEN CURSOR1;  
    END P1  
    ') 


## <a name="hybrid-configuration-optional"></a>Ρύθμιση παραμέτρων υβριδικού (προαιρετικά)

> [AZURE.NOTE] Αυτό το βήμα απαιτείται μόνο εάν χρησιμοποιείτε DB2 σύνδεσης εσωτερικής πίσω από το τείχος προστασίας.

Εφαρμογή υπηρεσίας χρησιμοποιεί τη Διαχείριση ρύθμισης παραμέτρων υβριδικής για να συνδεθείτε με ασφάλεια στο σύστημα εσωτερικής εγκατάστασης. Εάν η γραμμή σύνδεσης χρησιμοποιεί μια εσωτερική IBM DB2 διακομιστή για Windows, απαιτείται η υβριδική διαχείρισης σύνδεσης.

Ανατρέξτε στο θέμα [χρήση της διαχείρισης σύνδεσης υβριδική](app-service-logic-hybrid-connection-manager.md).


## <a name="do-more-with-your-connector"></a>Κάντε περισσότερα με την γραμμή σύνδεσης
Τώρα που δημιουργείται στη γραμμή σύνδεσης, μπορείτε να την προσθέσετε σε μια ροή εργασίας επιχειρήσεις χρήση λογικής εφαρμογής. Ανατρέξτε στο θέμα [Τι είναι οι εφαρμογές λογικής;](app-service-logic-what-are-logic-apps.md).

Δημιουργήστε τις εφαρμογές API χρησιμοποιώντας APIs ΥΠΌΛΟΙΠΟ. Ανατρέξτε στο θέμα [γραμμών σύνδεσης και API εφαρμογές αναφοράς](http://go.microsoft.com/fwlink/p/?LinkId=529766).

Μπορείτε επίσης να αναθεωρήσετε επιδόσεων στατιστικών στοιχείων και στοιχείο ελέγχου ασφαλείας στη γραμμή σύνδεσης. Ανατρέξτε στο θέμα [Διαχείριση και την παρακολούθηση τις ενσωματωμένες εφαρμογές API και τις γραμμές σύνδεσης](app-service-logic-monitor-your-connectors.md).


<!--Image references-->
[1]: ./media/app-service-logic-connector-db2/ApiApp_Db2Connector_Create.png
[2]: ./media/app-service-logic-connector-db2/LogicApp_NewOrdersDb2_Create.png
[3]: ./media/app-service-logic-connector-db2/LogicApp_NewOrdersDb2_TriggersActions.png
[4]: ./media/app-service-logic-connector-db2/LogicApp_NewOrdersDb2_Outputs.png
[5]: ./media/app-service-logic-connector-db2/LogicApp_NewOrdersBulkDb2_Create.png
[6]: ./media/app-service-logic-connector-db2/LogicApp_NewOrdersBulkDb2_TriggersActions.png
[7]: ./media/app-service-logic-connector-db2/LogicApp_NewOrdersBulkDb2_Inputs.png
[8]: ./media/app-service-logic-connector-db2/LogicApp_NewOrdersBulkDb2_Outputs.png
[9]: ./media/app-service-logic-connector-db2/LogicApp_UpdateOrdersDb2_Create.png
[10]: ./media/app-service-logic-connector-db2/LogicApp_UpdateOrdersDb2_TriggersActions.png
[11]: ./media/app-service-logic-connector-db2/LogicApp_UpdateOrdersDb2_Outputs.png
[12]: ./media/app-service-logic-connector-db2/LogicApp_RemoveOrdersDb2_Create.png
[13]: ./media/app-service-logic-connector-db2/LogicApp_RemoveOrdersDb2_TriggersActions.png
[14]: ./media/app-service-logic-connector-db2/LogicApp_RemoveOrdersDb2_Outputs.png

