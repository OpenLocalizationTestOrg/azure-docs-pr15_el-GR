<properties
   pageTitle="Χρήση συναρτήσεων Azure με εφαρμογές λογικής | Microsoft Azure"
   description="Δείτε πώς μπορείτε να χρησιμοποιήσετε συναρτήσεις Azure με λογική εφαρμογών"
   services="logic-apps,functions"
   documentationCenter=".net,nodejs,java"
   authors="jeffhollan"
   manager="dwrede"
   editor=""/>

<tags
   ms.service="logic-apps"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration"
   ms.date="10/18/2016"
   ms.author="jehollan"/>

# <a name="using-azure-functions-with-logic-apps"></a>Χρήση συναρτήσεων Azure με λογική εφαρμογών

Μπορείτε να εκτελέσετε προσαρμοσμένα τμήματα κώδικα C# ή node.js με χρήση συναρτήσεων Azure από μέσα σε μια εφαρμογή λογικής.  [Συναρτήσεις Azure](../azure-functions/functions-overview.md) προσφέρει χωρίς διακομιστή υπολογιστική στο Microsoft Azure. Αυτό είναι χρήσιμο για την εκτέλεση τις ακόλουθες εργασίες:

* Μορφοποίηση ή υπολογισμού των πεδίων μέσα σε μια εφαρμογή λογική για προχωρημένους
* Εκτέλεση υπολογισμών μέσα σε μια ροή εργασίας
* Επέκταση τη λειτουργικότητα της λογικής εφαρμογών με συναρτήσεις που υποστηρίζονται στο C# ή node.js

## <a name="create-a-function-for-logic-apps"></a>Δημιουργία μιας συνάρτησης για τις εφαρμογές της λογικής

Συνιστάται να δημιουργήσετε μια νέα συνάρτηση στην πύλη του Azure συναρτήσεις, χρησιμοποιώντας τα πρότυπα **Γενικής χρήσης Webhook - κόμβου** ή **Γενικός Webhook - C#** . Αυτό αυτόματης-συμπληρώνει ένα πρότυπο που δέχεται `application/json` από μια εφαρμογή λογικής.  Εάν επιλέξετε την καρτέλα **ενσωματώσουν** σε συναρτήσεις Azure θα πρέπει να έχει οριστεί σε **Webhook** και **Τύπος Webhook** της **Γενικής χρήσης JSON** **λειτουργία** .  Συναρτήσεις που χρησιμοποιούν αυτά τα πρότυπα είναι αυτόματα εντόπισε και που αναφέρονται στη σχεδίαση λογικής εφαρμογές στην περιοχή **συναρτήσεις Azure στην περιοχή μου.**

Συναρτήσεις Webhook αποδοχή πρόσκλησης και το μεταβίβαση σε τη μέθοδο μέσω ενός `data` μεταβλητή. Μπορείτε να αποκτήσετε πρόσβαση των ιδιοτήτων του φορτίου χρησιμοποιώντας σημειογραφία όπως `data.foo`.  Για παράδειγμα, μια απλή συνάρτηση JavaScript που μετατρέπει μια τιμή ημερομηνίας/ώρας σε μια συμβολοσειρά ημερομηνία μοιάζει με το ακόλουθο παράδειγμα:

```
function start(req, res){
    var data = req.body;
    res = {
        body: data.date.ToDateString();
    }
}
```

## <a name="call-azure-functions-from-a-logic-app"></a>Συναρτήσεις Azure κλήση από μια εφαρμογή λογικής

Στο εργαλείο σχεδίασης, εάν κάνετε κλικ στο μενού **Ενέργειες** , μπορείτε να επιλέξετε **Azure συναρτήσεις στην περιοχή μου**.  Αυτό παραθέτει τα κοντέινερ στη συνδρομή σας και σας επιτρέπει να επιλέξετε τη συνάρτηση που θέλετε να καλέσετε.  

Αφού επιλέξετε τη συνάρτηση, σας ζητείται να καθορίσετε ένα αντικείμενο φορτίο εισαγωγής. Αυτό είναι το μήνυμα που στέλνει την εφαρμογή λογικής στη συνάρτηση και πρέπει να είναι ένα αντικείμενο JSON. Για παράδειγμα, εάν θέλετε να μεταβιβάσετε την ημερομηνία **Τελευταίας τροποποίησης** από ένα έναυσμα Salesforce, η συνάρτηση φορτίο μπορεί να μοιάζει κάπως έτσι:

![Τελευταία ημερομηνία modfied][1]

## <a name="trigger-logic-apps-from-a-function"></a>Έναυσμα λογικής εφαρμογών από μια συνάρτηση

Επίσης, είναι δυνατό να ενεργοποιήσετε μια εφαρμογή λογικής από μέσα σε μια συνάρτηση.  Για να το κάνετε αυτό, απλώς να δημιουργήσετε μια εφαρμογή λογικής με μια μη αυτόματη έναυσμα. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [εφαρμογές λογικής ως τελικά σημεία δυνατή η κλήση](app-service-logic-http-endpoint.md).  Στη συνέχεια, μέσα σε συνάρτηση σας, δημιουργήστε μια ΔΗΜΟΣΊΕΥΣΗ HTTP στη διεύθυνση URL μη αυτόματη έναυσμα με το φορτίο που θέλετε να στείλετε στην εφαρμογή λογικής.

### <a name="create-a-function-from-the-designer"></a>Δημιουργία μιας συνάρτησης από το εργαλείο σχεδίασης

Μπορείτε επίσης να δημιουργήσετε μια συνάρτηση webhook node.js από μέσα στη σχεδίαση. Πρώτα, επιλέξτε **Azure συναρτήσεις στην περιοχή μου,** και, στη συνέχεια, επιλέξτε ένα κοντέινερ για τη συνάρτηση σας.  Εάν δεν έχετε ακόμα ένα κοντέινερ, πρέπει να δημιουργήσετε ένα από την [πύλη Azure συναρτήσεις](https://functions.azure.com/signin). Στη συνέχεια, επιλέξτε **Δημιουργία νέου**.  

Για να δημιουργήσετε ένα πρότυπο με βάση τα δεδομένα που θέλετε να υπολογίσετε, καθορίστε το αντικείμενο περιβάλλοντος που σκοπεύετε να μεταβιβάσετε σε μια συνάρτηση. Πρέπει να είναι ένα αντικείμενο JSON. Για παράδειγμα, εάν περάσετε στην το περιεχόμενο του αρχείου από μια ενέργεια FTP, το φορτίο περιβάλλοντος θα μοιάζει κάπως έτσι:

![Φορτίο περιβάλλοντος][2]

>[AZURE.NOTE] Επειδή αυτό το αντικείμενο δεν μετατραπεί ως συμβολοσειρά, το περιεχόμενο θα προστεθεί απευθείας το φορτίο JSON. Ωστόσο, θα παρουσιάσουν σφάλμα εάν δεν είναι διακριτικό JSON (δηλαδή, μια συμβολοσειρά ή ένα αντικείμενο/πίνακα JSON). Για να μετατραπεί το ως συμβολοσειρά, απλώς προσθέστε εισαγωγικά όπως φαίνεται στην πρώτη εικόνα σε αυτό το άρθρο.

Το εργαλείο σχεδίασης, στη συνέχεια, δημιουργεί ένα πρότυπο συνάρτηση που μπορείτε να δημιουργήσετε ενσωματωμένα. Μεταβλητές προ-δημιουργούνται με βάση το περιβάλλον που σκοπεύετε να περάσει μέσα στη συνάρτηση.




<!--Image references-->
[1]: ./media/app-service-logic-azure-functions/callFunction.png
[2]: ./media/app-service-logic-azure-functions/createFunction.png
