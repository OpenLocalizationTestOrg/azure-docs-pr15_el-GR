<properties
   pageTitle="Φόρτωση δεδομένων από SQL Server σε αποθήκη δεδομένων SQL Azure (PolyBase) | Microsoft Azure"
   description="Χρησιμοποιεί bcp για να εξαγάγετε δεδομένα από SQL Server σε επίπεδο αρχείων, AZCopy για την εισαγωγή δεδομένων με το χώρο αποθήκευσης αντικειμένων blob του Azure και PolyBase να ingest τα δεδομένα σε αποθήκη δεδομένων του SQL Azure."
   services="sql-data-warehouse"
   documentationCenter="NA"
   authors="ckarst"
   manager="barbkess"
   editor=""/>

<tags
   ms.service="sql-data-warehouse"
   ms.devlang="NA"
   ms.topic="get-started-article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-services"
   ms.date="06/30/2016"
   ms.author="cakarst;barbkess;sonyama"/>


# <a name="load-data-from-sql-server-into-azure-sql-data-warehouse-azcopy"></a>Φόρτωση δεδομένων από SQL Server σε αποθήκη δεδομένων SQL Azure (AZCopy)

Χρησιμοποιήστε bcp και AZCopy βοηθητικά προγράμματα γραμμής εντολών για τη φόρτωση των δεδομένων από SQL Server με τον χώρο αποθήκευσης αντικειμένων blob του Azure. Στη συνέχεια, χρησιμοποιήστε PolyBase ή Azure εργοστασίου δεδομένων για τη φόρτωση των δεδομένων στο αποθήκη δεδομένων του SQL Azure. 


## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

Για να περιηγηθείτε στις αυτό το πρόγραμμα εκμάθησης, πρέπει:

- Μια βάση δεδομένων SQL αποθήκη δεδομένων
- Το βοηθητικό πρόγραμμα γραμμής εντολών bcp εγκατεστημένο
- Το βοηθητικό πρόγραμμα γραμμής εντολών SQLCMD εγκατεστημένο

>[AZURE.NOTE] Μπορείτε να κάνετε λήψη των βοηθητικών προγραμμάτων bcp και sqlcmd από το [Κέντρο λήψης της Microsoft][].

## <a name="import-data-into-sql-data-warehouse"></a>Εισαγωγή δεδομένων σε αποθήκη δεδομένων του SQL

Σε αυτό το πρόγραμμα εκμάθησης, θα δημιουργήσετε έναν πίνακα σε αποθήκη δεδομένων του SQL Azure και εισαγωγή δεδομένων σε πίνακα.

### <a name="step-1-create-a-table-in-azure-sql-data-warehouse"></a>Βήμα 1: Δημιουργία πίνακα σε αποθήκη δεδομένων του SQL Azure

Από μια γραμμή εντολών, χρησιμοποιήστε το sqlcmd για να εκτελέσετε το ακόλουθο ερώτημα για να δημιουργήσετε έναν πίνακα στην παρουσία σας:

```sql
sqlcmd.exe -S <server name> -d <database name> -U <username> -P <password> -I -Q "
    CREATE TABLE DimDate2
    (
        DateId INT NOT NULL,
        CalendarQuarter TINYINT NOT NULL,
        FiscalQuarter TINYINT NOT NULL
    )
    WITH
    (
        CLUSTERED COLUMNSTORE INDEX,
        DISTRIBUTION = ROUND_ROBIN
    );
"
```

>[AZURE.NOTE] Ανατρέξτε στο θέμα [Επισκόπηση πίνακα][] ή [ΔΗΜΙΟΥΡΓΊΑ ΠΊΝΑΚΑ σύνταξη][] για περισσότερες πληροφορίες σχετικά με τη δημιουργία ενός πίνακα σε αποθήκη δεδομένων του SQL και τις επιλογές που είναι διαθέσιμες με τον όρο FROM.

### <a name="step-2-create-a-source-data-file"></a>Βήμα 2: Δημιουργία ενός αρχείου προέλευσης δεδομένων

Ανοίξτε το Σημειωματάριο και αντιγράψτε τις ακόλουθες γραμμές δεδομένων σε ένα νέο αρχείο κειμένου και, στη συνέχεια, να αποθηκεύσετε αυτό το αρχείο στον τοπικό προσωρινό κατάλογο, C:\Temp\DimDate2.txt.

```
20150301,1,3
20150501,2,4
20151001,4,2
20150201,1,3
20151201,4,2
20150801,3,1
20150601,2,4
20151101,4,2
20150401,2,4
20150701,3,1
20150901,3,1
20150101,1,3
```

> [AZURE.NOTE] Είναι σημαντικό να θυμάστε bcp.exe που δεν υποστηρίζει την κωδικοποίηση UTF-8 αρχείου. Χρησιμοποιήστε ASCII αρχείων ή κωδικοποίηση UTF-16 κατά τη χρήση bcp.exe.

### <a name="step-3-connect-and-import-the-data"></a>Βήμα 3: Σύνδεση και εισαγάγετε τα δεδομένα
Χρήση bcp, μπορείτε να συνδεθείτε και να εισαγάγετε δεδομένα χρησιμοποιώντας την παρακάτω εντολή αντικαθιστώντας τις τιμές ανάλογα με την περίπτωση:

```sql
bcp DimDate2 in C:\Temp\DimDate2.txt -S <Server Name> -d <Database Name> -U <Username> -P <password> -q -c -t  ','
```

Μπορείτε να επαληθεύσετε τη φόρτωση των δεδομένων, εκτελώντας το ακόλουθο ερώτημα χρησιμοποιώντας sqlcmd:

```sql
sqlcmd.exe -S <server name> -d <database name> -U <username> -P <password> -I -Q "SELECT * FROM DimDate2 ORDER BY 1;"
```

Αυτό πρέπει να επιστρέψει τα ακόλουθα αποτελέσματα:

DateId |CalendarQuarter |FiscalQuarter
----------- |--------------- |-------------
20150101 |1 |3
20150201 |1 |3
20150301 |1 |3
20150401 |2 |4
20150501 |2 |4
20150601 |2 |4
20150701 |3 |1
20150801 |3 |1
20150801 |3 |1
20151001 |4 |2
20151101 |4 |2
20151201 |4 |2

### <a name="step-4-create-statistics-on-your-newly-loaded-data"></a>Βήμα 4: Δημιουργία στατιστικά στοιχεία για τα δεδομένα που μόλις έχει φορτωθεί σας

Αποθήκη δεδομένων του SQL Azure κάνει δεν έχουν ακόμα υποστήριξη αυτόματη δημιουργία ή την αυτόματη ενημέρωση στατιστικά στοιχεία. Για να λάβετε τις καλύτερες επιδόσεις από τα ερωτήματά σας, είναι σημαντικό στατιστικά στοιχεία να δημιουργηθούν σε όλες τις στήλες όλων των πινάκων μετά την πρώτη φόρτωσης ή προκύπτουν σημαντικές αλλαγές στα δεδομένα. Για μια αναλυτική εξήγηση των στατιστικών στοιχείων, ανατρέξτε στο θέμα [Στατιστικά στοιχεία][] στην ομάδα ανάπτυξη των θεμάτων. Ακολουθεί ένα γρήγορο παράδειγμα του τρόπου δημιουργίας στατιστικά στοιχεία σχετικά με το υποβάλλεται φόρτωση σε αυτό το παράδειγμα

Εκτελέστε τις ακόλουθες δηλώσεις ΔΗΜΙΟΥΡΓΊΑ στατιστικά ΣΤΟΙΧΕΊΑ από ένα μήνυμα προτροπής sqlcmd:

```sql
sqlcmd.exe -S <server name> -d <database name> -U <username> -P <password> -I -Q "
    create statistics [DateId] on [DimDate2] ([DateId]);
    create statistics [CalendarQuarter] on [DimDate2] ([CalendarQuarter]);
    create statistics [FiscalQuarter] on [DimDate2] ([FiscalQuarter]);
"
```

## <a name="export-data-from-sql-data-warehouse"></a>Εξαγωγή δεδομένων από αποθήκη δεδομένων του SQL
Σε αυτό το πρόγραμμα εκμάθησης, θα δημιουργήσετε ένα αρχείο δεδομένων από έναν πίνακα σε αποθήκη δεδομένων του SQL. Θα σας θα εξαγάγετε τα δεδομένα που δημιουργήσαμε επάνω σε ένα νέο αρχείο δεδομένων που ονομάζεται DimDate2_export.txt.

### <a name="step-1-export-the-data"></a>Βήμα 1: Εξαγωγή των δεδομένων

Χρησιμοποιώντας το βοηθητικό πρόγραμμα bcp, μπορείτε να συνδεθείτε και να εξαγάγετε δεδομένα χρησιμοποιώντας την παρακάτω εντολή αντικαθιστώντας τις τιμές ανάλογα με την περίπτωση:

```sql
bcp DimDate2 out C:\Temp\DimDate2_export.txt -S <Server Name> -d <Database Name> -U <Username> -P <password> -q -c -t ','
```
Μπορείτε να επαληθεύσετε τα δεδομένα έχει εξαχθεί σωστά, ανοίγοντας το νέο αρχείο. Τα δεδομένα του αρχείου θα πρέπει να συμφωνεί με το κείμενο που ακολουθεί:

```
20150301,1,3
20150501,2,4
20151001,4,2
20150201,1,3
20151201,4,2
20150801,3,1
20150601,2,4
20151101,4,2
20150401,2,4
20150701,3,1
20150901,3,1
20150101,1,3
```

>[AZURE.NOTE] Λόγω της φύσης κατανεμημένα συστήματα, η σειρά δεδομένων ενδέχεται να μην είναι η ίδια σε βάσεις δεδομένων αποθήκη δεδομένων του SQL. Μια άλλη επιλογή είναι να χρησιμοποιήσετε τη συνάρτηση **queryout** του bcp να συντάξετε ένα απόσπασμα ερωτήματος αντί για την εξαγωγή ολόκληρου του πίνακα.

## <a name="next-steps"></a>Επόμενα βήματα
Για μια επισκόπηση της φόρτωσης, ανατρέξτε στο θέμα [Φόρτωση δεδομένων σε αποθήκη δεδομένων του SQL][].
Για περισσότερες συμβουλές ανάπτυξης, ανατρέξτε στο θέμα [Επισκόπηση ανάπτυξης αποθήκη δεδομένων του SQL][].

<!--Image references-->

<!--Article references-->

[Φόρτωση δεδομένων σε αποθήκη δεδομένων του SQL]: ./sql-data-warehouse-overview-load.md
[Επισκόπηση ανάπτυξης αποθήκη δεδομένων του SQL]: ./sql-data-warehouse-overview-develop.md
[Επισκόπηση πίνακα]: ./sql-data-warehouse-tables-overview.md
[Στατιστικά στοιχεία]: ./sql-data-warehouse-tables-statistics.md

<!--MSDN references-->
[bcp]: https://msdn.microsoft.com/library/ms162802.aspx
[ΔΗΜΙΟΥΡΓΊΑ ΠΊΝΑΚΑ σύνταξη]: https://msdn.microsoft.com/library/mt203953.aspx

<!--Other Web references-->
[Κέντρο λήψης της Microsoft]: https://www.microsoft.com/download/details.aspx?id=36433
