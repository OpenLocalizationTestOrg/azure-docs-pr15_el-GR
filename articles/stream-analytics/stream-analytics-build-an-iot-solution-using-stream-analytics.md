<properties
    pageTitle="Δημιουργία μιας λύσης IoT με τη χρήση ανάλυσης ροή | Microsoft Azure"
    description="Γρήγορα αποτελέσματα πρόγραμμα εκμάθησης για τη λύση IoT ανάλυση ροή ενός σεναρίου υπόστεγο"
    keywords="λύση IOT, συναρτήσεις παραθύρου"
    documentationCenter=""
    services="stream-analytics"
    authors="jeffstokes72"
    manager="jhubbard"
    editor="cgronlun"
/>

<tags
    ms.service="stream-analytics"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="data-services"
    ms.date="09/26/2016"
    ms.author="jeffstok"
/>

# <a name="build-an-iot-solution-by-using-stream-analytics"></a>Δημιουργία μιας λύσης IoT με τη χρήση ανάλυσης ροής

## <a name="introduction"></a>Εισαγωγή

Σε αυτό το πρόγραμμα εκμάθησης, θα μάθετε πώς να χρησιμοποιείτε το Azure ροή ανάλυσης για τη λήψη ιδεών σε πραγματικό χρόνο από τα δεδομένα σας. Προγραμματιστές εύκολα να συνδυάσετε ροών δεδομένων, όπως ροές κάντε κλικ στην επιλογή αρχεία καταγραφής και συμβάντα που δημιουργούνται από τη συσκευή, με εγγραφές ιστορικού ή δεδομένα αναφοράς για τη δημιουργία επαγγελματικών ιδέες. Ως μια υπηρεσία ροή πλήρως διαχειριζόμενων, σε πραγματικό χρόνο κατά τον υπολογισμό που φιλοξενείται στο Microsoft Azure, ανάλυση ροή Azure παρέχει ενσωματωμένη ανοχή, χαμηλή λανθάνων χρόνος και κλιμάκωση για να δημιουργείτε ασφαλείας και την εκτέλεση σε λεπτά.

Αφού ολοκληρώσετε αυτό το πρόγραμμα εκμάθησης, θα μπορείτε να:

-   Εξοικειωθείτε με την πύλη Azure ροή ανάλυσης.
-   Ρύθμιση παραμέτρων και την ανάπτυξη μιας ροής εργασίας.
-   Συγκριτικού ρεαλιστικό προβλήματα και επίλυση τους χρησιμοποιώντας τη γλώσσα ερωτήματος ανάλυσης ροής.
-   Αναπτύξτε ροής λύσεων για τους πελάτες σας με τη χρήση ανάλυσης ροή αξιόπιστη.
-   Χρησιμοποιήστε την παρακολούθηση και καταγραφή εμπειρία για την αντιμετώπιση προβλημάτων.

## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

Θα χρειαστείτε τα εξής προαπαιτούμενα στοιχεία για να ολοκληρώσετε αυτό το πρόγραμμα εκμάθησης:

-   Η πιο πρόσφατη έκδοση του [Azure PowerShell](../powershell-install-configure.md)
-   Visual Studio 2015 ή δωρεάν [Visual Studio Κοινότητας](https://www.visualstudio.com/products/visual-studio-community-vs.aspx)
-   Μια [συνδρομή στο Azure](https://azure.microsoft.com/pricing/free-trial/)
-   Δικαιώματα διαχειριστή στον υπολογιστή
-   Κάντε λήψη του [TollApp.zip](http://download.microsoft.com/download/D/4/A/D4A3C379-65E8-494F-A8C5-79303FD43B0A/TollApp.zip) από το Κέντρο λήψης της Microsoft
-   Προαιρετικό: Πηγαίου κώδικα για την δημιουργίας συμβάντος TollApp στο [GitHub](https://aka.ms/azure-stream-analytics-toll-source)

## <a name="scenario-introduction-hello-toll"></a>Εισαγωγή σενάριο: "Hello, με χρέωση!"


Μια θέση με χρέωση είναι ένα κοινό φαινόμενο. Αντιμετωπίζετε τους σε πολλά οδούς ταχείας κυκλοφορίας, γέφυρες και σήραγγες σε ολόκληρο τον κόσμο. Κάθε θέση με χρέωση έχει πολλές αντικειμένων με χρέωση. Στο μη αυτόματη αντικειμένων, μπορείτε να διακόψετε να πληρώσετε το με χρέωση για ένα σύστημα υποδοχής. Στο αυτοματοποιημένες αντικειμένων, αισθητήρα επάνω από κάθε περίπτερου σαρώνει μια κάρτα RFID που επισυνάπτεται το ανεμοθώρακα σας οχήματος κατά τη διέλευση του περίπτερου με χρέωση. Είναι εύκολο να απεικονίσετε τη διέλευση οχήματα μέσω αυτές τις μονάδες παραγωγής ηλεκτρικού με χρέωση ως ροή ενός συμβάντος, βάσει του οποίου ενδιαφέρον εργασίες μπορούν να εκτελεστούν.

![Εικόνα με αυτοκίνητα στο με χρέωση αντικειμένων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image1.jpg)

## <a name="incoming-data"></a>Εισερχόμενα δεδομένα

Αυτό το πρόγραμμα εκμάθησης λειτουργεί με δύο ροών δεδομένων. Αισθητήρες εγκατεστημένα στον η είσοδος και έξοδος από τους σταθμούς με χρέωση παράγουν την πρώτη ροή. Η δεύτερη ροή είναι ένα σύνολο δεδομένων στατική αναζήτησης που περιέχει δεδομένα δήλωσης οχήματος.

### <a name="entry-data-stream"></a>Καταχώρηση ροής δεδομένων

Η ροή δεδομένων καταχώρησης περιέχει πληροφορίες σχετικά με αυτοκίνητα που εισέρχονται σταθμούς με χρέωση.


| TollID | EntryTime               | LicensePlate | Κατάσταση | Πραγματοποίηση   | Μοντέλο   | VehicleType | VehicleWeight | Με χρέωση | Ετικέτα       |
|--------|-------------------------|--------------|-------|--------|---------|-------------|---------------|------|-----------|
| 1      | 12:01:00.000 2014-09-10 | JNB 7001     | NY    | Honda  | CRV     | 1           | 0             | 7    |           |
| 1      | 12:02:00.000 2014-09-10 | YXZ 1001     | NY    | Toyota | Camry   | 1           | 0             | 4    | 123456789 |
| 3      | 12:02:00.000 2014-09-10 | ΑΒΓ 1004     | CT    | Διάβαση   | Taurus  | 1           | 0             | 5    | 456789123 |
| 2      | 12:03:00.000 2014-09-10 | XYZ 1003     | CT    | Toyota | Corolla | 1           | 0             | 4    |           |
| 1      | 12:03:00.000 2014-09-10 | BNJ 1007     | NY    | Honda  | CRV     | 1           | 0             | 5    | 789123456 |
| 2      | 12:05:00.000 2014-09-10 | CDE 1007     | NJ    | Toyota | 4 x 4     | 1           | 0             | 6    | 321987654 |


Ακολουθεί μια σύντομη περιγραφή των στηλών:

| Στήλη | Περιγραφή |
|--------------|--------------------------------------------------------------------|
| TollID       | Το Αναγνωριστικό περίπτερου με χρέωση που προσδιορίζει μοναδικά μια περίπτερου με χρέωση            |
| EntryTime    | Η ημερομηνία και ώρα έναρξης του οχήματος για να το περίπτερου με χρέωση στο UTC |
| LicensePlate | Ο αριθμός πινακίδα του οχήματος                            |
| Κατάσταση        | Κατάσταση στις Ηνωμένες Πολιτείες                                           |
| Πραγματοποίηση         | Τον κατασκευαστή του το αυτοκίνητο                                 |
| Μοντέλο        | Ο αριθμός μοντέλου της το αυτοκίνητο                                 |
| VehicleType  | Είτε 1 για οχήματα ή 2 για τα επαγγελματικά οχήματα       |
| WeightType   | Βάρος οχήματος σε τόνους; 0 για οχήματα                   |
| Με χρέωση         | Η τιμή με χρέωση σε Δολάρια                                              |
| Ετικέτα          | Η ετικέτα e σε το αυτοκίνητο που αυτοματοποιεί πληρωμή. κενό όπου η πληρωμή έγινε με μη αυτόματο τρόπο |


### <a name="exit-data-stream"></a>Ροή δεδομένων εξόδου

Η ροή δεδομένων εξόδου περιέχει πληροφορίες σχετικά με αυτοκίνητα κλείσετε το πρόγραμμα με χρέωση.


| **TollId** | **ExitTime**                 | **LicensePlate** |
|------------|------------------------------|------------------|
| 1          | 2014-09-10T12:03:00.0000000Z | JNB 7001         |
| 1          | 2014-09-10T12:03:00.0000000Z | YXZ 1001         |
| 3          | 2014-09-10T12:04:00.0000000Z | ΑΒΓ 1004         |
| 2          | 2014-09-10T12:07:00.0000000Z | XYZ 1003         |
| 1          | 2014-09-10T12:08:00.0000000Z | BNJ 1007         |
| 2          | 2014-09-10T12:07:00.0000000Z | CDE 1007         |

Ακολουθεί μια σύντομη περιγραφή των στηλών:


| Στήλη | Περιγραφή |
|--------------|-----------------------------------------------------------------|
| TollID       | Το Αναγνωριστικό περίπτερου με χρέωση που προσδιορίζει μοναδικά μια περίπτερου με χρέωση         |
| ExitTime     | Η ημερομηνία και ώρα εξόδου του οχήματος από με χρέωση περίπτερου στο UTC |
| LicensePlate | Ο αριθμός πινακίδα του οχήματος                         |

### <a name="commercial-vehicle-registration-data"></a>Εμπορική οχήματος καταχώρηση δεδομένων

Το πρόγραμμα εκμάθησης χρησιμοποιεί ένα στατικό στιγμιότυπο από μια βάση δεδομένων εγγραφής οχήματος εμπορική.


| LicensePlate | RegistrationId | Έχει λήξει |
|--------------|----------------|---------|
| SVT 6023     | 285429838      | 1       |
| XLZ 3463     | 362715656      | 0       |
| ΠΚΟ 1005     | 876133137      | 1       |
| RIV 8632     | 992711956      | 0       |
| SNY 7188     | 592133890      | 0       |
| ELH 9896     | 678427724      | 1       |

Ακολουθεί μια σύντομη περιγραφή των στηλών:


| Στήλη | Περιγραφή |
|--------------|-----------------------------------------------------------------|
| LicensePlate | Ο αριθμός πινακίδα του οχήματος                         |
| RegistrationId     | Αναγνωριστικό δήλωσης του οχήματος |
| Έχει λήξει | Η κατάσταση καταχώρησης του οχήματος: 0 εάν ταξινόμησης οχήματος είναι ενεργό, 1 εάν η καταχώρηση έχει λήξει                 |


## <a name="set-up-the-environment-for-azure-stream-analytics"></a>Ρύθμιση του περιβάλλοντος για ανάλυση ροή Azure

Για να ολοκληρώσετε αυτό το πρόγραμμα εκμάθησης, χρειάζεστε μια συνδρομή στο Microsoft Azure. Η Microsoft προσφέρει δωρεάν δοκιμαστική έκδοση για τις υπηρεσίες του Microsoft Azure.

Εάν δεν έχετε λογαριασμό Azure, μπορείτε να κάνετε [αίτηση μιας δωρεάν δοκιμαστικής έκδοσης](http://azure.microsoft.com/pricing/free-trial/).

> [AZURE.NOTE] Για να εγγραφείτε για μια δωρεάν δοκιμαστική έκδοση, χρειάζεστε μια κινητή συσκευή με δυνατότητα λήψης μηνυμάτων κειμένου και μια έγκυρη πιστωτική κάρτα.

Φροντίστε να ακολουθήσετε τα βήματα στην ενότητα "Εκκαθάριση του Azure λογαριασμού" στο τέλος αυτού του άρθρου, ώστε να μπορείτε να κάνετε την καλύτερη χρήση σας € 200 δωρεάν Azure πιστωτικής.

## <a name="provision-azure-resources-required-for-the-tutorial"></a>Παροχή του Azure πόρους που απαιτούνται για το πρόγραμμα εκμάθησης

Αυτό το πρόγραμμα εκμάθησης απαιτεί δύο συμβάν διανομείς να λαμβάνετε *καταχώρησης* και *Κλείστε το* ροές δεδομένων. Βάση δεδομένων SQL του Azure εξάγει τα αποτελέσματα των αναλυτικών στοιχείων ροή εργασιών. Azure αποθήκευσης αποθηκεύει τα δεδομένα αναφοράς σχετικά με τις καταχωρήσεις οχήματος.

Μπορείτε να χρησιμοποιήσετε τη δέσμη ενεργειών Setup.ps1 στο φάκελο TollApp GitHub για να δημιουργήσετε όλους τους πόρους απαιτείται. Για λόγους ώρα, συνιστάται να εκτελείτε το. Εάν θέλετε να μάθετε περισσότερα σχετικά με τον τρόπο ρύθμισης παραμέτρων αυτούς τους πόρους στην πύλη του Azure, ανατρέξτε στο προσάρτημα "Τη ρύθμιση των παραμέτρων προγραμμάτων εκμάθησης πόρους στην πύλη Azure".

Κάντε λήψη και αποθηκεύστε το φάκελο υποστήριξης [TollApp](http://download.microsoft.com/download/D/4/A/D4A3C379-65E8-494F-A8C5-79303FD43B0A/TollApp.zip) και αρχείων.

Ανοίξτε ένα **Microsoft Azure PowerShell** παραθύρου _ως διαχειριστής_. Εάν δεν έχετε ακόμη Azure PowerShell, ακολουθήστε τις οδηγίες στο θέμα [εγκατάσταση και ρύθμιση παραμέτρων Azure PowerShell](../powershell-install-configure.md) για να την εγκαταστήσετε.

Επειδή το Windows αποκλείει αυτόματα .ps1 .dll και αρχεία .exe, πρέπει να ορίσετε την πολιτική εκτέλεσης πριν από την εκτέλεση της δέσμης ενεργειών. Βεβαιωθείτε ότι το παράθυρο Azure PowerShell εκτελείται _ως διαχειριστής_. Εκτελέστε το **Set-της πολιτικής εκτέλεσης του χωρίς περιορισμούς**. Όταν σας ζητηθεί, πληκτρολογήστε **Y**.

![Στιγμιότυπο οθόνης των "Σύνολο-της πολιτικής εκτέλεσης του απεριόριστη" εκτελείται στο παράθυρο του Azure PowerShell](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image2.png)

Εκτελέστε το **Get-της πολιτικής εκτέλεσης του** για να βεβαιωθείτε ότι η εντολή ολοκληρώθηκε με επιτυχία.

![Στιγμιότυπο οθόνης της "Get-της πολιτικής εκτέλεσης του" εκτελείται στο παράθυρο του Azure PowerShell](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image3.png)

Μεταβείτε στον κατάλογο που έχει τις δέσμες ενεργειών και εφαρμογή δημιουργίας.

![Στιγμιότυπο οθόνης της "cd .\TollApp\TollApp" εκτελείται στο παράθυρο του Azure PowerShell](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image4.png)

Τύπος **.\\ Setup.ps1** για να ρυθμίσετε το λογαριασμό σας Azure, δημιουργία και ρύθμιση παραμέτρων όλα τα απαιτούμενα πόρους και ξεκινήστε για τη δημιουργία συμβάντα. Η δέσμη ενεργειών παίρνει τυχαία μια περιοχή για να δημιουργήσετε τους πόρους σας. Για να καθορίσετε μια περιοχή, μπορείτε να περάσετε την **-θέση** παραμέτρου όπως στο ακόλουθο παράδειγμα:

**. \\Setup.ps1-θέση "Κεντρικής η.π.α."**

![Στιγμιότυπο οθόνης από το Azure στη σελίδα εισόδου](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image5.png)

Η δέσμη ενεργειών, ανοίγει η σελίδα **Εισόδου** για το Microsoft Azure. Εισαγάγετε τα διαπιστευτήριά σας λογαριασμό.

> [AZURE.NOTE] Εάν ο λογαριασμός σας έχει πρόσβαση σε πολλές συνδρομές, θα σας ζητηθεί να εισαγάγετε το όνομα της συνδρομής που θέλετε να χρησιμοποιήσετε για το πρόγραμμα εκμάθησης.

Η δέσμη ενεργειών μπορεί να χρειαστούν αρκετά λεπτά για να εκτελέσετε. Μετά την ολοκλήρωση της, το αποτέλεσμα θα πρέπει να μοιάζει με το παρακάτω στιγμιότυπο οθόνης.

![Στιγμιότυπο οθόνης των αποτελεσμάτων της δέσμης ενεργειών στο παράθυρο του Azure PowerShell](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image6.PNG)

Μπορείτε, επίσης, θα δείτε ένα άλλο παράθυρο που είναι παρόμοιο με το παρακάτω στιγμιότυπο οθόνης. Αυτή η εφαρμογή είναι αποστολή συμβάντων σε διανομείς συμβάν Azure, που είναι απαραίτητη για την εκτέλεση του προγράμματος εκμάθησης. Επομένως, δεν διακοπή της εφαρμογής ή κλείστε αυτό το παράθυρο μέχρι να ολοκληρώσετε το πρόγραμμα εκμάθησης.

![Στιγμιότυπο οθόνης της "Αποστολή συμβάντων διανομέα δεδομένα"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image7.png)

Θα πρέπει να μπορείτε να δείτε όλους τους πόρους που έχουν δημιουργηθεί στην πύλη Azure τώρα. Μεταβείτε στο <https://manage.windowsazure.com>και συνδεθείτε με τα διαπιστευτήριά σας λογαριασμό.

### <a name="azure-event-hubs"></a>Διανομείς Azure συμβάντος

Κάντε κλικ στην επιλογή **ΥΠΗΡΕΣΊΑ BUS** στην αριστερή πλευρά της πύλης Azure για να δείτε διανομείς συμβάντων που τη δέσμη ενεργειών που δημιουργήσατε στην προηγούμενη ενότητα.

![Υπηρεσία Bus](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image8.png)

Θα δείτε όλες οι διαθέσιμες χώροι ονομάτων στη συνδρομή σας. Κάντε κλικ σε αυτήν που ξεκινά με *tolldata* (tolldata4637388511 στο παράδειγμά μας). Κάντε κλικ στην καρτέλα **ΣΥΜΒΆΝ ΔΙΑΝΟΜΕΊΣ** .

![Καρτέλα διανομείς συμβάν στην πύλη του Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image9.png)

Θα δείτε δύο διανομείς συμβάν με το όνομα *καταχώρησης* και *Έξοδος από* το δημιουργήθηκε σε αυτόν το χώρο ονομάτων.

![Στιγμιότυπο οθόνης της διανομείς συμβάν "Καταχώρηση" και "Έξοδος" στην πύλη του Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image10.png)

### <a name="azure-storage-container"></a>Azure κοντέινερ χώρου αποθήκευσης

1. Κάντε κλικ στο **χώρο ΑΠΟΘΉΚΕΥΣΗΣ** στην αριστερή πλευρά της πύλης Azure για να δείτε το κοντέινερ χώρου αποθήκευσης Azure που χρησιμοποιείται στην εκμάθηση.

    ![Στοιχείο μενού χώρου αποθήκευσης](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image11.png)

2. Κάντε κλικ σε αυτήν που ξεκινούν με *tolldata* (tolldata4637388511 στο παράδειγμά μας). Κάντε κλικ στην καρτέλα **ΚΟΝΤΈΙΝΕΡ** για να δείτε το κοντέινερ που έχουν δημιουργηθεί.

    ![Καρτέλα κοντέινερ στην πύλη του Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image12.png)

3. Κάντε κλικ στο κοντέινερ **tolldata** , για να δείτε το απεσταλμένο αρχείο JSON που έχει οχήματος καταχώρηση δεδομένων.

    ![Στιγμιότυπο οθόνης του αρχείου registration.json στο κοντέινερ](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image13.png)

### <a name="azure-sql-database"></a>Βάση δεδομένων SQL Azure

1. Κάντε κλικ στην επιλογή **Βάσεις ΔΕΔΟΜΈΝΩΝ SQL** στην αριστερή πλευρά της πύλης Azure για να δείτε τη βάση δεδομένων SQL που θα χρησιμοποιηθεί στην εκμάθηση.

    ![Βάσεις δεδομένων SQL](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image14.png)

2. Κάντε κλικ στην επιλογή **tolldatadb**.

    ![Στιγμιότυπο οθόνης της βάσης δεδομένων που έχουν δημιουργηθεί SQL](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15.png)

3. Αντιγράψτε το όνομα του διακομιστή χωρίς τον αριθμό θύρας (*όνομα_διακομιστή*. database.windows.net, για παράδειγμα).

## <a name="connect-to-the-database-from-visual-studio"></a>Σύνδεση με τη βάση δεδομένων από το Visual Studio

Χρησιμοποιήστε το Visual Studio για να αποκτήσετε πρόσβαση στη βάση δεδομένων εξόδου αποτελέσματα του ερωτήματος.

Σύνδεση με τη βάση δεδομένων SQL (προορισμός) από το Visual Studio:

1. Ανοίξτε το Visual Studio και, στη συνέχεια, κάντε κλικ στην επιλογή **Εργαλεία** > **σύνδεση με βάση δεδομένων**.

2. Εάν σας ζητηθεί, κάντε κλικ στην επιλογή **Microsoft SQL Server** ως προέλευση δεδομένων.

    ![Πλαίσιο διαλόγου Αλλαγή προέλευσης δεδομένων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image16.png)

3. Στο πεδίο **όνομα διακομιστή** , επικολλήστε το όνομα που αντιγράψατε στην προηγούμενη ενότητα από την πύλη του Azure (δηλαδή, *όνομα_διακομιστή*. database.windows.net).

4. Κάντε κλικ στην επιλογή **Χρήση ελέγχου ταυτότητας διακομιστή SQL**.

5. Εισαγάγετε **tolladmin** στο πεδίο **όνομα χρήστη** και **123toll!** στο πεδίο **κωδικός πρόσβασης** .

6. Κάντε κλικ στην επιλογή **Επιλέξτε ή πληκτρολογήστε ένα όνομα βάσης δεδομένων**και επιλέξτε **TollDataDB** ως βάση δεδομένων.

    ![Παράθυρο διαλόγου σύνδεση Προσθήκη](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image17.jpg)

7. Κάντε κλικ στο **κουμπί OK**.

8. Ανοίξτε την Εξερεύνηση διακομιστή.

    ![Εξερεύνηση Server](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image18.png)

9. Ανατρέξτε στο θέμα τέσσερις πίνακες της βάσης δεδομένων TollDataDB.

    ![Πίνακες της βάσης δεδομένων TollDataDB](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image19.jpg)

## <a name="event-generator-tollapp-sample-project"></a>Γεννήτρια συμβάν: TollApp δείγμα έργου

Ξεκινά αυτόματα τη δέσμη ενεργειών του PowerShell για να στείλετε συμβάντα, χρησιμοποιώντας το πρόγραμμα TollApp δείγμα της εφαρμογής. Δεν χρειάζεται να εκτελέσετε οποιαδήποτε επιπλέον βήματα.

Ωστόσο, εάν σας ενδιαφέρει λεπτομέρειες υλοποίησης, μπορείτε να βρείτε τον πηγαίο κώδικα της εφαρμογής TollApp σε GitHub [Δείγματα/TollApp](https://aka.ms/azure-stream-analytics-toll-source).

![Στιγμιότυπο οθόνης του δείγματος κώδικα εμφανίζεται στο Visual Studio](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image20.png)

## <a name="create-a-stream-analytics-job"></a>Δημιουργία μιας εργασίας ροής ανάλυσης

1. Στην πύλη του Azure, ανοίξτε ροή ανάλυσης και κάντε κλικ στην επιλογή " **ΔΗΜΙΟΥΡΓΊΑ** " στην κάτω αριστερή γωνία της σελίδας για να δημιουργήσετε μια νέα εργασία ανάλυσης.

    ![Κουμπί "Δημιουργία"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image21.png)

2. Κάντε κλικ στην επιλογή **ΓΡΉΓΟΡΗ ΔΗΜΙΟΥΡΓΊΑ**. Επιλέξτε την ίδια περιοχή όπου δημιουργούνται οι άλλοι πόροι από τη δέσμη ενεργειών.

3. Για τη ρύθμιση του **ΛΟΓΑΡΙΑΣΜΟΎ χώρου ΑΠΟΘΉΚΕΥΣΗΣ ΠΑΡΑΚΟΛΟΎΘΗΣΗ τοπικές ΡΥΘΜΊΣΕΙΣ** , επιλέξτε **ΔΗΜΙΟΥΡΓΊΑ ΝΈΟΥ ΛΟΓΑΡΙΑΣΜΟΎ χώρου ΑΠΟΘΉΚΕΥΣΗΣ** και να της δώσετε ένα μοναδικό όνομα. Azure ροή ανάλυση θα χρησιμοποιήσει αυτόν το λογαριασμό για την αποθήκευση πληροφοριών παρακολούθησης για όλα τα μελλοντικά έργα σας.

4. Κάντε κλικ στην επιλογή **ΔΗΜΙΟΥΡΓΊΑ ΕΡΓΑΣΊΑΣ ΑΝΆΛΥΣΗ ΡΟΉΣ** στο κάτω μέρος της σελίδας.

    ![Δημιουργία επιλογή ροή εργασίας ανάλυσης](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image22.png)

## <a name="define-input-sources"></a>Ορισμός προελεύσεις εισόδου

1. Κάντε κλικ στην εργασία που έχουν δημιουργηθεί ανάλυσης στην πύλη.

    ![Στιγμιότυπο οθόνης της ανάλυσης εργασίας στην πύλη](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image23.jpg)

2. Κάντε κλικ στην καρτέλα **δεδομένα ΕΙΣΌΔΟΥ** για να ορίσετε μια προέλευση δεδομένων.

    ![Στην καρτέλα εισόδων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image24.jpg)

3. Κάντε κλικ στην επιλογή **ΠΡΟΣΘΉΚΗ ΕΊΣΟΔΟ**.

    ![Προσθήκη μια επιλογή εισαγωγής](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image25.png)

4. Κάντε κλικ στην επιλογή **ΡΟΉΣ ΔΕΔΟΜΈΝΩΝ** στην πρώτη σελίδα.

    ![Η επιλογή ροής δεδομένων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image26.png)

5. Στη δεύτερη σελίδα του οδηγού, κάντε κλικ στο **ΣΥΜΒΆΝ ΔΙΑΝΟΜΈΑ** .

    ![Η επιλογή διανομέα συμβάντος](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image27.png)

6. Πληκτρολογήστε **EntryStream** ως **ΨΕΥΔΏΝΥΜΟ ΕΙΣΑΓΩΓΉΣ**.

7. Κάντε κλικ στην επιλογή **Συμβάν διανομέα** αναπτυσσόμενο μενού και επιλέξτε αυτήν που ξεκινά με "TollData" (για παράδειγμα, TollData9518658221).

8. Επιλέξτε **καταχώρηση** ως το όνομα διανομέας συμβάντων και **όλες** ως το όνομα της πολιτικής διανομέα συμβάν.

    Ρυθμίσεις σας θα μοιάζει κάπως:

    ![Ρυθμίσεις διανομέα συμβάντων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image28.png)

9. Στην επόμενη σελίδα, επιλέξτε **JSON** για **ΜΟΡΦΉ ΣΕΙΡΙΟΠΟΊΗΣΗΣ ΣΥΜΒΆΝΤΩΝ** και **UTF8** για **ΚΩΔΙΚΟΠΟΊΗΣΗ**.

    ![Ρυθμίσεις σειριοποίησης](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image29.png)

10. Κάντε κλικ στο **κουμπί OK** στο κάτω μέρος της σελίδας για να ολοκληρώσετε τον οδηγό.

    ![Στιγμιότυπο οθόνης της EntryStream είσοδο στην πύλη του Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image30.jpg)

    Τώρα που έχετε δημιουργήσει τη ροή καταχώρηση, θα μπορείτε να ακολουθήσετε τα ίδια βήματα για να δημιουργήσετε τη ροή εξόδου. Στην τρίτη σελίδα του οδηγού, φροντίστε να εισαγάγετε τις τιμές ως το παρακάτω στιγμιότυπο οθόνης.

    ![Ρυθμίσεις για τη ροή εξόδου](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image31.png)

    Έχετε καθορίσει δύο ροών εισόδου:

    ![Ορισμός εισαγωγής ροών στην πύλη του Azure](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image32.jpg)

    Στη συνέχεια, θα προσθέσετε εισαγωγής δεδομένων αναφοράς για το αρχείο blob που περιέχει δεδομένα δήλωσης αυτοκινήτου.

11. Κάντε κλικ στην επιλογή **Προσθήκη ΕΙΣΑΓΩΓΉΣ**και, στη συνέχεια, κάντε κλικ στην επιλογή **ΔΕΔΟΜΈΝΩΝ ΑΝΑΦΟΡΆΣ**.

    ![Επιλογές "Προσθήκη μια εισαγωγή δεδομένων" με επιλεγμένα τα δεδομένα αναφοράς](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image33.png)

12. Στην επόμενη σελίδα, επιλέξτε το λογαριασμό χώρου αποθήκευσης που ξεκινά με **tolldata**. Το όνομα του κοντέινερ πρέπει να είναι **tolldata**και το όνομα blob στην περιοχή **ΜΟΤΊΒΟ ΔΙΑΔΡΟΜΉ** πρέπει να είναι **registration.json**. Αυτό το όνομα αρχείου είναι διάκριση πεζών-κεφαλαίων και πρέπει να είναι πεζά.

    ![Ρυθμίσεις αποθήκευσης ιστολογίου](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image34.png)

13. Επιλέξτε τις τιμές, όπως φαίνεται στο παρακάτω στιγμιότυπο οθόνης στην επόμενη σελίδα και, στη συνέχεια, κάντε κλικ στο κουμπί **OK** για να ολοκληρωθεί ο οδηγός.

    ![Επιλογή JSON για "μορφή Even σειριοποίησης" και UTF8 για "Κωδικοποίηση"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image35.png)

Τώρα που έχουν καθοριστεί όλα τα δεδομένα εισόδου.

![Στιγμιότυπο οθόνης από τα τρία καθορισμένα εισόδων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image36.jpg)

## <a name="define-output"></a>Ορισμός εξόδου

1. Κάντε κλικ στην καρτέλα **ΕΞΌΔΟΥ** και, στη συνέχεια, κάντε κλικ στην επιλογή **Προσθήκη μια ΕΞΌΔΟΥ**.

    ![Η καρτέλα "Έξοδος" και την επιλογή "Προσθήκη το αποτέλεσμα"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image37.jpg)

2. Κάντε κλικ στην επιλογή **βάση δεδομένων SQL**.

3. Επιλέξτε το όνομα του διακομιστή που χρησιμοποιήθηκε στην ενότητα "Σύνδεση με βάση δεδομένων από το Visual Studio" αυτού του άρθρου. Το όνομα της βάσης δεδομένων είναι **TollDataDB**.

4. Πληκτρολογήστε **tolladmin** στο πεδίο **όνομα ΧΡΉΣΤΗ** , **123toll!** στο πεδίο **κωδικού ΠΡΌΣΒΑΣΗΣ** και **TollDataRefJoin** στο πεδίο του **ΠΊΝΑΚΑ** .

    ![Ρυθμίσεις της βάσης δεδομένων SQL](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image38.jpg)

## <a name="azure-stream-analytics-query"></a>Azure ερωτήματος ανάλυσης ροής

Η καρτέλα " **ΕΡΏΤΗΜΑ** " περιέχει ένα ερώτημα SQL που μετατρέπει τα εισερχόμενα δεδομένα.

![Ένα ερώτημα που προσθέσατε στην καρτέλα "ερώτημα"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image39.jpg)

Αυτό το πρόγραμμα εκμάθησης προσπαθεί να απαντήσετε σε διάφορες ερωτήσεις επιχειρήσεις που σχετίζονται με χρέωση ερωτημάτων ροής ανάλυση δεδομένων και δομές που μπορούν να χρησιμοποιηθούν σε Azure ροή ανάλυσης για την παροχή μια σχετική απάντηση.

Πριν να ξεκινήσετε την εργασία σας πρώτη ροή ανάλυση, ας εξετάσουμε ορισμένα σενάρια και τη σύνταξη του ερωτήματος.

## <a name="introduction-to-azure-stream-analytics-query-language"></a>Εισαγωγή στην ανάλυση ροή Azure γλώσσα ερωτημάτων
-----------------------------------------------------

Ας υποθέσουμε ότι πρέπει να μετρήσετε το πλήθος των οχήματα που εισάγετε ένα περίπτερου με χρέωση. Επειδή αυτή είναι μια συνεχόμενη ροή συμβάντων, πρέπει να ορίσετε μια "χρονική περίοδο." Ας τροποποιήστε την ερώτησή σας είναι "πόσα οχήματα εισαγάγετε μια περίπτερου με χρέωση κάθε τρία λεπτά;". Αυτό συνήθως αναφέρεται ως το πλήθος των tumbling.

Ας ρίξουμε μια ματιά στο ερώτημα Azure ροή ανάλυσης που παρέχει απαντήσεις σε αυτήν την ερώτηση:

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*) AS Count
    FROM EntryStream TIMESTAMP BY EntryTime
    GROUP BY TUMBLINGWINDOW(minute, 3), TollId

Όπως μπορείτε να δείτε, ανάλυση ροή Azure χρησιμοποιεί μια γλώσσα ερωτημάτων που μοιάζει με την SQL και προσθέτει μερικά επεκτάσεις για να καθορίσετε στοιχεία που σχετίζονται με την ώρα του ερωτήματος.

Για περισσότερες λεπτομέρειες, διαβάστε σχετικά με τη [Διαχείριση χρόνου](https://msdn.microsoft.com/library/azure/mt582045.aspx) και [Άνοιγμα παραθύρου](https://msdn.microsoft.com/library/azure/dn835019.aspx) δομές που χρησιμοποιούνται στο ερώτημα από το MSDN.

## <a name="testing-azure-stream-analytics-queries"></a>Δοκιμή ανάλυσης ροή Azure ερωτήματα

Τώρα που έχετε γράψει το πρώτο ερώτημα Azure ροή ανάλυσης, θα πρέπει να ελέγξετε χρησιμοποιώντας δείγματα αρχείων δεδομένων που βρίσκεται στο φάκελο TollApp στην ακόλουθη διαδρομή:

**.. \\TollApp\\TollApp\\δεδομένων**

Αυτός ο φάκελος περιέχει τα ακόλουθα αρχεία:

- Entry.JSON
- Exit.JSON
- Registration.JSON

## <a name="question-1-number-of-vehicles-entering-a-toll-booth"></a>Ερώτηση 1: Αριθμός οχήματα πληκτρολογώντας μια περίπτερου με χρέωση

1. Ανοίξτε την πύλη του Azure και μεταβείτε με το έργο σας που έχουν δημιουργηθεί Azure ροή ανάλυσης. Κάντε κλικ στην καρτέλα **ΕΡΩΤΉΜΑΤΟΣ** και επικολλήστε το ερώτημα από την προηγούμενη ενότητα.

    ![Ερώτημα που έχει επικολληθεί στην καρτέλα "ερώτημα"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image40.png)

2. Για να επικυρώσετε αυτό το ερώτημα σε σχέση με δείγμα δεδομένων, κάντε κλικ στο κουμπί **Έλεγχος** . Στο παράθυρο διαλόγου που ανοίγει, μεταβείτε στη Entry.json, ένα αρχείο που έχει το δείγμα δεδομένων από τη ροή συμβάν **EntryTime** .

    ![Στιγμιότυπο οθόνης του αρχείου Entry.json](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image41.png)

3. Επαλήθευση ότι το αποτέλεσμα του ερωτήματος είναι όπως αναμένεται:

    ![Αποτελέσματα της δοκιμής](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image42.jpg)

## <a name="question-2-report-total-time-for-each-car-to-pass-through-the-toll-booth"></a>Ερώτηση 2: Αναφορά συνολικός χρόνος για κάθε αυτοκίνητο διέλευση του περίπτερου με χρέωση

Ο μέσος χρόνος που είναι απαραίτητη για ένα αυτοκίνητο διέλευση του με χρέωση σάς βοηθά να αξιολογήσετε την αποτελεσματικότητα της διαδικασίας και την εμπειρία του πελάτη.

Για να βρείτε τον συνολικό χρόνο, πρέπει να συμμετάσχουν στη ροή EntryTime με τη ροή ExitTime. Θα συμμετάσχετε των ροών στο TollId και LicencePlate στήλες. Τον τελεστή **ΣΥΜΜΕΤΟΧΉ** απαιτεί να καθορίσετε χρονικό περιθώριο χειρισμών που περιγράφει τη αποδεκτή χρονική διαφορά μεταξύ τα συνδεδεμένα συμβάντα. Συνάρτηση **DATEDIFF** θα χρησιμοποιήσετε για να καθορίσετε ότι συμβάντα πρέπει να είναι λιγότερα από 15 λεπτά από την άλλη. Μπορείτε, επίσης, θα εφαρμόσετε τη συνάρτηση **DATEDIFF** για να εξέλθετε από και καταχώρηση ώρες για τον υπολογισμό του πραγματικού χρόνου που απαιτείται για ένα αυτοκίνητο στη θέση με χρέωση. Σημείωση η διαφορά της χρήσης των **DATEDIFF** όταν χρησιμοποιείται σε μια πρόταση **SELECT** αντί για μια συνθήκη **ΣΥΜΜΕΤΟΧΉ** .

    SELECT EntryStream.TollId, EntryStream.EntryTime, ExitStream.ExitTime, EntryStream.LicensePlate, DATEDIFF (minute , EntryStream.EntryTime, ExitStream.ExitTime) AS DurationInMinutes
    FROM EntryStream TIMESTAMP BY EntryTime
    JOIN ExitStream TIMESTAMP BY ExitTime
    ON (EntryStream.TollId= ExitStream.TollId AND EntryStream.LicensePlate = ExitStream.LicensePlate)
    AND DATEDIFF (minute, EntryStream, ExitStream ) BETWEEN 0 AND 15

1. Για να δοκιμάσετε αυτό το ερώτημα, ενημερώστε το ερώτημα στην καρτέλα " **ΕΡΏΤΗΜΑ** " της εργασίας σας:

    ![Ενημερωμένο ερώτημα στην καρτέλα "ερώτημα"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image43.jpg)

2. Κάντε κλικ στην επιλογή **Δοκιμή** και καθορίστε δείγματα εισαγωγής αρχείων για EntryTime και ExitTime.

    ![Στιγμιότυπο οθόνης των επιλεγμένων εισαγωγής αρχείων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image44.png)

3. Επιλέξτε το πλαίσιο ελέγχου για να ελέγξετε το ερώτημα και να προβάλετε την έξοδο:

    ![Αποτέλεσμα της δοκιμής](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image45.png)

## <a name="question-3-report-all-commercial-vehicles-with-expired-registration"></a>Ερώτηση 3: Αναφορά όλα τα επαγγελματικά οχήματα με την καταχώρηση έχει λήξει

Azure ροή ανάλυσης να χρησιμοποιήσετε στατική στιγμιότυπων των δεδομένων συμμετοχή με ροές χρονικό δεδομένων. Για να αποδείξει αυτήν τη δυνατότητα, χρησιμοποιήστε το παρακάτω δείγμα ερώτησης.

Εάν μια εμπορική οχήματος έχει καταχωρηθεί με την εταιρεία με χρέωση, αυτό μπορεί να διέρχονται από το περίπτερου με χρέωση χωρίς να διακόπτεται για τον έλεγχο. Θα χρησιμοποιήσετε ταξινόμησης οχήματος εμπορική πίνακα αναζήτησης για να προσδιορίσετε όλα τα επαγγελματικά οχήματα που έχουν λήξει καταχωρήσεων.

    SELECT EntryStream.EntryTime, EntryStream.LicensePlate, EntryStream.TollId, Registration.RegistrationId
    FROM EntryStream TIMESTAMP BY EntryTime
    JOIN Registration
    ON EntryStream.LicensePlate = Registration.LicensePlate
    WHERE Registration.Expired = '1'

Για να δοκιμάσετε ένα ερώτημα, χρησιμοποιώντας δεδομένα αναφοράς, πρέπει να ορίσετε μια προέλευση εισόδου για τα δεδομένα αναφοράς, που έχετε κάνει ήδη.

1. Για να δοκιμάσετε αυτό το ερώτημα, επικολλήστε το ερώτημα στην καρτέλα **ΕΡΩΤΉΜΑΤΟΣ** , κάντε κλικ στην επιλογή **Δοκιμή**και να καθορίσετε τις δύο προελεύσεις εισόδου:

    ![Στιγμιότυπο οθόνης των επιλεγμένων εισαγωγής αρχείων](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image46.png)

2. Προβάλετε το αποτέλεσμα του ερωτήματος:

    ![Στιγμιότυπο οθόνης από το αποτέλεσμα του ερωτήματος](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image47.png)

## <a name="start-the-stream-analytics-job"></a>Εκκίνηση της ανάλυσης ροής εργασίας


Τώρα είναι ώρα να ολοκληρώσετε τη ρύθμιση παραμέτρων και να ξεκινήσει η εργασία. Αποθήκευση του ερωτήματος από 3 ερώτηση, που θα δημιουργήσουν εξόδου που ταιριάζει με το σχήμα του πίνακα εξόδου **TollDataRefJoin** .

Μεταβείτε στο έργο **πίνακα ΕΡΓΑΛΕΊΩΝ**και κάντε κλικ στο κουμπί **ΈΝΑΡΞΗ**.

![Στιγμιότυπο οθόνης από το κουμπί "Έναρξη" σε πίνακα εργαλείων του έργου](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image48.jpg)

Στο παράθυρο διαλόγου που ανοίγει, αλλάξτε την ώρα **ΈΝΑΡΞΗΣ ΕΞΌΔΟΥ** σε **ΠΡΟΣΑΡΜΟΣΜΈΝΗ ΏΡΑ**. Αλλάξτε την ώρα σε μία ώρα πριν από την τρέχουσα ώρα. Αυτή η αλλαγή εξασφαλίζει ότι όλα τα συμβάντα από την ενότητα συμβάντων υποβάλλονται σε επεξεργασία από τότε που αρχίσατε να δημιουργήσετε τα συμβάντα στην αρχή του προγράμματος εκμάθησης. Τώρα, κάντε κλικ στο σημάδι ελέγχου για να ξεκινήσει η εργασία.

![Επιλογή προσαρμοσμένο διάστημα](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image49.png)

Έναρξη της εργασίας μπορεί να χρειαστούν μερικά λεπτά. Μπορείτε να δείτε την κατάσταση στη σελίδα ανώτατου επιπέδου για ανάλυση ροής.

![Στιγμιότυπο οθόνης από την κατάσταση του έργου](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image50.jpg)

## <a name="check-results-in-visual-studio"></a>Αποτελέσματα ελέγχου στο Visual Studio

1. Ανοίξτε την Εξερεύνηση διακομιστή Visual Studio και κάντε δεξί κλικ στον πίνακα **TollDataRefJoin** .
2. Κάντε κλικ στην επιλογή **Εμφάνιση πίνακα δεδομένων** για να δείτε το αποτέλεσμα της εργασίας σας.

    ![Επιλογή "Εμφάνιση δεδομένων πίνακα" στην Εξερεύνηση Server](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image51.jpg)

## <a name="scale-out-azure-stream-analytics-jobs"></a>Διαβάθμιση της ανάλυσης Azure ροής εργασιών

Ανάλυση Azure ροή έχει σχεδιαστεί για elastically κλίμακα, έτσι ώστε να μπορεί να χειρίζεται πολλά δεδομένα. Το ερώτημα Azure ροή ανάλυσης να χρησιμοποιήσετε έναν όρο **ΔΙΑΜΕΡΊΣΜΑΤΑ,** για να υποδείξετε το σύστημα που θα διαβάθμιση αυτό το βήμα. **ΑναγνωριστικόΔιαμερίσματος** είναι μια ειδική στήλη η οποία προσθέτει το σύστημα ώστε να ταιριάζει με το Αναγνωριστικό του τα δεδομένα εισόδου (διανομέας συμβάντων).

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*)AS Count
    FROM EntryStream TIMESTAMP BY EntryTime PARTITION BY PartitionId
    GROUP BY TUMBLINGWINDOW(minute,3), TollId, PartitionId

1. Διακοπή στο τρέχον έργο, να ενημερώσετε το ερώτημα στην καρτέλα **ΕΡΩΤΉΜΑΤΟΣ** και ανοίξτε την καρτέλα **ΚΛΊΜΑΚΑ** .

    **Η ΡΟΉ ΜΟΝΆΔΕΣ** ορίζουν την ποσότητα του power υπολογισμού που μπορεί να λάβει την εργασία.

2. Μετακινήστε το ρυθμιστικό για να 6.

    ![Στιγμιότυπο οθόνης της επιλογής 6 μονάδες ροής](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image52.jpg)

3. Μεταβείτε στην καρτέλα **ΕΞΌΔΟΥΣ** και αλλάξτε το όνομα του πίνακα SQL σε **TollDataTumblingCountPartitioned**.

Εάν έχει αρχίσει η εργασία τώρα, ανάλυση ροή Azure να κατανομή όγκου εργασίας σε περισσότερους πόρους υπολογισμού και να επιτύχετε καλύτερη απόδοση. Έχετε υπόψη ότι η εφαρμογή TollApp επίσης στέλνει συμβάντα διαμερίσματα με TollId.

## <a name="monitor"></a>Οθόνη

Η καρτέλα **ΕΠΟΠΤΕΊΑ** περιέχει στατιστικά στοιχεία σχετικά με την εργασία που εκτελείται.

![Στιγμιότυπο οθόνης της στατιστικά στοιχεία σχετικά με τις εργασίες που εκτελούνται](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image53.png)

Μπορείτε να αποκτήσετε πρόσβαση σε **Αρχεία καταγραφής λειτουργίας** από την καρτέλα του **πίνακα ΕΡΓΑΛΕΊΩΝ** .

![Η επιλογή "Λειτουργία αρχείων καταγραφής"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image54.jpg)

![Στιγμιότυπο οθόνης της λειτουργίας αρχεία καταγραφής από όπου μπορείτε να δείτε την κατάσταση των εργασιών](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image55.png)

Για να δείτε πρόσθετες πληροφορίες σχετικά με ένα συγκεκριμένο συμβάν, κάντε κλικ στο συμβάν και, στη συνέχεια, κάντε κλικ στο κουμπί **ΛΕΠΤΟΜΈΡΕΙΕΣ** .

![Στιγμιότυπο οθόνης των λεπτομερειών σχετικά με ένα επιλεγμένο συμβάν](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image56.png)

## <a name="conclusion"></a>Ολοκλήρωση

Αυτό το πρόγραμμα εκμάθησης που εισάγονται στην υπηρεσία Azure ροή ανάλυσης. Την επίδειξη τον τρόπο ρύθμισης παραμέτρων εισόδων και των εξόδων για την εργασία ροής ανάλυσης. Χρησιμοποιώντας το σενάριο δεδομένων με χρέωση, το πρόγραμμα εκμάθησης επεξήγηση συνηθισμένους τύπους προβλήματα που ανακύπτουν στο χώρο δεδομένων σε κίνησης και πώς μπορεί να λυθεί με απλή ερωτήματα SQL μοιάζουν στην ανάλυση ροή Azure. Το πρόγραμμα εκμάθησης περιγράφεται δομές επέκταση SQL για την εργασία με χρονικό δεδομένων. Το εμφάνιζε πώς μπορείτε να συμμετάσχετε σε ροές δεδομένων, πώς μπορείτε να εμπλουτίσετε τη ροή δεδομένων με στατική αναφοράς δεδομένων και τον τρόπο για να κλιμακωθεί ένα ερώτημα για να επιτύχετε υψηλότερη μεταγωγή.

Παρόλο που αυτό το πρόγραμμα εκμάθησης παρέχει ένα καλό εισαγωγής, δεν ολοκληρώθηκε με οποιονδήποτε τρόπο. Μπορείτε να βρείτε περισσότερες ερωτήματος μοτίβα χρησιμοποιώντας τη γλώσσα SAQL στο [ερώτημα παραδείγματα για κοινά μοτίβα χρήσης ροή αναλυτικών στοιχείων](stream-analytics-stream-analytics-query-patterns.md).
Ανατρέξτε στην [ηλεκτρονική τεκμηρίωση](https://azure.microsoft.com/documentation/services/stream-analytics/) για να μάθετε περισσότερα σχετικά με την ανάλυση ροή Azure.

## <a name="clean-up-your-azure-account"></a>Εκκαθάριση του Azure το λογαριασμό σας

1. Διακοπή της ανάλυσης ροή εργασίας στην πύλη του Azure.

    Η δέσμη ενεργειών Setup.ps1 δημιουργεί δύο διανομείς συμβάντων και μια βάση δεδομένων SQL. Οι παρακάτω οδηγίες σας βοηθήσουν να εκκαθάριση πόρους στο τέλος του προγράμματος εκμάθησης.

2. Σε ένα παράθυρο του PowerShell, πληκτρολογήστε **.\\ Cleanup.ps1** για να ξεκινήσετε τη δέσμη ενεργειών που διαγράφει τους πόρους που χρησιμοποιούνται στην εκμάθηση.

    > [AZURE.NOTE] Πόροι αναγνωρίζονται από το όνομα. Βεβαιωθείτε ότι έχετε προσεκτικά κάθε στοιχείο πριν να επιβεβαιώσετε την κατάργηση.

    ![Στιγμιότυπο οθόνης της διαδικασίας εκκαθάρισης](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image57.png)
