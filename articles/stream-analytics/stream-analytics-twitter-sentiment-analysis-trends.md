<properties
    pageTitle="Σε πραγματικό χρόνο ανάλυση άποψη Twitter με ροή ανάλυση | Microsoft Azure"
    description="Μάθετε πώς να χρησιμοποιείτε ροή ανάλυσης για την ανάλυση άποψη σε πραγματικό χρόνο Twitter. Αναλυτικές οδηγίες από το συμβάν γενιάς σε δεδομένα σε μια ζωντανή πίνακα εργαλείων."
    keywords="ανάλυση τάσεων σε πραγματικό χρόνο twitter, άποψη ανάλυσης, ανάλυση μέσα κοινωνικής δικτύωσης, το παράδειγμα ανάλυσης τάσης"
    services="stream-analytics"
    documentationCenter=""
    authors="jeffstokes72"
    manager="jhubbard"
    editor="cgronlun"/>

<tags
    ms.service="stream-analytics"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="big-data"
    ms.date="09/26/2016"
    ms.author="jeffstok"/>


# <a name="social-media-analysis-real-time-twitter-sentiment-analysis-in-azure-stream-analytics"></a>Ανάλυση μέσα κοινωνικής δικτύωσης: ανάλυση άποψη του Twitter σε πραγματικό χρόνο στην ανάλυση ροή Azure

Μάθετε πώς να δημιουργείτε μια λύση ανάλυσης άποψη για ανάλυση μέσα κοινωνικής δικτύωσης, μεταφέροντας σε πραγματικό χρόνο Twitter συμβάντα σε διανομείς συμβάν Azure. Θα μπορείτε να συντάξετε ένα ερώτημα Azure ροή ανάλυσης για την ανάλυση των δεδομένων. Που θα, στη συνέχεια, είτε να αποθηκεύσετε τα αποτελέσματα για μελλοντική perusal ή χρησιμοποιήστε έναν πίνακα εργαλείων και το [Power BI](https://powerbi.com/) για την παροχή ιδέες σε πραγματικό χρόνο.

Εργαλεία ανάλυσης μέσα κοινωνικής δικτύωσης βοηθήσουν εταιρείες Κατανόηση τάσης θέματα, δηλαδή, θέματα και τη στάση που έχουν μεγάλο όγκο δημοσιεύσεις στο μέσα κοινωνικής δικτύωσης. Άποψη ανάλυση, η οποία ονομάζεται επίσης *γνώμη εξόρυξης*, χρησιμοποιεί εργαλεία ανάλυσης μέσα κοινωνικής δικτύωσης για να προσδιορίσετε στάσης προς ένα προϊόν, ιδέα και ούτω καθεξής. Ανάλυση τάσεων σε πραγματικό χρόνο Twitter είναι ένα εξαιρετικό παράδειγμα επειδή το μοντέλο συνδρομή hashtag σάς επιτρέπει να ακούσετε συγκεκριμένες λέξεις-κλειδιά και ανάπτυξη άποψη ανάλυσης στο στην τροφοδοσία.

## <a name="scenario-sentiment-analysis-in-real-time"></a>Σενάριο: Άποψη ανάλυσης σε πραγματικό χρόνο

Μια εταιρεία που διαθέτει μια τοποθεσία Web πολυμέσων ειδήσεις ενδιαφέρεται γρήγορα ένα πλεονέκτημα σε σχέση με τους ανταγωνιστές, που διαθέτει περιεχομένου τοποθεσίας που είναι αμέσως σχετικά με τα προγράμματα ανάγνωσης. Η εταιρεία χρησιμοποιεί μέσα κοινωνικής δικτύωσης ανάλυσης σχετικά με θέματα που σχετίζονται με τους αναγνώστες κάνοντας ανάλυσης άποψη σε πραγματικό χρόνο στο Twitter δεδομένων. Συγκεκριμένα, για να προσδιορίσετε τάσης θέματα σε πραγματικό χρόνο στο Twitter, την εταιρεία χρειάζεται ανάλυση σε πραγματικό χρόνο σχετικά με την ένταση tweet και άποψη για σημαντικά θέματα. Επομένως, στην πραγματικότητα, χρειάζεστε είναι ένας μηχανισμός ανάλυσης ανάλυσης άποψη που βασίζεται σε αυτό μέσα κοινωνικής δικτύωσης τροφοδοσία.

## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία
-   Twitter λογαριασμό και [διακριτικό πρόσβασης OAuth](https://dev.twitter.com/oauth/overview/application-owner-access-tokens)
-   [TwitterClient.zip](http://download.microsoft.com/download/1/7/4/1744EE47-63D0-4B9D-9ECF-E379D15F4586/TwitterClient.zip) από το Κέντρο λήψης της Microsoft
-   Προαιρετικό: Πηγαίος κώδικας για το πρόγραμμα-πελάτης twitter από [GitHub](https://aka.ms/azure-stream-analytics-twitterclient)

## <a name="create-an-event-hub-input-and-a-consumer-group"></a>Δημιουργήστε ένα συμβάν διανομέα εισαγωγής και μια ομάδα καταναλωτή

Το δείγμα εφαρμογής θα δημιουργήσει συμβάντα και να προωθήσετε τα σε μια παρουσία διανομείς συμβάν (ένα συμβάν διανομέα, για συντομία). Υπηρεσία Bus συμβάν διανομείς είναι την προτιμώμενη μέθοδο κατάποσης συμβάντων για ανάλυση ροής. Ανατρέξτε στην τεκμηρίωση διανομείς συμβάντος στην [τεκμηρίωση Bus υπηρεσίας](/documentation/services/service-bus/).

Χρησιμοποιήστε τα ακόλουθα βήματα για να δημιουργήσετε ένα συμβάν διανομέα.

1.  Στην πύλη του Azure, κάντε κλικ στην επιλογή **ΔΗΜΙΟΥΡΓΊΑ** > **Εφαρμογή ΥΠΗΡΕΣΙΏΝ** > **BUS ΥΠΗΡΕΣΊΑΣ** > **ΔΙΑΝΟΜΈΑ ΣΥΜΒΆΝ** > **ΓΡΉΓΟΡΗΣ ΔΗΜΙΟΥΡΓΊΑΣ**, και δώστε ένα όνομα, περιοχής και νέα ή υπάρχουσα χώρο ονομάτων.  
2.  Η βέλτιστη πρακτική κάθε ανάλυση ροή εργασίας πρέπει να διαβάσετε από μία μόνο ομάδα καταναλωτή συμβάν διανομείς. Θα σας θα σας καθοδηγήσει στη διαδικασία δημιουργίας μιας ομάδας καταναλωτή αργότερα. Μπορείτε να μάθετε περισσότερα σχετικά με τις ομάδες καταναλωτών στην [Επισκόπηση Azure συμβάν διανομείς](https://msdn.microsoft.com/library/azure/dn836025.aspx). Για να δημιουργήσετε μια ομάδα καταναλωτή, μεταβείτε την ενότητα που μόλις δημιουργήθηκε συμβάντος, κάντε κλικ στην καρτέλα **ΚΑΤΑΝΑΛΩΤΉ ΟΜΆΔΩΝ** , κάντε κλικ στην επιλογή **ΔΗΜΙΟΥΡΓΊΑ** στο κάτω μέρος της σελίδας και, στη συνέχεια, δώστε ένα όνομα για την ομάδα σας καταναλωτών.
3.  Για να εκχωρήσετε πρόσβαση σε ενότητα συμβάντων, θα χρειαστεί να δημιουργήσετε μια πολιτική κοινόχρηστη πρόσβαση. Κάντε κλικ στην καρτέλα **Ρύθμιση ΠΑΡΑΜΈΤΡΩΝ** από το κέντρο του συμβάντος σας.
4.  Στην περιοχή **ΠΟΛΙΤΙΚΈΣ ΠΡΌΣΒΑΣΗΣ σε κοινή ΧΡΉΣΗ**, δημιουργήστε μια νέα πολιτική με **ΔΙΑΧΕΊΡΙΣΗ** δικαιωμάτων.

    ![Κοινή χρήση πολιτικές πρόσβασης όπου μπορείτε να δημιουργήσετε μια πολιτική με Διαχείριση δικαιωμάτων.](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-ananlytics-shared-access-policies.png)

5.  Κάντε κλικ στην επιλογή " **ΑΠΟΘΉΚΕΥΣΗ** " στο κάτω μέρος της σελίδας.
6.  Μεταβείτε στον πίνακα **ΕΡΓΑΛΕΊΩΝ**, κάντε κλικ στην επιλογή **ΠΛΗΡΟΦΟΡΊΕΣ ΣΎΝΔΕΣΗΣ** στο κάτω μέρος της σελίδας, και στη συνέχεια, αντιγράψτε και αποθηκεύστε τις πληροφορίες σύνδεσης. (Χρησιμοποιήστε το εικονίδιο αντίγραφο που εμφανίζεται κάτω από το εικονίδιο αναζήτησης).

## <a name="configure-and-start-the-twitter-client-application"></a>Ρύθμιση παραμέτρων και να ξεκινήσετε την εφαρμογή-πελάτη Twitter

Παρέχουμε μια εφαρμογή προγράμματος-πελάτη που θα συνδεθείτε με δεδομένα Twitter μέσω [APIs ροής του Twitter](https://dev.twitter.com/streaming/overview) για να συλλέξετε συμβάντα Tweet σχετικά με ένα σύνολο με παραμέτρους με τα θέματα του. Το εργαλείο Άνοιγμα αρχείου προέλευσης [Sentiment140](http://help.sentiment140.com/) χρησιμοποιείται για την αντιστοίχιση της τιμής άποψη σε κάθε tweet.

- 0 = αρνητικός αριθμός
- 2 = ουδέτερο
- 4 = θετικό

Στη συνέχεια, Tweet συμβάντα μετακινούνται στο συμβάν διανομέα.  

Ακολουθήστε τα παρακάτω βήματα για να ρυθμίσετε την εφαρμογή:

1.  [Λήψη της λύσης TwitterClient](http://download.microsoft.com/download/1/7/4/1744EE47-63D0-4B9D-9ECF-E379D15F4586/TwitterClient.zip).
2.  Ανοίξτε το TwitterClient.exe.config και αντικαταστήστε oauth_consumer_key, oauth_consumer_secret, oauth_token και oauth_token_secret με διακριτικά Twitter που περιέχουν τις τιμές.  

    [Βήματα για να δημιουργήσετε ένα διακριτικό πρόσβασης OAuth](https://dev.twitter.com/oauth/overview/application-owner-access-tokens)  

    Σημειώστε ότι θα πρέπει να κάνετε μια κενή εφαρμογή για τη δημιουργία ενός διακριτικού.  
3.  Αντικαταστήστε τις τιμές EventHubConnectionString και EventHubName TwitterClient.exe.config με τη συμβολοσειρά σύνδεσης και το όνομα από το κέντρο του συμβάντος σας. Η συμβολοσειρά σύνδεσης που αντιγράψατε προηγουμένως σας δίνει τη συμβολοσειρά σύνδεσης και το όνομα του Κέντρο σας συμβάντος, επομένως, φροντίστε να διαχωρίσετε και να τοποθετήσετε κάθε του σωστού πεδίου. Για παράδειγμα, λάβετε υπόψη τα παρακάτω συμβολοσειρά σύνδεσης:

        Endpoint=sb://your.servicebus.windows.net/;SharedAccessKeyName=yourpolicy;SharedAccessKey=yoursharedaccesskey;EntityPath=yourhub

    Το αρχείο TwitterClient.exe.config πρέπει να περιέχει τις ρυθμίσεις όπως στο ακόλουθο παράδειγμα:

        add key="EventHubConnectionString" value="Endpoint=sb://your.servicebus.windows.net/;SharedAccessKeyName=yourpolicy;SharedAccessKey=yoursharedaccesskey"
        add key="EventHubName" value="yourhub"

    Είναι σημαντικό να λάβετε υπόψη ότι το κείμενο "EntityPath =" κάνει __δεν__ εμφανίζονται στην τιμή EventHubName.

4.  *Προαιρετικά:* Προσαρμόστε τις λέξεις-κλειδιά για να αναζητήσετε.  Ως προεπιλογή, αυτή η εφαρμογή πραγματοποιεί αναζήτηση για "Azure, Skype, XBox, Microsoft, Σιάτλ".  Μπορείτε να προσαρμόσετε τις τιμές για **twitter_keywords** στο TwitterClient.exe.config, εάν θέλετε.
5.  Εκτελέστε το TwitterClient.exe για να εκκινήσετε την εφαρμογή σας. Θα δείτε συμβάντα Tweet με τις τιμές **CreatedAt**, **το θέμα**και **SentimentScore** που στέλνεται με το συμβάν διανομέα.

    ![Άποψη ανάλυσης: SentimentScore τιμές που έχουν σταλεί με ένα διανομέα συμβάν.](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-twitter-sentiment-output-to-event-hub.png)

## <a name="create-a-stream-analytics-job"></a>Δημιουργία μιας εργασίας ροής ανάλυσης

Τώρα που Tweet συμβάντα ροή σε πραγματικό χρόνο από το Twitter, θα σας να ρυθμίσετε μια εργασία ροής ανάλυσης για την ανάλυση αυτά τα συμβάντα σε πραγματικό χρόνο.

### <a name="provision-a-stream-analytics-job"></a>Παροχή μιας ανάλυσης ροής εργασίας

1.  Στην [πύλη του Azure](https://manage.windowsazure.com/), κάντε κλικ στην επιλογή **ΔΗΜΙΟΥΡΓΊΑ** > **ΥΠΗΡΕΣΊΕΣ ΔΕΔΟΜΈΝΩΝ** > **ΡΟΉ ΑΝΆΛΥΣΗ** > **ΓΡΉΓΟΡΗΣ ΔΗΜΙΟΥΡΓΊΑΣ**.
2.  Καθορίστε τις παρακάτω τιμές και, στη συνέχεια, κάντε κλικ στην επιλογή **ΔΗΜΙΟΥΡΓΊΑ ΡΟΉ ΑΝΆΛΥΣΗΣ ΕΡΓΑΣΊΑΣ**:

    * **ΌΝΟΜΑ ΕΡΓΑΣΊΑΣ**: Πληκτρολογήστε ένα όνομα εργασίας.
    * **ΠΕΡΙΟΧΉ**: Επιλέξτε την περιοχή όπου θέλετε να εκτελέσετε την εργασία. Εξετάστε το ενδεχόμενο τοποθετώντας το έργο και την ενότητα συμβάντων στην ίδια περιοχή για να εξασφαλίσουν την καλύτερη απόδοση και να διασφαλίσετε ότι θα δεν πληρώνετε για τη μεταφορά δεδομένων μεταξύ περιοχών.
    * **Το ΛΟΓΑΡΙΑΣΜΌ χώρου ΑΠΟΘΉΚΕΥΣΗΣ**: Επιλέξτε το λογαριασμό Azure χώρου αποθήκευσης που θέλετε να χρησιμοποιήσετε για την αποθήκευση δεδομένων παρακολούθησης για όλες τις εργασίες ροής ανάλυσης που εκτελούνται μέσα σε αυτήν την περιοχή. Έχετε την επιλογή για να επιλέξετε έναν υπάρχοντα λογαριασμό του χώρου αποθήκευσης ή για να δημιουργήσετε ένα νέο.

3.  Κάντε κλικ στην επιλογή **ΑΝΆΛΥΣΗΣ ΡΟΉΣ** στο αριστερό τμήμα του παραθύρου για μια λίστα των εργασιών ροής ανάλυσης.  
    ![Εικονίδιο της υπηρεσίας ανάλυσης ροής](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-service-icon.png)

    Το νέο έργο θα εμφανίζεται με κατάσταση **ΔΗΜΙΟΥΡΓΉΘΗΚΕ**. Παρατηρήστε ότι είναι απενεργοποιημένο το κουμπί " **ΈΝΑΡΞΗ** " στο κάτω μέρος της σελίδας. Πρέπει να ρυθμίσετε την εργασία εισαγωγής, εξόδου και ερωτήματος να μπορέσετε να ξεκινήσετε την εργασία.


### <a name="specify-job-input"></a>Καθορισμός εισαγωγής έργου
1.  Στην εργασία σας ροή ανάλυση, κάντε κλικ στην επιλογή **ΕΙΣΌΔΩΝ** από το επάνω μέρος της σελίδας και, στη συνέχεια, κάντε κλικ στην επιλογή **Προσθήκη ΕΙΣΑΓΩΓΉΣ**. Παράθυρο διαλόγου που ανοίγει θα καθοδηγήσουμε ορισμένα βήματα για να ρυθμίσετε τα δεδομένα εισόδου σας.
2.  Κάντε κλικ στην επιλογή **ΡΟΉΣ ΔΕΔΟΜΈΝΩΝ**και, στη συνέχεια, κάντε κλικ στο δεξιό κουμπί.
3.  Κάντε κλικ στην επιλογή **ΔΙΑΝΟΜΈΑ ΣΥΜΒΆΝ**και, στη συνέχεια, κάντε κλικ στο δεξιό κουμπί.
4.  Πληκτρολογήστε ή επιλέξτε τις παρακάτω τιμές στην τρίτη σελίδα:

    * **ΨΕΥΔΏΝΥΜΟ ΕΙΣΑΓΩΓΉΣ**: Πληκτρολογήστε ένα φιλικό όνομα για αυτό το έργο εισαγωγής, όπως *TwitterStream*. Σημειώστε ότι θα χρησιμοποιείτε αυτό το όνομα του ερωτήματος αργότερα.
    **ΕΝΌΤΗΤΑ ΣΥΜΒΆΝ**: Εάν ενότητα συμβάντων που δημιουργήσατε είναι στην ίδια συνδρομή ως της ανάλυσης ροή εργασίας, επιλέξτε το πεδίο ονόματος που είναι ο διανομέας συμβάντος στο.

        Εάν το Κέντρο συμβάν σας βρίσκεται σε μια διαφορετική συνδρομή, κάντε κλικ στην επιλογή **Χρήση διανομέα συμβάν από μια άλλη συνδρομή**και, στη συνέχεια, εισαγάγετε με μη αυτόματο τρόπο πληροφορίες για **Χώρος ΟΝΟΜΆΤΩΝ BUS ΥΠΗΡΕΣΊΑΣ**, **ΌΝΟΜΑ ΔΙΑΝΟΜΈΑΣ ΣΥΜΒΆΝΤΟΣ**, **ΌΝΟΜΑ ΠΟΛΙΤΙΚΉΣ ΔΙΑΝΟΜΈΑ ΣΥΜΒΆΝΤΟΣ**, **ΚΛΕΙΔΊ ΠΟΛΙΤΙΚΉΣ ΔΙΑΝΟΜΈΑ ΣΥΜΒΆΝΤΩΝ**και **ΠΛΉΘΟΣ ΔΙΑΜΕΡΙΣΜΆΤΩΝ ΔΙΑΝΟΜΈΑ ΣΥΜΒΆΝ**.

    * **ΌΝΟΜΑ ΣΥΜΒΆΝΤΟΣ ΔΙΑΝΟΜΈΑ**: Επιλέξτε το όνομα του συμβάντος διανομέα.

    * **ΌΝΟΜΑ ΠΟΛΙΤΙΚΉΣ ΔΙΑΝΟΜΈΑ ΣΥΜΒΆΝ**: Επιλέξτε την πολιτική διανομέα συμβάντων που δημιουργήσατε νωρίτερα σε αυτό το πρόγραμμα εκμάθησης.

    * **ΟΜΆΔΑ ΚΑΤΑΝΑΛΩΤΉ ΔΙΑΝΟΜΈΑ ΣΥΜΒΆΝ**: Πληκτρολογήστε το όνομα της ομάδας καταναλωτή που δημιουργήσατε νωρίτερα σε αυτό το πρόγραμμα εκμάθησης.
5.  Κάντε κλικ στο δεξιό κουμπί.
6.  Καθορίστε τις ακόλουθες τιμές:

    * **ΜΟΡΦΉ ΣΕΙΡΙΟΠΟΙΗΤΉΣ ΣΥΜΒΆΝ**: JSON
    * **ΚΩΔΙΚΟΠΟΊΗΣΗ**: UTF8

7.  Κάντε κλικ στο κουμπί **ΈΛΕΓΧΟΣ** για να προσθέσετε αυτή την προέλευση και για να επαληθεύσετε ότι ροή ανάλυσης να συνδεθείτε με επιτυχία την ενότητα συμβάντων.

### <a name="specify-job-query"></a>Καθορισμός ερωτήματος εργασία

Ανάλυση ροή υποστηρίζει ένα μοντέλο απλή, δηλωτικό ερωτήματος που περιγράφει τους μετασχηματισμούς. Για να μάθετε περισσότερα σχετικά με τη γλώσσα, ανατρέξτε στο άρθρο [Αναφορά γλώσσας ερωτήματος ανάλυσης ροή Azure](https://msdn.microsoft.com/library/azure/dn834998.aspx).  Αυτό το πρόγραμμα εκμάθησης, θα σας βοηθήσει να συντάσσει και να ελέγξετε πολλών ερωτημάτων στα δεδομένα του Twitter.

#### <a name="sample-data-input"></a>Δείγμα δεδομένων εισόδου

Για να επικυρώσετε το ερώτημά σας σε σχέση με την πραγματική εργασία δεδομένων, μπορείτε να χρησιμοποιήσετε τη δυνατότητα **ΔΕΊΓΜΑΤΟΣ ΔΕΔΟΜΈΝΩΝ** για να εξαγάγετε συμβάντα από το ροή και να δημιουργήσετε ένα αρχείο .json τα συμβάντα για σκοπούς δοκιμής.

1.  Επιλέξτε το συμβάν εισαγωγής διανομέας και, στη συνέχεια, κάντε κλικ στην επιλογή **ΔΕΊΓΜΑΤΑ ΔΕΔΟΜΈΝΩΝ** στο κάτω μέρος της σελίδας.
2.  Στο παράθυρο διαλόγου που ανοίγει, καθορίστε μια **ΏΡΑ ΈΝΑΡΞΗΣ** για να ξεκινήσετε τη συλλογή δεδομένων και μια **ΔΙΆΡΚΕΙΑ** για τον όγκο πρόσθετα δεδομένα για την εκμετάλλευση.
3.  Κάντε κλικ στο κουμπί **ΛΕΠΤΟΜΈΡΕΙΕΣ** και, στη συνέχεια, κάντε κλικ στη σύνδεση **κάντε κλικ εδώ** για να κάνετε λήψη και να αποθηκεύσετε το αρχείο που δημιουργήθηκε .json.

#### <a name="pass-through-query"></a>Ερώτημα διαβίβασης
Για να ξεκινήσετε, θα κάνουμε ένα απλό ερώτημα διαβίβασης που έργα όλα τα πεδία του συμβάντος.

1.  Κάντε κλικ στο **ΕΡΏΤΗΜΑ** στο επάνω μέρος της σελίδας ανάλυση ροής εργασίας.
2.  Στο πρόγραμμα επεξεργασίας κώδικα, αντικαταστήστε το πρότυπο αρχικού ερωτήματος με τα εξής:

        SELECT * FROM TwitterStream

    Βεβαιωθείτε ότι το όνομα του αρχείου προέλευσης εισαγωγής συμφωνεί με το όνομα της εισόδου που καθορίσατε προηγουμένως.

3.  Στην περιοχή του προγράμματος επεξεργασίας ερωτήματος, κάντε κλικ στην επιλογή **Έλεγχος** .
4.  Μεταβείτε στο αρχείο .json δείγματος.
5.  Κάντε κλικ στο κουμπί **ΈΛΕΓΧΟΣ** και δείτε τα αποτελέσματα κάτω από τον ορισμό του ερωτήματος.

    ![Αποτελέσματα που εμφανίζονται κάτω από το στοιχείο Ορισμός ερωτήματος](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-sentiment-by-topic.png)

#### <a name="count-of-tweets-by-topic-tumbling-window-with-aggregation"></a>Καταμέτρηση του tweets από το θέμα: παράθυρο Tumbling με συνάθροισης

Για να συγκρίνετε τον αριθμό των αναφορών μεταξύ των θεμάτων, ας χρησιμοποιήσουμε ένα [TumblingWindow](https://msdn.microsoft.com/library/azure/dn835055.aspx) για να λάβετε το πλήθος των αναφορών κατά θέμα κάθε πέντε δευτερόλεπτα.

1.  Αλλάξτε το ερώτημα στο πρόγραμμα επεξεργασίας κώδικα για να:

        SELECT System.Timestamp as Time, Topic, COUNT(*)
        FROM TwitterStream TIMESTAMP BY CreatedAt
        GROUP BY TUMBLINGWINDOW(s, 5), Topic

    Αυτό το ερώτημα χρησιμοποιεί τη **Χρονική ΣΉΜΑΝΣΗ από** τη λέξη-κλειδί για να καθορίσετε ένα πεδίο χρονικής σήμανσης στο φορτίο να χρησιμοποιηθεί με το χρονικό κατά τον υπολογισμό. Εάν αυτό το πεδίο δεν καθορίζεται, η λειτουργία Άνοιγμα παραθύρου θα εκτελεστεί από χρησιμοποιώντας την ώρα που έφτασαν κάθε συμβάντος στην ενότητα συμβάντων.  Μάθετε περισσότερα στην ενότητα "Ώρα εφαρμογή και στο χρόνο άφιξης" [ροή ανάλυση ερώτημα](https://msdn.microsoft.com/library/azure/dn834998.aspx)αναφοράς.

    Αυτό το ερώτημα επίσης αποκτά πρόσβαση σε μια χρονική σήμανση για το τέλος κάθε παραθύρου, χρησιμοποιώντας την ιδιότητα **System.Timestamp** .

2.  Κάντε κλικ στην επιλογή **Επανεκτέλεση** κάτω από το πρόγραμμα επεξεργασίας ερωτήματος για να δείτε τα αποτελέσματα του ερωτήματος.

#### <a name="identify-trending-topics-sliding-window"></a>Προσδιορισμός τάσης θέματα: κυλιόμενο παράθυρο

Για να προσδιορίσετε τάσης θέματα, θα δούμε για θέματα που περνούν από μια οριακή τιμή για αναφορές σε μια δεδομένη χρονική περίοδο. Για τους σκοπούς αυτής της εκμάθησης, θα σας θα έλεγχος για θέματα που αναφέρονται περισσότερες από 20 φορές τα τελευταία πέντε δευτερόλεπτα, χρησιμοποιώντας μια [SlidingWindow](https://msdn.microsoft.com/library/azure/dn835051.aspx).

1.  Αλλάξτε το ερώτημα στο πρόγραμμα επεξεργασίας κώδικα σε: ΕΠΙΛΈΞΤΕ System.Timestamp ως ώρα, θέμα, COUNT (*) ως αναφορές από TwitterStream χρονικής ΣΉΜΑΝΣΗΣ με CreatedAt ΟΜΆΔΑ με SLIDINGWINDOW(s, 5), ΧΡΕΙΆΖΕΤΑΙ να ΜΕΤΡΉΣΕΤΕ το θέμα (*) > 20

2.  Κάντε κλικ στην επιλογή **Επανεκτέλεση** κάτω από το πρόγραμμα επεξεργασίας ερωτήματος για να δείτε τα αποτελέσματα του ερωτήματος.

    ![Αποτέλεσμα ερωτήματος κυλιόμενο παράθυρο](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-query-output.png)

#### <a name="count-of-mentions-and-sentiment-tumbling-window-with-aggregation"></a>Καταμέτρηση των αναφορών και άποψη: παράθυρο Tumbling με συνάθροισης
Το τελικό ερώτημα που θα σας θα ελέγξετε χρησιμοποιεί **TumblingWindow** για να βρείτε τον αριθμό των αναφορών, μέσος όρος, ελάχιστο, μέγιστο και τυπική απόκλιση της βαθμολογία άποψη για κάθε θέμα κάθε πέντε δευτερόλεπτα.

1.  Αλλάξτε το ερώτημα στο πρόγραμμα επεξεργασίας κώδικα για να:

        SELECT System.Timestamp as Time, Topic, COUNT(*), AVG(SentimentScore), MIN(SentimentScore),
        Max(SentimentScore), STDEV(SentimentScore)
        FROM TwitterStream TIMESTAMP BY CreatedAt
        GROUP BY TUMBLINGWINDOW(s, 5), Topic

2.  Κάντε κλικ στην επιλογή **Επανεκτέλεση** κάτω από το πρόγραμμα επεξεργασίας ερωτήματος για να δείτε τα αποτελέσματα του ερωτήματος.
3.  Αυτό είναι το ερώτημα που θα χρησιμοποιήσουμε για μας πίνακα εργαλείων.  Κάντε κλικ στην επιλογή " **ΑΠΟΘΉΚΕΥΣΗ** " στο κάτω μέρος της σελίδας.


## <a name="create-output-sink"></a>Δημιουργία δέκτη εξόδου

Τώρα που έχετε ορίσαμε ροή ενός συμβάντος, ένα συμβάν διανομέα της εισόδου ingest συμβάντων και ένα ερώτημα για να εκτελέσετε ένα μετασχηματισμό από τη ροή, το τελευταίο βήμα είναι να ορίσετε ενός δέκτη εξόδου για το έργο.  Θα σας θα γράψτε τα συμβάντα συγκεντρωτική tweet από το ερώτημα εργασία με το χώρο αποθήκευσης αντικειμένων Blob του Azure.  Που επίσης μπορεί να προωθήσετε τα αποτελέσματα σε βάση δεδομένων SQL Azure, χώρος αποθήκευσης πινάκων του Azure, ή συμβάν διανομείς, ανάλογα με την εφαρμογή του συγκεκριμένες ανάγκες.

Χρησιμοποιήστε τα ακόλουθα βήματα για να δημιουργήσετε ένα κοντέινερ για το χώρο αποθήκευσης αντικειμένων Blob, εάν δεν έχετε ήδη ένα:

1.  Χρήση ενός υπάρχοντος λογαριασμού χώρου αποθήκευσης ή να δημιουργήσετε ένα νέο λογαριασμό του χώρου αποθήκευσης, επιλέγοντας **ΔΗΜΙΟΥΡΓΊΑ** > **ΥΠΗΡΕΣΊΕΣ ΔΕΔΟΜΈΝΩΝ** > **χώρου ΑΠΟΘΉΚΕΥΣΗΣ** > **ΓΡΉΓΟΡΗΣ ΔΗΜΙΟΥΡΓΊΑΣ**και, στη συνέχεια, ακολουθήστε τις οδηγίες στην οθόνη.
2.  Επιλέξτε το λογαριασμό χώρου αποθήκευσης, κάντε κλικ στην επιλογή **ΚΟΝΤΈΙΝΕΡ** στο επάνω μέρος της σελίδας και, στη συνέχεια, κάντε κλικ στην επιλογή **ΠΡΟΣΘΉΚΗ**.
3.  Καθορίστε ένα **ΌΝΟΜΑ** για το κοντέινερ και ορίστε την **ΠΡΌΣΒΑΣΗ** σε **Δημόσια Blob**.

## <a name="specify-job-output"></a>Καθορίστε το αποτέλεσμα του έργου

1.  Στην εργασία σας ροή ανάλυση, κάντε κλικ στην επιλογή **ΕΞΌΔΟΥ** στο επάνω μέρος της σελίδας και, στη συνέχεια, κάντε κλικ στην επιλογή **Προσθήκη ΕΞΌΔΟΥ**. Παράθυρο διαλόγου που ανοίγει θα σας καθοδηγήσει αρκετά βήματα για να ρυθμίσετε το αποτέλεσμα.
2.  Κάντε κλικ στην επιλογή **Χώρος ΑΠΟΘΉΚΕΥΣΗΣ αντικειμένων BLOB**και, στη συνέχεια, κάντε κλικ στο δεξιό κουμπί.
3.  Πληκτρολογήστε ή επιλέξτε τις παρακάτω τιμές στην τρίτη σελίδα:

    * **ΨΕΥΔΏΝΥΜΟ ΕΞΌΔΟΥ**: Πληκτρολογήστε ένα φιλικό όνομα για αυτό το αποτέλεσμα εργασίας.

    * **ΣΥΝΔΡΟΜΉ**: Εάν είναι το χώρο αποθήκευσης αντικειμένων Blob που δημιουργήσατε στην ίδια συνδρομή ως της ανάλυσης ροή εργασίας, κάντε κλικ στην επιλογή **Χρήση λογαριασμού χώρου αποθήκευσης από τρέχουσα συνδρομή σας**. Εάν ο χώρος αποθήκευσης είναι σε μια διαφορετική συνδρομή, κάντε κλικ στην επιλογή **Χρήση λογαριασμού χώρου αποθήκευσης από μια άλλη συνδρομή**και εισαγάγετε με μη αυτόματο τρόπο τις πληροφορίες για **Το ΛΟΓΑΡΙΑΣΜΌ χώρου ΑΠΟΘΉΚΕΥΣΗΣ**, **ΚΛΕΙΔΊ ΛΟΓΑΡΙΑΣΜΟΎ χώρου ΑΠΟΘΉΚΕΥΣΗΣ**και **ΚΟΝΤΈΙΝΕΡ**.

    * **Το ΛΟΓΑΡΙΑΣΜΌ χώρου ΑΠΟΘΉΚΕΥΣΗΣ**: Επιλέξτε το όνομα του λογαριασμού χώρου αποθήκευσης.

    * **ΚΟΝΤΈΙΝΕΡ**: Επιλέξτε το όνομα του κοντέινερ.

    * **Όνομα ΑΡΧΕΊΟΥ ΠΡΌΘΕΜΑ**: Πληκτρολογήστε ένα αρχείο πρόθεμα για χρήση κατά τη σύνταξη blob εξόδου.

4.  Κάντε κλικ στο δεξιό κουμπί.
5.  Καθορίστε τις ακόλουθες τιμές:
    * **ΜΟΡΦΉ ΣΕΙΡΙΟΠΟΙΗΤΉΣ ΣΥΜΒΆΝ**: JSON
    * **ΚΩΔΙΚΟΠΟΊΗΣΗ**: UTF8
6.  Κάντε κλικ στο κουμπί **ΈΛΕΓΧΟΣ** για να προσθέσετε αυτή την προέλευση και για να επαληθεύσετε ότι ανάλυση ροή μπορεί να συνδεθεί με επιτυχία με το λογαριασμό χώρου αποθήκευσης.

## <a name="start-job"></a>Έναρξη εργασίας

Επειδή η εργασία εισαγωγής, ερώτημα και εξόδου όλα έχουν καθοριστεί, είμαστε έτοιμοι να ξεκινήσει η εργασία ροής ανάλυσης.

1.  Από την εργασία **πίνακα ΕΡΓΑΛΕΊΩΝ**, κάντε κλικ στο κουμπί " **ΈΝΑΡΞΗ** " στο κάτω μέρος της σελίδας.
2.  Στο παράθυρο διαλόγου που ανοίγει, κάντε κλικ στην επιλογή **ΏΡΑ ΈΝΑΡΞΗΣ του ΈΡΓΟΥ**και, στη συνέχεια, κάντε κλικ στο κουμπί **ΈΛΕΓΧΟΣ** στο κάτω μέρος του παραθύρου διαλόγου. Την κατάσταση της εργασίας θα αλλάξει σε **Έναρξη** και λίγο θα αλλάξουν με την **Εκτέλεση**.


## <a name="view-output-for-sentiment-analysis"></a>Προβολή εξόδου για την ανάλυση άποψη

Μετά την εργασία σας εκτελείται και επεξεργασίας σε πραγματικό χρόνο ροής Twitter, επιλέξτε πώς θέλετε να προβάλετε την έξοδο για την ανάλυση άποψη. Χρησιμοποιήστε ένα εργαλείο όπως [Εξερεύνηση χώρου αποθήκευσης Azure](https://azurestorageexplorer.codeplex.com/) ή [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction) για να δείτε το αποτέλεσμα του έργου σε πραγματικό χρόνο. Από εδώ, μπορείτε να χρησιμοποιήσετε το [Power BI](https://powerbi.com/) για να επεκτείνετε την εφαρμογή σας για να συμπεριλάβετε έναν προσαρμοσμένο πίνακα εργαλείων, όπως αυτό στο παρακάτω στιγμιότυπο οθόνης.

![Ανάλυση μέσα κοινωνικής δικτύωσης: ανάλυση ροή άποψη ανάλυσης εξόδου (γνώμη εξόρυξης) σε έναν πίνακα εργαλείων του Power BI.](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-output-power-bi.png)

## <a name="get-support"></a>Λήψη υποστήριξης
Για περαιτέρω βοήθεια, δοκιμάστε να μας [φόρουμ Azure ροή ανάλυσης](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).


## <a name="next-steps"></a>Επόμενα βήματα

- [Εισαγωγή στην ανάλυση Azure ροής](stream-analytics-introduction.md)
- [Γρήγορα αποτελέσματα με το Azure ροή ανάλυσης](stream-analytics-get-started.md)
- [Κλίμακα Azure ανάλυση ροής εργασιών](stream-analytics-scale-jobs.md)
- [Αναφορά γλώσσας ερωτήματος ανάλυσης Azure ροής](https://msdn.microsoft.com/library/azure/dn834998.aspx)
- [Azure ροή ανάλυση διαχείρισης REST API αναφοράς](https://msdn.microsoft.com/library/azure/dn835031.aspx)
