<properties
   pageTitle="Ρύθμιση παραμέτρων τους ρόλους για μια υπηρεσία Azure Cloud με το Visual Studio | Microsoft Azure"
   description="Μάθετε πώς να εγκαταστήσετε και να ρυθμίσετε τους ρόλους για τις υπηρεσίες Azure cloud με χρήση του Visual Studio."
   services="visual-studio-online"
   documentationCenter="na"
   authors="TomArcher"
   manager="douge"
   editor="" />
<tags
   ms.service="multiple"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="multiple"
   ms.date="08/15/2016"
   ms.author="tarcher" />

# <a name="configure-the-roles-for-an-azure-cloud-service-with-visual-studio"></a>Ρύθμιση παραμέτρων τους ρόλους για μια υπηρεσία Azure Cloud με το Visual Studio

Μια υπηρεσία Azure cloud μπορεί να έχει ένα ή περισσότερα εργαζόμενου ή ρόλους web. Για κάθε ρόλο πρέπει να ορίσετε τον τρόπο ρύθμισης αυτόν το ρόλο και επίσης να ρυθμίσετε τον τρόπο εκτέλεσης αυτόν το ρόλο. Για να μάθετε περισσότερα σχετικά με τους ρόλους στο cloud services, ανατρέξτε στο θέμα το βίντεο [Εισαγωγή στις υπηρεσίες Cloud Azure](https://channel9.msdn.com/Series/Windows-Azure-Cloud-Services-Tutorials/Introduction-to-Windows-Azure-Cloud-Services). Οι πληροφορίες για την υπηρεσία στο cloud αποθηκεύονται στα ακόλουθα αρχεία:

- **ServiceDefinition.csdef**

    Το αρχείο ορισμού υπηρεσίας καθορίζει τις ρυθμίσεις χρόνου εκτέλεσης για την υπηρεσία cloud όπως απαιτούνται με το ρόλο, τα τελικά σημεία και το μέγεθος εικονική μηχανή. Κανένα από τα δεδομένα που είναι αποθηκευμένα σε αυτό το αρχείο μπορεί να αλλάξει όταν εκτελείται ο ρόλος σας.

- **ServiceConfiguration.cscfg**

    Το αρχείο ρύθμισης παραμέτρων υπηρεσίας ρυθμίζει τις παραμέτρους πόσες εμφανίσεις της ένα ρόλο που εκτελούνται και τις τιμές από τις ρυθμίσεις που ορίζονται για ένα ρόλο. Τα δεδομένα που είναι αποθηκευμένα σε αυτό το αρχείο μπορεί να αλλάξει ενώ εκτελείται ο ρόλος σας.

Για να μπορέσετε να αποθηκεύσετε διαφορετικές τιμές για αυτές τις ρυθμίσεις για τον τρόπο εκτέλεσης ο ρόλος σας, μπορείτε να έχετε πολλές ρυθμίσεις παραμέτρων υπηρεσίας. Μπορείτε να χρησιμοποιήσετε μια διαφορετική υπηρεσία ρύθμιση παραμέτρων για κάθε περιβάλλον ανάπτυξης. Για παράδειγμα, μπορείτε να ορίσετε συμβολοσειρά σύνδεσης λογαριασμού χώρου αποθήκευσης για να χρησιμοποιήσετε την τοπική αποθήκευση Azure προσομοίωσης σε μια ρύθμιση παραμέτρων τοπική υπηρεσία και να δημιουργήσετε μια άλλη ρύθμιση παραμέτρων της υπηρεσίας για να χρησιμοποιήσετε το Azure χώρου αποθήκευσης στο cloud.

Όταν δημιουργείτε μια νέα υπηρεσία Azure cloud στο Visual Studio, δύο ρυθμίσεις παραμέτρων υπηρεσίας δημιουργούνται από προεπιλογή. Αυτές οι ρυθμίσεις παραμέτρων προστίθενται στο έργο σας Azure. Ονομάζονται τις ρυθμίσεις παραμέτρων:

- ServiceConfiguration.Cloud.cscfg

- ServiceConfiguration.Local.cscfg

## <a name="configure-an-azure-cloud-service"></a>Ρύθμιση παραμέτρων σε μια υπηρεσία Azure cloud

Μπορείτε να ρυθμίσετε μια υπηρεσία Azure cloud από την Εξερεύνηση λύσεων στο Visual Studio, όπως φαίνεται στην παρακάτω εικόνα.

![Ρύθμιση παραμέτρων υπηρεσίας Cloud](./media/vs-azure-tools-configure-roles-for-cloud-service/IC713462.png)

### <a name="to-configure-an-azure-cloud-service"></a>Για να ρυθμίσετε μια υπηρεσία Azure cloud

1. Για να ρυθμίσετε τις παραμέτρους κάθε ρόλο στο έργο σας Azure από την **Εξερεύνηση λύσεων**, ανοίξτε το μενού συντόμευσης για το ρόλο του Azure έργου και, στη συνέχεια, επιλέξτε **Ιδιότητες**.

    Μια σελίδα με το όνομα του ρόλου εμφανίζεται στο πρόγραμμα επεξεργασίας Visual Studio. Η σελίδα εμφανίζει τα πεδία για την καρτέλα **ρύθμισης παραμέτρων** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε το όνομα της ρύθμισης παραμέτρων της υπηρεσίας που θέλετε να επεξεργαστείτε.

    Εάν θέλετε να κάνετε αλλαγές σε όλες τις ρυθμίσεις παραμέτρων υπηρεσίας για τον συγκεκριμένο ρόλο, μπορείτε να επιλέξετε **Όλες τις παραμέτρους**.

    >[AZURE.IMPORTANT] Εάν επιλέξετε μια συγκεκριμένη υπηρεσία ρύθμιση παραμέτρων, ορισμένες ιδιότητες είναι απενεργοποιημένες επειδή μπορούν να οριστούν μόνο για όλες τις παραμέτρους. Για να επεξεργαστείτε αυτές τις ιδιότητες, πρέπει να επιλέξετε όλες τις παραμέτρους.

    Τώρα, μπορείτε να επιλέξετε μια καρτέλα για να ενημερώσετε τις ιδιότητες με δυνατότητα σε αυτήν την προβολή.

## <a name="change-the-number-of-role-instances"></a>Αλλαγή του αριθμού των παρουσιών ρόλων

Για να βελτιώσετε την απόδοση του την υπηρεσία cloud, μπορείτε να αλλάξετε τον αριθμό των εμφανίσεων ενός ρόλου που εκτελούνται, με βάση τον αριθμό των χρηστών ή η φόρτωση αναμένεται για το συγκεκριμένο ρόλο. Μια ξεχωριστή εικονική μηχανή δημιουργείται για κάθε παρουσία του ρόλου όταν εκτελείται η υπηρεσία cloud στο Azure. Αυτό θα επηρεάσει η χρέωση για την ανάπτυξη αυτής της υπηρεσίας cloud. Για περισσότερες πληροφορίες σχετικά με τις χρεώσεις, ανατρέξτε στο θέμα [Κατανόηση του τιμολογίου χρέωσης για το Microsoft Azure](billing/billing-understand-your-bill.md).

### <a name="to-change-the-number-of-instances-for-a-role"></a>Για να αλλάξετε τον αριθμό των εμφανίσεων για ένα ρόλο

1. Επιλέξτε την καρτέλα **ρύθμισης παραμέτρων** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε τη ρύθμιση παραμέτρων της υπηρεσίας που θέλετε να ενημερώσετε.

    >[AZURE.NOTE] Μπορείτε να ορίσετε το πλήθος παρουσία για μια συγκεκριμένη υπηρεσία ρύθμιση παραμέτρων ή για όλες τις παραμέτρους της υπηρεσίας.

1. Στο πλαίσιο κειμένου **παρουσία count** , εισαγάγετε τον αριθμό των παρουσιών που θέλετε να ξεκινήσετε για αυτόν το ρόλο.

    >[AZURE.NOTE] Κάθε παρουσία εκτελείται σε ξεχωριστό εικονικό μηχάνημα κατά τη δημοσίευση της υπηρεσίας cloud Azure.

1. Επιλέξτε το κουμπί **Αποθήκευση** στη γραμμή εργαλείων για να αποθηκεύσετε αυτές τις αλλαγές στο αρχείο παραμέτρων υπηρεσίας.

## <a name="manage-connection-strings-for-storage-accounts"></a>Διαχείριση συμβολοσειρές σύνδεσης για τους λογαριασμούς χώρου αποθήκευσης

Μπορείτε να προσθέσετε, να καταργήσετε ή να τροποποιήσετε συμβολοσειρών σύνδεσης για τις ρυθμίσεις παραμέτρων υπηρεσίας. Μπορεί να θέλετε διαφορετικές συμβολοσειρές σύνδεσης για διαφορετική υπηρεσία διαμορφώσεις. Για παράδειγμα, μπορεί να θέλετε μια συμβολοσειρά τοπικής σύνδεσης για τη ρύθμιση παραμέτρων μιας τοπικής υπηρεσίας που έχει την τιμή `UseDevelopmentStorage=true`. Μπορεί επίσης να θέλετε να ρυθμίσετε τις παραμέτρους μια ρύθμιση παραμέτρων της υπηρεσίας cloud που χρησιμοποιεί ένα λογαριασμό του χώρου αποθήκευσης στο Azure.

>[AZURE.WARNING] Όταν εισάγετε τις βασικές πληροφορίες λογαριασμού Azure χώρου αποθήκευσης για μια συμβολοσειρά σύνδεσης του λογαριασμού χώρου αποθήκευσης, αυτές οι πληροφορίες αποθηκεύονται τοπικά στο αρχείο ρύθμισης παραμέτρων της υπηρεσίας. Ωστόσο, αυτές οι πληροφορίες είναι προς το παρόν δεν έχουν αποθηκευτεί ως κρυπτογραφημένο κείμενο.

Χρησιμοποιώντας μια διαφορετική τιμή για κάθε ρύθμιση παραμέτρων της υπηρεσίας, δεν χρειάζεται να χρησιμοποιήσετε διαφορετικές συμβολοσειρές σύνδεσης στην υπηρεσία cloud ή να τροποποιήσετε τον κωδικό, όταν δημοσιεύετε την υπηρεσία cloud Azure. Μπορείτε να χρησιμοποιήσετε το ίδιο όνομα για τη συμβολοσειρά σύνδεσης στον κώδικά σας και η τιμή θα είναι διαφορετικό, με βάση τη ρύθμιση παραμέτρων της υπηρεσίας που επιλέγετε όταν δημιουργείτε την υπηρεσία cloud ή να τη δημοσιεύσετε.

### <a name="to-manage-connection-strings-for-storage-accounts"></a>Για να διαχειριστείτε συμβολοσειρές σύνδεσης για τους λογαριασμούς χώρου αποθήκευσης

1. Επιλέξτε την καρτέλα **Ρυθμίσεις** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε τη ρύθμιση παραμέτρων της υπηρεσίας που θέλετε να ενημερώσετε.

    >[AZURE.NOTE] Μπορείτε να ενημερώσετε συμβολοσειρές σύνδεσης για μια συγκεκριμένη υπηρεσία ρύθμιση παραμέτρων, αλλά εάν θέλετε να προσθέσετε ή να διαγράψετε μια συμβολοσειρά σύνδεσης πρέπει να επιλέξετε όλες τις παραμέτρους.

1. Για να προσθέσετε μια συμβολοσειρά σύνδεσης, επιλέξτε το κουμπί **Προσθήκη ρύθμιση** . Προστίθεται μια νέα καταχώρηση στη λίστα.

1. Στο πλαίσιο κειμένου **όνομα** , πληκτρολογήστε το όνομα που θέλετε να χρησιμοποιήσετε για τη συμβολοσειρά σύνδεσης.

1. Στην αναπτυσσόμενη λίστα **Type** , επιλέξτε **Συμβολοσειρά σύνδεσης**.

1. Για να αλλάξετε την τιμή για τη συμβολοσειρά σύνδεσης, επιλέξτε το κουμπί με τα αποσιωπητικά (...). Εμφανίζεται το παράθυρο διαλόγου **Δημιουργία συμβολοσειράς σύνδεσης χώρου αποθήκευσης** .

1. Για να χρησιμοποιήσετε το προσομοίωσης λογαριασμού του τοπικού χώρου αποθήκευσης, επιλέξτε το κουμπί επιλογής **προσομοίωσης χώρο αποθήκευσης στο Microsoft Azure** και, στη συνέχεια, επιλέξτε το κουμπί **OK** .

1. Για να χρησιμοποιήσετε ένα λογαριασμό του χώρου αποθήκευσης στο Azure, επιλέξτε το κουμπί επιλογής **τη συνδρομή σας** και επιλέξτε το λογαριασμό χώρου αποθήκευσης που θέλετε.

1. Για να χρησιμοποιήσετε προσαρμοσμένα διαπιστευτήρια, επιλέξτε το κουμπί επιλογές **έχουν εισαχθεί μη αυτόματα τα διαπιστευτήρια** . Πληκτρολογήστε το όνομα του λογαριασμού χώρου αποθήκευσης και το πρωτεύον ή το δεύτερο κλειδί. Για πληροφορίες σχετικά με το πώς μπορείτε να δημιουργήσετε ένα λογαριασμό του χώρου αποθήκευσης και πώς μπορείτε να καταχωρήσετε τις λεπτομέρειες για το λογαριασμό χώρου αποθήκευσης στο παράθυρο διαλόγου **Δημιουργία συμβολοσειράς σύνδεσης χώρου αποθήκευσης** , ανατρέξτε στο θέμα [Προετοιμασία για να δημοσιεύσετε ή να αναπτύξετε μια εφαρμογή του Azure από το Visual Studio](vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio.md).

1. Για να διαγράψετε μια συμβολοσειρά σύνδεσης, επιλέξτε τη συμβολοσειρά σύνδεσης και, στη συνέχεια, επιλέξτε το κουμπί **Κατάργηση ρύθμιση** .

1. Επιλέξτε το εικονίδιο **Αποθήκευση** στη γραμμή εργαλείων για να αποθηκεύσετε αυτές τις αλλαγές στο αρχείο παραμέτρων υπηρεσίας.

1. Για να αποκτήσετε πρόσβαση τη συμβολοσειρά σύνδεσης στο αρχείο ρύθμισης παραμέτρων της υπηρεσίας, πρέπει να λάβετε την τιμή της ρύθμισης παραμέτρων. Ο ακόλουθος κώδικας εμφανίζει ένα παράδειγμα όπου έχει δημιουργηθεί χώρος αποθήκευσης αντικειμένων blob και δεδομένων χρησιμοποιώντας μια συμβολοσειρά σύνδεσης που έχουν αποσταλεί `MyConnectionString` από το αρχείο ρύθμισης παραμέτρων υπηρεσίας όταν ένας χρήστης επιλέγει **Button1** στη σελίδα Default.aspx στο ρόλο web για μια υπηρεσία Azure cloud. Προσθέστε τα ακόλουθα χρήση προτάσεων για Default.aspx.cs:

    ```
    using Microsoft.WindowsAzure;
    using Microsoft.WindowsAzure.Storage;
    using Microsoft.WindowsAzure.ServiceRuntime;
    ```

1. Ανοίξτε Default.aspx.cs σε προβολή σχεδίασης και προσθέστε ένα κουμπί από την εργαλειοθήκη. Προσθέστε τον ακόλουθο κώδικα για την `Button1_Click` μέθοδο. Χρησιμοποιεί αυτόν τον κωδικό `GetConfigurationSettingValue` για να λάβετε την τιμή από το αρχείο ρύθμισης παραμέτρων υπηρεσίας για τη συμβολοσειρά σύνδεσης. Στη συνέχεια, δημιουργείται ένα blob στο λογαριασμό χώρου αποθήκευσης που αναφέρεται στη συμβολοσειρά σύνδεσης `MyConnectionString` και τέλος του προγράμματος προσθέτει κείμενο για το αντικείμενο blob.

    ```
    protected void Button1_Click(object sender, EventArgs e)
    {
        // Setup the connection to Azure Storage
        var storageAccount = CloudStorageAccount.Parse(RoleEnvironment.GetConfigurationSettingValue("MyConnectionString"));
        var blobClient = storageAccount.CreateCloudBlobClient();
        // Get and create the container
        var blobContainer = blobClient.GetContainerReference("quicklap");
        blobContainer.CreateIfNotExists();
        // upload a text blob
        var blob = blobContainer.GetBlockBlobReference(Guid.NewGuid().ToString());
        blob.UploadText("Hello Azure");

    }
    ```

## <a name="add-custom-settings-to-use-in-your-azure-cloud-service"></a>Προσθέστε προσαρμοσμένες ρυθμίσεις για να χρησιμοποιήσετε στην υπηρεσία Azure cloud

Προσαρμοσμένες ρυθμίσεις στο αρχείο ρύθμισης παραμέτρων της υπηρεσίας σας επιτρέπουν να προσθέσετε ένα όνομα και μια τιμή για μια συμβολοσειρά για μια συγκεκριμένη υπηρεσία ρύθμιση παραμέτρων. Μπορείτε να επιλέξετε να χρησιμοποιήσετε αυτήν τη ρύθμιση για να ρυθμίσετε μια δυνατότητα στην υπηρεσία cloud, ανάγνωση της τιμής της ρύθμισης και χρησιμοποιώντας αυτήν την τιμή για να ελέγξετε τη λογική του κώδικα. Μπορείτε να αλλάξετε αυτές τις τιμές παραμέτρων υπηρεσίας χωρίς να χρειάζεται να δημιουργήσετε ξανά το πακέτο υπηρεσιών ή όταν εκτελείται το υπηρεσία στο cloud. Τον κωδικό να ελέγξετε για ειδοποιήσεις όταν αλλάζει η ρύθμιση. Ανατρέξτε στο θέμα [RoleEnvironment.Changing συμβάν](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.changing.aspx).

Μπορείτε να προσθέσετε, να καταργήσετε ή να τροποποιήσετε προσαρμοσμένες ρυθμίσεις για τις ρυθμίσεις παραμέτρων υπηρεσίας. Ίσως θέλετε διαφορετικά τιμές για αυτές τις συμβολοσειρές για διαφορετική υπηρεσία διαμορφώσεις.

Χρησιμοποιώντας μια διαφορετική τιμή για κάθε ρύθμιση παραμέτρων της υπηρεσίας, δεν χρειάζεται να χρησιμοποιήσετε διαφορετικό συμβολοσειρές στην υπηρεσία cloud ή να τροποποιήσετε τον κωδικό κατά τη δημοσίευση της υπηρεσίας cloud Azure. Μπορείτε να χρησιμοποιήσετε το ίδιο όνομα για τη συμβολοσειρά στον κώδικά σας και η τιμή θα είναι διαφορετικό, με βάση τη ρύθμιση παραμέτρων της υπηρεσίας που επιλέγετε όταν δημιουργείτε την υπηρεσία cloud ή να τη δημοσιεύσετε.

### <a name="to-add-custom-settings-to-use-in-your-azure-cloud-service"></a>Για να προσθέσετε προσαρμοσμένες ρυθμίσεις για να χρησιμοποιήσετε στην υπηρεσία Azure cloud

1. Επιλέξτε την καρτέλα **Ρυθμίσεις** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε τη ρύθμιση παραμέτρων της υπηρεσίας που θέλετε να ενημερώσετε.

    >[AZURE.NOTE] Μπορείτε να ενημερώσετε συμβολοσειρές για μια συγκεκριμένη υπηρεσία ρύθμιση παραμέτρων, αλλά εάν θέλετε να προσθέσετε ή να διαγράψετε μια συμβολοσειρά, πρέπει να επιλέξετε **Όλες τις παραμέτρους**.

1. Για να προσθέσετε μια συμβολοσειρά, επιλέξτε το κουμπί **Προσθήκη ρύθμιση** . Προστίθεται μια νέα καταχώρηση στη λίστα.

1. Στο πλαίσιο κειμένου **όνομα** , πληκτρολογήστε το όνομα που θέλετε να χρησιμοποιήσετε για τη συμβολοσειρά.

1. Στην αναπτυσσόμενη λίστα **Type** , επιλέξτε **συμβολοσειρά**.

1. Για να προσθέσετε ή να αλλάξετε την τιμή για τη συμβολοσειρά, στο πλαίσιο κειμένου **τιμή** , πληκτρολογήστε τη νέα τιμή.

1. Για να διαγράψετε μια συμβολοσειρά, επιλέξτε τη συμβολοσειρά και, στη συνέχεια, επιλέξτε το κουμπί **Κατάργηση ρύθμιση** .

1. Επιλέξτε το κουμπί **Αποθήκευση** στη γραμμή εργαλείων για να αποθηκεύσετε αυτές τις αλλαγές στο αρχείο παραμέτρων υπηρεσίας.

1. Για να αποκτήσετε πρόσβαση τη συμβολοσειρά στο αρχείο ρύθμισης παραμέτρων της υπηρεσίας, πρέπει να λάβετε την τιμή της ρύθμισης παραμέτρων.

    Πρέπει να βεβαιωθείτε ότι έχετε τα ακόλουθα χρησιμοποιώντας δηλώσεις ήδη προστίθενται Default.aspx.cs ακριβώς όπως κάνατε στην προηγούμενη διαδικασία.

    ```
    using Microsoft.WindowsAzure;
    using Microsoft.WindowsAzure.Storage;
    using Microsoft.WindowsAzure.ServiceRuntime;
    ```

1. Προσθέστε τον ακόλουθο κώδικα για την `Button1_Click` μέθοδο για να αποκτήσετε πρόσβαση σε αυτήν τη συμβολοσειρά με τον ίδιο τρόπο ότι έχετε πρόσβαση σε μια συμβολοσειρά σύνδεσης. Τον κωδικό, στη συνέχεια, να εκτελέσετε κάποια συγκεκριμένη κώδικα με βάση την τιμή της συμβολοσειράς ρυθμίσεις για το αρχείο ρύθμισης παραμέτρων υπηρεσίας που χρησιμοποιείται.

    ```
    var settingValue = RoleEnvironment.GetConfigurationSettingValue("MySetting");
    if (settingValue == “ThisValue”)
    {
    // Perform these lines of code
    }
    ```

## <a name="manage-local-storage-for-each-role-instance"></a>Διαχείριση του τοπικού χώρου αποθήκευσης για κάθε παρουσία ρόλων

Μπορείτε να προσθέσετε χώρο αποθήκευσης αρχείων στο τοπικό σύστημα για κάθε παρουσία του ρόλου. Μπορείτε να αποθηκεύσετε τοπικά εδώ τα δεδομένα που δεν πρέπει να είναι προσβάσιμη από άλλους ρόλους. Όλα τα δεδομένα που δεν χρειάζεται να αποθηκεύσετε σε πίνακα, blob ή βάση δεδομένων SQL του χώρου αποθήκευσης μπορούν να αποθηκευτούν σε αυτό το σημείο. Για παράδειγμα, μπορείτε να χρησιμοποιήσετε αυτό τοπική αποθήκευση σε cache δεδομένα που ίσως χρειαστεί να χρησιμοποιηθεί ξανά. Δεν είναι δυνατή η πρόσβαση σε αυτό δεδομένα που έχουν αποθηκευτεί με άλλες παρουσίες του ρόλου. 

Τοπική αποθήκευση ρυθμίσεις εφαρμόζονται σε όλες τις παραμέτρους της υπηρεσίας. Μπορείτε να προσθέσετε μόνο, κατάργηση ή τροποποίηση τοπικού χώρου αποθήκευσης για όλες τις παραμέτρους της υπηρεσίας.

### <a name="to-manage-local-storage-for-each-role-instance"></a>Για να διαχειριστείτε τοπικού χώρου αποθήκευσης για κάθε παρουσία ρόλων

1. Επιλέξτε την καρτέλα **Τοπικού χώρου αποθήκευσης** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε **Όλες τις παραμέτρους**.

1. Για να προσθέσετε μια εγγραφή του τοπικού χώρου αποθήκευσης, επιλέξτε το κουμπί **Προσθήκη τοπικού χώρου αποθήκευσης** . Προστίθεται μια νέα καταχώρηση στη λίστα.

1. Στο πλαίσιο κειμένου **όνομα** , πληκτρολογήστε το όνομα που θέλετε να χρησιμοποιήσετε για αυτό τοπικού χώρου αποθήκευσης.

1. Στο πλαίσιο κειμένου " **μέγεθος** ", πληκτρολογήστε το μέγεθος σε MB που χρειάζεστε για αυτήν τοπικού χώρου αποθήκευσης.

1. Για να καταργήσετε τα δεδομένα σε αυτό τοπικού χώρου αποθήκευσης όταν η εικονική μηχανή για τον συγκεκριμένο ρόλο είναι διαγραφή τους, επιλέξτε το πλαίσιο ελέγχου **Κάδος Ανακύκλωσης καθαρισμός ρόλο** .

1. Για να επεξεργαστείτε μια υπάρχουσα καταχώρηση τοπικού χώρου αποθήκευσης, επιλέξτε τη γραμμή που πρέπει να ενημερώσετε. Στη συνέχεια, μπορείτε να επεξεργαστείτε τα πεδία, όπως περιγράφεται στα προηγούμενα βήματα.

1. Για να διαγράψετε μια καταχώρηση τοπικού χώρου αποθήκευσης, επιλέξτε την καταχώρηση χώρου αποθήκευσης από τη λίστα και, στη συνέχεια, επιλέξτε το κουμπί **Κατάργηση τοπικού χώρου αποθήκευσης** .

1. Για να αποθηκεύσετε αυτές τις αλλαγές στα αρχεία παραμέτρων των υπηρεσιών, επιλέξτε το εικονίδιο **Αποθήκευση** στη γραμμή εργαλείων.

1. Για να αποκτήσετε πρόσβαση του τοπικού χώρου αποθήκευσης που έχετε προσθέσει στο αρχείο ρύθμισης παραμέτρων της υπηρεσίας, πρέπει να λάβετε την τιμή της ρύθμισης παραμέτρων τοπικός πόρος. Χρησιμοποιήστε τις ακόλουθες γραμμές κώδικα για να αποκτήσετε πρόσβαση σε αυτή την τιμή και να δημιουργήσετε ένα αρχείο που ονομάζεται **MyStorageTest.txt** και να γράψετε μια γραμμή δεδομένων δοκιμής σε αυτό το αρχείο. Μπορείτε να προσθέσετε αυτόν τον κωδικό σε το `Button_Click` μέθοδο που χρησιμοποιήσατε στο προηγούμενο τις διαδικασίες:

1. Πρέπει να βεβαιωθείτε ότι έχετε τα ακόλουθα χρησιμοποιώντας δηλώσεις προστίθενται Default.aspx.cs:

    ```
    using System.IO;
    using System.Text;
    ```

1. Προσθέστε τον ακόλουθο κώδικα για την `Button1_Click` μέθοδο. Αυτό δημιουργεί το αρχείο στον τοπικό χώρο αποθήκευσης και συντάσσει δεδομένα δοκιμής σε αυτό το αρχείο.

    ```
    // Retrieve an object that points to the local storage resource
    LocalResource localResource = RoleEnvironment.GetLocalResource("LocalStorage1");

    //Define the file name and path
    string[] paths = { localResource.RootPath, "MyStorageTest.txt" };
    String filePath = Path.Combine(paths);

    using (FileStream writeStream = File.Create(filePath))
    {
          Byte[] textToWrite = new UTF8Encoding(true).GetBytes("Testing Web role storage");
          writeStream.Write(textToWrite, 0, textToWrite.Length);
    }
    ```

1. (Προαιρετικό) Για να δείτε αυτό το αρχείο που δημιουργήσατε κατά την εκτέλεση της υπηρεσίας cloud τοπικά, χρησιμοποιήστε τα ακόλουθα βήματα:

  1. Εκτελέστε το ρόλο web και επιλέξτε **Button1** για να βεβαιωθείτε ότι ο κώδικας μέσα `Button1_Click` λαμβάνει που ονομάζεται.

  1. Στην περιοχή ειδοποιήσεων, ανοίξτε το μενού συντόμευσης για το εικονίδιο του Azure και επιλέξτε **Εμφάνιση τον υπολογισμό προσομοίωσης περιβάλλοντος εργασίας Χρήστη**. Εμφανίζεται το παράθυρο διαλόγου **Azure προσομοίωσης τον υπολογισμό** .

  1. Επιλέξτε το ρόλο web.

  1. Στη γραμμή μενού, επιλέξτε **Εργαλεία**, **Άνοιγμα τοπικού χώρου αποθήκευσης**. Εμφανίζεται ένα παράθυρο της Εξερεύνησης των Windows.

  1. Στη γραμμή μενού, πληκτρολογήστε **MyStorageTest.txt** στο πλαίσιο κειμένου **αναζήτησης** και, στη συνέχεια, επιλέξτε **Enter** για να ξεκινήσετε την αναζήτηση.

    Το αρχείο εμφανίζεται στα αποτελέσματα αναζήτησης.

  1. Για να προβάλετε τα περιεχόμενα του αρχείου, ανοίξτε το μενού συντόμευσης για το αρχείο και επιλέξτε **Άνοιγμα**.

## <a name="collect-cloud-service-diagnostics"></a>Συλλογή Διαγνωστικά υπηρεσία cloud

Μπορείτε να συλλέξετε διαγνωστικά δεδομένα για την υπηρεσία Azure cloud. Αυτά τα δεδομένα προστίθεται σε ένα λογαριασμό του χώρου αποθήκευσης. Μπορεί να θέλετε διαφορετικές συμβολοσειρές σύνδεσης για διαφορετική υπηρεσία διαμορφώσεις. Για παράδειγμα, μπορεί να θέλετε ένα λογαριασμό του τοπικού χώρου αποθήκευσης για τη ρύθμιση παραμέτρων μιας τοπικής υπηρεσίας που έχει την τιμή UseDevelopmentStorage = true. Μπορεί επίσης να θέλετε να ρυθμίσετε τις παραμέτρους μια ρύθμιση παραμέτρων της υπηρεσίας cloud που χρησιμοποιεί ένα λογαριασμό του χώρου αποθήκευσης στο Azure. Για περισσότερες πληροφορίες σχετικά με το Azure Διαγνωστικά, ανατρέξτε στο θέμα συλλογή καταγραφή δεδομένων, χρησιμοποιώντας τα Διαγνωστικά Azure.

>[AZURE.NOTE] Η ρύθμιση παραμέτρων τοπική υπηρεσία έχει ήδη ρυθμιστεί για να χρησιμοποιήσετε τους τοπικούς πόρους. Εάν χρησιμοποιείτε τη ρύθμιση παραμέτρων της υπηρεσίας cloud για να δημοσιεύσετε την υπηρεσία Azure cloud, τη συμβολοσειρά σύνδεσης που καθορίζετε όταν δημοσιεύετε χρησιμοποιείται επίσης για τη συμβολοσειρά σύνδεσης Διαγνωστικά, εκτός και εάν έχετε καθορίσει μια συμβολοσειρά σύνδεσης. Εάν συσκευάσετε την υπηρεσία cloud χρήση του Visual Studio, δεν αλλάζει τη συμβολοσειρά σύνδεσης στο τη ρύθμιση παραμέτρων της υπηρεσίας.

### <a name="to-collect-cloud-service-diagnostics"></a>Για να συλλέξετε Διαγνωστικά υπηρεσία cloud

1. Επιλέξτε την καρτέλα **ρύθμισης παραμέτρων** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε τη ρύθμιση παραμέτρων της υπηρεσίας που θέλετε να ενημερώσετε ή να επιλέξετε **Όλες τις παραμέτρους**.

    >[AZURE.NOTE] Μπορείτε να ενημερώσετε το λογαριασμό χώρου αποθήκευσης για μια συγκεκριμένη υπηρεσία ρύθμιση παραμέτρων, αλλά εάν θέλετε να ενεργοποιήσετε ή να απενεργοποιήσετε τα Διαγνωστικά πρέπει να επιλέξετε όλες τις παραμέτρους.

1. Για να ενεργοποιήσετε τα Διαγνωστικά, επιλέξτε το πλαίσιο ελέγχου **Ενεργοποίηση Διαγνωστικά** .

1. Για να αλλάξετε την τιμή για το λογαριασμό χώρου αποθήκευσης, επιλέξτε το κουμπί με τα αποσιωπητικά (...).

    Εμφανίζεται το παράθυρο διαλόγου **Δημιουργία συμβολοσειράς σύνδεσης χώρου αποθήκευσης** .

1. Για να χρησιμοποιήσετε μια συμβολοσειρά τοπικής σύνδεσης, επιλέξτε το στοιχείο προσομοίωσης Azure χώρου αποθήκευσης και, στη συνέχεια, επιλέξτε το κουμπί **OK** .

1. Για να χρησιμοποιήσετε ένα λογαριασμό χώρου αποθήκευσης που σχετίζεται με τη συνδρομή σας στο Azure, ενεργοποιήστε την επιλογή **τη συνδρομή σας** .

1. Για να χρησιμοποιήσετε ένα λογαριασμό του χώρου αποθήκευσης για τη συμβολοσειρά σύνδεσης τοπικού, ενεργοποιήστε την επιλογή **έχουν εισαχθεί μη αυτόματα τα διαπιστευτήρια** .

    Για περισσότερες πληροφορίες σχετικά με το πώς μπορείτε να δημιουργήσετε ένα λογαριασμό του χώρου αποθήκευσης και πώς μπορείτε να καταχωρήσετε τις λεπτομέρειες για το λογαριασμό χώρου αποθήκευσης στο παράθυρο διαλόγου **Δημιουργία συμβολοσειράς σύνδεσης χώρου αποθήκευσης** , ανατρέξτε στο θέμα [Προετοιμασία για να δημοσιεύσετε ή να αναπτύξετε μια εφαρμογή του Azure από το Visual Studio](vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio.md).

1. Επιλέξτε το λογαριασμό χώρου αποθήκευσης που θέλετε να χρησιμοποιήσετε στο **όνομα του λογαριασμού**.

    Εάν είστε με μη αυτόματο τρόπο καταχώρηση των διαπιστευτηρίων σας λογαριασμό χώρου αποθήκευσης, αντιγράψτε ή πληκτρολογήστε το πρωτεύον κλειδί στο **κλειδί λογαριασμού**. Αυτό το κλειδί μπορεί να αντιγραφεί από το [Azure κλασική πύλη](http://go.microsoft.com/fwlink/?LinkID=213885). Για να αντιγράψετε αυτό το κλειδί, ακολουθώντας τα παρακάτω βήματα από την προβολή **Λογαριασμών χώρου αποθήκευσης** στην [πύλη του Azure κλασική](http://go.microsoft.com/fwlink/?LinkID=213885):
    
  1. Επιλέξτε το λογαριασμό χώρου αποθήκευσης που θέλετε να χρησιμοποιήσετε για την υπηρεσία cloud.

  1. Επιλέξτε το κουμπί **Διαχείριση πλήκτρα πρόσβασης** που βρίσκεται στο κάτω μέρος της οθόνης. Εμφανίζεται το παράθυρο διαλόγου **Διαχείριση πλήκτρων πρόσβασης** .

  1. Για να αντιγράψετε το πλήκτρο πρόσβασης, επιλέξτε το κουμπί **Αντιγραφή στο Πρόχειρο** . Τώρα μπορείτε να επικολλήσετε αυτό το κλειδί στο πεδίο **κλειδί λογαριασμού** .

1. Για να χρησιμοποιήσετε το λογαριασμό χώρου αποθήκευσης που παρέχετε, ως τη συμβολοσειρά σύνδεσης για Διαγνωστικά (και σε cache) κατά τη δημοσίευση της υπηρεσίας cloud Azure, επιλέξτε το πλαίσιο ελέγχου **Ενημέρωση ανάπτυξης του χώρου αποθήκευσης συμβολοσειρές σύνδεσης για εργαλεία διαγνωστικών και προσωρινή αποθήκευση με Azure αποθήκευσης τα διαπιστευτήρια κατά τη δημοσίευση Azure λογαριασμού** .

1. Επιλέξτε το κουμπί **Αποθήκευση** στη γραμμή εργαλείων για να αποθηκεύσετε αυτές τις αλλαγές στο αρχείο παραμέτρων υπηρεσίας.

## <a name="change-the-size-of-the-virtual-machine-used-for-each-role"></a>Αλλαγή του μεγέθους της η εικονική μηχανή που χρησιμοποιούνται για κάθε ρόλο

Μπορείτε να ορίσετε το μέγεθος εικονική μηχανή για κάθε ρόλο. Μπορείτε να ορίσετε μόνο αυτό το μέγεθος για όλες τις παραμέτρους της υπηρεσίας. Εάν επιλέξετε ένα μικρότερο μέγεθος υπολογιστή, στη συνέχεια, λιγότερο πυρήνων CPU, μνήμης και στον τοπικό δίσκο χώρου αποθήκευσης που έχει εκχωρηθεί. Επίσης, το εύρος ζώνης που έχει εκχωρηθεί είναι μικρότερο μέγεθος. Για περισσότερες πληροφορίες σχετικά με αυτά τα μεγέθη και τους πόρους που έχουν εκχωρηθεί, ανατρέξτε στο θέμα [μεγέθη για τις υπηρεσίες Cloud](cloud-services/cloud-services-sizes-specs.md).

Οι πόροι που απαιτούνται για κάθε εικονική μηχανή στο Azure επηρεάζει το κόστος της εκτέλεσης της υπηρεσίας cloud σε Azure. Για περισσότερες πληροφορίες σχετικά με τις χρεώσεις Azure, ανατρέξτε στο θέμα [Κατανόηση του τιμολογίου χρέωσης για το Microsoft Azure](billing/billing-understand-your-bill.md).

### <a name="to-change-the-size-of-the-virtual-machine"></a>Για να αλλάξετε το μέγεθος του η εικονική μηχανή

1. Επιλέξτε την καρτέλα **ρύθμισης παραμέτρων** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε **Όλες τις παραμέτρους**.

1. Για να επιλέξετε το μέγεθος για την εικονική μηχανή για τον συγκεκριμένο ρόλο, επιλέξτε το κατάλληλο μέγεθος από τη λίστα **Εικονική μέγεθος** .

1. Επιλέξτε το κουμπί **Αποθήκευση** στη γραμμή εργαλείων για να αποθηκεύσετε αυτές τις αλλαγές στο αρχείο παραμέτρων υπηρεσίας.

## <a name="manage-endpoints-and-certificates-for-your-roles"></a>Διαχειριστείτε τα τελικά σημεία και τα πιστοποιητικά για ρόλους σας

Μπορείτε να ρυθμίσετε τελικά σημεία κοινωνικής δικτύωσης, καθορίζοντας το πρωτόκολλο, τον αριθμό θύρας, και, για HTTPS, πληροφορίες για το πιστοποιητικό SSL. Εκδόσεις πριν Ιουνίου 2012 υποστηρίζει HTTP, HTTPS και TCP. Την έκδοση Ιουνίου 2012 υποστηρίζει αυτά τα πρωτόκολλα και UDP. Δεν μπορείτε να χρησιμοποιήσετε UDP για εισαγωγής τα τελικά σημεία στο προσομοίωσης του υπολογισμού. Μπορείτε να χρησιμοποιήσετε το πρωτόκολλο μόνο για το εσωτερικό τελικά σημεία.

Για να βελτιώσετε την ασφάλεια των υπηρεσιών Azure cloud, μπορείτε να δημιουργήσετε τελικά σημεία που χρησιμοποιεί το πρωτόκολλο HTTPS. Για παράδειγμα, εάν έχετε μια υπηρεσία cloud που χρησιμοποιείται από τους πελάτες σε παραγγελίες αγοράς, που θέλετε για να βεβαιωθείτε ότι οι πληροφορίες τους είναι ασφαλής χρησιμοποιώντας το SSL.

Μπορείτε επίσης να προσθέσετε τελικά σημεία που μπορούν να χρησιμοποιηθούν εσωτερικά ή εξωτερικά. Εξωτερική τελικά σημεία ονομάζονται τελικά σημεία εισόδου. Ένα τελικό σημείο εισαγωγής επιτρέπει σε κάποιο άλλο σημείο πρόσβαση στους χρήστες για την υπηρεσία cloud. Εάν έχετε μια υπηρεσία WCF, που μπορεί να θέλετε να εκθέσετε εσωτερικό τελικού σημείου για ένα ρόλο web για να χρησιμοποιήσετε για να αποκτήσετε πρόσβαση σε αυτήν την υπηρεσία.

>[AZURE.IMPORTANT] Μπορείτε μόνο να ενημερώσετε τα τελικά σημεία για όλες τις παραμέτρους της υπηρεσίας.

Εάν προσθέσετε τα τελικά σημεία HTTPS, πρέπει να χρησιμοποιήσετε ένα πιστοποιητικό SSL. Για να το κάνετε αυτό, μπορείτε να συσχετίσετε πιστοποιητικά με το ρόλο σας για όλες τις παραμέτρους της υπηρεσίας και να χρησιμοποιήσετε αυτά για τα τελικά σημεία σας.

>[AZURE.IMPORTANT] Αυτά τα πιστοποιητικά δεν είναι συσκευαστούν με την υπηρεσία. Πρέπει να αποστείλετε τα πιστοποιητικά ξεχωριστά να Azure μέσω του [Azure κλασική πύλη](http://go.microsoft.com/fwlink/?LinkID=213885).

Τα πιστοποιητικά διαχείρισης που μπορείτε να συσχετίσετε με τις ρυθμίσεις παραμέτρων υπηρεσίας ισχύουν μόνο για την υπηρεσία cloud που εκτελείται στο Azure. Όταν εκτελείται την υπηρεσία cloud στο περιβάλλον τοπικού ανάπτυξης, χρησιμοποιείται ένα τυπικό πιστοποιητικό που γίνεται από το Azure υπολογισμού προσομοίωσης.

### <a name="to-add-a-certificate-to-a-role"></a>Για να προσθέσετε ένα πιστοποιητικό σε ένα ρόλο

1. Επιλέξτε την καρτέλα **πιστοποιητικά** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε **Όλες τις παραμέτρους**.

    >[AZURE.NOTE] Για να προσθέσετε ή να καταργήσετε τα πιστοποιητικά, πρέπει να επιλέξετε όλες τις παραμέτρους. Μπορείτε να ενημερώσετε το όνομα και την αποτύπωση για μια συγκεκριμένη υπηρεσία ρύθμιση παραμέτρων, εάν είναι απαραίτητο.

1. Για να προσθέσετε ένα πιστοποιητικό για τον συγκεκριμένο ρόλο, επιλέξτε το κουμπί **Προσθήκη πιστοποιητικού** . Προστίθεται μια νέα καταχώρηση στη λίστα.

1. Στο πλαίσιο κειμένου **όνομα** , πληκτρολογήστε το όνομα για το πιστοποιητικό.

1. Στη λίστα **Θέση αποθήκευσης** , επιλέξτε τη θέση για το πιστοποιητικό που θέλετε να προσθέσετε.

1. Στη λίστα **Αποθήκευση όνομα** , επιλέξτε το χώρο αποθήκευσης που θέλετε να χρησιμοποιήσετε για να επιλέξετε το πιστοποιητικό.

1. Για να προσθέσετε το πιστοποιητικό, επιλέξτε το κουμπί με τα αποσιωπητικά (...). Εμφανίζεται το παράθυρο διαλόγου **Ασφαλείας των Windows** .

1. Επιλέξτε το πιστοποιητικό που θέλετε να χρησιμοποιήσετε από τη λίστα και, στη συνέχεια, επιλέξτε το κουμπί **OK** .

    >[AZURE.NOTE] Όταν προσθέτετε ένα πιστοποιητικό από το χώρο αποθήκευσης πιστοποιητικού, οποιαδήποτε ενδιάμεσα πιστοποιητικά προστίθεται αυτόματα τις ρυθμίσεις παραμέτρων για εσάς. Αυτά τα πιστοποιητικά ενδιάμεσου πρέπει επίσης να αποσταλεί σε Azure για να ρυθμίσετε σωστά τις παραμέτρους της υπηρεσίας για το SSL.

1. Για να διαγράψετε ένα πιστοποιητικό, επιλέξτε το πιστοποιητικό και, στη συνέχεια, επιλέξτε το κουμπί **Κατάργηση πιστοποιητικού** .

1. Επιλέξτε το εικονίδιο **Αποθήκευση** στη γραμμή εργαλείων για να αποθηκεύσετε αυτές τις αλλαγές στα αρχεία παραμέτρων υπηρεσίας.

### <a name="to-manage-endpoints-for-a-role"></a>Για να διαχειριστείτε τα τελικά σημεία για ένα ρόλο

1. Επιλέξτε την καρτέλα **τελικά σημεία** .

1. Στη λίστα **Ρύθμιση παραμέτρων της υπηρεσίας** , επιλέξτε **Όλες τις παραμέτρους**.

1. Για να προσθέσετε ένα τελικό σημείο, επιλέξτε το κουμπί **Προσθήκη τελικού σημείου** . Προστίθεται μια νέα καταχώρηση στη λίστα.

1. Στο πλαίσιο κειμένου **όνομα** , πληκτρολογήστε το όνομα που θέλετε να χρησιμοποιήσετε για αυτό το τελικό σημείο.

1. Επιλέξτε τον τύπο του τελικού σημείου που χρειάζεστε από τη λίστα **Τύπος** .

1. Επιλέξτε το πρωτόκολλο για το τελικό σημείο που θέλετε από τη λίστα **πρωτόκολλο** .

1. Εάν πρόκειται για ένα τελικό σημείο εισαγωγής, στο πλαίσιο κειμένου **Θύρα δημόσια** , εισαγάγετε τη δημόσια θύρα για να χρησιμοποιήσετε.

1. Στο πλαίσιο κειμένου **Θύρα ιδιωτικό** , πληκτρολογήστε τη θύρα ιδιωτικό για να χρησιμοποιήσετε.

1. Εάν το τελικό σημείο απαιτεί το πρωτόκολλο https, στη λίστα **Όνομα πιστοποιητικού SSL** , επιλέξτε ένα πιστοποιητικό για να χρησιμοποιήσετε.

    >[AZURE.NOTE] Αυτή η λίστα εμφανίζει τα πιστοποιητικά που έχετε προσθέσει για τον συγκεκριμένο ρόλο στην καρτέλα **πιστοποιητικά** .

1. Επιλέξτε το κουμπί **Αποθήκευση** στη γραμμή εργαλείων για να αποθηκεύσετε αυτές τις αλλαγές στα αρχεία παραμέτρων υπηρεσίας.

## <a name="next-steps"></a>Επόμενα βήματα
Μάθετε περισσότερα σχετικά με τα έργα Azure στο Visual Studio [τη ρύθμιση των παραμέτρων ενός έργου Azure](vs-azure-tools-configuring-an-azure-project.md). Μάθετε περισσότερα σχετικά με το σχήμα υπηρεσία cloud [Αναφορά σχήματος](https://msdn.microsoft.com/library/azure/dd179398).
