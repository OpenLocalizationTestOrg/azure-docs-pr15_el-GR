<properties 
    pageTitle="Μετατροπή WordPress Multisite στο Azure εφαρμογής υπηρεσίας" 
    description="Μάθετε πώς μπορείτε να ακολουθήσετε μια υπάρχουσα εφαρμογή web WordPress που δημιουργήθηκε μέσω της συλλογής στο Azure και να μετατρέψετε σε WordPress Multisite" 
    services="app-service\web" 
    documentationCenter="php" 
    authors="rmcmurray" 
    manager="wpickett" 
    editor=""/>

<tags 
    ms.service="app-service-web" 
    ms.workload="web" 
    ms.tgt_pltfrm="na" 
    ms.devlang="PHP" 
    ms.topic="article" 
    ms.date="08/11/2016" 
    ms.author="robmcm"/>



# <a name="convert-wordpress-to-multisite-in-azure-app-service"></a>Μετατροπή WordPress Multisite στο Azure εφαρμογής υπηρεσίας

## <a name="overview"></a>Επισκόπηση

*Με [Βασίλη Lobaugh][ben-lobaugh], [Microsoft Άνοιγμα Technologies Inc.][ms-open-tech]*

Σε αυτό το πρόγραμμα εκμάθησης, θα μάθετε τον τρόπο για να τραβήξετε μια υπάρχουσα εφαρμογή web WordPress που δημιουργήθηκε μέσω της συλλογής στο Azure και μετατρέψτε τη σε μια εγκατάσταση WordPress Multisite. Επιπλέον, θα μάθετε πώς μπορείτε να αντιστοιχίσετε έναν προσαρμοσμένο τομέα σε κάθε μία από τις δευτερεύουσες τοποθεσίες κατά την εγκατάσταση.

Θεωρείται ότι έχετε μια υπάρχουσα εγκατάσταση του WordPress. Εάν δεν το κάνετε, ακολουθήστε τις οδηγίες που παρέχονται στο θέμα [Δημιουργία μιας τοποθεσίας web WordPress από τη συλλογή στο Azure][website-from-gallery].

Μετατροπή μιας υπάρχουσας WordPress εγκατάσταση μίας τοποθεσίας για να Multisite γενικά είναι αρκετά απλό και πολλά από τα αρχικά βήματα εδώ παραδίδεται απευθείας από τη [Δημιουργία δικτύου A] [ wordpress-codex-create-a-network] σελίδας στην το [WordPress κώδικα](http://codex.wordpress.org).

Ας ξεκινήσουμε.

## <a name="allow-multisite"></a>Να επιτρέπεται Multisite

Πρέπει πρώτα να ενεργοποιήσετε την Multisite έως το `wp-config.php` αρχείων με το **Τμήματος Web\_ΑΠΟΔΟΧΉ\_MULTISITE** σταθερές. Υπάρχουν δύο μέθοδοι για να επεξεργαστείτε τα αρχεία σας web app: είναι το πρώτο μέσω FTP και τη δεύτερη έως Git. Εάν είστε εξοικειωμένοι με το πώς μπορείτε να εγκαταστήσετε μία από αυτές τις μεθόδους, ανατρέξτε τα παρακάτω προγράμματα εκμάθησης:

* [Τοποθεσία web PHP με MySQL και FTP][website-w-mysql-and-ftp-ftp-setup]

* [Τοποθεσία web PHP με MySQL και Git][website-w-mysql-and-git-git-setup]

Άνοιγμα του `wp-config.php` αρχείων με το πρόγραμμα επεξεργασίας της επιλογής σας και προσθέστε το εξής παραπάνω το `/* That's all, stop editing! Happy blogging. */` γραμμής.

    /* Multisite */

    define( 'WP_ALLOW_MULTISITE', true );

Φροντίστε να αποθηκεύσετε το αρχείο και στείλτε το στο διακομιστή!

## <a name="network-setup"></a>Εγκατάσταση του δικτύου

Συνδεθείτε στο στην περιοχή *Διαχείριση Τμήματος Web* της τοποθεσίας σας web app και θα πρέπει να δείτε ένα νέο στοιχείο στην περιοχή του μενού **Εργαλεία** που ονομάζεται **Ρύθμιση του δικτύου**. Κάντε κλικ στην επιλογή **Εγκατάσταση δικτύου** και συμπληρώστε τις λεπτομέρειες του δικτύου σας.

![Οθόνη εγκατάστασης δικτύου][wordpress-network-setup]

Αυτό το πρόγραμμα εκμάθησης χρησιμοποιεί το σχήμα τοποθεσίας *δευτερευόντων καταλόγων* , επειδή θα πρέπει να λειτουργεί πάντα και θα σας θα ορίσετε των προσαρμοσμένων τομέων για κάθε δευτερεύουσα τοποθεσία αργότερα στην εκμάθηση. Ωστόσο, πρέπει να είναι δυνατή η εγκατάσταση έναν υποτομέα εγκατάσταση εάν μπορείτε να αντιστοιχίσετε έναν τομέα μέσω του μπαλαντέρ [Azure πύλη](https://portal.azure.com) και ρύθμιση του DNS σωστά.

Για περισσότερες πληροφορίες σχετικά με σύγκριση υποτομέα των ρυθμίσεων δευτερεύοντος καταλόγου ανατρέξτε στο θέμα τους [τύπους του δικτύου] [ wordpress-codex-types-of-networks] άρθρο για την WordPress κώδικα.

## <a name="enable-the-network"></a>Ενεργοποίηση του δικτύου

Τώρα έχει ρυθμιστεί το δίκτυο στη βάση δεδομένων, αλλά υπάρχει ένα βήμα που απομένει για να ενεργοποιήσετε τη λειτουργία δικτύου. Οριστικοποίηση του `wp-config.php` ρυθμίσεις και βεβαιωθείτε ότι `web.config` σωστά δρομολογεί κάθε τοποθεσία.


Αφού κάνετε κλικ στο κουμπί **εγκατάσταση** στη σελίδα *Εγκατάσταση δικτύου* , WordPress θα επιχειρήσει να ενημερώσετε το `wp-config.php` και `web.config` αρχεία. Ωστόσο, θα πρέπει πάντα να ελέγξετε τα αρχεία για να βεβαιωθείτε ότι οι ενημερώσεις ήταν επιτυχημένη. Εάν όχι, η οθόνη αυτή θα εμφανίσει τις απαιτούμενες ενημερώσεις. Επεξεργαστείτε και αποθηκεύστε τα αρχεία.


Μετά την πραγματοποίηση αυτές τις ενημερώσεις θα πρέπει να αποσυνδεθείτε και να συνδεθείτε ξανά στην πίνακα εργαλείων διαχείρισης Τμήματος Web.

Υπάρχουν τώρα πρέπει να μια επιπλέον μενού στην ο διαχειριστής στη γραμμή με ετικέτες **Οι τοποθεσίες μου**. Αυτό το μενού σάς επιτρέπει να ελέγχετε το νέο δίκτυο μέσω του πίνακα εργαλείων **Διαχείρισης δικτύου** .

## <a name="adding-custom-domains"></a>Προσθήκη προσαρμοσμένων τομέων

Η [Αντιστοίχιση τομέα μ WordPress] [ wordpress-plugin-wordpress-mu-domain-mapping] προσθήκης καθιστά παρακολούθηση των Προσθήκη προσαρμοσμένους τομείς σε οποιαδήποτε τοποθεσία στο δίκτυό σας. Με τη σειρά για την προσθήκη για να λειτουργήσει σωστά, πρέπει να κάνετε ορισμένες επιπλέον ρύθμισης στην πύλη, καθώς και στο μητρώο καταχώρησης ονομάτων.

## <a name="enable-domain-mapping-to-the-web-app"></a>Ενεργοποίηση αντιστοίχιση τομέα στην εφαρμογή web

Στη λειτουργία **δωρεάν** [Εφαρμογής υπηρεσίας](http://go.microsoft.com/fwlink/?LinkId=529714) πρόγραμμα δεν υποστηρίζει την προσθήκη τους προσαρμοσμένους τομείς σε εφαρμογές Web. Θα πρέπει να κάνετε εναλλαγή σε **κοινή χρήση** ή **Τυπική** λειτουργία. Για να το κάνετε αυτό:

* Συνδεθείτε στην πύλη του Azure και εντοπίστε την εφαρμογή web. 
* Κάντε κλικ στην καρτέλα **κλιμάκωσης** στις **Ρυθμίσεις**.
* Στην περιοχή **Γενικά**, επιλέξτε *κοινή ΧΡΉΣΗ* ή *ΤΥΠΙΚΉ*
* Κάντε κλικ στην επιλογή **Αποθήκευση**

Ενδέχεται να εμφανιστεί ένα μήνυμα που σας ζητά να επιβεβαιώσετε την αλλαγή και αποδεχτείτε την εφαρμογή web της προκαταβολικά τώρα ένα κόστος, ανάλογα με τη χρήση και τις άλλες παραμέτρους ορίζετε.

Χρειάζονται μερικά δευτερόλεπτα για την επεξεργασία των νέων ρυθμίσεων, τώρα είναι μια καλή ευκαιρία για να ξεκινήσετε τη ρύθμιση του τομέα σας.

## <a name="verify-your-domain"></a>Επαλήθευση του τομέα σας

Πριν από εφαρμογές Web Azure θα σας επιτρέψει να αντιστοιχίσετε έναν τομέα στην τοποθεσία, πρέπει πρώτα να βεβαιωθείτε ότι έχετε άδεια για να αντιστοιχίσετε τον τομέα. Για να γίνει αυτό, πρέπει να προσθέσετε μια νέα εγγραφή CNAME με την εγγραφή DNS.

* Συνδεθείτε Διαχείριση DNS του τομέα σας
* Δημιουργήστε μια νέα εγγραφή CNAME *awverify*
* Τοποθετήστε το δείκτη *awverify* *awverify. YOUR_DOMAIN.azurewebsites.NET*

Ενδέχεται να χρειαστεί κάποιος χρόνος για τις αλλαγές DNS για να μεταβείτε σε πλήρη εφέ, επομένως, εάν τα παρακάτω βήματα δεν λειτουργούν αμέσως, μεταβείτε κάνετε ένα κύπελλο του καφέ, στη συνέχεια, επιστρέψτε και προσπαθήστε ξανά.

## <a name="add-the-domain-to-the-web-app"></a>Προσθήκη του τομέα, στην εφαρμογή web

Επιστροφή σε εφαρμογή web μέσω της πύλης Azure, κάντε κλικ στην επιλογή **Ρυθμίσεις**και, στη συνέχεια, κάντε κλικ στην επιλογή **προσαρμοσμένων τομέων και SSL**.

Όταν εμφανίζονται οι *ρυθμίσεις SSL* , θα δείτε τα πεδία όπου που θα εισαγάγει όλους τους τομείς που θέλετε να αντιστοιχίσετε σε εφαρμογή web. Εάν δεν παρατίθεται εδώ έναν τομέα, αυτό δεν θα είναι διαθέσιμες για την αντιστοίχιση μέσα WordPress, ανεξάρτητα από τον τρόπο ο τομέας DNS είναι το πρόγραμμα εγκατάστασης.

![Διαχείριση διαλόγου προσαρμοσμένων τομέων][wordpress-manage-domains]

Αφού πληκτρολογήσετε τον τομέα σας στο πλαίσιο κειμένου, Azure θα επαληθεύσετε την εγγραφή CNAME που δημιουργήσατε προηγουμένως. Εάν το DNS δεν έχει πλήρως μεταβιβάζεται, θα εμφανιστεί μια κόκκινη ένδειξη. Εάν ήταν επιτυχής, θα δείτε ένα πράσινο σημάδι ελέγχου. 

Σημειώστε τη διεύθυνση IP που παρατίθενται στο κάτω μέρος του παραθύρου διαλόγου. Θα πρέπει να ρυθμίσετε την εγγραφή Α για τον τομέα σας.

## <a name="setup-the-domain-a-record"></a>Ρύθμιση του τομέα εγγραφής

Εάν τα άλλα βήματα ήταν επιτυχής, ενδέχεται να μπορείτε να εκχωρήσετε τώρα τον τομέα σε εφαρμογή Azure web μέσω μια εγγραφή DNS. 

Είναι σημαντικό να λάβετε υπόψη εδώ ότι οι εφαρμογές Azure web αποδοχή CNAME και μια εγγραφές, ωστόσο *πρέπει* να χρησιμοποιήσετε μια εγγραφή A για να ενεργοποιήσετε την αντιστοίχιση proper τομέα. Μια εγγραφή CNAME δεν είναι δυνατό να προωθούνται σε άλλο CNAME, που είναι τι Azure δημιουργείται για εσάς με YOUR_DOMAIN.azurewebsites.net.

Χρησιμοποιώντας τη διεύθυνση IP από το προηγούμενο βήμα, επιστρέψτε στον προϊστάμενό σας DNS και ρύθμιση της εγγραφής A ώστε να οδηγεί στη συγκεκριμένη IP.


## <a name="install-and-setup-the-plugin"></a>Εγκατάσταση και ρύθμιση της προσθήκης

WordPress Multisite αυτήν τη στιγμή δεν διαθέτει μια ενσωματωμένη μέθοδο για να αντιστοιχίσετε προσαρμοσμένους τομείς. Ωστόσο, υπάρχει μια προσθήκη που ονομάζεται [Αντιστοίχιση τομέα μ WordPress] [ wordpress-plugin-wordpress-mu-domain-mapping] που προσθέτει τη λειτουργικότητα για εσάς. Συνδεθείτε με το διαχειριστή δικτύου τμήμα της τοποθεσίας σας και εγκατάσταση της προσθήκης **Αντιστοίχιση τομέα μ WordPress** .

Μετά την εγκατάσταση και ενεργοποίηση της προσθήκης, επισκεφθείτε **Ρυθμίσεις** > **Αντιστοίχιση τομέα** για να ρυθμίσετε τις παραμέτρους της προσθήκης. Στο πρώτο πλαίσιο κειμένου, τη *Διεύθυνση IP του διακομιστή*, εισαγάγετε τη διεύθυνση IP που χρησιμοποιήσατε για να ρυθμίσετε την εγγραφή Α για τον τομέα. Ορίστε τις *Επιλογές τομέα* που θέλετε (τις προεπιλογές είναι συχνά λεπτομερές) και κάντε κλικ στην επιλογή **Αποθήκευση**.

## <a name="map-the-domain"></a>Αντιστοιχίστε τον τομέα

Επισκεφθείτε το **πίνακα εργαλείων** για την τοποθεσία που θέλετε να αντιστοιχίσετε τον τομέα για να. Κάντε κλικ στα **Εργαλεία** > **Αντιστοίχιση τομέα** και πληκτρολογήστε τον νέο τομέα στο πλαίσιο κειμένου και κάντε κλικ στην επιλογή **Προσθήκη**.

Από προεπιλογή, θα είναι επανεγγραφή νέο τομέα για τον τομέα της τοποθεσίας δημιουργείται αυτόματα. Εάν θέλετε να έχουν σταλεί σε νέο τομέα όλη την κυκλοφορία, επιλέξτε το πλαίσιο *κύριος τομέας για αυτό το ιστολόγιο* πριν από την αποθήκευση. Μπορείτε να προσθέσετε όσες τομείς σε μια τοποθεσία, αλλά μόνο μία μπορεί να είναι πρωτεύον.

## <a name="do-it-again"></a>Κάντε το ξανά

Azure Web Apps σάς επιτρέπουν να προσθέσετε απεριόριστες τομείς σε μια εφαρμογή web. Για να προσθέσετε ένα άλλο τομέα θα πρέπει να εκτελεί τις ενότητες **επαλήθευση του τομέα σας** και **Ρύθμιση του τομέα μια εγγραφή** για κάθε τομέα.  

>[AZURE.NOTE] Εάν θέλετε να γρήγορα αποτελέσματα με το Azure εφαρμογής υπηρεσίας πριν από την εγγραφή για λογαριασμό Azure, μεταβείτε στο [Δοκιμάστε εφαρμογής υπηρεσίας](http://go.microsoft.com/fwlink/?LinkId=523751), όπου μπορείτε να αμέσως δημιουργήσετε μια εφαρμογή web μικρής διάρκειας starter στην εφαρμογή υπηρεσίας. Δεν υπάρχει πιστωτικές κάρτες υποχρεωτικό, χωρίς δεσμεύσεις.

## <a name="whats-changed"></a>Τι έχει αλλάξει
* Για οδηγίες για την αλλαγή από τοποθεσίες Web App υπηρεσία ανατρέξτε στο θέμα: [Azure εφαρμογής υπηρεσίας και τον αντίκτυπο σχετικά με τις υπάρχουσες υπηρεσίες Azure](http://go.microsoft.com/fwlink/?LinkId=529714)

[ben-lobaugh]: http://ben.lobaugh.net
[ms-open-tech]: http://msopentech.com
[website-from-gallery]: https://www.windowsazure.com/develop/php/tutorials/website-from-gallery/
[wordpress-codex-create-a-network]: http://codex.wordpress.org/Create_A_Network
[website-w-mysql-and-ftp-ftp-setup]: https://www.windowsazure.com/develop/php/tutorials/website-w-mysql-and-ftp/#header-0
[website-w-mysql-and-git-git-setup]: https://www.windowsazure.com/develop/php/tutorials/website-w-mysql-and-git/#header-1
[wordpress-network-setup]: ./media/web-sites-php-convert-wordpress-multisite/wordpress-network-setup.png
[wordpress-codex-types-of-networks]: http://codex.wordpress.org/Before_You_Create_A_Network#Types_of_multisite_network
[wordpress-plugin-wordpress-mu-domain-mapping]: http://wordpress.org/extend/plugins/wordpress-mu-domain-mapping/

[wordpress-manage-domains]: ./media/web-sites-php-convert-wordpress-multisite/wordpress-manage-domains.png

 
