<properties
    pageTitle="Πώς μπορείτε να εντοπίσετε σφάλματα σε μια εφαρμογή web Node.js στο Azure εφαρμογής υπηρεσίας"
    description="Μάθετε πώς μπορείτε να εντοπίσετε σφάλματα σε μια εφαρμογή web Node.js στο Azure εφαρμογής υπηρεσίας."
    tags="azure-portal"
    services="app-service\web"
    documentationCenter="nodejs"
    authors="rmcmurray"
    manager="wpickett"
    editor=""/>

<tags
    ms.service="app-service-web"
    ms.workload="web"
    ms.tgt_pltfrm="na"
    ms.devlang="nodejs"
    ms.topic="article"
    ms.date="08/11/2016"
    ms.author="robmcm"/>

# <a name="how-to-debug-a-nodejs-web-app-in-azure-app-service"></a>Πώς μπορείτε να εντοπίσετε σφάλματα σε μια εφαρμογή web Node.js στο Azure εφαρμογής υπηρεσίας

Azure παρέχει ενσωματωμένα διαγνωστικά εργαλεία για να σας βοηθήσει με τον εντοπισμό σφαλμάτων Node.js εφαρμογές που φιλοξενούνται στο [Azure εφαρμογής υπηρεσίας](http://go.microsoft.com/fwlink/?LinkId=529714) Web Apps. Σε αυτό το άρθρο, θα μάθετε πώς μπορείτε να ενεργοποιήσετε την καταγραφή της stdout και stderr, εμφάνιση πληροφοριών σφάλματος στο πρόγραμμα περιήγησης και πώς μπορείτε να κάνετε λήψη και να προβάλετε τα αρχεία καταγραφής.

Εργαλεία διαγνωστικών για εφαρμογές Node.js που φιλοξενούνται στο Azure παρέχεται από [IISNode]. Ενώ αυτό το άρθρο περιγράφει τις πιο συνηθισμένες ρυθμίσεις για τη συλλογή πληροφοριών διαγνωστικών, δεν παρέχει μια ολοκληρωμένη αναφορά για την εργασία με IISNode. Για περισσότερες πληροφορίες σχετικά με την εργασία με IISNode, ανατρέξτε στο θέμα το [Αρχείο IISNode Readme] GitHub.

<a id="enablelogging"></a>
## <a name="enable-logging"></a>Ενεργοποίηση καταγραφής

Από προεπιλογή, μια εφαρμογή web της εφαρμογής υπηρεσίας καταγράφει μόνο διαγνωστικών πληροφοριών σχετικά με τις αναπτύξεις, όπως όταν αναπτύσσετε μια εφαρμογή web με χρήση Git. Αυτές οι πληροφορίες είναι χρήσιμη αν αντιμετωπίζετε προβλήματα κατά την ανάπτυξη, όπως αποτυχία κατά την εγκατάσταση της λειτουργικής μονάδας στα οποία γίνεται αναφορά σε **package.json**, ή εάν χρησιμοποιείτε μια δέσμη ενεργειών ανάπτυξης προσαρμοσμένο.

Για να ενεργοποιήσετε την καταγραφή ροής stdout και stderr, πρέπει να δημιουργήσετε ένα αρχείο **IISNode.yml** στη ρίζα της εφαρμογής σας Node.js και προσθέστε τα εξής:

    loggingEnabled: true

Αυτή η δυνατότητα επιτρέπει την καταγραφή των stderr και stdout από την εφαρμογή σας Node.js.

Το αρχείο **IISNode.yml** επίσης μπορεί να χρησιμοποιηθεί για να ελέγχετε εάν φιλικό σφάλματα ή σφάλμα προγραμματιστής επιστρέφονται στο πρόγραμμα περιήγησης όταν προκύπτει σφάλμα. Για να ενεργοποιήσετε σφάλματα προγραμματιστή, προσθέστε την ακόλουθη γραμμή στο αρχείο **IISNode.yml** :

    devErrorsEnabled: true

Μόλις ενεργοποιηθεί η αυτήν την επιλογή, IISNode θα επιστρέψει την τελευταία 64K πληροφορίες που αποστέλλονται στο stderr αντί για ένα φιλικό σφάλμα, όπως "Παρουσιάστηκε εσωτερικό σφάλμα διακομιστή".

> [AZURE.NOTE] Ενώ devErrorsEnabled είναι χρήσιμη όταν διάγνωση προβλημάτων κατά την ανάπτυξη, καθιστώντας σε ένα περιβάλλον παραγωγής μπορεί να οδηγήσουν σε σφάλματα ανάπτυξης που στέλνεται στους τελικούς χρήστες.

Εάν το αρχείο **IISNode.yml** δεν υπάρχει ήδη στην εφαρμογή σας, πρέπει να επανεκκινήσετε την εφαρμογή web της μετά τη δημοσίευση της ενημερωμένης εφαρμογής. Εάν απλώς θέλετε να αλλάξετε ρυθμίσεις στο υπάρχον αρχείο **IISNode.yml** που έχει ήδη δημοσιευθεί, δεν απαιτείται επανεκκίνηση.

> [AZURE.NOTE] Εάν η εφαρμογή web της δημιουργήθηκε χρησιμοποιώντας τα εργαλεία της γραμμής εντολών Azure ή το cmdlet του PowerShell Azure, δημιουργείται αυτόματα ένα προεπιλεγμένο αρχείο **IISNode.yml** .

Για να επανεκκινήσετε την εφαρμογή web, επιλέξτε την εφαρμογή web στην [Πύλη του Azure](https://portal.azure.com)και, στη συνέχεια, κάντε κλικ στο κουμπί **ΕΠΑΝΕΚΚΊΝΗΣΗ** :

![Επανεκκινήστε το κουμπί][restart-button]

Εάν είναι εγκατεστημένα τα εργαλεία της γραμμής εντολών Azure στο περιβάλλον ανάπτυξής σας, μπορείτε να χρησιμοποιήσετε την παρακάτω εντολή για να επανεκκινήσετε την εφαρμογή web:

    azure site restart [sitename]

> [AZURE.NOTE] Ενώ loggingEnabled και devErrorsEnabled είναι τα πιο συνηθισμένα IISNode.yml επιλογές ρύθμισης παραμέτρων για την καταγραφή διαγνωστικών πληροφοριών, IISNode.yml μπορεί να χρησιμοποιηθεί για να ρυθμίσετε μια ποικιλία επιλογών για το περιβάλλον φιλοξενίας. Για μια πλήρη λίστα με τις επιλογές ρύθμισης παραμέτρων, ανατρέξτε στο αρχείο [iisnode_schema.xml](https://github.com/tjanczuk/iisnode/blob/master/src/config/iisnode_schema.xml) .

<a id="viewlogs"></a>
## <a name="accessing-logs"></a>Πρόσβαση σε αρχεία καταγραφής

Αρχεία καταγραφής διαγνωστικών είναι δυνατή η πρόσβαση σε τρεις τρόπους. Χρησιμοποιώντας το αρχείο FTP (Transfer Protocol), τη λήψη μια αρχειοθήκη Zip, ή ως μια ζωντανή ενημέρωση ροή του αρχείου καταγραφής (γνωστό και ως ουρά). Λήψη στην αρχειοθήκη Zip των αρχείων καταγραφής ή προβολή στη ζωντανή ροή απαιτούν τα εργαλεία της γραμμής εντολών Azure. Αυτές μπορεί να εγκατασταθεί, χρησιμοποιώντας την ακόλουθη εντολή:

    npm install azure-cli -g

Μόλις εγκαταστήσετε, τα εργαλεία είναι δυνατή η πρόσβαση με την εντολή 'azure'. Πρέπει πρώτα να ρυθμίσετε τα εργαλεία γραμμής εντολών για να χρησιμοποιήσετε τη συνδρομή σας στο Azure. Για πληροφορίες σχετικά με τον τρόπο για να εκτελέσετε αυτήν την εργασία, ανατρέξτε στο θέμα το **πώς μπορείτε να κάνετε λήψη και εισαγωγή δημοσίευση ρυθμίσεις** ενότητα αυτού του άρθρου [Πώς να χρησιμοποιήστε το Azure γραμμής εντολών εργαλεία](../xplat-cli-connect.md) .

###<a name="ftp"></a>FTP

Για να αποκτήσετε πρόσβαση στις πληροφορίες διαγνωστικών μέσω FTP, επισκεφθείτε την [Πύλη του Azure](https://portal.azure.com), επιλέξτε την εφαρμογή web της και, στη συνέχεια, επιλέξτε πίνακα **ΕΡΓΑΛΕΊΩΝ**. Στην ενότητα **Γρήγορες συνδέσεις** , τα **Αρχεία ΚΑΤΑΓΡΑΦΉΣ ΔΙΑΓΝΩΣΤΙΚΏΝ FTP** και **Αρχεία ΚΑΤΑΓΡΑΦΉΣ ΔΙΑΓΝΩΣΤΙΚΏΝ FTPS** συνδέσεις παρέχουν πρόσβαση στα αρχεία καταγραφής χρησιμοποιώντας το πρωτόκολλο FTP.

> [AZURE.NOTE] Εάν δεν έχετε προηγουμένως διαμορφώσει όνομα χρήστη και τον κωδικό πρόσβασης για το FTP ή ανάπτυξη, μπορείτε να το κάνετε από τη σελίδα διαχείρισης **γρήγορη έναρξη** , επιλέγοντας **Ρύθμιση ανάπτυξης διαπιστευτήρια**.

Η διεύθυνση URL FTP επιστρέφονται στον πίνακα εργαλείων είναι για τον κατάλογο **LogFiles** , που θα περιέχει το παρακάτω δευτερευόντων καταλόγων:

* [Η μέθοδος ανάπτυξης](web-sites-deploy.md) - Εάν χρησιμοποιείτε μια μέθοδο ανάπτυξης όπως Git, έναν κατάλογο με το ίδιο όνομα θα δημιουργηθεί και θα περιέχει πληροφορίες που σχετίζονται με αναπτύξεις.

* nodejs - πληροφορίες Stdout και stderr καταγράφονται από όλες τις εμφανίσεις της εφαρμογής σας (όταν loggingEnabled είναι αληθής.)

###<a name="zip-archive"></a>Αρχειοθήκη zip

Για να λάβετε μια αρχειοθήκη Zip των αρχείων καταγραφής διαγνωστικών, χρησιμοποιήστε την ακόλουθη εντολή από το Azure εργαλεία της γραμμής εντολών:

    azure site log download [sitename]

Αυτό θα γίνει λήψη ενός **diagnostics.zip** στον τρέχοντα κατάλογο. Αυτό το αρχείο περιέχει την ακόλουθη δομή καταλόγου:

* αναπτύξεις - ένα αρχείο καταγραφής για πληροφορίες σχετικά με την ανάπτυξη της εφαρμογής σας

* LogFiles

    * [Η μέθοδος ανάπτυξης](web-sites-deploy.md) - Εάν χρησιμοποιείτε μια μέθοδο ανάπτυξης όπως Git, έναν κατάλογο με το ίδιο όνομα θα δημιουργηθεί και θα περιέχει πληροφορίες που σχετίζονται με αναπτύξεις.

    * nodejs - πληροφορίες Stdout και stderr καταγράφονται από όλες τις εμφανίσεις της εφαρμογής σας (όταν loggingEnabled είναι αληθής.)

###<a name="live-stream-tail"></a>Ζωντανή ροή (πυκνότητα)

Για να προβάλετε μια ζωντανή ροή της πληροφορίες αρχείου καταγραφής διαγνωστικών, χρησιμοποιήστε την ακόλουθη εντολή από το Azure εργαλεία της γραμμής εντολών:

    azure site log tail [sitename]

Αυτό θα επιστρέψει μια ροή καταγραφής συμβάντων που έχουν ενημερωθεί καθώς προκύπτουν στο διακομιστή. Αυτή η ροή θα επιστρέψει πληροφορίες ανάπτυξης, καθώς και πληροφορίες stdout και stderr (όταν loggingEnabled είναι αληθής.)

<a id="nextsteps"></a>
## <a name="next-steps"></a>Επόμενα βήματα

Σε αυτό το άρθρο μάθατε πώς μπορείτε να ενεργοποιήσετε και να αποκτήσετε πρόσβαση σε πληροφορίες διαγνωστικών για Azure. Ενώ αυτές οι πληροφορίες είναι χρήσιμη για την κατανόηση των προβλημάτων που παρουσιάζονται με την εφαρμογή σας, αυτό μπορεί να αναφέρεται σε ένα πρόβλημα με μια λειτουργική μονάδα που χρησιμοποιείτε ή ότι η έκδοση του Node.js που χρησιμοποιείται από εφαρμογές Web της εφαρμογής υπηρεσίας είναι διαφορετικό από αυτό που χρησιμοποιείται στο περιβάλλον ανάπτυξής σας.

Για πληροφορίες στο θέμα εργασία με λειτουργικές μονάδες σε Azure, ανατρέξτε στο θέμα [Χρησιμοποιώντας λειτουργικές μονάδες Node.js με εφαρμογές του Azure](../nodejs-use-node-modules-azure-apps.md).

Για πληροφορίες σχετικά με τον καθορισμό μιας έκδοσης Node.js για την εφαρμογή σας, ανατρέξτε στο θέμα [που καθορίζει μια έκδοση Node.js σε μια εφαρμογή του Azure].

Για περισσότερες πληροφορίες, ανατρέξτε επίσης στο [Κέντρο για προγραμματιστές του Node.js](/develop/nodejs/).

## <a name="whats-changed"></a>Τι έχει αλλάξει
* Για οδηγίες για την αλλαγή από τοποθεσίες Web App υπηρεσία ανατρέξτε στο θέμα: [Azure εφαρμογής υπηρεσίας και τον αντίκτυπο σχετικά με τις υπάρχουσες υπηρεσίες Azure](http://go.microsoft.com/fwlink/?LinkId=529714)

>[AZURE.NOTE] Εάν θέλετε να γρήγορα αποτελέσματα με το Azure εφαρμογής υπηρεσίας πριν από την εγγραφή για λογαριασμό Azure, μεταβείτε στο [Δοκιμάστε εφαρμογής υπηρεσίας](http://go.microsoft.com/fwlink/?LinkId=523751), όπου μπορείτε να αμέσως δημιουργήσετε μια εφαρμογή web μικρής διάρκειας starter στην εφαρμογή υπηρεσίας. Δεν υπάρχει πιστωτικές κάρτες υποχρεωτικό, χωρίς δεσμεύσεις.

[IISNode]: https://github.com/tjanczuk/iisnode
[Αρχείο IISNode Readme]: https://github.com/tjanczuk/iisnode#readme
[How to Use The Azure Command-Line Interface]: ../xplat-cli-install.md
[Using Node.js Modules with Azure Applications]: ../nodejs-use-node-modules-azure-apps.md
[Καθορισμός μιας έκδοσης Node.js σε μια εφαρμογή του Azure]: ../nodejs-specify-node-version-azure-apps.md

[restart-button]: ./media/web-sites-nodejs-debug/restartbutton.png
 
