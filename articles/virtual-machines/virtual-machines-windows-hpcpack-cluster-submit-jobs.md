<properties
 pageTitle="Υποβολή εργασιών σε ένα πακέτο HPC συμπλέγματος στο Azure | Microsoft Azure"
 description="Μάθετε πώς μπορείτε να ρυθμίσετε έναν υπολογιστή εσωτερικής εγκατάστασης για να υποβάλετε εργασίες σε ένα σύμπλεγμα HPC πακέτο στο Azure"
 services="virtual-machines-windows"
 documentationCenter=""
 authors="dlepow"
 manager="timlt"
 editor=""
 tags="azure-resource-manager,azure-service-management,hpc-pack"/>
<tags
ms.service="virtual-machines-windows"
 ms.devlang="na"
 ms.topic="article"
 ms.tgt_pltfrm="vm-multiple"
 ms.workload="big-compute"
 ms.date="10/14/2016"
 ms.author="danlep"/>

# <a name="submit-hpc-jobs-from-an-on-premises-computer-to-an-hpc-pack-cluster-deployed-in-azure"></a>Υποβολή HPC εργασίες από έναν υπολογιστή εσωτερικής εγκατάστασης σε ένα σύμπλεγμα HPC πακέτο αναπτυχθεί στο Azure

[AZURE.INCLUDE [learn-about-deployment-models](../../includes/learn-about-deployment-models-both-include.md)]

Ρυθμίστε τις παραμέτρους ενός υπολογιστή-πελάτη εσωτερικής εγκατάστασης για να υποβάλετε εργασίες σε ένα σύμπλεγμα [Πακέτο HPC Microsoft](https://technet.microsoft.com/library/cc514029) στο Azure. Σε αυτό το άρθρο σάς δείχνει πώς μπορείτε να ρυθμίσετε έναν τοπικό υπολογιστή με εργαλεία προγράμματος-πελάτη για την υποβολή εργασίας μέσω HTTPS στο σύμπλεγμα στο Azure. Με αυτόν τον τρόπο, πολλοί χρήστες σύμπλεγμα να υποβάλετε εργασίες σε ένα σύμπλεγμα HPC πακέτο βασίζεται στο cloud, αλλά χωρίς σύνδεση απευθείας με τον κόμβο κεφαλής Εικονική ή την πρόσβαση σε μια συνδρομή του Azure.

![Υποβάλετε μια εργασία σε ένα σύμπλεγμα στο Azure][jobsubmit]

## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

* Το **πακέτο HPC κεφαλής κόμβο αναπτυχθεί σε μια Εικονική Azure** - συνιστάται να χρησιμοποιήσετε αυτοματοποιημένη εργαλεία όπως το ένα [πρότυπο Azure γρήγορη έναρξη](https://azure.microsoft.com/documentation/templates/) ή σε μια [δέσμη ενεργειών του Azure PowerShell](virtual-machines-windows-classic-hpcpack-cluster-powershell-script.md) για να αναπτύξετε το κεφαλής κόμβο και συμπλέγματος. Χρειάζεστε το όνομα DNS του κεφαλής κόμβου και τα διαπιστευτήρια ενός διαχειριστή συμπλέγματος για να ολοκληρώσετε τα βήματα σε αυτό το άρθρο.

* Ο **υπολογιστής-πελάτης** - χρειάζεστε έναν υπολογιστή-πελάτη Windows ή Windows Server που είναι δυνατό να εκτελεστεί βοηθητικά προγράμματα υπολογιστή-πελάτη HPC πακέτο (ανατρέξτε στο θέμα [απαιτήσεις συστήματος](https://technet.microsoft.com/library/dn535781.aspx)). Εάν θέλετε να χρησιμοποιήσετε το πακέτο HPC πύλη web ή REST API να υποβάλλουν εργασίες, μπορείτε να χρησιμοποιήσετε οποιονδήποτε υπολογιστή-πελάτη της επιλογής σας.

* **Μέσο εγκατάστασης πακέτου HPC** - για να εγκαταστήσετε το πακέτο HPC προγράμματος-πελάτη βοηθητικά προγράμματα του πακέτου εγκατάστασης δωρεάν για την πιο πρόσφατη έκδοση του πακέτου HPC (HPC πακέτο 2012 R2) είναι διαθέσιμη από το [Κέντρο λήψης της Microsoft](http://go.microsoft.com/fwlink/?LinkId=328024). Βεβαιωθείτε ότι κάνετε λήψη την ίδια έκδοση του πακέτου HPC που είναι εγκατεστημένη στον κόμβο κεφαλής Εικονική.

## <a name="step-1-install-and-configure-the-web-components-on-the-head-node"></a>Βήμα 1: Εγκατάσταση και ρύθμιση παραμέτρων των web components στον κόμβο κεφαλής

Για να ενεργοποιήσετε ένα περιβάλλον εργασίας ΥΠΌΛΟΙΠΟ να υποβάλλουν εργασίες στο σύμπλεγμα μέσω HTTPS, βεβαιωθείτε ότι το πακέτο HPC web components έχουν ρυθμιστεί στον κόμβο κεφαλής HPC πακέτο. Αν δεν είναι ήδη εγκαταστήσει, πρώτα να εγκαταστήσετε τα στοιχεία web εκτελώντας το αρχείο εγκατάστασης HpcWebComponents.msi. Στη συνέχεια, μπορείτε να ρυθμίσετε τα στοιχεία κατά την εκτέλεση της δέσμης ενεργειών του PowerShell HPC **Σύνολο HPCWebComponents.ps1**.

Για λεπτομερείς διαδικασίες, ανατρέξτε στο θέμα [εγκατάσταση του Microsoft HPC πακέτου Web Components](http://technet.microsoft.com/library/hh314627.aspx).

>[AZURE.TIP] Ορισμένα πρότυπα Azure γρήγορης έναρξης για το πακέτο HPC εγκατάσταση και ρύθμιση παραμέτρων τα στοιχεία web αυτόματα. Εάν χρησιμοποιείτε το [IaaS πακέτο HPC δέσμη ενεργειών ανάπτυξης](virtual-machines-windows-classic-hpcpack-cluster-powershell-script.md) για να δημιουργήσετε το σύμπλεγμα, μπορείτε προαιρετικά να εγκαταστήσετε και να ρυθμίσετε τις παραμέτρους των web components ως τμήμα της ανάπτυξης.

**Για να εγκαταστήσετε τα στοιχεία του web**

1. Συνδεθείτε στον κόμβο κεφαλής Εικονική, χρησιμοποιώντας τα διαπιστευτήρια ενός διαχειριστή συμπλέγματος.

2. Από το φάκελο εγκατάστασης HPC πακέτου, εκτελέστε το HpcWebComponents.msi στον κόμβο κεφαλίδας.

3. Ακολουθήστε τα βήματα στον οδηγό για να εγκαταστήσετε τα στοιχεία του web

**Για να ρυθμίσετε τις παραμέτρους των web components**

1. Στον κόμβο κεφαλής, ξεκινήστε HPC PowerShell ως διαχειριστής.

2. Για να αλλάξετε τη θέση της δέσμης ενεργειών ρύθμισης παραμέτρων καταλόγου, πληκτρολογήστε την ακόλουθη εντολή:

    ```powershell
    cd $env:CCP_HOME\bin
    ```
3. Για να ρυθμίσετε το περιβάλλον εργασίας ΥΠΌΛΟΙΠΟ και εκκίνηση της υπηρεσίας Web HPC, πληκτρολογήστε την ακόλουθη εντολή:

    ```powershell
    .\Set-HPCWebComponents.ps1 –Service REST –enable
    ```

4. Όταν σας ζητηθεί να επιλέξετε ένα πιστοποιητικό, επιλέξτε το πιστοποιητικό που αντιστοιχεί στο δημόσιο όνομα DNS του κεφαλής κόμβου. Για παράδειγμα, εάν αναπτύξετε τον κόμβο κεφαλής Εικονική χρησιμοποιώντας το μοντέλο κλασική ανάπτυξης, το όνομα του πιστοποιητικού μοιάζει με CN =&lt;*HeadNodeDnsName*&gt;. cloudapp.net. Εάν χρησιμοποιείτε το μοντέλο ανάπτυξης για τη διαχείριση πόρων, το όνομα του πιστοποιητικού μοιάζει με CN =&lt;*HeadNodeDnsName*&gt;. &lt; *περιοχή*&gt;. cloudapp.azure.com.

    >[AZURE.NOTE] Επιλέγετε αυτό το πιστοποιητικό αργότερα κατά την υποβολή εργασίες στον κόμβο κεφαλής από έναν υπολογιστή εσωτερικής εγκατάστασης. Μην επιλέξετε ή να ρυθμίσετε τις παραμέτρους ένα πιστοποιητικό που αντιστοιχεί στο όνομα του υπολογιστή του κεφαλής κόμβου στον τομέα Active Directory (για παράδειγμα, CN =*MyHPCHeadNode.HpcAzure.local*).

5. Για να ρυθμίσετε τις παραμέτρους της πύλης web για την υποβολή εργασία, πληκτρολογήστε την ακόλουθη εντολή:

    ```powershell
    .\Set-HPCWebComponents.ps1 –Service Portal -enable
    ```
6. Μόλις ολοκληρωθεί η δέσμη ενεργειών, διακοπή και επανεκκίνηση της υπηρεσίας χρονοδιαγράμματος έργου HPC, πληκτρολογώντας τις παρακάτω εντολές:

    ```powershell
    net stop hpcscheduler
    net start hpcscheduler
    ```

## <a name="step-2-install-the-hpc-pack-client-utilities-on-an-on-premises-computer"></a>Βήμα 2: Εγκατάσταση των βοηθητικών προγραμμάτων HPC πακέτο προγράμματος-πελάτη σε έναν υπολογιστή εσωτερικής εγκατάστασης

Εάν θέλετε να εγκαταστήσετε τα βοηθητικά προγράμματα HPC πακέτο προγράμματος-πελάτη στον υπολογιστή σας, κάντε λήψη των αρχείων εγκατάστασης πακέτου HPC (πλήρης εγκατάσταση) από το [Κέντρο λήψης της Microsoft](http://go.microsoft.com/fwlink/?LinkId=328024). Όταν ξεκινήσετε την εγκατάσταση, ενεργοποιήστε την επιλογή εγκατάστασης για το **πακέτο HPC βοηθητικά προγράμματα υπολογιστή-πελάτη**.

Για να χρησιμοποιήσετε τα εργαλεία προγράμματος-πελάτη HPC πακέτο να υποβάλλουν εργασίες στον κόμβο κεφαλής Εικονική, πρέπει επίσης να εξαγάγετε ένα πιστοποιητικό από τον κόμβο κεφαλής και να εγκαταστήσετε στον υπολογιστή-πελάτη. Το πιστοποιητικό πρέπει να είναι. Προαιρετικό μορφή.

**Για να εξαγάγετε το πιστοποιητικό από τον κόμβο κεφαλής**

1. Στον κόμβο κεφαλής, προσθήκη του συμπληρωματικού προγράμματος πιστοποιητικών σε μια κονσόλα διαχείρισης της Microsoft για το λογαριασμό του τοπικού υπολογιστή. Για τα βήματα για να προσθέσετε το συμπληρωματικό, ανατρέξτε στο θέμα [Προσθήκη τα πιστοποιητικά Συγκράτηση στο MMC](https://technet.microsoft.com/library/cc754431.aspx).

2. Στο δέντρο κονσόλας, αναπτύξτε το στοιχείο **πιστοποιητικά – τοπικό υπολογιστή** > **προσωπικό**, και, στη συνέχεια, κάντε κλικ στην επιλογή **πιστοποιητικά**.

3. Εντοπίστε το πιστοποιητικό που ρυθμίσατε τις παραμέτρους για το πακέτο HPC web components στο [βήμα 1: εγκατάσταση και ρύθμιση παραμέτρων των web components στον κόμβο κεφαλής](#step-1:-install-and-configure-the-web-components-on-the-head-node) (για παράδειγμα, CN =&lt;*HeadNodeDnsName*&gt;. cloudapp.net).

4. Κάντε δεξί κλικ στο πιστοποιητικό και κάντε κλικ στην επιλογή **Όλες οι εργασίες** > **Εξαγωγή**.

5. Στον Οδηγό εξαγωγής πιστοποιητικών, κάντε κλικ στο κουμπί **Επόμενο**και βεβαιωθείτε ότι είναι επιλεγμένο το πλαίσιο ελέγχου **Όχι, εξαγωγή στο ιδιωτικό κλειδί** .

6. Ακολουθήστε τα υπόλοιπα βήματα του οδηγού για να εξαγάγετε το πιστοποιητικό στο DER κωδικοποιημένο δυαδικό X.509 (. Μορφή Προαιρετικό).


**Για να εισαγάγετε το πιστοποιητικό στον υπολογιστή-πελάτη**


1. Αντιγράψτε το πιστοποιητικό που εξαγάγατε από τον κόμβο κεφαλίδας σε ένα φάκελο στον υπολογιστή-πελάτη.

2. Στον υπολογιστή-πελάτη, εκτελέστε certmgr.msc.

3. Στη Διαχείριση πιστοποιητικού, αναπτύξτε το στοιχείο **Πιστοποιητικά – Τρέχων χρήστης** > **Αξιόπιστες αρχές έκδοσης πιστοποιητικών ρίζας**, κάντε δεξί κλικ **πιστοποιητικά**και, στη συνέχεια, κάντε κλικ στην επιλογή **Όλες οι εργασίες** > **εισαγωγής**.

4. Στον Οδηγό εισαγωγής πιστοποιητικών, κάντε κλικ στο κουμπί **Επόμενο** και ακολουθήστε τα βήματα για να εισαγάγετε το πιστοποιητικό που εξαγάγατε από τον κόμβο κεφαλίδας στο χώρο αποθήκευσης αξιόπιστες αρχές έκδοσης πιστοποιητικών ρίζας.



>[AZURE.TIP] Ενδέχεται να δείτε μια προειδοποίηση ασφαλείας, επειδή η αρχή έκδοσης πιστοποιητικών στον κόμβο κεφαλής δεν αναγνωρίζεται από τον υπολογιστή-πελάτη. Για σκοπούς δοκιμής, μπορείτε να αγνοήσετε αυτήν την προειδοποίηση και να ολοκληρώσετε την εισαγωγή πιστοποιητικού.

## <a name="step-3-run-test-jobs-on-the-cluster"></a>Βήμα 3: Εκτέλεση δοκιμής εργασίες στο σύμπλεγμα

Για να επαληθεύσετε τη ρύθμιση των παραμέτρων σας, δοκιμάστε να εκτελέσετε εργασίες στο σύμπλεγμα στο Azure από τον υπολογιστή εσωτερικής εγκατάστασης. Για παράδειγμα, μπορείτε να χρησιμοποιήσετε για να υποβάλετε εργασίες στο σύμπλεγμα HPC Γραφικών πακέτο εργαλείων ή εντολών. Μπορείτε επίσης να χρησιμοποιήσετε μια πύλη που βασίζεται στο web για να υποβάλετε εργασίες.


**Για να εκτελέσετε εντολές υποβολής εργασίας στον υπολογιστή-πελάτη**


1. Σε έναν υπολογιστή-πελάτη όπου έχουν εγκατασταθεί τα βοηθητικά προγράμματα HPC πακέτο προγράμματος-πελάτη, ξεκινήστε μια γραμμή εντολών.

2. Πληκτρολογήστε ένα δείγμα εντολής. Για παράδειγμα, για να δημιουργήσετε μια λίστα όλων των εργασιών στο σύμπλεγμα, πληκτρολογήστε μια εντολή παρόμοια με ένα από τα εξής, ανάλογα με το πλήρες όνομα DNS του κεφαλής κόμβου:

    ```command
    job list /scheduler:https://<HeadNodeDnsName>.cloudapp.net /all
    ```
    
    ή
    
    ```command
    job list /scheduler:https://<HeadNodeDnsName>.<region>.cloudapp.azure.com /all
    ```

    >[AZURE.TIP] Χρησιμοποιήστε το πλήρες όνομα DNS του κεφαλής κόμβου, όχι τη διεύθυνση IP, τη διεύθυνση URL του χρονοδιαγράμματος. Εάν καθορίσετε τη διεύθυνση IP, εμφανίζεται ένα σφάλμα, παρόμοια με την "το πιστοποιητικό διακομιστή πρέπει να έχετε είτε μια έγκυρη αλυσίδα αξιοπιστίας ή να τοποθετηθεί στο χώρο αποθήκευσης αξιόπιστης ρίζας."

3. Όταν σας ζητηθεί, πληκτρολογήστε το όνομα χρήστη (στη φόρμα &lt;όνομα_τομέα&gt;\\&lt;UserName&gt;) και τον κωδικό πρόσβασης από το διαχειριστή σύμπλεγμα HPC ή κάποιος άλλος χρήστης σύμπλεγμα που έχετε ρυθμίσει τις παραμέτρους. Μπορείτε να επιλέξετε να αποθηκεύσετε τα διαπιστευτήρια τοπικά για περισσότερες λειτουργίες εργασία.

    Εμφανίζεται μια λίστα των εργασιών.


**Να χρησιμοποιήσετε τη Διαχείριση έργου HPC στον υπολογιστή-πελάτη**

1. Εάν δεν έχετε προηγουμένως αποθηκεύετε διαπιστευτήρια τομέα για ένα σύμπλεγμα χρήστη κατά την υποβολή μιας εργασίας, μπορείτε να προσθέσετε τα διαπιστευτήρια στη Διαχείριση διαπιστευτηρίων.

    μια. Στον πίνακα ελέγχου του υπολογιστή-πελάτη, ξεκινήστε τη Διαχείριση διαπιστευτηρίων.

    β. Κάντε κλικ στην επιλογή **Διαπιστευτήρια των Windows** > **Προσθήκη ένα γενικό διαπιστευτηρίων**.

    c. Καθορίστε τη διεύθυνση Internet (για παράδειγμα, https://&lt;HeadNodeDnsName&gt;.cloudapp.net/HpcScheduler ή https://&lt;HeadNodeDnsName&gt;.&lt; περιοχή&gt;.cloudapp.azure.com/HpcScheduler), και το όνομα χρήστη (&lt;όνομα_τομέα&gt;\\&lt;UserName&gt;) και τον κωδικό πρόσβασης από το διαχειριστή του συμπλέγματος ή κάποιος άλλος χρήστης σύμπλεγμα που έχετε ρυθμίσει τις παραμέτρους.

2. Στον υπολογιστή-πελάτη, ξεκινήστε HPC Διαχείριση έργου.

3. Στο παράθυρο διαλόγου **Επιλέξτε κόμβο κεφαλή** , πληκτρολογήστε τη διεύθυνση URL στον κόμβο κεφαλής Azure (για παράδειγμα, https://&lt;HeadNodeDnsName&gt;. cloudapp.net ή https://&lt;HeadNodeDnsName&gt;.&lt; περιοχή&gt;. cloudapp.azure.com).

    Διαχείριση έργων HPC ανοίγει και εμφανίζει μια λίστα των εργασιών στον κόμβο κεφαλίδας.

**Να χρησιμοποιήσουν την πύλη web που εκτελούνται στον κόμβο κεφαλής**

1. Ξεκινήστε ένα πρόγραμμα περιήγησης web του υπολογιστή-πελάτη και πληκτρολογήστε μία από τις παρακάτω διευθύνσεις, ανάλογα με το πλήρες όνομα DNS του κεφαλής κόμβου:

    ```
    https://<HeadNodeDnsName>.cloudapp.net/HpcPortal
    ```
    
    ή
    
    ```
    https://<HeadNodeDnsName>.<region>.cloudapp.azure.com/HpcPortal
    ```
2. Στο παράθυρο διαλόγου ασφαλείας που εμφανίζεται, πληκτρολογήστε τα διαπιστευτήρια τομέα του διαχειριστή σύμπλεγμα HPC. (Μπορείτε επίσης να προσθέσετε άλλους χρήστες σύμπλεγμα με διαφορετικούς ρόλους. Ανατρέξτε στο θέμα [Διαχείριση χρηστών σύμπλεγμα](https://technet.microsoft.com/library/ff919335.aspx).)

    Στην πύλη web ανοίγει την προβολή λίστας έργων.

3. Για να υποβάλετε μια εργασία δείγμα που επιστρέφει τη συμβολοσειρά "Γεια" από το σύμπλεγμα, κάντε κλικ στην επιλογή **νέα εργασία** στο αριστερό παράθυρο περιήγησης.

4. Στη σελίδα **Νέα εργασία** , στην περιοχή **από υποβολής σελίδες**, κάντε κλικ στην επιλογή **HelloWorld**. Εμφανίζεται η σελίδα υποβολής εργασίας.

5. Κάντε κλικ στην επιλογή **Υποβολή**. Εάν σας ζητηθεί, δώστε τα διαπιστευτήρια τομέα του διαχειριστή σύμπλεγμα HPC. Υποβάλλεται η εργασία και το Αναγνωριστικό εργασίας εμφανίζεται στη σελίδα " **Οι εργασίες μου** ".

6. Για να προβάλετε τα αποτελέσματα της εργασίας που έχετε υποβάλει, κάντε κλικ στην επιλογή το Αναγνωριστικό εργασίας και, στη συνέχεια, κάντε κλικ στην επιλογή **Προβολή εργασιών** για να προβάλετε την έξοδο της εντολής (στην περιοχή **εξόδου**).

## <a name="next-steps"></a>Επόμενα βήματα

* Μπορείτε επίσης να υποβάλετε εργασίες με το Azure σύμπλεγμα με το [Πακέτο HPC REST API](http://social.technet.microsoft.com/wiki/contents/articles/7737.creating-and-submitting-jobs-by-using-the-rest-api-in-microsoft-hpc-pack-windows-hpc-server.aspx).

* Εάν θέλετε να υποβάλετε σύμπλεγμα εργασίες από ένα πρόγραμμα-πελάτη Linux, ανατρέξτε στο θέμα το δείγμα Python στην [HPC πακέτο 2012 R2 SDK και δείγμα κώδικα](https://www.microsoft.com/download/details.aspx?id=41633).


<!--Image references-->
[jobsubmit]: ./media/virtual-machines-windows-hpcpack-cluster-submit-jobs/jobsubmit.png
