<properties
    pageTitle="Εγκατάσταση MongoDB σε Windows Εικονική | Microsoft Azure"
    description="Μάθετε πώς μπορείτε να εγκαταστήσετε το MongoDB σε μια Εικονική Azure με Windows Server 2012 R2 που δημιουργήθηκαν με το μοντέλο ανάπτυξης διαχείρισης πόρων."
    services="virtual-machines-windows"
    documentationCenter=""
    authors="iainfoulds"
    manager="timlt"
    editor=""/>

<tags
    ms.service="virtual-machines-windows"
    ms.workload="infrastructure-services"
    ms.tgt_pltfrm="vm-windows"
    ms.devlang="na"
    ms.topic="article"
    ms.date="10/04/2016"
    ms.author="iainfou"/>

# <a name="install-and-configure-mongodb-on-a-windows-vm-in-azure"></a>Εγκατάσταση και ρύθμιση παραμέτρων MongoDB σε μια Εικονική των Windows στα Azure
[MongoDB](http://www.mongodb.org) είναι μια δημοφιλή ανοιχτού κώδικα, υψηλών επιδόσεων NoSQL βάση δεδομένων. Σε αυτό το άρθρο σάς καθοδηγεί μέσω εγκατάσταση και ρύθμιση παραμέτρων MongoDB σε Windows Server 2012 R2 εικονικό μηχάνημα (Εικονική) στο Azure. Μπορείτε επίσης να [εγκαταστήσετε το MongoDB σε μια Εικονική Linux στα Azure](virtual-machines-linux-install-mongodb.md).


## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

Πριν από την εγκατάσταση και ρύθμιση παραμέτρων MongoDB, πρέπει να δημιουργήσετε μια Εικονική και, μπορείτε να προσθέσετε ένα δίσκο δεδομένων σε αυτήν. Ανατρέξτε στα ακόλουθα άρθρα για να δημιουργήσετε μια Εικονική και να προσθέσετε ένα δίσκο δεδομένων:

- [Δημιουργία μια Εικονική διακομιστή των Windows με την πύλη Azure](virtual-machines-windows-hero-tutorial.md) ή να [δημιουργήσετε μια Εικονική διακομιστή των Windows με χρήση του PowerShell Azure](virtual-machines-windows-ps-create.md)
- [Επισύναψη ένα δίσκο δεδομένων σε μια Εικονική διακομιστή των Windows με την πύλη Azure](virtual-machines-windows-attach-disk-portal.md) ή [Επισύναψη ένα δίσκο δεδομένων σε μια Εικονική Windows Server με χρήση του PowerShell Azure](https://msdn.microsoft.com/library/mt603673.aspx)
    
Για να ξεκινήσετε την εγκατάσταση και ρύθμιση των παραμέτρων MongoDB, [συνδεθείτε με το Εικονική Windows Server](virtual-machines-windows-connect-logon.md) , χρησιμοποιώντας σύνδεση απομακρυσμένης επιφάνειας εργασίας.


## <a name="install-mongodb"></a>Εγκατάσταση MongoDB

> [AZURE.IMPORTANT] MongoDB δυνατότητες ασφαλείας, όπως τον έλεγχο ταυτότητας και τη σύνδεση διευθύνσεων IP, δεν είναι ενεργοποιημένες από προεπιλογή. Δυνατότητες ασφαλείας θα πρέπει να ενεργοποιηθεί πριν από την ανάπτυξη MongoDB σε ένα περιβάλλον παραγωγής. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [MongoDB ασφαλείας και τον έλεγχο ταυτότητας](http://www.mongodb.org/display/DOCS/Security+and+Authentication).

1. Αφού έχετε συνδέσει το Εικονική χρήση απομακρυσμένης επιφάνειας εργασίας, ανοίξτε τον Internet Explorer από το μενού **Έναρξη** η Εικονική.

2. Επιλέξτε **Χρήση συνιστάται η ασφάλεια, προστασία προσωπικών δεδομένων και ρυθμίσεων συμβατότητας** κατά το πρώτο άνοιγμα του Internet Explorer και κάντε κλικ στο κουμπί **OK**.

3. Ρύθμιση παραμέτρων βελτιωμένη ασφάλεια του Internet Explorer είναι ενεργοποιημένη από προεπιλογή. Προσθέστε την τοποθεσία Web MongoDB στη λίστα των επιτρεπόμενων τοποθεσιών:

    - Επιλέξτε το εικονίδιο **Εργαλεία** στην επάνω δεξιά γωνία.
    - Στις **Επιλογές Internet**, επιλέξτε την καρτέλα **ασφάλεια** και, στη συνέχεια, κάντε κλικ στο εικονίδιο **Αξιόπιστες τοποθεσίες** .
    - Κάντε κλικ στο κουμπί **τοποθεσίες** . Προσθήκη _https://\*. mongodb.org_ στη λίστα των αξιόπιστων τοποθεσιών και, στη συνέχεια, κλείσιμο του παραθύρου διαλόγου.

    ![Ρύθμιση παραμέτρων ασφαλείας του Internet Explorer](./media/virtual-machines-windows-install-mongodb/configure-internet-explorer-security.png)

4. Αναζητήστε τη σελίδα [λήψεων MongoDB -](http://www.mongodb.org/downloads) (http://www.mongodb.org/downloads).

5. Από προεπιλογή, αυτό πρέπει να επιλέξετε την έκδοση **Διακομιστή Κοινότητας** και την πιο πρόσφατη έκδοση τρέχουσα σταθερό για Windows Server 2008 R2 64-bit και νεότερη έκδοση. Για να κάνετε λήψη του προγράμματος εγκατάστασης, κάντε κλικ στην επιλογή **ΛΉΨΗΣ (msi)**.

    ![Κάντε λήψη του προγράμματος εγκατάστασης MongoDB](./media/virtual-machines-windows-install-mongodb/download-mongodb.png)

    Αφού ολοκληρωθεί η λήψη, εκτελέστε το πρόγραμμα εγκατάστασης.

6. Διαβάστε και αποδεχτείτε την άδεια χρήσης. Όταν σας ζητηθεί, επιλέξτε **Πλήρης** εγκατάσταση.

7. Στην τελική οθόνη, κάντε κλικ στην επιλογή **εγκατάσταση**.


## <a name="configure-the-vm-and-mongodb"></a>Ρύθμιση παραμέτρων η Εικονική και MongoDB

1. Η διαδρομή μεταβλητές δεν ενημερώνονται από το πρόγραμμα εγκατάστασης MongoDB. Χωρίς το MongoDB `bin` θέσης στο τη μεταβλητή path, πρέπει να καθορίσετε την πλήρη διαδρομή κάθε φορά που θα χρησιμοποιήσετε ένα εκτελέσιμο αρχείο MongoDB. Για να προσθέσετε τη θέση για τη μεταβλητή path:

    - Κάντε δεξί κλικ στο μενού **Έναρξη** και επιλέξτε **σύστημα**.
    - Κάντε κλικ στην επιλογή **Ρυθμίσεις συστήματος για προχωρημένους**και, στη συνέχεια, κάντε κλικ στο κουμπί **Μεταβλητές περιβάλλοντος**.
    - Στην περιοχή **μεταβλητές συστήματος**, επιλέξτε **διαδρομή**και, στη συνέχεια, κάντε κλικ στην επιλογή **Επεξεργασία**.

    ![Ρύθμιση παραμέτρων μεταβλητές ΔΙΑΔΡΟΜΉΣ](./media/virtual-machines-windows-install-mongodb/configure-path-variables.png)

    Προσθέστε τη διαδρομή για να σας MongoDB `bin` φακέλου. MongoDB συνήθως εγκαθίσταται στο `C:\Program Files\MongoDB`. Επαληθεύστε τη διαδρομή εγκατάστασης στην Εικονική σας. Το παρακάτω παράδειγμα προσθέτει την προεπιλεγμένη θέση για την εγκατάσταση του MongoDB το `PATH` μεταβλητή:

    ```
    ;C:\Program Files\MongoDB\Server\3.2\bin
    ```

    > [AZURE.NOTE] Φροντίστε να προσθέσετε το ελληνικό ερωτηματικό στην αρχή (`;`) για να υποδείξετε ότι θέλετε να προσθέσετε μια θέση για να σας `PATH` μεταβλητή.

2. Δημιουργία MongoDB δεδομένων και καταγραφής καταλόγων στο δίσκο δεδομένων. Από το μενού **Έναρξη** , επιλέξτε **γραμμή εντολών**. Τα παρακάτω παραδείγματα Δημιουργήστε τους καταλόγους στη μονάδα δίσκου στ:

    ```
    mkdir F:\MongoData
    mkdir F:\MongoLogs
    ```

3. Ξεκινήστε μια παρουσία MongoDB με την ακόλουθη εντολή, προσαρμόζοντας τη διαδρομή προς τα δεδομένα σας και να συνδεθείτε σε καταλόγους αντίστοιχα:

    ```
    mongod --dbpath F:\MongoData\ --logpath F:\MongoLogs\mongolog.log
    ```

    Ενδέχεται να χρειαστούν αρκετά λεπτά για MongoDB να δεσμεύσετε τα αρχεία εγγραφών και έναρξη ακρόασης για τις συνδέσεις. Όλα τα μηνύματα καταγραφής κατευθύνονται στο αρχείο *F:\MongoLogs\mongolog.log* ως `mongod.exe` διακομιστή ξεκινά και εκχωρεί αρχεία εγγραφών.

    > [AZURE.NOTE] Γραμμή εντολών παραμένει συγκεντρωμένοι σε αυτήν την εργασία, ενώ εκτελείται το παρουσία MongoDB. Αφήστε ανοιχτό για να συνεχίσετε την εκτέλεση MongoDB το παράθυρο γραμμής εντολών. Εναλλακτικά, μπορείτε να εγκαταστήσετε το MongoDB ως υπηρεσία, όπως περιγράφεται στο επόμενο βήμα.

4. Για μια πιο ισχυρό MongoDB εμπειρία, εγκαταστήστε το `mongod.exe` ως υπηρεσία. Δημιουργία μιας υπηρεσίας σημαίνει ότι δεν χρειάζεται να αποχωρήσετε από μια γραμμή εντολών που εκτελείται κάθε φορά που θέλετε να χρησιμοποιήσετε MongoDB. Δημιουργία της υπηρεσίας ως εξής, ρυθμίζοντας τη διαδρομή προς το δεδομένων και καταγραφής σε καταλόγους ανάλογα:

    ```
    mongod --dbpath F:\MongoData\ --logpath F:\MongoLogs\mongolog.log `
        --logappend  --install
    ```

    Η προηγούμενη εντολή δημιουργεί μια υπηρεσία που ονομάζεται MongoDB, με μια περιγραφή των "Mongo DB". Καθορίζονται επίσης τις ακόλουθες παραμέτρους:

    - Το `--dbpath` επιλογή καθορίζει τη θέση του καταλόγου δεδομένων.
    - Το `--logpath` επιλογή πρέπει να χρησιμοποιείται για να καθορίσετε ένα αρχείο καταγραφής, επειδή εκτελείται η υπηρεσία δεν διαθέτει ένα παράθυρο εντολών για να εμφανίσετε εξόδου.
    - Το `--logappend` επιλογή καθορίζει ότι επανεκκίνηση της υπηρεσίας έχει ως αποτέλεσμα εξόδου για να προσαρτήσετε το υπάρχον αρχείο καταγραφής.

  Για να ξεκινήσετε την υπηρεσία MongoDB, εκτελέστε την ακόλουθη εντολή:

    ```
    net start MongoDB
    ```

    Για περισσότερες πληροφορίες σχετικά με τη δημιουργία της υπηρεσίας MongoDB, ανατρέξτε στο θέμα [Ρύθμιση παραμέτρων μιας υπηρεσίας Windows για MongoDB](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/#mongodb-as-a-windows-service).

## <a name="test-the-mongodb-instance"></a>Δοκιμή της παρουσίας MongoDB

Με MongoDB εκτελείται ως μία παρουσία ή εγκατασταθεί ως υπηρεσία, μπορείτε τώρα να ξεκινήσετε τη δημιουργία και χρήση τις βάσεις δεδομένων. Για να ξεκινήσετε το κέλυφος διαχείρισης MongoDB, ανοίξτε ένα άλλο παράθυρο γραμμής εντολών από το μενού **Έναρξη** και πληκτρολογήστε την παρακάτω εντολή:

```
mongo  
```

Μπορείτε να εμφανίσετε τις βάσεις δεδομένων με το `db` εντολή. Εισαγωγή ορισμένων δεδομένων ως εξής:

```
db.foo.insert( { a : 1 } )
```

Αναζήτηση για τα δεδομένα ως εξής:

```
db.foo.find()
```

Το αποτέλεσμα θα είναι παρόμοιο με το ακόλουθο παράδειγμα:

```
{ "_id" : "ObjectId("57f6a86cee873a6232d74842"), "a" : 1 }
```

Έξοδος από το `mongo` console ως εξής:

```
exit
```

## <a name="configure-firewall-and-network-security-group-rules"></a>Ρύθμιση παραμέτρων τείχος προστασίας και κανόνες δικτύου ομάδας ασφαλείας
Τώρα που MongoDB έχει εγκατασταθεί και εκτελείται, ανοίξτε μια θύρα στο τείχος προστασίας των Windows, ώστε να μπορείτε να συνδεθείτε απομακρυσμένα με MongoDB. Για να δημιουργήσετε έναν νέο κανόνα εισερχομένων για να επιτρέψετε τη θύρα TCP 27017, ανοίξτε μια γραμμή εντολών διαχείρισης PowerShell και πληκτρολογήστε την παρακάτω εντολή:

```powerShell
New-NetFirewallRule -DisplayName "Allow MongoDB" -Direction Inbound `
    -Protocol TCP -LocalPort 27017 -Action Allow
```

Μπορείτε επίσης να δημιουργήσετε τον κανόνα με χρήση του εργαλείου διαχείρισης γραφικών **Τείχος προστασίας των Windows με ασφάλεια για προχωρημένους** . Δημιουργήστε έναν νέο κανόνα εισερχομένων για να επιτρέψετε τη θύρα TCP 27017.

Εάν είναι απαραίτητο, δημιουργήστε έναν κανόνα ομάδας ασφαλείας δικτύου για να επιτρέψετε την πρόσβαση MongoDB από εκτός του υπάρχοντος υποδικτύου Azure εικονικού δικτύου. Μπορείτε να δημιουργήσετε τους κανόνες ομάδα ασφαλείας δικτύου, χρησιμοποιώντας την [πύλη του Azure](virtual-machines-windows-nsg-quickstart-portal.md) ή [Azure PowerShell](virtual-machines-windows-nsg-quickstart-powershell.md). Όπως και με τους κανόνες τείχους προστασίας των Windows, επιτρέπει τη θύρα TCP 27017 στο περιβάλλον εργασίας του εικονικού δικτύου του σας Εικονική MongoDB.

> [AZURE.NOTE] Θύρα TCP 27017 είναι η προεπιλεγμένη θύρα που χρησιμοποιείται από το MongoDB. Μπορείτε να αλλάξετε αυτήν τη θύρα, χρησιμοποιώντας το `--port` παραμέτρου κατά την εκκίνηση `mongod.exe` με μη αυτόματο τρόπο ή από μια υπηρεσία. Εάν αλλάξετε τη θύρα, βεβαιωθείτε ότι για να ενημερώσετε τους κανόνες τείχους προστασίας των Windows και ομάδα ασφαλείας δικτύου στα προηγούμενα βήματα.


## <a name="next-steps"></a>Επόμενα βήματα
Σε αυτό το πρόγραμμα εκμάθησης, μάθατε πώς να εγκαταστήσετε και να ρυθμίσετε τις παραμέτρους MongoDB σε σας Εικονική των Windows. Μπορείτε τώρα να αποκτήσετε πρόσβαση MongoDB στην σας Εικονική Windows, ακολουθώντας τα θέματα για προχωρημένους στην [τεκμηρίωση MongoDB](https://docs.mongodb.com/manual/).
