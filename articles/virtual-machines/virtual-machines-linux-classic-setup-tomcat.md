<properties
    pageTitle="Ρύθμιση του Apache Tomcat σε μια Εικονική Linux | Microsoft Azure"
    description="Μάθετε πώς μπορείτε να ρυθμίσετε Apache Tomcat7 χρησιμοποιώντας μια Azure εικονική μηχανή (Εικονική) εκτελείται Linux."
    services="virtual-machines-linux"
    documentationCenter=""
    authors="NingKuang"
    manager="timlt"
    editor=""
    tags="azure-service-management"/>

<tags
    ms.service="virtual-machines-linux"
    ms.workload="infrastructure-services"
    ms.tgt_pltfrm="vm-linux"
    ms.devlang="na"
    ms.topic="article"
    ms.date="12/15/2015"
    ms.author="ningk"/>

#<a name="how-to-set-up-tomcat7-on-a-linux-virtual-machine-with-microsoft-azure"></a>Πώς μπορείτε να ρυθμίσετε Tomcat7 σε μια εικονική μηχανή Linux με το Microsoft Azure

Apache Tomcat (ή απλώς Tomcat, πρώην επίσης Τζακάρτα Tomcat) είναι ένα διακομιστή web Άνοιγμα αρχείου προέλευσης και servlet κοντέινερ που αναπτύχθηκε από το λογισμικό Foundation Apache (ASF). Tomcat υλοποιεί το Servlet Java και οι προδιαγραφές JavaServer σελίδες (JSP) της Sun Microsystems και παρέχει ένα καθαρό περιβάλλον διακομιστή web Java HTTP στο οποίο θέλετε να εκτελέσετε κώδικα Java. Στην πιο απλός ρύθμιση, Tomcat εκτελείται σε μια διεργασία μόνο λειτουργικό σύστημα. Αυτή η διαδικασία εκτελείται μια εικονική μηχανή Java (JVM). Κάθε αίτηση HTTP από ένα πρόγραμμα περιήγησης στο Tomcat υποβάλλεται σε επεξεργασία ως ξεχωριστό νήμα στη διαδικασία Tomcat.  

[AZURE.INCLUDE [learn-about-deployment-models](../../includes/learn-about-deployment-models-classic-include.md)]


Σε αυτόν τον οδηγό, θα εγκαταστήσετε tomcat7 σε μια εικόνα Linux και θα αναπτύξετε στην Microsoft Azure.  

Θα μάθετε:  

-   Μάθετε πώς μπορείτε να δημιουργήσετε μια εικονική μηχανή στο Azure.
-   Μάθετε πώς να προετοιμάσετε την εικονική μηχανή για tomcat7.
-   Μάθετε πώς μπορείτε να εγκαταστήσετε το tomcat7.

Θεωρείται ότι το πρόγραμμα ανάγνωσης έχει ήδη μια συνδρομή του Azure.  Εάν δεν μπορείτε να εγγραφείτε για μια δωρεάν δοκιμαστική έκδοση στο [http://azure.microsoft.com](https://azure.microsoft.com/). Εάν έχετε μια συνδρομή στο MSDN, ανατρέξτε στο θέμα [Microsoft Azure ειδική τις τιμές: MSDN, MPN και πλεονεκτήματα Bizspark](https://azure.microsoft.com/pricing/member-offers/msdn-benefits/?c=14-39). Για να μάθετε περισσότερα σχετικά με το Azure, ανατρέξτε στο θέμα [Τι είναι το Azure;](https://azure.microsoft.com/overview/what-is-azure/).

Αυτό το θέμα προϋποθέτει ότι έχετε βασικές γνώσεις εργασία tomcat και Linux.  

##<a name="phase-1-create-an-image"></a>Φάση 1: Δημιουργία μιας εικόνας
Σε αυτήν τη φάση, θα δημιουργήσετε μια εικονική μηχανή χρησιμοποιώντας μια εικόνα Linux στο Azure.  

###<a name="step-1-generate-an-ssh-authentication-key"></a>Βήμα 1: Δημιουργία ενός κλειδιού ελέγχου ταυτότητας SSH
SSH είναι ένα σημαντικό εργαλείο για τους διαχειριστές συστήματος. Ωστόσο, τη ρύθμιση των παραμέτρων ασφάλεια της access που βασίζεται σε έναν κωδικό πρόσβασης που καθορίζεται από το ανθρώπινο δεν είναι βέλτιστη πρακτική. Κακόβουλο οι χρήστες μπορούν να διασπάσετε σε το σύστημά σας που βασίζεται σε ένα όνομα χρήστη και έναν κωδικό πρόσβασης αδύναμους.

Τα καλά νέα είναι ότι υπάρχει ένας τρόπος για να αφήσετε ανοιχτό απομακρυσμένη πρόσβαση και να έχετε δεν χρειάζεται να ανησυχείτε σχετικά με τους κωδικούς πρόσβασης. Η μέθοδος αποτελείται από τον έλεγχο ταυτότητας με ασύμμετρη κρυπτογράφηση. Ιδιωτικό κλειδί του χρήστη είναι εκείνη που εκχωρεί τον έλεγχο ταυτότητας. Ακόμα, μπορείτε να κλειδώσετε το λογαριασμό του χρήστη για να απενεργοποιήσετε πλήρως τον έλεγχο ταυτότητας τον κωδικό πρόσβασης.

Ένα άλλο πλεονέκτημα αυτής της μεθόδου είναι ότι δεν χρειάζεται διαφορετικούς κωδικούς πρόσβασης για να συνδεθείτε με διαφορετικούς διακομιστές. Μπορείτε να ελέγξετε την ταυτότητα χρησιμοποιώντας το προσωπικό, ιδιωτικό κλειδί σε όλους τους διακομιστές, που δεν χρειάζεται να θυμάστε πολλούς κωδικούς πρόσβασης.

Επίσης, είναι δυνατό να συνδεθείτε με τον ορισμό ενός κωδικού πρόσβασης με αυτήν τη μέθοδο.

Ακολουθήστε τα παρακάτω βήματα για να δημιουργήσετε το κλειδί ελέγχου ταυτότητας SSH.

1.  Λήψη και εγκατάσταση του puttygen από την ακόλουθη θέση: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)
2.  Εκτελέστε το PUTTYGEN. EXE.
3.  Κάντε κλικ στην επιλογή **Δημιουργία** για να δημιουργήσετε τα πλήκτρα. Κατά τη διαδικασία, μπορείτε να αυξήσετε τύχη μετακινώντας το δείκτη του ποντικιού επάνω στην κενή περιοχή του παραθύρου.  
![][1]
4.  Μετά τη δημιουργία διαδικασία, Puttygen.exe θα εμφανίσει τον αριθμό-κλειδί που έχει δημιουργηθεί. Για παράδειγμα:  
![][2]
5.  Επιλέξτε και αντιγράψτε το δημόσιο κλειδί στο **κλειδί** και αποθηκεύστε το σε ένα αρχείο που ονομάζεται publicKey.pem. Δεν κάντε κλικ στην επιλογή **Αποθήκευση δημόσιο κλειδί**, επειδή είναι διαφορετικό από το δημόσιο κλειδί θέλουμε το αποθηκευμένο δημόσιο κλειδί μορφή αρχείου.
6.  Κάντε κλικ στην επιλογή **Αποθήκευση ιδιωτικό κλειδί** και αποθηκεύστε το σε ένα αρχείο με το όνομα privateKey.ppk.

###<a name="step-2-create-the-image-in-the-azure-portal"></a>Βήμα 2: Δημιουργήστε την εικόνα στην πύλη του Azure.
Στην [πύλη του Azure](https://portal.azure.com/), κάντε κλικ στην επιλογή **Δημιουργία** στη γραμμή εργασιών για να δημιουργήσετε μια εικόνα, επιλέγοντας την εικόνα Linux με βάση τις ανάγκες σας. Το παρακάτω παράδειγμα χρησιμοποιεί την εικόνα Ubuntu 14.04.
![][3]

Για **Όνομα κεντρικού υπολογιστή** , καθορίστε το όνομα για τη διεύθυνση URL που εσείς και προγράμματα-πελάτες του Internet που θα χρησιμοποιήσετε για να αποκτήσετε πρόσβαση σε αυτόν τον υπολογιστή εικονική. Ορίστε το τελευταίο μέρος του ονόματος του DNS, για παράδειγμα tomcatdemo, και Azure θα δημιουργήσει τη διεύθυνση URL ως tomcatdemo.cloudapp.net.  

Για το **Κλειδί ελέγχου ταυτότητας SSH**, αντιγράψτε την τιμή του κλειδιού από το αρχείο **publicKey.pem** , το οποίο περιέχει το δημόσιο κλειδί που δημιουργείται από την puttygen.  
![][4]

Άλλες ρυθμίσεις όπως απαιτείται και, στη συνέχεια, κάντε κλικ στην επιλογή Δημιουργία.  

##<a name="phase-2-prepare-your-virtual-machine-for-tomcat7"></a>Φάση 2: Προετοιμασία σας εικονική μηχανή για Tomcat7
Σε αυτήν τη φάση, θα ρυθμίσετε τις παραμέτρους ενός ορίου για την κίνηση tomcat και, στη συνέχεια, συνδεθείτε με το νέο εικονική μηχανή.
###<a name="step-1-open-the-http-port-to-allow-web-access"></a>Βήμα 1: Άνοιγμα της θύρας HTTP για να επιτρέψετε την πρόσβαση web
Τελικά σημεία στο Azure αποτελείται από ένα πρωτόκολλο (TCP ή UDP), μαζί με μια θύρα δημόσια και ιδιωτικά. Η ιδιωτική θύρα είναι θύρας στην οποία ακρόαση της υπηρεσίας στον υπολογιστή εικονική. Η δημόσια θύρα είναι θύρας στην οποία την υπηρεσία Azure cloud ακρόαση στην εξωτερική για την κίνηση εισερχόμενες, βασίζονται στο Internet.  

Θύρα TCP 8080 είναι ο προεπιλεγμένος αριθμός θύρας σε ποια ακρόασης tomcat. Άνοιγμα αυτής της θύρας με Azure τελικού σημείου θα σας επιτρέψει να και σε άλλα προγράμματα-πελάτες πρόσβαση στο Internet για να tomcat σελίδες.  

1.  Στην πύλη του Azure, κάντε κλικ στην επιλογή **Αναζήτηση** -> **εικονική μηχανή**, και, στη συνέχεια, κάντε κλικ στην επιλογή η εικονική μηχανή που δημιουργήσατε.  
![][5]
2.  Για να προσθέσετε ένα τελικό σημείο την εικονική μηχανή σας, κάντε κλικ στο πλαίσιο **τελικά σημεία** .
![][6]
3.  Κάντε κλικ στην επιλογή **Προσθήκη**.  
    1.  Για το **τελικό σημείο**, πληκτρολογήστε ένα όνομα για το τελικό σημείο στο τελικό σημείο και, στη συνέχεια, πληκτρολογήστε 80 στη **Θύρα δημόσια**.  

        Εάν ορίσετε το 80, δεν χρειάζεται να συμπεριλάβετε τον αριθμό θύρας στη διεύθυνση URL που σας επιτρέπει να αποκτήσετε πρόσβαση tomcat. Για παράδειγμα, http://tomcatdemo.cloudapp.net.    

        Εάν ορίσετε την τιμή σε μια άλλη τιμή, όπως 81, πρέπει να προσθέσετε τον αριθμό θύρας στη διεύθυνση URL για πρόσβαση σε tomcat. Για παράδειγμα, http://tomcatdemo.cloudapp.net:81 /.
    2.  Πληκτρολογήστε 8080 στη θύρα ιδιωτικό. Από προεπιλογή, tomcat αναμένει στη θύρα TCP 8080. Εάν έχετε αλλάξει την προεπιλεγμένη θύρα της tomcat ακρόασης, θα πρέπει να ενημερώσετε ιδιωτική θύρα να είναι ίδια με την tomcat θύρα ακρόασης.  
    ![][7]

4.  Κάντε κλικ στο **κουμπί OK** για να προσθέσετε το τελικό σημείο την εικονική μηχανή σας.



###<a name="step-2-connect-to-the-image-you-created"></a>Βήμα 2: Σύνδεση με την εικόνα που δημιουργήσατε.
Μπορείτε να επιλέξετε οποιοδήποτε εργαλείο SSH για να συνδεθείτε με την εικονική μηχανή σας. Σε αυτό το παράδειγμα, χρησιμοποιούμε Putty.  

Πρώτα, λάβετε το όνομα DNS του υπολογιστή σας εικονικές από την πύλη του Azure. **Κάντε κλικ στην επιλογή Αναζήτηση** -> **εικονικές μηχανές** -> το όνομα του υπολογιστή σας εικονική -> **Ιδιότητες**και, στη συνέχεια, κοιτάξτε στο πεδίο **Όνομα τομέα** του πλακιδίου **Ιδιότητες** .  

Λάβετε τον αριθμό θύρας για SSH συνδέσεις από το πεδίο **SSH** . Ακολουθεί ένα παράδειγμα.  
![][8]

Κάντε λήψη Putty από [εδώ](http://www.putty.org/) .  

Μετά τη λήψη, κάντε κλικ στην επιλογή το εκτελέσιμο αρχείο PUTTY. EXE. Ρύθμιση παραμέτρων τις βασικές επιλογές με το όνομα κεντρικού υπολογιστή και τον αριθμό που λαμβάνονται από τις ιδιότητες του υπολογιστή σας εικονικές θύρας. Ακολουθεί ένα παράδειγμα:  
![][9]

Στο αριστερό παράθυρο, κάντε κλικ στην επιλογή **σύνδεση** -> **SSH** -> **Auth** και, στη συνέχεια, κάντε κλικ στο κουμπί **Αναζήτηση** για να καθορίσετε τη θέση του αρχείου **privateKey.ppk** , το οποίο περιέχει το ιδιωτικό κλειδί που δημιουργείται από την puttygen στο φάση 1: Δημιουργήστε μια εικόνα. Ακολουθεί ένα παράδειγμα:  
![][10]

Κάντε κλικ στην επιλογή **Άνοιγμα**. Που μπορεί να ειδοποιείστε με ένα πλαίσιο μηνύματος. Εάν έχετε ρυθμίσει τις παραμέτρους του ονόματος DNS και τον αριθμό θύρας σωστά, κάντε κλικ στο κουμπί **Ναι**.
![][11]  


Θα πρέπει να δείτε τα εξής:  
![][12]

Πληκτρολογήστε το όνομα χρήστη που καθορίσατε όταν δημιουργήσατε την εικονική μηχανή στο φάση 1: Δημιουργήστε μια εικόνα. Θα δείτε κάτι παρόμοιο με το εξής:  
![][13]





##<a name="phase-3-install-software"></a>Φάση 3: Εγκατάσταση λογισμικού
Σε αυτήν τη φάση, μπορείτε να εγκαταστήσετε το περιβάλλον χρόνου εκτέλεσης Java, tomcat και άλλα στοιχεία tomcat.  

###<a name="java-runtime-environment"></a>Περιβάλλον χρόνου εκτέλεσης Java
Tomcat είναι γραμμένο σε Java. Υπάρχουν δύο είδη Java κιτ ανάπτυξης (JDKs) (OpenJDK και Oracle JDK) και μπορείτε να επιλέξετε αυτήν που θέλετε.  

>AZURE. ΣΗΜΕΊΩΣΗ: JDKs και τα δύο έχουν σχεδόν το ίδιο κωδικό για τις τάξεις στο Java API, αλλά ο κωδικός για την εικονική μηχανή είναι στην πραγματικότητα διαφορετικό. Όταν εμφανιστεί στις βιβλιοθήκες, OpenJDK έχει την τάση για να χρησιμοποιήσετε βιβλιοθήκες ανοιχτή ενώ Oracle έχει την τάση να χρησιμοποιήσετε κλειστή από αυτές. Αλλά Oracle JDK έχει περισσότερα κλάσεις και ορισμένα σταθερής σφαλμάτων και Oracle JDK είναι πιο σταθερή από OpenJDK.

Τις παρακάτω εντολές, κάντε λήψη του διαφορετικό JDKs.  

Άνοιγμα jdk   

    sudo apt-get update  
    sudo apt-get install openjdk-7-jre  

Oracle jdk  

-   Για να κάνετε λήψη του JDK από την τοποθεσία Web της Oracle:  

        wget --header "Cookie: oraclelicense=accept-securebackup-cookie" http://download.oracle.com/otn-pub/java/jdk/8u5-b13/jdk-8u5-linux-x64.tar.gz  

-   Για να δημιουργήσετε έναν κατάλογο θα περιέχει τα αρχεία JDK:  

        sudo mkdir /usr/lib/jvm  

-   Για να εξαγάγετε τα αρχεία JDK στον/χρήστης/βιβλιοθήκης/jvm/κατάλογο:  

        sudo tar -zxf jdk-8u5-linux-x64.tar.gz  -C /usr/lib/jvm/  

-   Για να ορίσετε Oracle JDK ως την προεπιλεγμένη JVM:  

        sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.8.0_05/bin/java 100  
        sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/jdk1.8.0_05/bin/javac 100  

####<a name="test"></a>Έλεγχος:
Μπορείτε να χρησιμοποιήσετε μια εντολή όπως τα εξής για να ελέγξετε εάν έχει εγκατασταθεί σωστά του περιβάλλοντος χρόνου εκτέλεσης Java:  

    java -version  

Εάν έχετε εγκαταστήσει το άνοιγμα jdk, θα πρέπει να βλέπετε ένα μήνυμα όπως το εξής:![][14]

Εάν έχετε εγκαταστήσει το oracle jdk, θα πρέπει να βλέπετε ένα μήνυμα όπως το εξής:![][15]

###<a name="tomcat7"></a>Tomcat7
Χρησιμοποιώντας την ακόλουθη εντολή για να εγκαταστήσετε το tomcat7:  

    sudo apt-get install tomcat7  

Εάν δεν χρησιμοποιείτε tomcat7, χρησιμοποιήστε την κατάλληλη παραλλαγή αυτής της εντολής.  

####<a name="test"></a>Έλεγχος:

Για να ελέγξετε εάν tomcat7 εγκαταστάθηκε με επιτυχία, αναζητήστε το όνομα του διακομιστή σας tomcat DNS (http://tomcatexample.cloudapp.net/ είναι η διεύθυνση URL παράδειγμα σε αυτό το άρθρο). Εάν βλέπετε μια σελίδα, όπως το ακόλουθο, έχετε εγκαταστήσει tomcat7 σωστά.
![][16]


###<a name="install-other-tomcat-components"></a>Εγκατάσταση άλλα στοιχεία Tomcat
Υπάρχουν άλλα προαιρετικά tomcat στοιχεία των οποίων μπορείτε επίσης να εγκαταστήσετε.  

Χρησιμοποιήστε την εντολή **sudo tomcat7 κατάλληλη cache αναζήτησης** για να δείτε όλα τα διαθέσιμα στοιχεία. Οι ακόλουθες εντολές είναι παραδείγματα για να εγκαταστήσετε ορισμένες χρήσιμες τμήματα.  

    sudo apt-get install tomcat7-admin      #admin web applications
    sudo apt-get install tomcat7-user         #tools to create user instances  

##<a name="phase-4-configure-tomcat"></a>Φάση 4: Ρύθμιση παραμέτρων Tomcat
Σε αυτήν τη φάση, μπορείτε να διαχειριστείτε tomcat.
###<a name="start-and-stop-tomcat7"></a>Έναρξη και διακοπή tomcat7
Ο διακομιστής tomcat7 θα ξεκινήσει αυτόματα κατά την εγκατάστασή του. Μπορείτε επίσης να ξεκινήσετε την στον εαυτό σας με την ακόλουθη εντολή:   

    sudo /etc/init.d/tomcat7 start

Για να διακόψετε tomcat7:  

    sudo /etc/init.d/tomcat7 stop

Για να προβάλετε την κατάσταση της tomcat7:  

    sudo /etc/init.d/tomcat7 status

Για να επανεκκινήσετε tomcat υπηρεσίες:  

    sudo /etc/init.d/tomcat7 restart

###<a name="tomcat-administration"></a>Διαχείριση tomcat
Μπορείτε να επεξεργαστείτε το αρχείο ρύθμισης παραμέτρων του χρήστη Tomcat εγκατάστασης τα διαπιστευτήρια διαχειριστή με την ακόλουθη εντολή:  

    sudo vi  /etc/tomcat7/tomcat-users.xml   

Ακολουθεί ένα παράδειγμα:  
![][17]  

>AZURE. ΣΗΜΕΊΩΣΗ: Δημιουργήστε έναν ισχυρό κωδικό πρόσβασης για το όνομα χρήστη του διαχειριστή.  

Μετά την επεξεργασία αυτού του αρχείου, θα πρέπει να επανεκκινήσετε τις υπηρεσίες tomcat7 με την παρακάτω εντολή για να εξασφαλίσετε ότι οι αλλαγές θα εφαρμοστούν:  

    sudo /etc/init.d/tomcat7 restart  

Ανοίξτε το πρόγραμμα περιήγησης και πληκτρολογήστε τη διεύθυνση URL **http://<your tomcat server DNS name>/manager/html**. Για παράδειγμα σε αυτό το άρθρο, η διεύθυνση URL είναι http://tomcatexample.cloudapp.net/manager/html.  

Μετά τη σύνδεση, θα πρέπει να δείτε κάτι παρόμοιο με το εξής:  
![][18]

##<a name="common-issues"></a>Συνήθη ζητήματα

###<a name="cant-access-the-virtual-machine-with-tomcat-and-moodle-from-the-internet"></a>Δεν είναι δυνατή η πρόσβαση η εικονική μηχανή με Tomcat και Moodle από το Internet

-   **Σύμπτωμα**  
Tomcat εκτελείται αλλά δεν μπορείτε να δείτε την προεπιλεγμένη σελίδα Tomcat με το πρόγραμμα περιήγησης.
-   **Πιθανές ριζικό πεζών-κεφαλαίων**   
    1.  Η θύρα ακρόαση tomcat δεν είναι ίδια με τη θύρα ιδιωτικό του τελικού σημείου σας εικονική μηχανή για την κίνηση tomcat.  

        Ελέγξτε τις ρυθμίσεις του τελικού σημείου θύρα δημόσια και ιδιωτικά θύρα και βεβαιωθείτε ότι η θύρα ιδιωτική είναι ίδια με την tomcat ακρόαση θύρα. Ανατρέξτε στο θέμα φάση 1: Δημιουργία μιας εικόνας για οδηγίες σχετικά με τη ρύθμιση για την εικονική μηχανή τα τελικά σημεία.  

        Για να προσδιορίσετε τη θύρα ακρόαση tomcat, ανοίξτε /etc/httpd/conf/httpd.conf (κόκκινο καπέλο τελική έκδοση) ή /etc/tomcat7/server.xml (Debian τελική έκδοση). Από προεπιλογή, η θύρα ακρόαση tomcat είναι 8080. Ακολουθεί ένα παράδειγμα:  

            <Connector port="8080" protocol="HTTP/1.1"  connectionTimeout="20000"  URIEncoding="UTF-8"            redirectPort="8443" />  

        Εάν χρησιμοποιείτε μια εικονική μηχανή όπως Debian ή Ubuntu και θέλετε να αλλάξετε την προεπιλεγμένη θύρα της Tomcat ακρόαση (για παράδειγμα 8081), θα πρέπει επίσης να ανοίξετε τη θύρα για το λειτουργικό σύστημα. Πρώτα, ανοίξτε το προφίλ:  

            sudo vi /etc/default/tomcat7  

        Στη συνέχεια, καταργήστε τα σχόλια από την τελευταία γραμμή και αλλάξτε "Όχι" σε "Ναι".  

            AUTHBIND=yes

    2.  Το τείχος προστασίας έχει απενεργοποιήσει τη θύρα ακρόαση της tomcat.

        Εάν μπορείτε να δείτε μόνο την προεπιλεγμένη σελίδα Tomcat από τον τοπικό κεντρικό υπολογιστή, στη συνέχεια, το πρόβλημα πιθανότερο είναι ότι τη θύρα την οποία είναι ακούσαμε από tomcat έχει αποκλειστεί από το τείχος προστασίας. Μπορείτε να χρησιμοποιήσετε το εργαλείο w3m για να μεταβείτε στην ιστοσελίδα. Τις παρακάτω εντολές εγκατάσταση w3m και μεταβείτε στη σελίδα στην προεπιλεγμένη Tomcat:  

            sudo yum  install w3m w3m-img
            w3m http://localhost:8080  

-   **Λύση**
    1. Εάν το tomcat ακρόαση θύρα δεν είναι ίδια με τη θύρα ιδιωτικό από το τελικό σημείο για την κίνηση η εικονική μηχανή, χρειάζεστε μπορείτε να αλλάξετε τη θύρα ιδιωτική να είναι ίδια με την tomcat ακρόαση θύρα.   

    2.  Εάν το ζήτημα προκαλείται από το τείχος προστασίας/iptables, προσθέστε τις ακόλουθες γραμμές για να /etc/sysconfig/iptables:  

            -A INPUT -p tcp -m tcp --dport 80 -j ACCEPT
            -A INPUT -p tcp -m tcp --dport 443 -j ACCEPT  

        Σημειώστε ότι η δεύτερη γραμμή είναι απαραίτητη μόνο για την κίνηση https.  

        Βεβαιωθείτε ότι αυτό είναι επάνω από τις γραμμές που θα καθολικά περιορισμού της πρόσβασης, όπως οι εξής:  

            -A INPUT -j REJECT --reject-with icmp-host-prohibited  

        Για να φορτώσετε ξανά το iptables, εκτελέστε την ακόλουθη εντολή:  

            service iptables restart  

        Αυτό έχει ελεγχθεί σε CentOS 6.3.

###<a name="permission-denied-when-upload-you-project-files-to-varlibtomcat7webapps"></a>Δικαίωμα δεν επιτρέπεται η πότε αποστολής έργου αρχείων για /var/lib/tomcat7/webapps /  

-   **Σύμπτωμα**  
Όταν χρησιμοποιείτε οποιοδήποτε πρόγραμμα-πελάτη SFTP (όπως FileZilla) για να συνδεθείτε με την εικονική μηχανή σας και μεταβείτε /var/lib/tomcat7/webapps/για να δημοσιεύσετε την τοποθεσία σας, θα λάβετε ένα μήνυμα σφάλματος παρόμοιο με το εξής:  

        status: Listing directory /var/lib/tomcat7/webapps
        Command:    put "C:\Users\liang\Desktop\info.jsp" "info.jsp"
        Error:  /var/lib/tomcat7/webapps/info.jsp: open for write: permission denied
        Error:  File transfer failed

-   **Πιθανές ρίζας πεζών-κεφαλαίων** Δεν έχετε δικαιώματα για να αποκτήσετε πρόσβαση στο φάκελο /var/lib/tomcat7/webapps.  
-   **Λύση**  
Χρειάζεστε λαμβάνετε δικαιωμάτων από τον ριζικό κατάλογο λογαριασμό. Μπορείτε να αλλάξετε την κυριότητα αυτού του φακέλου από το ριζικό κατάλογο για το όνομα χρήστη που χρησιμοποιήσατε κατά την προμήθεια του υπολογιστή. Ακολουθεί ένα παράδειγμα με το όνομα του λογαριασμού azureuser:  

        sudo chown azureuser -R /var/lib/tomcat7/webapps

    Χρησιμοποιήστε την επιλογή -R για να εφαρμόσετε τα δικαιώματα για όλα τα αρχεία μέσα σε έναν κατάλογο πολύ.  

    Σημειώστε ότι αυτή η εντολή λειτουργεί επίσης για καταλόγους. Η επιλογή -R αλλάζει τα δικαιώματα για όλα τα αρχεία και καταλόγους μέσα σε κατάλογο. Ακολουθεί ένα παράδειγμα:  

        sudo chown -R username:group directory  

    Αυτή η εντολή αλλάζει κατοχής (χρηστών και ομάδων) για όλα τα αρχεία και καταλόγους μέσα σε κατάλογο και ίδιο τον κατάλογο.  

    Την ακόλουθη εντολή αλλάζει το δικαίωμα του καταλόγου φάκελο μόνο αλλά αφήνει μόνο τα αρχεία και φακέλους μέσα στον κατάλογο.  

        sudo chown username:group directory



[1]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-01.png
[2]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-02.png
[3]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-03.png
[4]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-04.png
[5]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-05.png
[6]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-06.png
[7]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-07.png
[8]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-08.png
[9]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-09.png
[10]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-10.png
[11]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-11.png
[12]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-12.png
[13]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-13.png
[14]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-14.png
[15]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-15.png
[16]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-16.png
[17]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-17.png
[18]: ./media/virtual-machines-linux-classic-setup-tomcat/virtual-machines-linux-setup-tomcat7-linux-18.png
