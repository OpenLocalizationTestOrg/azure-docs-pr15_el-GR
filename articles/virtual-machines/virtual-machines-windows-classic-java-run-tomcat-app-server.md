<properties
    pageTitle="Tomcat σε μια εικονική μηχανή | Microsoft Azure"
    description="Αυτό το πρόγραμμα εκμάθησης χρησιμοποιεί τους πόρους που δημιουργήθηκαν με το μοντέλο κλασική ανάπτυξης και δείχνει πώς μπορείτε να δημιουργήσετε έναν υπολογιστή Windows εικονικού και ρυθμίστε τις παραμέτρους του για να εκτελέσετε Apache Tomcat διακομιστή εφαρμογών."
    services="virtual-machines-windows"
    documentationCenter="java"
    authors="rmcmurray"
    manager="wpickett"
    editor=""
    tags="azure-service-management" />

<tags
    ms.service="virtual-machines-windows"
    ms.workload="web"
    ms.tgt_pltfrm="vm-windows"
    ms.devlang="Java"
    ms.topic="article"
    ms.date="08/11/2016"
    ms.author="robmcm"/>

# <a name="how-to-run-a-java-application-server-on-a-virtual-machine-created-with-the-classic-deployment-model"></a>Τον τρόπο εκτέλεσης Java application server σε εικονικές υπολογιστή που δημιουργήθηκαν με το μοντέλο κλασική ανάπτυξης

[AZURE.INCLUDE [learn-about-deployment-models](../../includes/learn-about-deployment-models-classic-include.md)]


Με το Azure, μπορείτε να χρησιμοποιήσετε μια εικονική μηχανή για την παροχή δυνατότητες διακομιστή. Ως παράδειγμα, ένα εικονικό μηχάνημα που εκτελείται σε Azure μπορεί να ρυθμιστεί για τη φιλοξενία ενός διακομιστή εφαρμογών Java, όπως Apache Tomcat. Μετά την ολοκλήρωση αυτού του οδηγού, θα έχετε την κατανόηση του τρόπου για να δημιουργήσετε μια εικονική μηχανή εκτελείται σε Azure και ρυθμίστε τις παραμέτρους του για να εκτελέσετε Java application server.

Θα μάθετε:

* Μάθετε πώς μπορείτε να δημιουργήσετε μια εικονική μηχανή που έχει ένα κιτ ανάπτυξης Java (JDK) ήδη εγκατεστημένο.
* Μάθετε πώς να απομακρυσμένα είσοδος για να την εικονική μηχανή σας.
* Πώς να εγκαταστήσετε το Java application server στον υπολογιστή σας εικονική.
* Μάθετε πώς μπορείτε να δημιουργήσετε ένα τελικό σημείο για την εικονική μηχανή σας.
* Μάθετε πώς μπορείτε να ανοίξετε μια θύρα στο τείχος προστασίας για το διακομιστή εφαρμογών.

Για τους σκοπούς αυτής της εκμάθησης, ένα διακομιστή εφαρμογών Apache Tomcat θα εγκατασταθεί σε μια εικονική μηχανή. Η εγκατάσταση ολοκληρώθηκε θα έχει ως αποτέλεσμα μια εγκατάσταση Tomcat όπως οι εξής.

![Εικονική μηχανή εκτελείται Apache Tomcat][virtual_machine_tomcat]

[AZURE.INCLUDE [create-account-and-vms-note](../../includes/create-account-and-vms-note.md)]

## <a name="to-create-a-virtual-machine"></a>Για να δημιουργήσετε μια εικονική μηχανή

1. Πραγματοποιήστε είσοδο στο [Azure κλασική πύλη](https://manage.windowsazure.com).
2. Κάντε κλικ στην επιλογή **Δημιουργία**, κάντε κλικ στην επιλογή **τον υπολογισμό**, κάντε κλικ στην επιλογή **εικονική μηχανή**και, στη συνέχεια, κάντε κλικ στην επιλογή **Από τη συλλογή**.
3. Στο παράθυρο διαλόγου **Επιλέξτε Εικόνα εικονική μηχανή** , επιλέξτε **JDK 7 Windows Server 2012**.
Σημειώστε ότι είναι διαθέσιμη εάν έχετε παλαιού τύπου εφαρμογές που δεν είναι έτοιμη για να εκτελέσετε σε JDK 7 **JDK 6 Windows Server 2012** .
4. Κάντε κλικ στο κουμπί **Επόμενο**.
5. Στο παράθυρο διαλόγου **Ρύθμιση παραμέτρων εικονική μηχανή** :
    1. Καθορίστε ένα όνομα για την εικονική μηχανή.
    2. Καθορίστε το μέγεθος για να χρησιμοποιήσετε για την εικονική μηχανή.
    3. Πληκτρολογήστε ένα όνομα για το διαχειριστή στο πεδίο **Όνομα χρήστη** . Να θυμάστε αυτό το όνομα και τον κωδικό πρόσβασης που θα εισαγάγετε στη συνέχεια, θα μπορείτε να τα χρησιμοποιήσετε όταν εισέρχεστε από απόσταση στο για να την εικονική μηχανή.
    4. Πληκτρολογήστε έναν κωδικό πρόσβασης στο πεδίο **νέο κωδικό πρόσβασης** και πληκτρολογήστε τον ξανά στο πεδίο **Επιβεβαίωση** . Πρόκειται για τον κωδικό πρόσβασης του λογαριασμού διαχειριστή.
    5. Κάντε κλικ στο κουμπί **Επόμενο**.
6. Στο επόμενο παράθυρο διαλόγου **Ρύθμιση παραμέτρων εικονική μηχανή** :
    1. Για την **υπηρεσία Cloud**, χρησιμοποιήστε την προεπιλεγμένη **Δημιουργία μια νέα υπηρεσία στο cloud**.
    2. Η τιμή για το **όνομα DNS υπηρεσία Cloud** πρέπει να είναι μοναδικό σε cloudapp.net. Εάν είναι απαραίτητο, τροποποιήστε αυτήν την τιμή, ώστε να Azure που δείχνει να είναι μοναδικό.
    2. Καθορίστε μια περιοχή, ομάδα συσχέτισης ή εικονικού δικτύου. Για τους σκοπούς αυτής της εκμάθησης, καθορίστε μια περιοχή όπως **Δυτική ΗΠΑ**.
    2. Για το **Λογαριασμό χώρου αποθήκευσης**, επιλέξτε **Χρήση λογαριασμού χώρου αποθήκευσης που δημιουργούνται αυτόματα**.
    3. **Ορισμός διαθεσιμότητας**, επιλέξτε **(καμία)**.
    4. Κάντε κλικ στο κουμπί **Επόμενο**.
7. Στο τελικό διαλόγου **Ρύθμιση παραμέτρων εικονική μηχανή** :
    1. Αποδεχτείτε τις προεπιλεγμένες καταχωρήσεις τελικού σημείου.
    2. Κάντε κλικ στην επιλογή **Ολοκλήρωση**.

## <a name="to-remotely-sign-in-to-your-virtual-machine"></a>Για να εισέλθετε από απόσταση στο την εικονική μηχανή

1. Συνδεθείτε στην [πύλη του Azure κλασική](https://manage.windowsazure.com).
2. Κάντε κλικ στην επιλογή **εικονικές μηχανές**.
3. Κάντε κλικ στο όνομα του υπολογιστή εικονικές που θέλετε να συνδεθείτε στο.
4. Αφού έχει ξεκινήσει η εικονική μηχανή ένα αναδυόμενο μενού στο κάτω μέρος της σελίδας επιτρέπει συνδέσεις.
5. Κάντε κλικ στην επιλογή **σύνδεση**.
6. Απαντήστε στις ερωτήσεις όπως απαιτείται για να συνδεθείτε με την εικονική μηχανή. Αυτό πρέπει να περιλαμβάνουν αποθήκευση ή άνοιγμα του αρχείου .rdp που περιέχει τις πληροφορίες σύνδεσης. Ίσως χρειαστεί να αντιγράψετε τη διεύθυνση url: θύρα ως το τελευταίο τμήμα της στην πρώτη γραμμή του αρχείου .rdp και να την επικολλήσετε σε μια απομακρυσμένη εφαρμογή εισόδου.

## <a name="to-install-a-java-application-server-on-your-virtual-machine"></a>Για να εγκαταστήσετε το Java application server στον υπολογιστή σας εικονικές

Μπορείτε να αντιγράψετε ένα διακομιστή εφαρμογών Java σας εικονική μηχανή ή μπορείτε να εγκαταστήσετε ένα διακομιστή εφαρμογής Java μέσω ενός προγράμματος εγκατάστασης.

Για τους σκοπούς αυτής της εκμάθησης, θα εγκατασταθεί Tomcat.

1. Όταν έχετε εισέλθει για να την εικονική μηχανή σας, ανοίξτε μια περίοδο λειτουργίας περιήγησης για να [Apache Tomcat](http://tomcat.apache.org/download-70.cgi).
2. Κάντε διπλό κλικ στη σύνδεση για το **Πρόγραμμα εγκατάστασης υπηρεσίας Windows 32-bit/64 bit**. Με αυτήν την τεχνική, Tomcat θα εγκατασταθεί ως υπηρεσία των Windows.
3. Όταν σας ζητηθεί, επιλέξτε για να εκτελέσετε το πρόγραμμα εγκατάστασης.
4. Εντός του οδηγού **Ρύθμισης Tomcat Apache** , ακολουθήστε τις οδηγίες για να εγκαταστήσετε το Tomcat. Για τους σκοπούς αυτής της εκμάθησης, αποδεχτείτε τις προεπιλογές είναι σωστή. Όταν φτάσετε στο παράθυρο διαλόγου **την ολοκλήρωση του οδηγού ρύθμισης Tomcat Apache** , μπορείτε να ελέγξετε προαιρετικά **Εκτέλεση Tomcat Apache** να έχουν Tomcat Έναρξη τώρα. Κάντε κλικ στο κουμπί **Τέλος** για να ολοκληρώσετε τη διαδικασία ρύθμισης του Tomcat.

## <a name="to-start-tomcat"></a>Για να ξεκινήσετε Tomcat
Εάν δεν επιλέξατε για να εκτελέσετε Tomcat στο παράθυρο διαλόγου **την ολοκλήρωση του οδηγού ρύθμισης Tomcat Apache** , ξεκινήσετε ανοίγοντας μια γραμμή εντολών στον υπολογιστή σας εικονικές και εκτελεί **καθαρής Έναρξη Tomcat7**.

Τώρα θα πρέπει να βλέπετε Tomcat εκτελείται εάν εκτελείτε την εικονική μηχανή προγράμματος περιήγησης και ανοίξτε <http://localhost:8080>.

Για να δείτε Tomcat εκτελούνται από εξωτερική μηχανήματα, πρέπει να δημιουργήσετε ένα τελικό σημείο και να ανοίξετε μια θύρα.

## <a name="to-create-an-endpoint-for-your-virtual-machine"></a>Για να δημιουργήσετε ένα τελικό σημείο για την εικονική μηχανή
1. Πραγματοποιήστε είσοδο στο [Azure κλασική πύλη](https://manage.windowsazure.com).
2. Κάντε κλικ στην επιλογή **εικονικές μηχανές**.
3. Κάντε κλικ στο όνομα του εικονικές υπολογιστή που εκτελεί διακομιστή εφαρμογής Java.
4. Κάντε κλικ στην επιλογή **τελικά σημεία**.
5. Κάντε κλικ στην επιλογή **Προσθήκη**.
6. Στο παράθυρο διαλόγου **Προσθήκη τελικού σημείου** , βεβαιωθείτε ότι **τελικού σημείου μεμονωμένη Προσθήκη** είναι επιλεγμένο και, στη συνέχεια, κάντε κλικ στο κουμπί **Επόμενο**.
7. Στο παράθυρο διαλόγου **νέο τελικό σημείο λεπτομέρειες** :
    1. Καθορίστε ένα όνομα για το τελικό σημείο; Για παράδειγμα, **HttpIn**.
    2. Καθορίστε το πρωτόκολλο **TCP** .
    3. Καθορίστε **80** για τη θύρα δημόσια.
    4. Καθορίστε **8080** για τη θύρα ιδιωτικό.
    5. Κάντε κλικ στο κουμπί **ολοκλήρωσης** για να κλείσετε το παράθυρο διαλόγου. Τώρα θα δημιουργηθεί το τελικό σημείο.

## <a name="to-open-a-port-in-the-firewall-for-your-virtual-machine"></a>Για να ανοίξετε μια θύρα στο τείχος προστασίας για την εικονική μηχανή
1. Πραγματοποιήστε είσοδο στο την εικονική μηχανή σας.
2. Κάντε κλικ στην επιλογή **Έναρξη των Windows**.
3. Κάντε κλικ στην επιλογή **Πίνακας ελέγχου**.
4. Κάντε κλικ στην επιλογή **σύστημα και ασφάλεια**, κάντε κλικ στην επιλογή **Τείχος προστασίας των Windows**και, στη συνέχεια, κάντε κλικ στην επιλογή **Ρυθμίσεις για προχωρημένους**.
5. Κάντε κλικ στην επιλογή **Κανόνες εισερχομένων**και, στη συνέχεια, κάντε κλικ στην επιλογή **Δημιουργία κανόνα**.
 ![Νέος κανόνας εισερχομένων][NewIBRule]
6. Για τον **Τύπο κανόνα**, επιλέξτε **θύρα**και, στη συνέχεια, κάντε κλικ στο κουμπί **Επόμενο**.
 ![Νέα θύρα κανόνα εισερχομένων][NewRulePort]
7. Στην οθόνη **πρωτόκολλο και τις θύρες** , επιλέξτε **TCP**, καθορίστε **8080** ως τη **συγκεκριμένη τοπική θύρα**και, στη συνέχεια, κάντε κλικ στο κουμπί **Επόμενο**.
 ![Νέος κανόνας εισερχομένων][NewRuleProtocol]
8. Στην οθόνη **ενέργεια** , επιλέξτε να **επιτρέπεται η σύνδεση**και, στη συνέχεια, κάντε κλικ στο κουμπί **Επόμενο**.
 ![Νέα ενέργεια κανόνα εισερχομένων][NewRuleAction]
9. Στην οθόνη **προφίλ** , βεβαιωθείτε ότι είναι επιλεγμένα **τομέα**, **ιδιωτικά**και **δημόσια** και, στη συνέχεια, κάντε κλικ στο κουμπί **Επόμενο**.
 ![Νέο προφίλ κανόνα εισερχομένων][NewRuleProfile]
10. Στην οθόνη **όνομα** , καθορίστε ένα όνομα για τον κανόνα, όπως **HttpIn** (δεν απαιτείται το όνομα του κανόνα ώστε να ταιριάζει με το όνομα του τελικού σημείου, ωστόσο), και, στη συνέχεια, κάντε κλικ στο κουμπί **Τέλος**.  
 ![Νέο όνομα κανόνα εισερχομένων][NewRuleName]

Σε αυτό το σημείο της τοποθεσίας Web Tomcat πρέπει να μπορεί να προβληθεί από μια εξωτερική περιήγησης χρησιμοποιώντας μια διεύθυνση URL της φόρμας * *http://*σας\_DNS\_όνομα*. cloudapp.net**όπου ** *σας\_DNS\_όνομα*** είναι το όνομα DNS που καθορίσατε όταν δημιουργήσατε την εικονική μηχανή.

## <a name="application-lifecycle-considerations"></a>Εφαρμογή του κύκλου ζωής ζητήματα
* Μπορείτε να δημιουργήσετε το δικό σας αρχειοθέτηση εφαρμογών web (ΠΟΛΈΜΟΥ) και να την προσθέσετε στο φάκελο **webapps** . Για παράδειγμα, Δημιουργία βασικού έργου δυναμικού περιεχομένου web σελίδας υπηρεσίας Java (JSP) και το εξαγάγετε ως αρχείο ΠΟΛΈΜΟΥ, αντιγράψτε το ΠΟΛΈΜΟΥ στο φάκελο **webapps** Apache Tomcat η εικονική μηχανή, στη συνέχεια, εκτελέστε το σε ένα πρόγραμμα περιήγησης.
* Από προεπιλογή κατά την εγκατάσταση της υπηρεσίας Tomcat, το έχει ρυθμιστεί να ξεκινά με μη αυτόματο τρόπο. Μπορείτε να πραγματοποιήσετε εναλλαγή ώστε να ξεκινά αυτόματα με τη χρήση του συμπληρωματικού προγράμματος υπηρεσιών. Ξεκινήστε το συμπληρωματικό πρόγραμμα υπηρεσιών κάνοντας κλικ στην επιλογή **Έναρξη των Windows**, **Τα εργαλεία διαχείρισης**και, στη συνέχεια, **υπηρεσίες**. Κάντε διπλό κλικ στην υπηρεσία **Apache Tomcat** και ορίστε τον **τύπο εκκίνησης** σε **αυτόματα**.

    ![Ρύθμιση υπηρεσίας ώστε να ξεκινά αυτόματα][service_automatic_startup]

    Το πλεονέκτημα της έναρξης Tomcat αυτόματα είναι ότι θα ξεκινήσει εάν η εικονική μηχανή γίνει επανεκκίνηση (για παράδειγμα, αφού έχετε εγκαταστήσει και ενημερώσεις λογισμικού που απαιτούν επανεκκίνηση).

## <a name="next-steps"></a>Επόμενα βήματα
Μάθετε περισσότερα σχετικά με άλλες υπηρεσίες (όπως αποθήκευσης Azure bus υπηρεσίας και βάση δεδομένων SQL) που μπορεί να θέλετε να συμπεριλάβετε με τις εφαρμογές σας Java κατά την προβολή των πληροφοριών που είναι διαθέσιμα στο [Κέντρο για προγραμματιστές Java](https://azure.microsoft.com/develop/java/).

[virtual_machine_tomcat]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/WA_VirtualMachineRunningApacheTomcat.png

[service_automatic_startup]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/WA_TomcatServiceAutomaticStart.png









[NewIBRule]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/NewInboundRule.png
[NewRulePort]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/NewRulePort.png
[NewRuleProtocol]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/NewRuleProtocol.png
[NewRuleAction]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/NewRuleAction.png
[NewRuleName]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/NewRuleName.png
[NewRuleProfile]: ./media/virtual-machines-windows-classic-java-run-tomcat-app-server/NewRuleProfile.png
