<properties
   pageTitle="Δοκιμές NetWeaver SAP στο Microsoft Azure SUSE Linux ΣΠΣ | Microsoft Azure"
   description="Δοκιμές NetWeaver SAP στο Microsoft Azure SUSE Linux ΣΠΣ"
   services="virtual-machines-linux"
   documentationCenter=""
   authors="hermanndms"
   manager="timlt"
   editor=""
   tags="azure-resource-manager"
   keywords=""/>
<tags
   ms.service="virtual-machines-linux"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="vm-linux"
   ms.workload="infrastructure-services"
   ms.date="09/15/2016"
   ms.author="hermannd"/>

# <a name="running-sap-netweaver-on-microsoft-azure-suse-linux-vms"></a>Εκτελείται NetWeaver SAP στο Microsoft Azure SUSE Linux ΣΠΣ


Σε αυτό το άρθρο περιγράφει διάφορα πράγματα που πρέπει να λάβετε υπόψη όταν χρησιμοποιείτε SAP NetWeaver σε εικονικές μηχανές Microsoft Azure SUSE Linux (ΣΠΣ). Το 2016 19 Μαΐου SAP NetWeaver υποστηρίζεται επίσημα σε ΣΠΣ Linux SUSE στην Azure. Όλες τις λεπτομέρειες σχετικά με τις εκδόσεις Linux, SAP πυρήνα εκδόσεις και ούτω καθεξής, μπορείτε να βρείτε στο 1928533 Σημείωση SAP "των εφαρμογών SAP στο Azure: υποστηρίζονται προϊόντα και τύπους Azure Εικονική".
Θα βρείτε εδώ περαιτέρω τεκμηρίωσης σχετικά με το SAP σε VM Linux: [Χρήση SAP σε εικονικές μηχανές Linux (ΣΠΣ)](virtual-machines-linux-sap-get-started.md).


Οι ακόλουθες πληροφορίες θα σας βοηθήσουν να αποφύγετε ορισμένες πιθανές παγίδες.

## <a name="suse-images-on-azure-for-running-sap"></a>Εικόνες SUSE Azure για την εκτέλεση του SAP

Για την εκτέλεση SAP NetWeaver σε Azure, χρησιμοποιήστε μόνο SUSE Linux Enterprise Server SLES 12 (SPx) - δείτε επίσης SAP Σημείωση 1928533. Είναι μια ειδική εικόνα SUSE από το Azure Marketplace ("SLES 11 SP3 για SAP CAL"), αλλά αυτό δεν προορίζεται για χρήση Γενικά. Μην χρησιμοποιείτε αυτήν την εικόνα επειδή είναι δεσμευμένο για τη λύση [Βιβλιοθήκη συσκευής Cloud SAP](https://cal.sap.com/) .  

Θα πρέπει να μπορείτε να χρησιμοποιήσετε για τη διαχείριση πόρων Azure για όλες τις νέες δοκιμές και εγκαταστάσεις σε Azure. Για να αναζητήσετε εικόνες SUSE SLES και τις εκδόσεις με τη χρήση του PowerShell Azure ή το Azure περιβάλλον γραμμής εντολών (CLI), χρησιμοποιήστε τις παρακάτω εντολές. Στη συνέχεια, μπορείτε να χρησιμοποιήσετε το αποτέλεσμα, για παράδειγμα, για να ορίσετε την εικόνα του λειτουργικού Συστήματος σε ένα πρότυπο JSON για την ανάπτυξη μιας νέας Εικονική Linux SUSE.
Οι εντολές του PowerShell είναι έγκυροι για την έκδοση του PowerShell Azure 1.0.1 και νεότερες εκδόσεις.

* Αναζητήστε το υπάρχον εκδότες, συμπεριλαμβανομένων των SUSE:

   ```
   PS  : Get-AzureRmVMImagePublisher -Location "West Europe"  | where-object { $_.publishername -like "*US*"  }
   CLI : azure vm image list-publishers westeurope | grep "US"
   ```

* Αναζητήστε υπάρχουσες προσφορές από SUSE:

   ```
   PS  : Get-AzureRmVMImageOffer -Location "West Europe" -Publisher "SUSE"
   CLI : azure vm image list-offers westeurope SUSE
   ```

* Αναζητήστε προσφορές SUSE SLES:

   ```
   PS  : Get-AzureRmVMImageSku -Location "West Europe" -Publisher "SUSE" -Offer "SLES"
   CLI : azure vm image list-skus westeurope SUSE SLES
   ```

* Αναζητήστε μια συγκεκριμένη έκδοση της άλλες SKU SLES:

   ```
   PS  : Get-AzureRmVMImage -Location "West Europe" -Publisher "SUSE" -Offer "SLES" -skus "12"
   CLI : azure vm image list westeurope SUSE SLES 12
   ```

## <a name="installing-walinuxagent-in-a-suse-vm"></a>Κατά την εγκατάσταση WALinuxAgent σε μια Εικονική SUSE

Ο παράγοντας που ονομάζεται WALinuxAgent είναι τμήμα από τις εικόνες SLES από το Azure Marketplace. Για πληροφορίες σχετικά με την εγκατάσταση με μη αυτόματο τρόπο (για παράδειγμα, κατά την αποστολή μιας SLES OS εικονικού σκληρού δίσκου (VHD) από εσωτερικής εγκατάστασης), ανατρέξτε στο θέμα:

- [OpenSUSE] (http://software.opensuse.org/package/WALinuxAgent)

- [Azure] (εικονικού-μηχανές-linux-θεωρηθεί-distros.md)

- [SUSE] (https://www.suse.com/communities/blog/suse-linux-enterprise-server-configuration-for-windows-azure/)

## <a name="sap-enhanced-monitoring"></a>SAP "βελτιωμένη παρακολούθηση"

SAP "βελτιωμένη παρακολούθηση" είναι υποχρεωτική προϋπόθεση για να εκτελέσετε SAP σε Azure. Ελέγξτε λεπτομερειών στο SAP Σημείωση 2191498 "SAP σε Linux με Azure: βελτιωμένη παρακολούθηση".

## <a name="attaching-azure-data-disks-to-an-azure-linux-vm"></a>Επισύναψη δίσκων Azure δεδομένων σε μια Εικονική Linux Azure

Πρέπει να ποτέ Azure ενεργοποίησης δίσκων δεδομένων σε μια Εικονική Linux Azure χρησιμοποιώντας το αναγνωριστικό συσκευής. Εναλλακτικά, χρησιμοποιήστε το μοναδικό αναγνωριστικό (UUID). Να είστε προσεκτικοί κατά τη χρήση γραφικών εργαλεία για να Azure ενεργοποίησης δίσκων δεδομένων, για παράδειγμα. Ελέγξτε ξανά τις καταχωρήσεις στο /etc/fstab.

Αυτό το ζήτημα με το Αναγνωριστικό συσκευής είναι που μπορεί να αλλάξει το και, στη συνέχεια, η Εικονική Azure μπορεί να σταματήσει να ανταποκρίνεται στη διαδικασία εκκίνησης. Για να συμβάλει στην αντιμετώπιση το ζήτημα, μπορείτε να προσθέσετε την παράμετρο nofail στο /etc/fstab. Όμως, πρέπει να είστε προσεκτικοί με nofail επειδή εφαρμογές ενδέχεται να χρησιμοποιήσετε το σημείο ενεργοποίησης ως πριν από και ενδέχεται να γράψετε στο σύστημα αρχείων ριζικό κατάλογο, σε περίπτωση που ένα δίσκο εξωτερικών δεδομένων Azure δεν ενεργοποιηθεί κατά την εκκίνηση.

Η μοναδική εξαίρεση σε τοποθέτησης μέσω UUID είναι επισύναψη ένα δίσκο λειτουργικό σύστημα για την αντιμετώπιση προβλημάτων, όπως περιγράφεται στην επόμενη ενότητα.

## <a name="troubleshooting-a-suse-vm-that-isnt-accessible-anymore"></a>Αντιμετώπιση προβλημάτων μια Εικονική SUSE που δεν είναι δυνατή πλέον

Ενδέχεται να υπάρχουν περιπτώσεις όπου μια Εικονική SUSE στην Azure παύει να ανταποκρίνεται στη διαδικασία εκκίνησης (για παράδειγμα, με το μήνυμα σφάλματος που σχετίζονται με την τοποθέτηση δίσκων). Μπορείτε να επαληθεύσετε αυτό το ζήτημα, χρησιμοποιώντας τη δυνατότητα Διαγνωστικά εκκίνησης για εικονικές μηχανές Windows Azure v2 στην πύλη του Azure. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [εκκίνησης Διαγνωστικά] (https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/).

Ένας τρόπος για να επιλύσετε το πρόβλημα είναι να επισυνάψετε ο δίσκος OS από το κατεστραμμένο Εικονική στο άλλο Εικονική SUSE στην Azure. Στη συνέχεια, κάνετε τις κατάλληλες αλλαγές όπως επεξεργασίας /etc/fstab ή την κατάργηση δικτύου udev κανόνες, όπως περιγράφεται στην επόμενη ενότητα.

Υπάρχει κάτι σημαντικό να λάβετε υπόψη σας. Ανάπτυξη διάφορες ΣΠΣ SUSE από την ίδια εικόνα Azure Marketplace (για παράδειγμα, 11 SP4 SLES) έχει ως αποτέλεσμα το δίσκο λειτουργικό σύστημα για να τοποθετείται πάντα με το ίδιο UUID. Επομένως, χρησιμοποιώντας το UUID για να επισυνάψετε ένα δίσκο OS από ένα διαφορετικό Εικονική που έχει αναπτυχθεί χρησιμοποιώντας την ίδια εικόνα Azure Marketplace θα οδηγήσει σε δύο πανομοιότυπες αναγνωριστικών UUID. Αυτό προκαλεί προβλήματα και θα μπορούσε να σημαίνει ότι η Εικονική προορίζονταν για την αντιμετώπιση προβλημάτων θα στην πραγματικότητα εκκίνηση από το συνημμένο και έχει καταστραφεί OS δίσκο αντί για το αρχικό αυτό.

Υπάρχουν δύο τρόποι για να αποφύγετε αυτό το πρόβλημα:

* Χρησιμοποιήστε μια διαφορετική εικόνα Azure Marketplace για την αντιμετώπιση προβλημάτων εικονική Μηχανή (για παράδειγμα, SLES 11 SPx αντί για SLES 12).
* Δεν προσαρτήστε το κατεστραμμένο δίσκο OS από μια άλλη Εικονική χρησιμοποιώντας UUID--χρήση κάτι άλλο.

## <a name="uploading-a-suse-vm-from-on-premises-to-azure"></a>Αποστολή μια Εικονική SUSE από εσωτερικής εγκατάστασης για να Azure

Για μια περιγραφή των βημάτων για να αποστείλετε μια Εικονική SUSE από εσωτερικής εγκατάστασης για να Azure, ανατρέξτε στο θέμα [προετοιμασία μια εικονική μηχανή SLES ή openSUSE για Azure] (virtual-machines-linux-suse-create-upload-vhd.md).

Εάν θέλετε να αποστείλετε μια Εικονική χωρίς το βήμα διαχειριστείτε στο τέλος (για παράδειγμα, για να λάβετε μια υπάρχουσα εγκατάσταση SAP, καθώς και το όνομα κεντρικού υπολογιστή), ελέγξτε τα ακόλουθα στοιχεία:

* Βεβαιωθείτε ότι ο δίσκος OS έχει τοποθετηθεί χρησιμοποιώντας UUID και όχι το αναγνωριστικό συσκευής. Αλλαγή σε UUID μόνο σε /etc/fstab δεν είναι αρκετά για το λειτουργικό σύστημα δίσκο. Επίσης, η μην ξεχάσετε να προσαρμόσετε το πρόγραμμα φόρτωσης εκκίνησης μέσω YaST ή με την επεξεργασία /boot/grub/menu.lst.
* Εάν χρησιμοποιείτε τη μορφή VHDX για το λειτουργικό σύστημα SUSE δίσκο και μετατρέψετε σε VHD για αποστολή σε Azure, είναι πιθανό ότι η συσκευή δικτύου θα αλλάξει από eth0 eth1. Για να αποφύγετε προβλήματα όταν εκκίνηση στο Azure αργότερα, επαναφέρετε eth0 όπως περιγράφεται στο [επιδιόρθωση eth0 στο κλωνοποιημένο VMware 11 SLES] (https://dartron.wordpress.com/2013/09/27/fixing-eth1-in-cloned-sles-11-vmware/).

Εκτός από ό, τι περιγράφεται στο άρθρο, συνιστάται να καταργήσετε αυτό:

   /lib/udev/Rules.d/75-persistent-NET-Generator.Rules

Μπορείτε επίσης να εγκαταστήσετε τον παράγοντα Linux Azure (waagent) για να σας βοηθήσουν να αποφύγετε πιθανά προβλήματα, με την προϋπόθεση ότι δεν υπάρχουν πολλά NIC.

## <a name="deploying-a-suse-vm-on-azure"></a>Για την ανάπτυξη μια Εικονική SUSE στο Azure

Θα πρέπει να δημιουργείτε νέα ΣΠΣ SUSE χρησιμοποιώντας JSON αρχεία προτύπων στο νέο μοντέλο Azure διαχείριση πόρων. Αφού δημιουργηθεί το αρχείο προτύπου JSON, μπορείτε να αναπτύξετε την εικονική Μηχανή χρησιμοποιώντας την ακόλουθη εντολή CLI ως εναλλακτική λύση με το PowerShell:

   ```
   azure group deployment create "<deployment name>" -g "<resource group name>" --template-file "<../../filename.json>"

   ```
Για περισσότερες λεπτομέρειες σχετικά με τα αρχεία προτύπων JSON, ανατρέξτε στο θέμα [σύνταξη από κοινού από διαχειριστή πόρων Azure πρότυπα] (πόρων-ομάδα-σύνταξης-templates.md) και [πρότυπα Azure γρήγορης έναρξης] (https://azure.microsoft.com/documentation/templates/).

Για περισσότερες λεπτομέρειες σχετικά με την CLI και διαχείριση πόρων Azure, ανατρέξτε στο θέμα [χρήση το CLI Azure για Mac, Linux και τα Windows με το διαχειριστή πόρων Azure] (xplat-cli-azure-πόρων-manager.md).

## <a name="sap-license-and-hardware-key"></a>Πλήκτρο αδειών χρήσης και υλικού SAP

Για την επίσημη πιστοποίηση SAP Azure, έναν νέο μηχανισμό Παρουσιάστηκε για να υπολογίσετε το κλειδί υλικού SAP που χρησιμοποιείται για την άδεια χρήσης του SAP. Το πυρήνα SAP έπρεπε να προσαρμοστούν για να κάνετε χρήση των εξής. Πρώην εκδόσεις πυρήνα SAP για Linux δεν συμπεριλάβατε αυτή η αλλαγή κώδικα. Επομένως, σε ορισμένες περιπτώσεις (για παράδειγμα, Azure Εικονική αλλαγή μεγέθους), το πλήκτρο υλικού SAP αλλάξει και την άδεια χρήσης SAP ήταν δεν είναι πλέον έγκυρη. Επιλύθηκε στο την πιο πρόσφατη πυρήνων SAP Linux. Για λεπτομέρειες, ελέγξτε SAP Σημείωση 1928533.

## <a name="suse-sapconf-package--tuned-adm"></a>Το πακέτο sapconf SUSE / απενεργοποιήσει adm

SUSE παρέχει ένα πακέτο που ονομάζεται "sapconf" που διαχειρίζεται ένα σύνολο ρυθμίσεις για συγκεκριμένο SAP. Για περισσότερες λεπτομέρειες σχετικά με το τι σημαίνει αυτό το πακέτο και πώς να εγκαταστήσετε και να χρησιμοποιήσετε, ανατρέξτε στο θέμα [χρησιμοποιώντας sapconf για να προετοιμάσετε ένα SUSE Linux Enterprise Server για να εκτελέσετε συστήματα SAP] (https://www.suse.com/communities/blog/using-sapconf-to-prepare-suse-linux-enterprise-server-to-run-sap-systems/) και [τι είναι η sapconf ή πώς να προετοιμάσετε ένα SUSE Linux Enterprise Server για την εκτέλεση συστήματα SAP;] (http://scn.sap.com/community/linux/blog/2014/03/31/what-is-sapconf-or-how-to-prepare-a-suse-linux-enterprise-server-for-running-sap-systems).

Στο μεταξύ, υπάρχει ένα νέο εργαλείο, η οποία αντικαθιστά sapconf - απενεργοποιήσει adm. Μία να βρείτε περισσότερες λεπτομέρειες σχετικά με αυτό το εργαλείο ακολουθώντας τις παρακάτω δύο συνδέσεις.

Μπορείτε να βρείτε SLES τεκμηρίωσης σχετικά με το προφίλ απενεργοποιήσει adm sap-hana [εδώ](https://www.suse.com/documentation/sles-for-sap-12/book_s4s/data/sec_s4s_configure_sapconf.html) 

Μπορείτε να βρείτε ρύθμισης συστήματα για φόρτους εργασίας SAP με απενεργοποιήσει-adm - [εδώ](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/book_s4s/book_s4s.pdf) στο κεφάλαιο 6.2


## <a name="nfs-share-in-distributed-sap-installations"></a>Κοινή χρήση NFS σε κατανέμεται εγκαταστάσεις SAP

Εάν έχετε μια κατανεμημένη εγκατάσταση--για παράδειγμα, όπου θέλετε να εγκαταστήσετε τη βάση δεδομένων και τους διακομιστές εφαρμογών SAP σε ξεχωριστή VM--μπορείτε να κάνετε κοινή χρήση στον κατάλογο /sapmnt μέσω του συστήματος αρχείων δικτύου (NFS). Εάν έχετε προβλήματα με τα βήματα εγκατάστασης αφού δημιουργήσετε το κοινόχρηστο στοιχείο NFS για /sapmnt, ελέγξτε για να δείτε εάν "no_root_squash" έχει οριστεί για κοινή χρήση.

## <a name="logical-volumes"></a>Λογικές όγκους

Στο παρελθόν εάν απαιτούνται μεγάλο όγκο λογική μεταξύ πολλών δίσκων Azure δεδομένων (για παράδειγμα, για τη βάση δεδομένων SAP), ήταν καλό να χρησιμοποιήσετε mdadm ως lvm πλήρως δεν έγινε επικύρωση ακόμη στο Azure. Για να μάθετε πώς μπορείτε να ρυθμίσετε Linux RAID σε Azure χρησιμοποιώντας mdadm, ανατρέξτε στο θέμα [Ρύθμιση παραμέτρων λογισμικού RAID σε Linux](virtual-machines-linux-configure-raid.md). Στο μεταξύ από την αρχή του Μαΐου 2016 επίσης lvm υποστηρίζεται πλήρως στο Azure και μπορεί να χρησιμοποιηθεί ως εναλλακτική λύση για να mdadm. Για πρόσθετες πληροφορίες σχετικά με τις lvm στην Azure ανατρέξτε στο θέμα [Ρύθμιση παραμέτρων LVM σε μια Εικονική Linux στα Azure](virtual-machines-linux-configure-lvm.md).


## <a name="azure-suse-repository"></a>Azure SUSE αποθετήριο δεδομένων

Εάν έχετε κάποιο πρόβλημα με την πρόσβαση στο αποθετήριο Azure SUSE τυπική, μπορείτε να χρησιμοποιήσετε μια απλή εντολή για να το επαναφέρετε. Αυτό μπορεί να συμβεί εάν δημιουργήσετε μια ιδιωτική εικόνα λειτουργικού Συστήματος σε μια περιοχή Azure και, στη συνέχεια, αντιγράψτε την εικόνα σε διαφορετική περιοχή όπου θέλετε να αναπτύξετε το νέο ΣΠΣ που βασίζονται σε αυτή η εικόνα OS ιδιωτικό. Μόλις εκτελέστε την ακόλουθη εντολή μέσα η Εικονική:

   ```
   service guestregister restart
   ```

## <a name="gnome-desktop"></a>Gnome επιφάνειας εργασίας

Εάν θέλετε να χρησιμοποιήσετε στην επιφάνεια εργασίας Gnome για να εγκαταστήσετε ένα πλήρες σύστημα επίδειξη SAP μέσα σε ένα μεμονωμένο Εικονική--ένα SAP Γραφικών, συμπεριλαμβανομένων προγράμματος περιήγησης και κονσόλα διαχείρισης SAP--Χρησιμοποιήστε αυτή η υπόδειξη για να το εγκαταστήσετε σε τις εικόνες Azure SLES:

   Για SLES 11:

   ```
   zypper in -t pattern gnome
   ```

   Για SLES 12:

   ```
   zypper in -t pattern gnome-basic
   ```

## <a name="sap-support-for-oracle-on-linux-in-the-cloud"></a>Υποστήριξη SAP για Oracle σε Linux στο cloud

Υπάρχει περιορισμός υποστήριξης από την Oracle σε Linux σε περιβάλλον αναπαράστασης. Παρόλο που δεν πρόκειται για ένα θέμα αφορούν συγκεκριμένα το Azure, είναι σημαντικό να κατανοήσετε. SAP δεν υποστηρίζει Oracle σε SUSE ή κόκκινο χρώμα καπέλο σε μια δημόσια cloud όπως το Azure. Να συζητήσετε για αυτό το θέμα, επικοινωνήστε απευθείας με Oracle.
