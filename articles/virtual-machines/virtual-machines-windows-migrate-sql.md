<properties
    pageTitle="Μετεγκατάσταση μιας βάσης δεδομένων του SQL Server στο SQL Server σε μια εικονική Μηχανή | Microsoft Azure"
    description="Πληροφορίες σχετικά με τον τρόπο μετεγκατάστασης βάση δεδομένων χρήστη σε χώρους με τον SQL Server σε μια εικονική μηχανή Azure."
    services="virtual-machines-windows"
    documentationCenter=""
    authors="sabotta"
    manager="jhubbard"
    editor=""
    tags="azure-service-management" />
<tags
    ms.service="virtual-machines-windows"
    ms.workload="infrastructure-services"
    ms.tgt_pltfrm="vm-windows-sql-server"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/26/2016"
    ms.author="carlasab"/>


# <a name="migrate-a-sql-server-database-to-sql-server-in-an-azure-vm"></a>Μετεγκατάσταση μιας βάσης δεδομένων του SQL Server στο SQL Server σε μια εικονική Μηχανή Azure

[AZURE.INCLUDE [learn-about-deployment-models](../../includes/learn-about-deployment-models-both-include.md)]Μοντέλο διαχείρισης πόρων.


Υπάρχουν ορισμένες μεθόδους για τη μετεγκατάσταση μιας βάσης δεδομένων χρήστη του SQL Server σε εγκαταστάσεις με SQL Server σε μια εικονική Μηχανή Azure. Αυτό το άρθρο λίγο θα περιγράφουν διάφορες μεθόδους, να συνιστά την καλύτερη μέθοδο για διάφορα σενάρια και να περιλαμβάνει ένα [πρόγραμμα εκμάθησης](#azure-vm-deployment-wizard-tutorial) για να σας καθοδηγήσουν μέσω της χρήσης του οδηγού **ανάπτυξης μια βάση δεδομένων του SQL Server σε μια εικονική Μηχανή Azure της Microsoft** . 

Η μέθοδος χρησιμοποιώντας τον οδηγό **ανάπτυξης, μια βάση δεδομένων του SQL Server σε μια εικονική Μηχανή Azure της Microsoft** που περιγράφεται στο το [πρόγραμμα εκμάθησης](#azure-vm-deployment-wizard-tutorial) είναι μόνο το μοντέλο ανάπτυξης classic. 

## <a name="what-are-the-primary-migration-methods"></a>Ποιες είναι οι μέθοδοι πρωτεύον μετεγκατάστασης;

Οι μέθοδοι πρωτεύον μετεγκατάστασης είναι:

- Χρησιμοποιήστε την ανάπτυξη μια βάση δεδομένων του SQL Server σε έναν οδηγό της Microsoft Azure VM
- Αντίγραφα σε χώρους με συμπίεση και να αντιγράψετε με μη αυτόματο τρόπο το αρχείο αντιγράφου ασφαλείας σε την εικονική μηχανή Azure
- Δημιουργία αντιγράφων ασφαλείας σε URL και επαναφοράς σε Azure εικονικής μηχανής από τη διεύθυνση URL
- Αποσυνδεθείτε και, στη συνέχεια, αντιγράψτε τα αρχεία δεδομένων και καταγραφής στο χώρο αποθήκευσης αντικειμένων blob Azure και, στη συνέχεια, να επισυνάψετε με SQL Server σε Azure VM από τη διεύθυνση URL
- Μετατροπή φυσική μηχανή εσωτερικής εγκατάστασης σε VHD Hyper-V, αποστολή στο χώρο αποθήκευσης αντικειμένων Blob Azure και κατόπιν να υλοποιήσετε όπως δημιουργία VM με αποστολή VHD
- Αποστολή του σκληρού δίσκου χρησιμοποιώντας το Windows Service εισαγωγής/εξαγωγής
- Εάν έχετε μια ανάπτυξη AlwaysOn εσωτερικής εγκατάστασης, χρησιμοποιήστε τον [Οδηγό προσθήκης ρεπλίκας Azure](virtual-machines-windows-classic-sql-onprem-availability.md) για να δημιουργήσετε μια ρεπλίκα σε Azure και, στη συνέχεια, μεταβίβασης μετά από αποτυχία, δείχνει στους χρήστες την παρουσία βάσης δεδομένων Azure
- Μπορείτε να χρησιμοποιήσετε για να ρυθμίσετε την παρουσία Azure SQL Server ως συνδρομητής και, στη συνέχεια, απενεργοποιήστε την αναπαραγωγή, δείχνει στους χρήστες την παρουσία βάσης δεδομένων Azure [αναπαραγωγή συναλλαγών](https://msdn.microsoft.com/library/ms151176.aspx) του SQL Server



## <a name="choosing-your-migration-method"></a>Επιλέγοντας τη μέθοδο μετεγκατάστασης

Για δεδομένα βέλτιστη απόδοση μεταφοράς, μετεγκατάσταση τα αρχεία βάσης δεδομένων σε το VM Azure χρησιμοποιώντας ένα συμπιεσμένο αρχείο αντιγράφου ασφαλείας είναι γενικά η καλύτερη μέθοδος. Αυτή είναι η μέθοδος που χρησιμοποιεί την [Ανάπτυξη μια βάση δεδομένων του SQL Server σε έναν οδηγό Microsoft Azure VM](#azure-vm-deployment-wizard-tutorial) . Αυτός ο οδηγός είναι η προτεινόμενη μέθοδος για τη μετεγκατάσταση μιας εσωτερικής εγκατάστασης χρήστη βάσης δεδομένων εκτελείται σε SQL Server 2005 ή μεγαλύτερη 2014 διακομιστή SQL ή μεγαλύτερη, όταν το αρχείο αντιγράφου ασφαλείας συμπιεσμένη βάση δεδομένων είναι μικρότερη από 1 TB.

Για να ελαχιστοποιήσετε το χρόνο εκτός λειτουργίας κατά τη διάρκεια της διαδικασίας μετεγκατάστασης βάσης δεδομένων, χρησιμοποιήστε την επιλογή AlwaysOn ή την επιλογή αναπαραγωγή συναλλαγών.

Εάν δεν μπορείτε να χρησιμοποιήσετε τις παραπάνω μεθόδους, με μη αυτόματο τρόπο να μετεγκαταστήσετε τη βάση δεδομένων σας. Χρησιμοποιώντας αυτήν τη μέθοδο, θα συνήθως ξεκινάτε με ένα αντίγραφο της βάσης δεδομένων που ακολουθείται από ένα αντίγραφο της βάσης δεδομένων αντιγράφων ασφαλείας σε Azure και, στη συνέχεια, εκτελέστε μια Επαναφορά βάσης δεδομένων. Μπορείτε επίσης να αντιγράψετε τα αρχεία βάσης δεδομένων, οι ίδιες σε Azure και, στη συνέχεια, να τα επισυνάψετε. Υπάρχουν διάφορες μέθοδοι που μπορείτε να ολοκληρώσετε αυτήν τη μετεγκατάσταση μιας βάσης δεδομένων σε μια εικονική Μηχανή Azure τη διαδικασία μη αυτόματης.

> [AZURE.NOTE] Όταν κάνετε αναβάθμιση σε SQL Server 2014 ή SQL Server 2016 από παλαιότερες εκδόσεις του SQL Server, πρέπει να λάβετε υπόψη αν οι αλλαγές είναι απαραίτητες. Συνιστούμε να απευθύνετε όλες τις εξαρτήσεις σε δυνατότητες που δεν υποστηρίζονται από τη νέα έκδοση του SQL Server ως μέρος του έργου μετεγκατάστασης. Για περισσότερες πληροφορίες σχετικά με τις υποστηριζόμενες εκδόσεις και σενάρια, ανατρέξτε στο θέμα [αναβάθμιση σε SQL Server](https://msdn.microsoft.com/library/bb677622.aspx).

Ο ακόλουθος πίνακας παραθέτει σε λίστα κάθε μία από τις μεθόδους μετεγκατάστασης πρωτεύον και αναλύει κατά τη χρήση της κάθε μεθόδου είναι πιο κατάλληλο.

| Η μέθοδος  | Έκδοση της βάσης δεδομένων προέλευσης  |  Έκδοση της βάσης δεδομένων προορισμού | Περιορισμός μέγεθος του αντιγράφου ασφαλείας της βάσης δεδομένων προέλευσης  | Σημειώσεις  |
|---|---|---|---|---|
| [Χρησιμοποιήστε την ανάπτυξη μια βάση δεδομένων του SQL Server σε έναν οδηγό της Microsoft Azure VM](#azure-vm-deployment-wizard-tutorial) | SQL Server 2005 ή μεταγενέστερος | SQL Server 2014 ή μεγαλύτερη | < 1 TB  | Πιο γρήγορος και απλός μέθοδο, χρήση, όποτε αυτό είναι δυνατό να κάνετε μετεγκατάσταση σε μια νέα ή υπάρχουσα παρουσία SQL Server σε μια εικονική μηχανή Azure | 
| [Χρησιμοποιήστε τη ρεπλίκα Azure Οδηγού προσθήκης](virtual-machines-windows-classic-sql-onprem-availability.md) | SQL Server 2012 ή μεγαλύτερη | SQL Server 2012 ή μεγαλύτερη | [Όριο αποθήκευσης VM Azure](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | Ελαχιστοποιεί τις διακοπές λειτουργίας, χρήση, όταν έχετε μια ανάπτυξη εσωτερικής εγκατάστασης AlwaysOn |
| [Χρησιμοποιείτε την αναπαραγωγή συναλλαγών του SQL Server](https://msdn.microsoft.com/library/ms151176.aspx) | SQL Server 2005 ή μεταγενέστερος | SQL Server 2005 ή μεταγενέστερος | [Όριο αποθήκευσης VM Azure](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | Όταν θέλετε να ελαχιστοποιήσετε το χρόνο εκτός λειτουργίας και δεν διαθέτετε μια ανάπτυξη εσωτερικής εγκατάστασης AlwaysOn |
| [Αντίγραφα σε χώρους με συμπίεση και να αντιγράψετε με μη αυτόματο τρόπο το αρχείο αντιγράφου ασφαλείας σε την εικονική μηχανή Azure](#backup-to-file-and-copy-to-vm-and-restore) | SQL Server 2005 ή μεταγενέστερος | SQL Server 2005 ή μεταγενέστερος | [Όριο αποθήκευσης VM Azure](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | Χρησιμοποιήστε μόνο όταν δεν μπορείτε να χρησιμοποιήσετε τον οδηγό, όπως όταν η έκδοση της βάσης δεδομένων προορισμού είναι μικρότερη από CU2 SP1 2012 του SQL Server ή το μέγεθος του αντιγράφου ασφαλείας βάσης δεδομένων είναι μεγαλύτερο από 1 TB (12,8 TB με SQL Server 2016) |
| [Δημιουργία αντιγράφων ασφαλείας σε URL και επαναφοράς σε Azure εικονικής μηχανής από τη διεύθυνση URL](#backup-to-url-and-restore) | CU2 SP1 2012 του SQL Server ή μεγαλύτερο | CU2 SP1 2012 του SQL Server ή μεγαλύτερο | TB 12,8 < 2016 διακομιστή SQL, αλλιώς < 1 TB | Γενικά η χρήση [αντιγράφων ασφαλείας στη διεύθυνση URL](https://msdn.microsoft.com/library/dn435916.aspx) είναι ισοδύναμη απόδοση με τη χρήση του οδηγού και όχι αρκετά εύκολη |
| [Αποσυνδεθείτε και, στη συνέχεια, αντιγράψτε τα αρχεία δεδομένων και καταγραφής στο χώρο αποθήκευσης αντικειμένων blob Azure και, στη συνέχεια, να επισυνάψετε στον SQL Server σε Azure εικονική μηχανή από URL](#detach-and-copy-to-url-and-attach-from-url) | SQL Server 2005 ή μεταγενέστερος | SQL Server 2014 ή μεγαλύτερη | [Όριο αποθήκευσης VM Azure](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | Χρησιμοποιήστε αυτήν τη μέθοδο όταν σκοπεύετε να [αποθηκεύσετε αυτά τα αρχεία, χρησιμοποιώντας την υπηρεσία αποθήκευσης αντικειμένων Blob Azure](https://msdn.microsoft.com/library/dn385720.aspx) και να τα επισυνάψετε στο διακομιστή SQL που εκτελείται σε ένα VM Azure, ιδίως με πολύ μεγάλες βάσεις δεδομένων |
| [Μετατροπή μηχανή εσωτερικής εγκατάστασης με τους VHD Hyper-V, αποστολή στο χώρο αποθήκευσης αντικειμένων Blob Azure και κατόπιν να υλοποιήσετε μια νέα εικονική μηχανή χρησιμοποιώντας απεσταλμένου VHD](#convert-to-vm-and-upload-to-url-and-deploy-as-new-vm) | SQL Server 2005 ή μεταγενέστερος | SQL Server 2005 ή μεταγενέστερος | [Όριο αποθήκευσης VM Azure](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | Χρήση κατά την [μεταφορά τη δική σας άδεια χρήσης του SQL Server](../sql-database/sql-database-paas-vs-sql-server-iaas.md), κατά τη μετεγκατάσταση μιας βάσης δεδομένων που θα εκτελούνται σε μια παλαιότερη έκδοση του SQL Server ή κατά τη μετεγκατάσταση χρήστη και συστήματος βάσεις δεδομένων μαζί ως μέρος της μετεγκατάστασης της βάσης δεδομένων εξαρτάται από άλλες βάσεις δεδομένων χρήστη ή/και βάσεις δεδομένων συστήματος. |
| [Αποστολή του σκληρού δίσκου χρησιμοποιώντας το Windows Service εισαγωγής/εξαγωγής](#ship-hard-drive) | SQL Server 2005 ή μεταγενέστερος | SQL Server 2005 ή μεταγενέστερος | [Όριο αποθήκευσης VM Azure](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | Χρησιμοποιήστε την [Υπηρεσία εισαγωγής/εξαγωγής των Windows](../storage/storage-import-export-service.md) όταν μέθοδος μη αυτόματης αντιγραφής είναι πολύ αργή, όπως με πολύ μεγάλες βάσεις δεδομένων |

## <a name="azure-vm-deployment-wizard-tutorial"></a>Πρόγραμμα εκμάθησης Οδηγός ανάπτυξης Azure VM

Χρησιμοποιήστε τον οδηγό **ανάπτυξης, μια βάση δεδομένων του SQL Server σε ένα Microsoft VM Azure** στον Microsoft SQL Server Management Studio για να μετεγκαταστήσετε μια SQL Server 2005, SQL Server 2008, SQL Server 2008 R2, 2012 διακομιστή SQL, SQL Server 2014 ή SQL Server 2016 εσωτερικής εγκατάστασης χρήστη βάσης δεδομένων (έως 1 TB) σε SQL Server 2014 ή SQL Server 2016 σε μια εικονική μηχανή Azure. Χρησιμοποιήστε αυτόν τον οδηγό για να μετεγκαταστήσετε μια βάση δεδομένων χρήστη σε μια υπάρχουσα εικονική μηχανή Azure ή σε Εικονική μηχανή Azure με τον SQL Server που έχει δημιουργηθεί από τον Οδηγό κατά τη διάρκεια της διαδικασίας μετεγκατάστασης. Όταν κάνετε μετεγκατάσταση σε μια βάση δεδομένων σε νεότερη έκδοση του SQL Server, η βάση δεδομένων έχει αναβαθμιστεί αυτόματα κατά τη διαδικασία.

Η μέθοδος είναι μόνο το μοντέλο ανάπτυξης classic. 

### <a name="get-latest-version-of-the-deploy-a-sql-server-database-to-a-microsoft-azure-vm-wizard"></a>Λάβετε την πιο πρόσφατη έκδοση της ανάπτυξης μια βάση δεδομένων του SQL Server σε έναν οδηγό της Microsoft Azure VM

Χρησιμοποιήστε την τελευταία έκδοση του Microsoft SQL Server Management Studio για τον SQL Server για να βεβαιωθείτε ότι έχετε εγκαταστήσει την πιο πρόσφατη έκδοση του οδηγού **ανάπτυξης μια βάση δεδομένων του SQL Server σε μια εικονική Μηχανή Azure της Microsoft** . Την πιο πρόσφατη έκδοση αυτού του οδηγού, ενσωματώνει τις πιο πρόσφατες ενημερωμένες εκδόσεις στην κλασική πύλη Azure και υποστηρίζει τις πιο πρόσφατες εικόνες Azure VM στη συλλογή (οι παλαιότερες εκδόσεις του οδηγού ενδέχεται να μην λειτουργεί). Για να κάνετε λήψη της τελευταίας έκδοσης του Microsoft SQL Server Management Studio για τον SQL Server, [κάντε λήψη](http://go.microsoft.com/fwlink/?LinkId=616025) και εγκαταστήστε το σε έναν υπολογιστή-πελάτη με σύνδεση με τη βάση δεδομένων που σχεδιάζετε για τη μετεγκατάσταση και στο Internet.

### <a name="configure-the-existing-azure-virtual-machine-and-sql-server-instance-if-applicable"></a>Ρυθμίστε το υπάρχον Azure εικονική μηχανή και την παρουσία του SQL Server (εάν υπάρχει)

Εάν πραγματοποιείτε μετεγκατάσταση σε ένα υπάρχον VM Azure, απαιτούνται τα ακόλουθα βήματα ρύθμισης παραμέτρων:

- Ρυθμίσετε την εικονική Μηχανή Azure και την παρουσία του SQL Server για να ενεργοποιήσετε τη σύνδεση από έναν άλλο υπολογιστή, ακολουθώντας τα βήματα για να [συνδεθείτε στην παρουσία SQL Server VM από SSMS σε έναν άλλο υπολογιστή](virtual-machines-windows-sql-connect.md). Υποστηρίζονται μόνο τις εικόνες 2014 διακομιστή SQL και SQL Server 2016 στη συλλογή, εάν κάνετε μετεγκατάσταση χρησιμοποιώντας τον οδηγό.
- Ρυθμίστε ένα ανοιχτό σημείο κατάληξης για την υπηρεσία SQL Server σύννεφο προσαρμογέα στην πύλη Microsoft Azure με ιδιωτική θύρα του 11435. Η θύρα αυτή δημιουργείται ως μέρος του SQL Server 2014 ή SQL Server 2016 παροχή σε μια εικονική Μηχανή Azure της Microsoft. Επίσης, ο προσαρμογέας σύννεφο δημιουργεί έναν κανόνα τείχους προστασίας των Windows για να επιτρέψετε τις εισερχόμενες συνδέσεις TCP στην προεπιλεγμένη θύρα 11435. Αυτό το τελικό σημείο σας δίνει τη δυνατότητα να χρησιμοποιούν την υπηρεσία νέφους προσαρμογέα δικτύου για να αντιγράψετε τα αρχεία αντιγράφων ασφαλείας από την παρουσία της εσωτερικής εγκατάστασης για την εικονική Μηχανή Azure ο οδηγός. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Σύννεφο προσαρμογέα για τον SQL Server](https://msdn.microsoft.com/library/dn169301.aspx).

    ![Δημιουργία σύννεφο προσαρμογέα απόληξη](./media/virtual-machines-windows-migrate-sql/cloud-adapter-endpoint.png)

### <a name="run-the-use-the-deploy-a-sql-server-database-to-a-microsoft-azure-vm-wizard"></a>Εκτελέστε τη χρήση την ανάπτυξη μια βάση δεδομένων του SQL Server σε έναν οδηγό της Microsoft Azure VM

1. Ανοίξτε το Microsoft SQL Server Management Studio για το 2016 του Microsoft SQL Server και να συνδεθείτε στην παρουσία του SQL Server που περιέχει τη βάση δεδομένων χρήστη που θα μετεγκατασταθεί Εικονική μηχανή Azure.
2. Κάντε δεξιό κλικ στη βάση δεδομένων που πραγματοποιείτε μετεγκατάσταση, επιλέξτε εργασίες και, στη συνέχεια, κάντε κλικ στο κουμπί ανάπτυξης σε μια εικονική Μηχανή Azure της Microsoft.

    ![Εκκίνηση του οδηγού](./media/virtual-machines-windows-migrate-sql/start-wizard.png)

3. Στη σελίδα "Εισαγωγή", κάντε κλικ στο κουμπί "Επόμενο".
4. Στη σελίδα ρυθμίσεις προέλευσης, συνδεθείτε στην παρουσία του SQL Server που περιέχει τη βάση δεδομένων που πρόκειται να μετεγκατασταθούν στην Εικονική μηχανή Azure.
5. Καθορίστε μια προσωρινή θέση για τα αρχεία αντιγράφων ασφαλείας. Εάν συνδέεστε σε έναν απομακρυσμένο διακομιστή, πρέπει να καθορίσετε μια μονάδα δίσκου δικτύου.

    ![Ρυθμίσεις προέλευσης](./media/virtual-machines-windows-migrate-sql/source-settings.png)

6. Κάντε κλικ στο κουμπί "Επόμενο".
7. Στη σελίδα Microsoft Azure Sign-In, επιλέξτε Sign In και είσοδος στο λογαριασμό σας Azure.
8. Επιλέξτε τη συνδρομή που θέλετε να χρησιμοποιήσετε και κάντε κλικ στο κουμπί Επόμενο.

    ![Azure Sign-In](./media/virtual-machines-windows-migrate-sql/azure-signin.png)

9. Στη σελίδα "Ρυθμίσεις ανάπτυξης", μπορείτε να καθορίσετε μια νέα ή μια υπάρχουσα υπηρεσία νέφους όνομα και όνομα εικονική μηχανή:

 - Καθορίστε ένα νέο όνομα όνομα υπηρεσία νέφους και εικονικής μηχανής για να δημιουργήσετε μια νέα υπηρεσία νέφους με νέα Azure εικονική μηχανή χρησιμοποιώντας ένα είδωλο 2014 διακομιστή SQL ή συλλογή 2016 διακομιστή SQL.

     - Εάν καθορίσετε ένα νέο όνομα υπηρεσία νέφους, καθορίστε το λογαριασμό χώρου αποθήκευσης που θέλετε να χρησιμοποιήσετε.

     - Εάν καθορίσετε ένα υπάρχον όνομα υπηρεσία νέφους, ο λογαριασμός αποθήκευσης θα ανακτηθούν και θα εισαχθεί για λογαριασμό σας.

 - Καθορίστε ένα υπάρχον όνομα υπηρεσία νέφους και νέο όνομα εικονική μηχανή για τη δημιουργία μιας νέας εικονικής μηχανής Azure σε μια υπάρχουσα υπηρεσία νέφους. Καθορίστε μόνο μια εικόνα της συλλογής SQL Server 2014 ή SQL Server 2016.
 - Καθορίστε ένα υπάρχον όνομα υπηρεσία νέφους και όνομα εικονική μηχανή για να χρησιμοποιήσετε μια υπάρχουσα εικονική μηχανή Azure. Αυτό πρέπει να ένα είδωλο που δημιουργήθηκε χρησιμοποιώντας μια εικόνα της συλλογής SQL Server 2014 ή SQL Server 2016.

        ![Deployment Settings](./media/virtual-machines-windows-migrate-sql/deployment-settings.png)

10. Κάντε κλικ στο κουμπί Ρυθμίσεις
  - Αν έχετε καθορίσει ένα υπάρχον όνομα υπηρεσία νέφους και εικονική μηχανή, θα σας ζητηθεί να δώσετε το όνομα χρήστη και κωδικό πρόσβασης.

        ![Οι ρυθμίσεις υπολογιστή Azure](./media/virtual-machines-windows-migrate-sql/azure-machine-settings.png)

    - Εάν καθορίσατε ένα νέο όνομα εικονική μηχανή, θα σας ζητηθεί να επιλέξετε μια εικόνα από τη λίστα συλλογής εικόνων και δώστε τις εξής πληροφορίες:
      - Εικόνα – επιλέξτε μόνο SQL Server 2014 ή SQL Server 2016
        - Όνομα χρήστη
        - Νέος κωδικός πρόσβασης
        - Επιβεβαίωση κωδικού πρόσβασης
        - Θέση
        - Μέγεθος.
    - Επιπλέον, κάντε κλικ για να αποδεχτείτε το πιστοποιητικό αυτόματης που δημιουργήθηκε για το νέο Microsoft Azure εικονική μηχανή και, στη συνέχεια, κάντε κλικ στο κουμπί OK.

    ![Νέες ρυθμίσεις υπολογιστή Azure](./media/virtual-machines-windows-migrate-sql/azure-new-machine-settings.png)

11. Καθορίστε το όνομα της βάσης δεδομένων προορισμού, εάν διαφέρει από το όνομα της βάσης δεδομένων προέλευσης. Εάν υπάρχει ήδη στη βάση δεδομένων προορισμού, το σύστημα θα αυτόματα αυξάνεται το όνομα βάσης δεδομένων αντί να αντικαταστήσετε την υπάρχουσα βάση δεδομένων.
12. Κάντε κλικ στο κουμπί Επόμενο και στη συνέχεια κάντε κλικ στο κουμπί Τέλος.

    ![Αποτελέσματα](./media/virtual-machines-windows-migrate-sql/results.png)

13. Όταν ολοκληρωθεί ο οδηγός, συνδεθείτε με την εικονική μηχανή σας και βεβαιωθείτε ότι έχει γίνει μετεγκατάσταση βάσης δεδομένων.
14. Εάν έχετε δημιουργήσει μια νέα εικονική μηχανή, ρυθμίσετε την εικονική μηχανή Azure και την παρουσία του SQL Server, ακολουθώντας τα βήματα για να [συνδεθείτε στην παρουσία SQL Server VM από SSMS σε έναν άλλο υπολογιστή](virtual-machines-windows-sql-connect.md).

## <a name="backup-to-file-and-copy-to-vm-and-restore"></a>Δημιουργία αντιγράφων ασφαλείας αρχείων και αντιγραφή σε VM και επαναφορά

Χρησιμοποιήστε αυτήν τη μέθοδο όταν δεν μπορείτε να χρησιμοποιήσετε την ανάπτυξη μια βάση δεδομένων του SQL Server σε έναν οδηγό της Microsoft Azure VM είτε επειδή πραγματοποιείτε μετεγκατάσταση σε μια έκδοση του SQL Server πριν από την SQL Server 2014 ή το αρχείο αντιγράφου ασφαλείας είναι μεγαλύτερο από 1 TB. Εάν το αρχείο αντιγράφου ασφαλείας είναι μεγαλύτερο από 1 TB, θα πρέπει να το διαγραμμίσεων επειδή το μέγιστο μέγεθος δίσκου VM είναι 1 TB. Χρησιμοποιήστε τα ακόλουθα γενικά βήματα για να μετεγκαταστήσετε μια βάση δεδομένων χρήστη χρησιμοποιώντας αυτήν τη μη αυτόματη μέθοδο:

1.  Εκτελέστε ένα πλήρες αντίγραφο ασφαλείας βάσης δεδομένων σε μια θέση εσωτερικής εγκατάστασης.
2.  Δημιουργείτε ή στέλνετε μια εικονική μηχανή με την έκδοση του SQL Server που θέλετε.
3.  Συνδεσιμότητα με βάση τις απαιτήσεις για το πρόγραμμα εγκατάστασης. Ανατρέξτε στο θέμα [σύνδεση με ένα διακομιστή SQL εικονική μηχανή στο Azure (Διαχείριση πόρων)](virtual-machines-windows-sql-connect.md).
4.  Αντιγράψτε το αρχείο ή τα αρχεία αντιγράφων ασφαλείας σας VM χρησιμοποιώντας απομακρυσμένη επιφάνεια εργασίας, Εξερεύνηση των Windows ή την εντολή Αντιγραφή από μια γραμμή εντολών.

## <a name="backup-to-url-and-restore"></a>Δημιουργία αντιγράφων ασφαλείας σε URL και επαναφορά

Χρησιμοποιήστε τη μέθοδο [δημιουργίας αντιγράφων ασφαλείας στη διεύθυνση URL](https://msdn.microsoft.com/library/dn435916.aspx) , όταν δεν μπορείτε να χρησιμοποιήσετε την ανάπτυξη μια βάση δεδομένων του SQL Server σε έναν οδηγό Microsoft Azure VM, επειδή το αρχείο αντιγράφου ασφαλείας είναι μεγαλύτερο από 1 TB και πραγματοποιείτε μετεγκατάσταση από και για το 2016 διακομιστή SQL. Για βάσεις δεδομένων μικρότερο από 1 TB ή εκτελεί μια έκδοση του SQL Server πριν από την SQL Server 2016, προτείνεται η χρήση του οδηγού. Με SQL Server 2016, διαγραμμισμένοι σύνολα αντιγράφων ασφαλείας που υποστηρίζονται, συνιστάται για επιδόσεις και απαιτείται υπέρβαση των ορίων μεγέθους ανά αντικείμενο blob. Για πολύ μεγάλες βάσεις δεδομένων, συνιστάται η χρήση της [Υπηρεσίας εισαγωγής/εξαγωγής των Windows](../storage/storage-import-export-service.md) .

## <a name="detach-and-copy-to-url-and-attach-from-url"></a>Απόσπαση και να αντιγράψετε στη διεύθυνση URL και να επισυνάψετε από τη διεύθυνση URL

Χρησιμοποιήστε αυτήν τη μέθοδο όταν σκοπεύετε να [αποθηκεύσετε αυτά τα αρχεία, χρησιμοποιώντας την υπηρεσία αποθήκευσης αντικειμένων Blob Azure](https://msdn.microsoft.com/library/dn385720.aspx) και να τα επισυνάψετε στο διακομιστή SQL που εκτελείται σε ένα VM Azure, ιδίως με πολύ μεγάλες βάσεις δεδομένων. Χρησιμοποιήστε τα ακόλουθα γενικά βήματα για να μετεγκαταστήσετε μια βάση δεδομένων χρήστη χρησιμοποιώντας αυτήν τη μη αυτόματη μέθοδο:

1.  Αποσύνδεση αρχείων της βάσης δεδομένων από την παρουσία της βάσης δεδομένων εσωτερικής εγκατάστασης.
2.  Αντιγράψτε τα αρχεία αποσπασμένο βάσης δεδομένων στο χώρο αποθήκευσης αντικειμένων blob Azure, χρησιμοποιώντας το βοηθητικό [πρόγραμμα γραμμής εντολών AZCopy](../storage/storage-use-azcopy.md).
3.  Επισυνάψτε τα αρχεία βάσης δεδομένων από τη διεύθυνση URL Azure στην παρουσία του SQL Server με την εικονική Μηχανή Azure.

## <a name="convert-to-vm-and-upload-to-url-and-deploy-as-new-vm"></a>Μετατροπή σε VM και αποστολή σε διεύθυνση URL και την ανάπτυξη ως νέα εικονική Μηχανή

Χρησιμοποιήστε αυτήν τη μέθοδο για τη μετεγκατάσταση όλων των συστήματος και χρήστη βάσεων δεδομένων σε μια παρουσία του SQL Server εσωτερικής εγκατάστασης να Azure εικονική μηχανή. Χρησιμοποιήστε τα ακόλουθα γενικά βήματα για να μετεγκαταστήσετε μια ολόκληρη περίοδο λειτουργίας του SQL Server χρησιμοποιώντας αυτήν τη μη αυτόματη μέθοδο:

1.  Μετατροπή φυσικές ή εικονικές μηχανές με τους VHD Hyper-V χρησιμοποιώντας το [Μετατροπέα εικονική μηχανή της Microsoft](http://technet.microsoft.com/library/dn873998.aspx).
2.  Αποστολή αρχείων VHD σε Azure αποθήκευσης χρησιμοποιώντας το [cmdlet Προσθήκη AzureVHD](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).
3.  Ανάπτυξη μιας νέας εικονικής μηχανής με χρήση του απεσταλμένου VHD.

> [AZURE.NOTE] Για τη μετεγκατάσταση μια ολόκληρη εφαρμογή, μπορείτε να χρησιμοποιήσετε [Επαναφορά τοποθεσίας Azure](../site-recovery/site-recovery-overview.md)].

## <a name="ship-hard-drive"></a>Αποστολή της μονάδας σκληρού δίσκου

Χρησιμοποιήστε τη [μέθοδο υπηρεσίας εισαγωγής/εξαγωγής των Windows](../storage/storage-import-export-service.md) για να μεταφέρετε μεγάλες ποσότητες δεδομένων αρχείου στο χώρο αποθήκευσης αντικειμένων Blob Azure σε περιπτώσεις όπου η αποστολή μέσω του δικτύου είναι απαγορευτικά ακριβό ή αυτό δεν είναι εφικτό. Με αυτήν την υπηρεσία, μπορείτε να στείλετε μία ή περισσότερες μονάδες σκληρού δίσκου που περιέχει αυτά τα δεδομένα σε ένα κέντρο δεδομένων Azure, όπου τα δεδομένα σας θα αποσταλεί στο λογαριασμό σας αποθήκευσης.

## <a name="next-steps"></a>Επόμενα βήματα

Για περισσότερες πληροφορίες σχετικά με την εκτέλεση του SQL Server σε Azure εικονικές μηχανές, ανατρέξτε στην ενότητα [SQL Server Επισκόπηση Azure εικονικές μηχανές](virtual-machines-windows-sql-server-iaas-overview.md).

Για οδηγίες σχετικά με τη δημιουργία μιας εικονικής μηχανής Azure SQL Server από μια καταγεγραμμένη εικόνα, ανατρέξτε στο θέμα [συμβουλές & κόλπα για κλωνοποίηση Azure SQL εικονικές μηχανές από εικόνες καταγεγραμμένο](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) στο ιστολόγιο CSS SQL Server μηχανικών.
