<properties
    pageTitle="Εφαρμογή της Access ΝΉΜΑΤΑ Hadoop καταγράφει μέσω προγραμματισμού | Microsoft Azure"
    description="Εφαρμογή της Access μέσω προγραμματισμού καταγράφει σε ένα σύμπλεγμα Hadoop στο HDInsight."
    services="hdinsight"
    documentationCenter=""
    tags="azure-portal"
    authors="mumian" 
    manager="jhubbard"
    editor="cgronlun"/>

<tags
    ms.service="hdinsight"
    ms.workload="big-data"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="10/19/2016"
    ms.author="jgao"/>

# <a name="access-yarn-application-logs-on-windows-based-hdinsight"></a>Εφαρμογή της Access ΝΉΜΑΤΑ αρχείο καταγραφής HDInsight που βασίζεται σε Windows

Αυτό το θέμα εξηγεί τον τρόπο για να αποκτήσετε πρόσβαση στα αρχεία καταγραφής για εφαρμογές ΝΉΜΑΤΑ (ακόμη Negotiator άλλο πόρο) που έχετε ολοκληρώσει την σε ένα σύμπλεγμα Hadoop στο Azure HDInsight

> [AZURE.NOTE] Οι πληροφορίες σε αυτό το έγγραφο ισχύει μόνο για συμπλεγμάτων HDInsight που βασίζεται στα Windows. Για πληροφορίες σχετικά με την πρόσβαση σε ΝΉΜΑΤΑ συνδέεται συμπλεγμάτων βάσει Linux HDInsight, ανατρέξτε στο θέμα [εφαρμογή Access ΝΉΜΑΤΑ συνδέεται βάσει Linux Hadoop σε HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)

### <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

- Ένα σύμπλεγμα HDInsight που βασίζεται στα Windows.  Ανατρέξτε στο θέμα [συμπλεγμάτων που βασίζεται σε Windows δημιουργία Hadoop στο HDInsight](hdinsight-provision-clusters.md).


## <a name="yarn-timeline-server"></a>ΝΉΜΑΤΑ διακομιστή λωρίδας χρόνου

<a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">ΝΉΜΑΤΑ λωρίδας χρόνου διακομιστή</a> παρέχει γενικές πληροφορίες σχετικά με ολοκληρωμένη εφαρμογές, καθώς και πληροφορίες αφορούν συγκεκριμένα το πλαίσιο εφαρμογή μέσω δύο διαφορετικά περιβάλλοντα εργασίας. Συγκεκριμένα:

* Αποθήκευση και ανάκτηση των πληροφοριών γενική εφαρμογή σε HDInsight συμπλεγμάτων έχει ενεργοποιημένη με την έκδοση 3.1.1.374 ή νεότερη έκδοση.
* Το στοιχείο εφαρμογή αφορούν συγκεκριμένα το πλαίσιο πληροφοριών του διακομιστή λωρίδα χρόνου δεν είναι διαθέσιμη αυτήν τη στιγμή σε συμπλεγμάτων HDInsight.


Γενικές πληροφορίες σχετικά με τις αιτήσεις περιλαμβάνει τα παρακάτω ειδών τα δεδομένα:

* Το Αναγνωριστικό εφαρμογής, ένα μοναδικό αναγνωριστικό μιας εφαρμογής
* Ο χρήστης που ξεκίνησε την εφαρμογή
* Πληροφορίες σχετικά με την προσπάθειες για την ολοκλήρωση της εφαρμογής
* Το κοντέινερ που χρησιμοποιείται από οποιαδήποτε προσπάθεια δεδομένης εφαρμογής

Στην σας συμπλεγμάτων HDInsight, αυτές οι πληροφορίες θα αποθηκευτούν από διαχειριστή πόρων Azure σε ένα χώρο αποθήκευσης ιστορικού στο προεπιλεγμένο κοντέινερ του λογαριασμού σας προεπιλεγμένο αποθήκευσης Azure. Αυτά τα δεδομένα γενικής χρήσης ολοκληρωμένες εφαρμογές μπορούν να ανακτηθούν έως μια REST API:

    GET on https://<cluster-dns-name>.azurehdinsight.net/ws/v1/applicationhistory/apps


## <a name="yarn-applications-and-logs"></a>ΝΉΜΑΤΑ εφαρμογών και αρχείων καταγραφής

ΝΉΜΑΤΑ υποστηρίζει πολλές προγραμματισμού μοντέλα (MapReduce που έχει τεθεί σε μία από αυτές) κατά την αποσύνδεση διαχείριση πόρων από την εφαρμογή του προγραμματισμού/παρακολούθηση. Αυτό γίνεται μέσω ενός καθολικού *ResourceManager* (Διαχείριση Πόρων) ανά εργαζόμενο-κόμβου *NodeManagers* (NMs) και ανά εφαρμογή *ApplicationMasters* (αθροιστικής μέτρησης ενισχύσεων). Το ΠΜ ανά εφαρμογή διαπραγματεύεται πόρων (CPU, μνήμης, δίσκου, δικτύου) για την εκτέλεση εφαρμογή σας με το RM. Η διαχείριση Πόρων λειτουργεί με NMs να εκχωρήσετε σε αυτούς τους πόρους, που έχουν εκχωρηθεί ως *κοντέινερ*. Το ΠΜ είναι υπεύθυνος για την παρακολούθηση της προόδου των κοντέινερ που έχουν εκχωρηθεί σε αυτήν από το RM. Μια εφαρμογή μπορεί να απαιτεί πολλά κοντέινερ ανάλογα με τη φύση της εφαρμογής.

Επιπλέον, κάθε εφαρμογή μπορεί να αποτελούνται από πολλές *προσπάθειες εφαρμογής* προκειμένου να λήξης παρουσία παρουσιάζει σφάλμα ή λόγω της απώλειας επικοινωνία μεταξύ ενός πμ και μια RM. Επομένως, κοντέινερ εκχωρούνται σε μια συγκεκριμένη προσπάθεια μιας εφαρμογής του. Σε μια εικόνα, ένα κοντέινερ παρέχει το περιβάλλον για βασική μονάδα της εργασίας που έχει εκτελεστεί από μια εφαρμογή ΝΉΜΑΤΑ και όλη την εργασία που έχει ολοκληρωθεί εντός του περιβάλλοντος ενός κοντέινερ εκτελείται στον κόμβο μία εργασίας στην οποία έχει εκχωρηθεί το κοντέινερ. Ανατρέξτε στο θέμα [Έννοιες ΝΉΜΑΤΑ] [ YARN-concepts] για περαιτέρω αναφορά.

Αρχεία καταγραφής εφαρμογών (και τα αρχεία καταγραφής συσχετισμένη κοντέινερ) είναι κρίσιμες τον εντοπισμό σφαλμάτων προβληματικό Hadoop εφαρμογές. ΝΉΜΑΤΑ παρέχει ένα καλό είναι πλαίσιο για τη συλλογή, μόνο τις συγκεντρώσεις και την αποθήκευση αρχείων καταγραφής εφαρμογών με το [Αρχείο καταγραφής συνάθροισης] [ log-aggregation] τη δυνατότητα. Η δυνατότητα καταγραφής συνάθροισης κάνει το κατά την πρόσβαση σε αρχεία καταγραφής εφαρμογών πιο ντετερμινιστική, όπως συγκεντρώνει αρχεία καταγραφής σε όλα τα κοντέινερ σε έναν κόμβο εργασίας και να τις αποθηκεύει ως μία συγκεντρωτική αρχείο καταγραφής, ανά κόμβο εργασίας στο σύστημα αρχείων προεπιλεγμένη μετά την ολοκλήρωση μιας εφαρμογής. Η εφαρμογή σας μπορεί να χρησιμοποιήσει εκατοντάδες ή χιλιάδες κοντέινερ, αλλά αρχείων καταγραφής για όλα τα κοντέινερ εκτελεστεί σε έναν κόμβο μόνο εργαζόμενου πάντα συναθροίζονται σε ένα αρχείο, με αποτέλεσμα ένα αρχείο καταγραφής ανά κόμβο εργαζόμενου που χρησιμοποιούνται από την εφαρμογή σας. Συνάθροιση καταγραφής είναι ενεργοποιημένη από προεπιλογή σε HDInsight συμπλεγμάτων (έκδοση 3.0 και παραπάνω), και μπορείτε να βρείτε συγκεντρωτική αρχεία καταγραφής στο προεπιλεγμένο κοντέινερ του συμπλέγματος στην εξής θέση:

    wasbs:///app-logs/<user>/logs/<applicationId>

Θέση, *χρήστη* είναι το όνομα του χρήστη που ξεκίνησε την εφαρμογή και να *αναγνωριστικά εφαρμογής* είναι το μοναδικό αναγνωριστικό μιας εφαρμογής όπως έχει εκχωρηθεί από το RM. ΝΉΜΑΤΑ

Τα αρχεία καταγραφής συγκεντρωτική δεν είναι απευθείας αναγνώσιμη, όπως αυτές είναι γραμμένες σε μια [TFile][T-file], [δυαδική μορφή] [ binary-format] σε ευρετήριο από το κοντέινερ. ΝΉΜΑΤΑ παρέχει CLI εργαλεία για την αποτύπωση αυτά τα αρχεία καταγραφής ως απλό κείμενο για εφαρμογές ή κοντέινερ που σας ενδιαφέρουν. Μπορείτε να προβάλετε αυτά τα αρχεία καταγραφής ως απλό κείμενο, εκτελώντας μία από τις παρακάτω ΝΉΜΑΤΟΣ εντολές απευθείας σε τους κόμβους συμπλέγματος (μετά τη σύνδεση σε αυτό μέσω RDP):

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>


## <a name="yarn-resourcemanager-ui"></a>Περιβάλλον εργασίας Χρήστη ResourceManager ΝΉΜΑΤΑ

Το περιβάλλον εργασίας Χρήστη ResourceManager ΝΉΜΑΤΑ εκτελείται σε headnode το σύμπλεγμα και είναι δυνατή η πρόσβαση μέσω του Azure πύλης πίνακα εργαλείων: 

1. Πραγματοποιήστε είσοδο στην [πύλη Azure](https://portal.azure.com/). 
2. Από το αριστερό μενού, κάντε κλικ στο κουμπί **Αναζήτηση**, κάντε κλικ στην επιλογή **Συμπλεγμάτων HDInsight**, κάντε κλικ σε ένα σύμπλεγμα που βασίζεται σε Windows που θέλετε να έχετε πρόσβαση στα αρχεία καταγραφής εφαρμογών ΝΉΜΑΤΑ.
3. Στην επάνω γραμμή μενού, κάντε κλικ στην επιλογή **πίνακα εργαλείων**. Θα δείτε μια σελίδα που ανοίγει σε ένα νέο πρόγραμμα περιήγησης που ονομάζεται **Κονσόλας ερωτήματος HDInsight**με το tab.
4. Από την **Κονσόλα HDInsight ερωτήματος**, κάντε κλικ στην επιλογή **Νήματα περιβάλλοντος εργασίας Χρήστη**.




[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
