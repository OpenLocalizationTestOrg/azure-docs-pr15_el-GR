<properties 
    pageTitle="Διαθέσιμο με σημειωματάρια Jupyter σε HDInsight τους πυρήνων συμπλεγμάτων σε Linux | Microsoft Azure" 
    description="Μάθετε περισσότερα σχετικά με τα επιπλέον πυρήνων Σημειωματάριο Jupyter που είναι διαθέσιμες με σύμπλεγμα τους σε HDInsight Linux." 
    services="hdinsight" 
    documentationCenter="" 
    authors="nitinme" 
    manager="jhubbard" 
    editor="cgronlun"
    tags="azure-portal"/>

<tags 
    ms.service="hdinsight" 
    ms.workload="big-data" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="10/05/2016" 
    ms.author="nitinme"/>


# <a name="kernels-available-for-jupyter-notebooks-with-apache-spark-clusters-on-hdinsight-linux"></a>Διαθέσιμες για τα σημειωματάρια Jupyter με τους Apache συμπλεγμάτων σε HDInsight Linux πυρήνων

Σύμπλεγμα Apache τους σε HDInsight (Linux) περιλαμβάνει Jupyter τα σημειωματάρια που μπορείτε να χρησιμοποιήσετε για να ελέγξετε τις εφαρμογές σας. Πυρήνα είναι ένα πρόγραμμα που εκτελείται και ερμηνεύει σας κώδικα. Τους HDInsight συμπλεγμάτων παρέχουν δύο πυρήνων που μπορείτε να χρησιμοποιήσετε με το Σημειωματάριο Jupyter. Αυτές είναι:

1. **PySpark** (για εφαρμογές που έχουν δημιουργηθεί στο Python)
2. **Τους** (για εφαρμογές που έχουν δημιουργηθεί στο Scala)

Σε αυτό το άρθρο, θα μάθετε σχετικά με τον τρόπο χρήσης αυτών των πυρήνων και ποια είναι τα πλεονεκτήματα που λαμβάνετε από τη χρήση τους.

**Προαπαιτούμενα στοιχεία:**

Πρέπει να έχετε τα εξής:

- Μια συνδρομή του Azure. Ανατρέξτε στο θέμα [λήψη Azure δωρεάν δοκιμαστικής έκδοσης](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).
- Ένα σύμπλεγμα Apache τους σε HDInsight Linux. Για οδηγίες, ανατρέξτε στο θέμα [Δημιουργία τους Apache συμπλεγμάτων στο Azure HDInsight](hdinsight-apache-spark-jupyter-spark-sql.md).

## <a name="how-do-i-use-the-kernels"></a>Πώς μπορώ να χρησιμοποιήσω το πυρήνων; 

1. Από την [Πύλη Azure](https://portal.azure.com/), από την startboard, κάντε κλικ στο πλακίδιο για το σύμπλεγμα τους (εάν καρφιτσωμένα αυτό για να το startboard). Μπορείτε επίσης να μεταβείτε σε το σύμπλεγμά σας στην περιοχή **Αναζήτηση όλων** > **Συμπλεγμάτων HDInsight**.   

2. Από το σύμπλεγμα blade τους, κάντε κλικ στην επιλογή **Πίνακας εργαλείων σύμπλεγμα**και, στη συνέχεια, κάντε κλικ στην επιλογή **Jupyter σημειωματαρίου**. Εάν σας ζητηθεί, πληκτρολογήστε τα διαπιστευτήρια διαχειριστή για το σύμπλεγμα.

    > [AZURE.NOTE] Μπορείτε επίσης μπορεί να φτάσει στο Σημειωματάριο Jupyter για το σύμπλεγμά σας ανοίγοντας την παρακάτω διεύθυνση URL στο πρόγραμμα περιήγησης. Αντικαταστήστε το __CLUSTERNAME__ με το όνομα του συμπλέγματος:
    >
    > `https://CLUSTERNAME.azurehdinsight.net/jupyter`

2. Δημιουργήστε ένα νέο σημειωματάριο με τη νέα πυρήνων. Κάντε κλικ στην επιλογή **Δημιουργία**και, στη συνέχεια, κάντε κλικ στην επιλογή **Pyspark** ή **τους**. Θα πρέπει να χρησιμοποιείτε τον πυρήνα τους για εφαρμογές Scala και PySpark πυρήνα για εφαρμογές Python.

    ![Δημιουργία νέου σημειωματαρίου Jupyter] (./media/hdinsight-apache-spark-jupyter-notebook-kernels/jupyter-kernels.png "Δημιουργία νέου σημειωματαρίου Jupyter") 

3. Αυτό θα πρέπει να ανοίξει ένα νέο σημειωματάριο με πυρήνα που επιλέξατε.

## <a name="why-should-i-use-the-pyspark-or-spark-kernels"></a>Γιατί πρέπει να χρησιμοποιώ το πυρήνων PySpark ή τους;

Εδώ θα βρείτε μερικά πλεονεκτήματα της χρήσης του νέου πυρήνων.

1. **Προκαθορισμένες περιβάλλοντα**. Με το **PySpark** ή **τους** πυρήνων που παρέχονται με σημειωματάρια Jupyter, δεν χρειάζεται να ορίσετε τα περιβάλλοντα τους ή η ομάδα ρητά πριν να αρχίσετε να εργάζεστε με την εφαρμογή που αναπτύσσετε; αυτά είναι διαθέσιμα για εσάς από προεπιλογή. Τα περιβάλλοντα αυτά είναι τα εξής:

    * **sc** - για τους περιβάλλον
    * **sqlContext** - για περιβάλλον ομάδας


    Επομένως, δεν χρειάζεται να εκτελέσετε δηλώσεις όπως τα εξής για να ορίσετε τα περιβάλλοντα:

        ###################################################
        # YOU DO NOT NEED TO RUN THIS WITH THE NEW KERNELS
        ###################################################
        sc = SparkContext('yarn-client')
        sqlContext = HiveContext(sc)

    Αντί για αυτό, μπορείτε να χρησιμοποιήσετε τα προκαθορισμένα περιβάλλοντα απευθείας στην εφαρμογή σας.
    
2. **Κελί magics**. Το πυρήνα PySpark παρέχει ορισμένα προκαθορισμένα "magics", που είναι ειδικές εντολές που μπορείτε να καλέσετε με `%%` (π.χ. `%%MAGIC` <args>). Η εντολή Μαγικό πρέπει να είναι η πρώτη λέξη σε ένα κελί κώδικα και να επιτρέψετε πολλές γραμμές περιεχομένου. Το word Μαγικό πρέπει να την πρώτη λέξη στο κελί. Προσθήκη οτιδήποτε πριν η μαγεία, ακόμα και σχόλια, θα προκαλέσει σφάλμα.   Για περισσότερες πληροφορίες σχετικά με magics, ανατρέξτε στο θέμα [εδώ](http://ipython.readthedocs.org/en/stable/interactive/magics.html).

    Ο παρακάτω πίνακας παραθέτει τα διαθέσιμα μέσω του πυρήνων διαφορετικές magics.

  	| Μαγικός     | Παράδειγμα                         | Περιγραφή  |
  	|-----------|---------------------------------|--------------|
  	| Βοήθεια      | `%%help`                            | Δημιουργεί έναν πίνακα με όλα τα διαθέσιμα magics με παράδειγμα και περιγραφή |
  	| πληροφορίες      | `%%info`                          | Πληροφορίες περιόδων λειτουργίας εξόδους για το τρέχον τελικό σημείο Λίβιος |
  	| ρύθμιση παραμέτρων | `%%configure -f`<br>`{"executorMemory": "1000M"`,<br>`"executorCores": 4`} | Ρυθμίζει τις παραμέτρους για τη δημιουργία μιας περιόδου λειτουργίας. Η σημαία ισχύ (-f) είναι υποχρεωτική εάν έχει ήδη δημιουργηθεί μια περίοδο λειτουργίας και θα καταργηθεί και εκ νέου την περίοδο λειτουργίας. Δείτε τη [ΔΗΜΟΣΊΕΥΣΗ της Λίβιος /sessions αίτηση σώμα](https://github.com/cloudera/livy#request-body) για μια λίστα με τις έγκυρες παράμετροι. Παράμετροι πρέπει να διαβιβαστεί στο ως συμβολοσειρά JSON και πρέπει να είναι στην επόμενη γραμμή μετά η μαγεία, όπως φαίνεται στη στήλη παράδειγμα. |
  	| SQL       |  `%%sql -o <variable name>`<br> `SHOW TABLES`    | Εκτελεί ένα ερώτημα Hive προς το sqlContext. Εάν το `-o` που του μεταβιβάστηκε η παράμετρος, το αποτέλεσμα του ερωτήματος είναι μόνιμα σε το %% τοπικό περιβάλλον Python ως μια dataframe [Pandas](http://pandas.pydata.org/) .   |
  	| τοπική     |     `%%local`<br>`a=1`              | Θα εκτελεστεί τοπικά όλος ο κώδικας σε επακόλουθες γραμμές. Κωδικός πρέπει να είναι έγκυρο Python κώδικα. |
  	| αρχεία καταγραφής      | `%%logs`                        | Τα αρχεία καταγραφής για την τρέχουσα περίοδο λειτουργίας Λίβιος εξόδους.  |
  	| Διαγραφή    | `%%delete -f -s <session number>` | Διαγράφει μια συγκεκριμένη περίοδο λειτουργίας του τρέχοντος Λίβιος τελικού σημείου. Σημειώστε ότι δεν μπορείτε να διαγράψετε την περίοδο λειτουργίας που έχει ξεκινήσει για τον πυρήνα ίδια. |
  	| Εκκαθάριση   | `%%cleanup -f`                    | Διαγράφει όλες τις περιόδους λειτουργίας για το τρέχον τελικό σημείο Λίβιος, συμπεριλαμβανομένων των περιόδου λειτουργίας αυτού του σημειωματαρίου. Σημαία ισχύ -f είναι υποχρεωτικό.  |

    >[AZURE.NOTE] Εκτός από το magics προστεθεί από τον πυρήνα PySpark, μπορείτε επίσης να χρησιμοποιήσετε την [ενσωματωμένη magics IPython](https://ipython.org/ipython-doc/3/interactive/magics.html#cell-magics), συμπεριλαμβανομένων των `%%sh`. Μπορείτε να χρησιμοποιήσετε το `%%sh` μαγικός εκτέλεσης δεσμών ενεργειών και τμήμα κώδικα στην το headnode σύμπλεγμα. 

3. **Αυτόματη απεικόνιση**. Το πυρήνα **Pyspark** απεικονίζει αυτόματα το αποτέλεσμα της ομάδας και SQL ερωτήματα. Έχετε την επιλογή για να επιλέξετε ανάμεσα σε πολλούς διαφορετικούς τύπους από απεικονίσεις όπως πίνακα, πίτας, γραμμής, περιοχή, γραμμή.

## <a name="parameters-supported-with-the-sql-magic"></a>Οι παράμετροι υποστηρίζονται με το %% μαγικός sql

Το %% μαγικός sql υποστηρίζει διαφορετικές παραμέτρους που μπορείτε να χρησιμοποιήσετε για τον έλεγχο του είδους εξόδου που λαμβάνετε όταν εκτελείτε ερωτήματα. Ο παρακάτω πίνακας παραθέτει το αποτέλεσμα.

| Παράμετρος     | Παράδειγμα                         | Περιγραφή  |
|-----------|---------------------------------|--------------|
| -o      | `-o <VARIABLE NAME>`                          | Χρησιμοποιήστε αυτήν την παράμετρο για να παραμένει το αποτέλεσμα του ερωτήματος, στο το %% τοπικό περιβάλλον Python, ως μια dataframe [Pandas](http://pandas.pydata.org/) . Το όνομα της μεταβλητής dataframe είναι το όνομα της μεταβλητής που καθορίζετε. |
| -q      | `-q`                          | Χρησιμοποιήστε αυτήν την επιλογή για να απενεργοποιήσετε τις απεικονίσεις για το κελί. Εάν δεν θέλετε να αυτόματης-απεικόνιση του περιεχομένου ενός κελιού και απλώς θέλετε να καταγράψετε ως μια dataframe και, στη συνέχεια, χρησιμοποιήστε `-q -o <VARIABLE>`. Εάν θέλετε να απενεργοποιήσετε απεικονίσεις χωρίς να καταγράφετε τα αποτελέσματα (π.χ. για την εκτέλεση ενός ερωτήματος SQL με πλευρά εφέ, όπως μια `CREATE TABLE` δήλωση), απλώς να χρησιμοποιήσετε `-q` χωρίς να καθορίσετε μια `-o` όρισμα. |
| -m       |  `-m <METHOD>`    | Όπου **η ΜΈΘΟΔΟΣ** είναι **κρατάτε** ή **δείγμα** (η προεπιλογή είναι **να**). Εάν η μέθοδος είναι **να**, πυρήνα των συλλογών στοιχεία από το επάνω μέρος του συνόλου δεδομένων αποτελέσματος που καθορίζεται από MAXROWS (που περιγράφεται παρακάτω σε αυτόν τον πίνακα). Εάν η μέθοδος είναι **δείγματος**, τον πυρήνα θα δείγμα τυχαία στοιχεία του συνόλου δεδομένων σύμφωνα με `-r` παράμετρο, στη συνέχεια περιγράφεται σε αυτόν τον πίνακα.   |
| -r     |     `-r <FRACTION>`            | Δείτε εδώ **ΚΛΆΣΜΑ** είναι ένας αριθμός κινητής υποδιαστολής μεταξύ 0,0 και 1,0. Εάν η μέθοδος δείγματος για το ερώτημα SQL είναι `sample`, στη συνέχεια, πυρήνα των δειγμάτων τυχαία το καθορισμένο κλάσμα από τα στοιχεία από το σύνολο αποτελεσμάτων για εσάς. π.χ. Εάν εκτελείτε ένα ερώτημα SQL με τα ορίσματα `-m sample -r 0.01`, στη συνέχεια, θα δείγματα τυχαία 1% των γραμμών αποτέλεσμα. |
| -n      | `-n <MAXROWS>`                        | **MAXROWS** είναι μια ακέραια τιμή. Το πυρήνα περιορίζει τον αριθμό των γραμμών εξόδου **MAXROWS**. Εάν **MAXROWS** είναι ένας αρνητικός αριθμός όπως **-1**, τότε τον αριθμό των γραμμών στο σύνολο αποτελεσμάτων δεν θα είναι περιορισμένη. |

**Παράδειγμα:**

    %%sql -q -m sample -r 0.1 -n 500 -o query2 
    SELECT * FROM hivesampletable

Η παραπάνω πρόταση κάνει τα εξής:

* Επιλέγει όλες τις εγγραφές από **hivesampletable**.
* Επειδή χρησιμοποιούμε - q, απενεργοποίηση αυτόματης απεικόνιση.
* Επειδή χρησιμοποιούμε `-m sample -r 0.1 -n 500` τυχαία δειγμάτων 10% από τις γραμμές του hivesampletable και τα όρια του μεγέθους της το σύνολο αποτελεσμάτων στο 500 γραμμές.
* Τέλος, επειδή χρησιμοποιήσαμε `-o query2` αποθηκεύει επίσης το αποτέλεσμα σε ένα dataframe που ονομάζεται **query2**.
    

## <a name="considerations-while-using-the-new-kernels"></a>Ζητήματα κατά τη χρήση του νέου πυρήνων

Όποια πυρήνα που χρησιμοποιείτε (PySpark ή τους), διατηρώντας τα σημειωματάρια που εκτελείται θα εκμετάλλευση των πόρων συμπλέγματος σας.  Με αυτές τις πυρήνων, επειδή είναι προκαθορισμένες τα περιβάλλοντα, απλώς την έξοδο από τα σημειωματάρια δεν τερματισμού το περιβάλλον και επομένως το οι πόροι συμπλέγματος θα συνεχίσουν να είναι σε χρήση. Μια καλή πρακτική με το πυρήνων PySpark και τους θα ήταν να χρησιμοποιήσετε την επιλογή **Κλείσιμο και διακόπτει** από το μενού " **αρχείο** " του σημειωματαρίου. Αυτό τερματίζει το περιβάλλον και, στη συνέχεια, Έξοδος από το Σημειωματάριο.    


## <a name="show-me-some-examples"></a>Εμφάνιση ορισμένα παραδείγματα

Όταν ανοίγετε ένα σημειωματάριο Jupyter, θα δείτε δύο φακέλους που είναι διαθέσιμοι στο επίπεδο ριζικού καταλόγου.

* Ο φάκελος **PySpark** έχει δείγμα σημειωματάρια που χρησιμοποιούν το νέο πυρήνα **Python** .
* Ο φάκελος **Scala** έχει δείγμα σημειωματάρια που χρησιμοποιούν το νέο πυρήνα **τους** .

Μπορείτε να ανοίξετε το Σημειωματάριο **00 - [ΔΙΑΒΆΣΤΕ Εμένα ΠΡΏΤΗ] δυνατότητες πυρήνα μαγικός τους** από το φάκελο **PySpark** ή **τους** για να μάθετε περισσότερα σχετικά με τα διαθέσιμα διαφορετικές magics. Μπορείτε επίσης να χρησιμοποιήσετε άλλες διαθέσιμες δείγμα σημειωματάρια κάτω από τους δύο φακέλους για να μάθετε πώς μπορείτε να επιτύχετε διαφορετικά σενάρια χρήση Jupyter σημειωματάρια με συμπλεγμάτων HDInsight τους.

## <a name="where-are-the-notebooks-stored"></a>Πού αποθηκεύονται τα σημειωματάρια;

Jupyter σημειωματάρια αποθηκεύονται με το λογαριασμό χώρου αποθήκευσης που σχετίζεται με το σύμπλεγμα κάτω από το φάκελο **/HdiNotebooks** .  Σημειωματάρια, αρχεία κειμένου και τους φακέλους που δημιουργείτε από μέσα σε Jupyter θα είναι προσβάσιμα από WASB.  Για παράδειγμα, εάν χρησιμοποιείτε το Jupyter για να δημιουργήσετε ένα φάκελο **αυτόν** και ένα σημειωματάριο **myfolder/mynotebook.ipynb**, μπορείτε να αποκτήσετε πρόσβαση σημειωματαρίου στο `wasbs:///HdiNotebooks/myfolder/mynotebook.ipynb`.  Το αντίστροφο ισχύει επίσης, αυτό σημαίνει ότι, εάν μπορείτε να αποστείλετε ένα σημειωματάριο απευθείας στο λογαριασμό σας στο χώρο αποθήκευσης στη `/HdiNotebooks/mynotebook1.ipynb`, το Σημειωματάριο θα είναι ορατό από Jupyter καθώς και.  Σημειωματάρια θα παραμείνει στο λογαριασμό χώρου αποθήκευσης, ακόμα και μετά από τη διαγραφή του συμπλέγματος.

Ο τρόπος σημειωματάρια αποθηκεύονται με το λογαριασμό χώρου αποθήκευσης είναι συμβατά με HDFS. Επομένως, εάν SSH σε σύμπλεγμα μπορείτε να χρησιμοποιήσετε το αρχείο εντολών διαχείρισης όπως το εξής:

    hdfs dfs -ls /HdiNotebooks                            # List everything at the root directory – everything in this directory is visible to Jupyter from the home page
    hdfs dfs –copyToLocal /HdiNotebooks                 # Download the contents of the HdiNotebooks folder
    hdfs dfs –copyFromLocal example.ipynb /HdiNotebooks   # Upload a notebook example.ipynb to the root folder so it’s visible from Jupyter


Σε περίπτωση που υπάρχουν ζητήματα την πρόσβαση στον λογαριασμό χώρου αποθήκευσης για το σύμπλεγμα, τα σημειωματάρια αποθηκεύονται επίσης στον το headnode `/var/lib/jupyter`.

## <a name="supported-browser"></a>Υποστηριζόμενο πρόγραμμα περιήγησης
Εκτελείται σε σχέση με τους HDInsight συμπλεγμάτων σημειωματάρια Jupyter υποστηρίζονται μόνο από το Google Chrome.

## <a name="feedback"></a>Σχόλια

Η νέα πυρήνων στο σε εξέλιξη στάδιο και θα περνάει ο χρόνος μέσα στο χρόνο. Επίσης, αυτό μπορεί να σημαίνει ότι APIs ενδέχεται να αλλάξει καθώς αυτές τις πυρήνων περνάει ο χρόνος. Εκτιμούμε ιδιαίτερα τα σχόλια που έχετε κατά τη χρήση αυτών των πυρήνων νέα. Αυτό θα είναι πολύ χρήσιμο στη διαμόρφωση την τελική έκδοση του αυτές τις πυρήνων. Μπορείτε να αφήσετε σχόλια/τα σχόλιά σας κάτω από την ενότητα " **σχόλια** " στο κάτω μέρος αυτού του άρθρου.


## <a name="seealso"></a>Δείτε επίσης


* [Επισκόπηση: Apache τους σε Azure HDInsight](hdinsight-apache-spark-overview.md)

### <a name="scenarios"></a>Σενάρια

* [Τους με το BI: Εκτέλεση ανάλυσης αλληλεπιδραστικών δεδομένων με χρήση τους σε HDInsight με εργαλεία Επιχειρηματικής ευφυΐας](hdinsight-apache-spark-use-bi-tools.md)

* [Τους με μηχανικής εκμάθησης: χρήση τους σε HDInsight για την ανάλυση δόμησης θερμοκρασίας με τη χρήση δεδομένων HVAC](hdinsight-apache-spark-ipython-notebook-machine-learning.md)

* [Τους με μηχανικής εκμάθησης: χρήση τους σε HDInsight πρόβλεψη της εστίασης στα αποτελέσματα ελέγχου](hdinsight-apache-spark-machine-learning-mllib-ipython.md)

* [Τους ροής: Χρήση τους σε HDInsight για τη δημιουργία εφαρμογών σε πραγματικό χρόνο ροής](hdinsight-apache-spark-eventhub-streaming.md)

* [Ανάλυση καταγραφής τοποθεσία Web χρησιμοποιώντας τους στο HDInsight](hdinsight-apache-spark-custom-library-website-log-analysis.md)

### <a name="create-and-run-applications"></a>Δημιουργία και εκτέλεση εφαρμογών

* [Δημιουργήστε μια μεμονωμένη εφαρμογή χρησιμοποιώντας Scala](hdinsight-apache-spark-create-standalone-application.md)

* [Απομακρυσμένη εκτέλεση εργασιών σε ένα σύμπλεγμα τους χρησιμοποιώντας Λίβιος](hdinsight-apache-spark-livy-rest-interface.md)

### <a name="tools-and-extensions"></a>Εργαλεία και επεκτάσεις

* [Χρησιμοποιήστε HDInsight εργαλεία προσθήκης για IntelliJ ΙΔΈΑ για να δημιουργήσετε και να υποβάλετε τους Scala εφαρμογών](hdinsight-apache-spark-intellij-tool-plugin.md)

* [Χρησιμοποιήστε HDInsight εργαλεία προσθήκης για IntelliJ ΙΔΈΑ για τον εντοπισμό σφαλμάτων εφαρμογών τους από απόσταση](hdinsight-apache-spark-intellij-tool-plugin-debug-jobs-remotely.md)

* [Χρήση Zeppelin σημειωματάρια με ένα σύμπλεγμα τους σε HDInsight](hdinsight-apache-spark-use-zeppelin-notebook.md)

* [Χρήση εξωτερικών πακέτων με σημειωματάρια Jupyter](hdinsight-apache-spark-jupyter-notebook-use-external-packages.md)

* [Εγκατάσταση Jupyter στον υπολογιστή σας και να συνδεθείτε με ένα σύμπλεγμα HDInsight τους](hdinsight-apache-spark-jupyter-notebook-install-locally.md)

### <a name="manage-resources"></a>Διαχείριση πόρων

* [Διαχείριση πόρων για το σύμπλεγμα Apache τους στο Azure HDInsight](hdinsight-apache-spark-resource-manager.md)

* [Παρακολούθηση και ο εντοπισμός σφαλμάτων εργασίες που εκτελείται σε ένα σύμπλεγμα Apache τους στο HDInsight](hdinsight-apache-spark-job-debugging.md)
