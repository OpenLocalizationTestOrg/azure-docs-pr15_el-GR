<properties
    pageTitle="Εγκατάσταση RStudio με R διακομιστή στο HDInsight (έκδοση preview) | Microsoft Azure"
    description="Πώς να εγκαταστήσετε το RStudio με το διακομιστή R στο HDInsight (έκδοση preview)."
    services="hdinsight"
    documentationCenter=""
    authors="jeffstokes72"
    manager="jhubbard"
    editor="cgronlun"/>

<tags
   ms.service="hdinsight"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="big-data"
   ms.date="09/16/2016"
   ms.author="jeffstok"/>


# <a name="installing-rstudio-with-r-server-on-hdinsight-preview"></a>Κατά την εγκατάσταση RStudio με R διακομιστή στο HDInsight (έκδοση preview)

Υπάρχουν πολλές ενοποιημένα περιβάλλοντα ανάπτυξης (IDE) για R σήμερα, συμπεριλαμβανομένης της Microsoft πρόσφατα ανακοινώθηκε [R εργαλεία για το Visual Studio](https://www.visualstudio.com/en-us/features/rtvs-vs.aspx) (RTVS), μια οικογένεια εργαλείων επιφάνειας εργασίας και διακομιστή από [RStudio](https://www.rstudio.com/products/rstudio-server/)ή Έκλειψη βάσει του Walware [StatET](http://www.walware.de/goto/statet). Μεταξύ των τα πιο δημοφιλή στην Linux είναι η χρήση του [Διακομιστή RStudio](https://www.rstudio.com/products/rstudio-server/) που παρέχει μια IDE που βασίζονται σε πρόγραμμα περιήγησης για χρήση από απομακρυσμένους υπολογιστές-πελάτες.  Κατά την εγκατάσταση του διακομιστή RStudio στον κόμβο άκρο από ένα σύμπλεγμα HDInsight Premium παρέχει μια ολοκληρωμένη εμπειρία IDE για την ανάπτυξη και την εκτέλεση των δεσμών ενεργειών R με R διακομιστή στο σύμπλεγμα και μπορεί να είναι πολύ πιο παραγωγικοί από προεπιλογή χρήση της κονσόλας R.

Σε αυτό το άρθρο θα μάθετε πώς να εγκαταστήσετε την έκδοση (δωρεάν) Κοινότητα του διακομιστή RStudio στον κόμβο άκρη ενός συμπλέγματος, χρησιμοποιώντας μια προσαρμοσμένη δέσμη ενεργειών. Εάν προτιμάτε την με την άδεια χρήσης εμπορικής Pro έκδοση του διακομιστή RStudio, που πρέπει να ακολουθήσετε τις οδηγίες εγκατάστασης από το [Διακομιστή RStudio](https://www.rstudio.com/products/rstudio/download-server/).

> [AZURE.NOTE] Τα βήματα σε αυτό το έγγραφο απαιτεί ένα διακομιστή R σε σύμπλεγμα HDInsight και δεν θα λειτουργεί σωστά εάν χρησιμοποιείτε ένα σύμπλεγμα HDInsight όπου R εγκαταστάθηκε χρησιμοποιώντας την [Ενέργεια δέσμη ενεργειών εγκατάσταση R](hdinsight-hadoop-r-scripts-linux.md).

## <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

* Ένα σύμπλεγμα Azure HDInsight με εγκατεστημένο το R Server. Για οδηγίες, ανατρέξτε στο θέμα [Γρήγορα αποτελέσματα με το διακομιστή R στο συμπλεγμάτων HDInsight](hdinsight-hadoop-r-server-get-started.md).
* Ένα πρόγραμμα-πελάτη SSH. Για διανομή Linux και Unix ή Macintosh OS X, το `ssh` εντολή παρέχεται με το λειτουργικό σύστημα. Για Windows, συνιστάται να [Cygwin](http://www.redhat.com/services/custom/cygwin/) με την [επιλογή OpenSSH](https://www.youtube.com/watch?v=CwYSvvGaiWU)ή [PuTTY](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html).  


## <a name="install-rstudio-on-the-cluster-using-a-custom-script"></a>Εγκατάσταση RStudio στο σύμπλεγμα χρησιμοποιώντας μια προσαρμοσμένη δέσμη ενεργειών

1. Προσδιορίστε την άκρη κόμβο του συμπλέγματος. Για ένα σύμπλεγμα HDInsight με το διακομιστή R, παρακάτω είναι τους κανόνες ονοματοθεσίας για κεφαλής κόμβο και άκρη κόμβο.

    * Κόμβος κεφαλή-`CLUSTERNAME-ssh.azurehdinsight.net`
    * Κόμβος άκρο-`R-Server.CLUSTERNAME-ssh.azurehdinsight.net` 

2. SSH στον κόμβο άκρο του συμπλέγματος χρησιμοποιώντας το μοτίβο ονομασίας παραπάνω. 
 
    * Εάν συνδέεστε από ένα πρόγραμμα-πελάτη Linux, ανατρέξτε στο θέμα [σύνδεση σε ένα σύμπλεγμα βάσει Linux HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#connect-to-a-linux-based-hdinsight-cluster).
    * Εάν συνδέεστε από ένα πρόγραμμα-πελάτη των Windows, ανατρέξτε στο θέμα [σύνδεση σε ένα σύμπλεγμα βάσει Linux HDInsight χρησιμοποιώντας PuTTY](hdinsight-hadoop-linux-use-ssh-windows.md#connect-to-a-linux-based-hdinsight-cluster).

3. Όταν είστε συνδεδεμένοι, γίνονται ριζικό χρήστη στο σύμπλεγμα. Κατά την περίοδο λειτουργίας SSH, χρησιμοποιήστε την ακόλουθη εντολή.

        sudo su -

4. Κάντε λήψη του προσαρμοσμένη δέσμη ενεργειών για την εγκατάσταση RStudio. Χρησιμοποιήστε την ακόλουθη εντολή.

        wget http://mrsactionscripts.blob.core.windows.net/rstudio-server-community-v01/InstallRStudio.sh

5. Αλλάξτε τα δικαιώματα για το αρχείο προσαρμοσμένων δεσμών ενεργειών και εκτελέστε τη δέσμη ενεργειών. Χρησιμοποιήστε τις παρακάτω εντολές.

        chmod 755 InstallRStudio.sh
        ./InstallRStudio.sh

6. Εάν χρησιμοποιούσατε έναν κωδικό πρόσβασης SSH κατά τη δημιουργία ένα σύμπλεγμα HDInsight με το διακομιστή R, μπορείτε να παραλείψετε αυτό το βήμα και να προχωρήσετε στην επόμενη. Εάν χρησιμοποιήσετε έναν αριθμό-κλειδί SSH για να δημιουργήσετε το σύμπλεγμα, πρέπει να ορίσετε έναν κωδικό πρόσβασης για το χρήστη SSH. Θα χρειαστείτε αυτόν τον κωδικό πρόσβασης κατά τη σύνδεση με RStudio. Εκτελέστε τις ακόλουθες εντολές. Όταν σας ζητηθεί για **τρέχουσα Kerberos τον κωδικό πρόσβασης**, απλώς πατήστε το πλήκτρο **ENTER**.  Σημειώστε ότι πρέπει να αντικαταστήσετε `USERNAME` με ένα χρήστη SSH για το σύμπλεγμα HDInsight.

        passwd USERNAME
        Current Kerberos password:
        New password:
        Retype new password:
        Current Kerberos password:
        
    Εάν τον κωδικό πρόσβασής σας έχει ρυθμιστεί με επιτυχία, θα πρέπει να βλέπετε ένα μήνυμα όπως το εξής.

        passwd: password updated successfully


    Έξοδος από την περίοδο λειτουργίας SSH.

7. Δημιουργήστε μια διοχέτευση SSH στο σύμπλεγμα με αντιστοίχιση `localhost:8787` στο σύμπλεγμα HDInsight στον υπολογιστή-πελάτη. Πρέπει να δημιουργήσετε μια διοχέτευση SSH πριν από το άνοιγμα μιας νέας περιόδου λειτουργίας του προγράμματος περιήγησης.

    * Σε ένα πρόγραμμα-πελάτη Linux ή ένα πρόγραμμα-πελάτη Windows με [Cygwin](http://www.redhat.com/services/custom/cygwin/) , στη συνέχεια, ανοίξτε μια περίοδο λειτουργίας τερματικού και χρησιμοποιήστε την ακόλουθη εντολή.

            ssh -L localhost:8787:localhost:8787 USERNAME@R-Server.CLUSTERNAME-ssh.azurehdinsight.net
            
        Αντικαταστήστε το **όνομα ΧΡΉΣΤΗ** με έναν χρήστη SSH για το σύμπλεγμα HDInsight, και **CLUSTERNAME** με το όνομα του συμπλέγματος HDInsight μπορείτε επίσης να χρησιμοποιήσετε έναν αριθμό-κλειδί SSH και όχι έναν κωδικό πρόσβασης με την προσθήκη`-i id_rsa_key`     

    * Εάν χρησιμοποιείτε ένα πρόγραμμα-πελάτη των Windows, στη συνέχεια, με PuTTY

        1.  Ανοίξτε PuTTY και εισαγάγετε τις πληροφορίες σύνδεσης. Εάν δεν είστε εξοικειωμένοι με PuTTY, ανατρέξτε στο θέμα [Χρήση SSH με βάσει Linux Hadoop σε HDInsight από το Windows](hdinsight-hadoop-linux-use-ssh-windows.md) για πληροφορίες σχετικά με το πώς μπορείτε να το χρησιμοποιήσετε με το HDInsight.
        2.  Στην ενότητα " **κατηγορία** " στα αριστερά του παραθύρου διαλόγου, ανάπτυξη **σύνδεσης**, αναπτύξτε **SSH**και, στη συνέχεια, επιλέξτε **σήραγγες**.
        3.  Δώστε τις ακόλουθες πληροφορίες στη φόρμα **Έλεγχος προώθηση θυρών SSH επιλογές** :

            * **Θύρα προέλευσης** - στη θύρα του υπολογιστή-πελάτη που θέλετε να προωθήσετε. Για παράδειγμα, **8787**.
            * **Προορισμός** - στον προορισμό που πρέπει να αντιστοιχιστούν στον τοπικό υπολογιστή-πελάτη υπολογιστή. Για παράδειγμα, **localhost:8787**.

            ![Δημιουργία διοχέτευση SSH] (./media/hdinsight-hadoop-r-server-install-r-studio/createsshtunnel.png "Δημιουργία διοχέτευση SSH")

        4. Κάντε κλικ στο κουμπί **Προσθήκη** για να προσθέσετε τις ρυθμίσεις και, στη συνέχεια, κάντε κλικ στην επιλογή **Άνοιγμα** για να ανοίξετε μια σύνδεση SSH.
        5. Όταν σας ζητηθεί, συνδεθείτε στο διακομιστή. Θα δημιουργήσετε μια περίοδο λειτουργίας SSH και ενεργοποίηση της διοχέτευσης.

8. Ανοίξτε ένα πρόγραμμα περιήγησης web και πληκτρολογήστε την παρακάτω διεύθυνση URL με βάση τη θύρα που καταχωρήσατε για διοχέτευσης.

        http://localhost:8787/ 

9. Θα σας ζητηθεί να εισαγάγετε το SSH όνομα χρήστη και τον κωδικό πρόσβασης για να συνδεθείτε με το σύμπλεγμα. Εάν χρησιμοποιείτε ένα πλήκτρο SSH κατά τη δημιουργία του συμπλέγματος, πρέπει να εισαγάγετε τον κωδικό πρόσβασης που δημιουργήσατε στο βήμα 5 παραπάνω.

    ![Σύνδεση με R Studio] (./media/hdinsight-hadoop-r-server-install-r-studio/connecttostudio.png "Δημιουργία διοχέτευση SSH")

10. Για να ελέγξετε αν η εγκατάσταση RStudio ήταν επιτυχής, μπορείτε να εκτελέσετε μια δοκιμαστική δέσμη ενεργειών που εκτελεί την R βάση εργασίες MapReduce και τους στο σύμπλεγμα. Μετάβαση προς τα πίσω στην κονσόλα SSH και εισαγάγετε τις παρακάτω εντολές για να κάνετε λήψη η δοκιμαστική δέσμη ενεργειών για να εκτελέσετε σε RStudio.

    * Εάν έχετε δημιουργήσει ένα σύμπλεγμα Hadoop με R, χρησιμοποιήστε αυτή την εντολή.
        
            wget http://mrsactionscripts.blob.core.windows.net/rstudio-server-community-v01/testhdi.r

    * Εάν έχετε δημιουργήσει ένα σύμπλεγμα τους με R, χρησιμοποιήστε αυτή την εντολή.

            wget http://mrsactionscripts.blob.core.windows.net/rstudio-server-community-v01/testhdi_spark.r

11. Στο RStudio, θα εμφανιστεί η δοκιμαστική δέσμη ενεργειών που λάβατε. Κάντε διπλό κλικ στο αρχείο για να το ανοίξετε, επιλέξτε τα περιεχόμενα του αρχείου και, στη συνέχεια, κάντε κλικ στην επιλογή **Εκτέλεση**. Θα πρέπει να μπορείτε να δείτε το αποτέλεσμα στο παράθυρο **κονσόλας** .
 
    ![Δοκιμή της εγκατάστασης] (./media/hdinsight-hadoop-r-server-install-r-studio/test-r-script.png "Δοκιμή της εγκατάστασης")

Μια άλλη επιλογή θα ήταν να πληκτρολογήσετε `source(testhdi.r)` ή `source(testhdi_spark.r)` να εκτελέσει τη δέσμη ενεργειών.

## <a name="see-also"></a>Δείτε επίσης

- [Τον υπολογισμό επιλογές περιβάλλοντος του διακομιστή R σε HDInsight συμπλεγμάτων](hdinsight-hadoop-r-server-compute-contexts.md)

- [Azure επιλογές αποθήκευσης του διακομιστή R σε HDInsight premium](hdinsight-hadoop-r-server-storage.md)


 
