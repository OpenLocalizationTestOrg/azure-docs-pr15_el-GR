<properties
pageTitle="Προσθήκη ομάδας βιβλιοθηκών κατά τη δημιουργία συμπλέγματος HDInsight | Azure"
description="Μάθετε πώς να προσθέτετε ομάδας βιβλιοθηκών (βάζο, αρχεία) σε ένα σύμπλεγμα HDInsight κατά τη δημιουργία συμπλέγματος."
services="hdinsight"
documentationCenter=""
authors="Blackmist"
manager="jhubbard"
editor="cgronlun"/>

<tags
ms.service="hdinsight"
ms.devlang="na"
ms.topic="article"
ms.tgt_pltfrm="na"
ms.workload="big-data"
ms.date="09/20/2016"
ms.author="larryfr"/>

#<a name="add-hive-libraries-during-hdinsight-cluster-creation"></a>Προσθήκη ομάδας βιβλιοθηκών κατά τη δημιουργία HDInsight συμπλέγματος

Εάν έχετε βιβλιοθήκες που χρησιμοποιείτε συχνά με ομάδα στο HDInsight, αυτό το έγγραφο περιέχει πληροφορίες σχετικά με τη χρήση μιας ενέργειας δέσμης ενεργειών προ-φόρτωσης των βιβλιοθηκών κατά τη δημιουργία συμπλέγματος. Με αυτόν τον τρόπο τις βιβλιοθήκες καθολικά διαθέσιμες στην ομάδα (δεν χρειάζεται να χρησιμοποιήσετε την [Προσθήκη ΒΆΖΩΝ](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Cli) για να φορτώσετε τους.)

##<a name="how-it-works"></a>Πώς λειτουργεί

Όταν δημιουργείτε ένα σύμπλεγμα, μπορείτε προαιρετικά να καθορίσετε μια ενέργεια δέσμη ενεργειών που εκτελεί μια δέσμη ενεργειών σε τους κόμβους συμπλέγματος ενώ που δημιουργούνται. Η δέσμη ενεργειών σε αυτό το έγγραφο δέχεται μία παράμετρο, που είναι μια θέση WASB που περιέχει τις βιβλιοθήκες (αποθηκεύονται ως αρχεία βάζο,) που θα φορτώνονται εκ των προτέρων.

Κατά τη δημιουργία συμπλέγματος, η δέσμη ενεργειών απαριθμεί τα αρχεία, να αντιγράφει την `/usr/lib/customhivelibs/` καταλόγου σε κόμβους κεφαλής και εργασίας, στη συνέχεια, να προσθέτει το `hive.aux.jars.path` ιδιότητα στο το `core-site.xml` αρχείου. Στην Linux βάσει συμπλεγμάτων, ενημερώνει επίσης το `hive-env.sh` αρχείο με τη θέση των αρχείων.

> [AZURE.NOTE] Χρησιμοποιώντας τις ενέργειες δέσμης ενεργειών σε αυτό το άρθρο, τις βιβλιοθήκες καθιστά διαθέσιμο στα ακόλουθα σενάρια:
>
> * __Βάσει Linux HDInsight__ - κατά τη χρήση του __Hive γραμμής εντολών__ __WebHCat__ (Templeton) και __HiveServer2__.
> * __HDInsight που βασίζεται σε Windows__ - κατά τη χρήση του __ομάδας γραμμής εντολών__ και __WebHCat__ (Templeton).

##<a name="the-script"></a>Η δέσμη ενεργειών

__Θέση δέσμης ενεργειών__

Για __βάσει Linux συμπλεγμάτων__: [https://hdiconfigactions.blob.core.windows.net/linuxsetupcustomhivelibsv01/setup-customhivelibs-v01.sh](https://hdiconfigactions.blob.core.windows.net/linuxsetupcustomhivelibsv01/setup-customhivelibs-v01.sh)

Για __συμπλεγμάτων που βασίζεται σε Windows__: [https://hdiconfigactions.blob.core.windows.net/setupcustomhivelibsv01/setup-customhivelibs-v01.ps1](https://hdiconfigactions.blob.core.windows.net/setupcustomhivelibsv01/setup-customhivelibs-v01.ps1)

__Απαιτήσεις__

* Οι δέσμες ενεργειών πρέπει να εφαρμοστεί τόσο το __κεφάλι κόμβους__ και __κόμβους εργασίας__.

* Το πλατύστομα που θέλετε να εγκαταστήσετε πρέπει να αποθηκεύονται στο χώρο αποθήκευσης αντικειμένων Blob Azure σε ένα __μεμονωμένο κοντέινερ__. 

* Το λογαριασμό χώρου αποθήκευσης που περιέχει τη βιβλιοθήκη του βάζο αρχεία __πρέπει να__ είναι συνδεδεμένη με το σύμπλεγμα HDInsight κατά τη δημιουργία. Αυτό μπορεί να πραγματοποιηθεί με έναν από τους δύο τρόπους:

    * Είστε σε ένα κοντέινερ στην τον προεπιλεγμένο λογαριασμό χώρου αποθήκευσης για το σύμπλεγμα.
    
    * Είστε σε ένα κοντέινερ σε ένα κοντέινερ συνδεδεμένων χώρου αποθήκευσης. Για παράδειγμα, στην πύλη, μπορείτε να χρησιμοποιήσετε __Προαιρετικών παραμέτρων__, __σύνδεση λογαριασμών χώρου αποθήκευσης__ για να προσθέσετε επιπλέον χώρο αποθήκευσης.

* Η διαδρομή WASB στο κοντέινερ πρέπει να έχει καθοριστεί ως παράμετρο, για να την ενέργεια δέσμη ενεργειών. Για παράδειγμα, εάν το πλατύστομα είναι αποθηκευμένες σε ένα κοντέινερ που ονομάζεται __βιβλιοθηκών__ σε λογαριασμό χώρου αποθήκευσης με την ονομασία __mystorage__, η παράμετρος θα __wasbs://libs@mystorage.blob.core.windows.net/__.

    > [AZURE.NOTE] Αυτό το έγγραφο προϋποθέτει ότι που έχετε ήδη δημιουργήσει ένα λογαριασμό του χώρου αποθήκευσης αντικειμένων blob κοντέινερ και αποστείλει τα αρχεία σε αυτό. 
    >
    > Εάν δεν έχετε δημιουργήσει ένα λογαριασμό του χώρου αποθήκευσης, μπορείτε να το κάνετε μέσω της [Azure πύλη](https://portal.azure.com). Στη συνέχεια, μπορείτε να χρησιμοποιήσετε ένα βοηθητικό πρόγραμμα όπως [Azure Εξερεύνηση χώρου αποθήκευσης](http://storageexplorer.com/) για να δημιουργήσετε ένα νέο κοντέινερ στο λογαριασμό και αποστολή αρχείων σε αυτήν.

##<a name="create-a-cluster-using-the-script"></a>Δημιουργήστε ένα σύμπλεγμα χρησιμοποιώντας τη δέσμη ενεργειών

> [AZURE.NOTE] Ακολουθήστε τα παρακάτω βήματα, δημιουργήστε ένα νέο σύμπλεγμα βάσει Linux HDInsight. Για να δημιουργήσετε ένα νέο σύμπλεγμα βασίζεται στα Windows, επιλέξτε __Windows__ ως λειτουργικό σύστημα σύμπλεγμα κατά τη δημιουργία του συμπλέγματος και χρησιμοποιήστε το δέσμης ενεργειών των Windows (PowerShell) αντί για τη δέσμη ενεργειών πάρτι.
> 
> Μπορείτε επίσης να χρησιμοποιήσετε για να δημιουργήσετε ένα σύμπλεγμα χρησιμοποιώντας αυτήν τη δέσμη ενεργειών Azure PowerShell ή το .NET SDK HDInsight. Για περισσότερες πληροφορίες σχετικά με αυτές τις μεθόδους, ανατρέξτε στο θέμα [Προσαρμογή HDInsight συμπλεγμάτων ενέργειες δέσμης ενεργειών](hdinsight-hadoop-customize-cluster-linux.md).

1. Έναρξη προμήθειας ένα σύμπλεγμα, χρησιμοποιώντας τα βήματα στην [παροχή HDInsight συμπλεγμάτων σε Linux](hdinsight-hadoop-provision-linux-clusters.md#portal), αλλά δεν ολοκληρώθηκε προμήθειας.

2. Στην blade την **Προαιρετική ρύθμιση παραμέτρων** , επιλέξτε **Ενέργειες δέσμης ενεργειών**και δώστε τις πληροφορίες, όπως φαίνεται παρακάτω:

    * __ΌΝΟΜΑ__: Πληκτρολογήστε ένα φιλικό όνομα για την ενέργεια δέσμης ενεργειών.
    * __Δέσμη ΕΝΕΡΓΕΙΏΝ URI__: https://hdiconfigactions.blob.core.windows.net/linuxsetupcustomhivelibsv01/setup-customhivelibs-v01.sh
    * __ΠΡΟΪΣΤΆΜΕΝΟΣ__: Ενεργοποιήστε αυτή την επιλογή
    * __ΕΡΓΑΖΌΜΕΝΟΥ__: Ενεργοποιήστε αυτή την επιλογή.
    * __ZOOKEEPER__: Αφήστε κενό.
    * __ΠΑΡΆΜΕΤΡΟΙ__: Εισαγάγετε τη διεύθυνση WASB στο λογαριασμό κοντέινερ και χώρου αποθήκευσης που περιέχει το πλατύστομα. Για παράδειγμα, __wasbs://libs@mystorage.blob.core.windows.net/__.

3. Στο κάτω από τις **Ενέργειες δέσμης ενεργειών**, χρησιμοποιήστε το κουμπί **επιλογή** για να αποθηκεύσετε τη ρύθμιση παραμέτρων.

4. Στην blade την **Προαιρετική ρύθμιση παραμέτρων** , επιλέξτε __Συνδεδεμένους λογαριασμούς χώρου αποθήκευσης__ και επιλέξτε τη σύνδεση __Προσθήκη έναν αριθμό-κλειδί χώρου αποθήκευσης__ . Επιλέξτε το λογαριασμό χώρου αποθήκευσης που περιέχει το πλατύστομα και, στη συνέχεια, χρησιμοποιήστε τα κουμπιά __Επιλέξτε__ για να αποθηκεύσετε τις ρυθμίσεις και να επιστρέψετε το blade __Προαιρετική ρύθμιση παραμέτρων__ .

5. Χρήση του κουμπιού **επιλογής** στο κάτω μέρος του blade **Προαιρετική ρύθμιση παραμέτρων** για να αποθηκεύσετε τις πληροφορίες προαιρετικών παραμέτρων.

6. Συνεχίστε την προμήθεια του συμπλέγματος, όπως περιγράφεται στην [παροχή HDInsight συμπλεγμάτων σε Linux](hdinsight-hadoop-provision-linux-clusters.md#portal).

Μόλις ολοκληρωθεί η δημιουργία συμπλέγματος, θα μπορείτε να χρησιμοποιήσετε το βάζα των προστίθεται σε αυτήν τη δέσμη ενεργειών από την ομάδα χωρίς να χρειάζεται να χρησιμοποιήσετε το `ADD JAR` πρόταση.

##<a name="next-steps"></a>Επόμενα βήματα

Σε αυτό το έγγραφο μάθατε πώς μπορείτε να προσθέσετε ομάδας βιβλιοθηκών που περιέχονται σε βάζο αρχεία σε ένα σύμπλεγμα HDInsight κατά τη δημιουργία συμπλέγματος. Για περισσότερες πληροφορίες σχετικά με την εργασία με ομάδα, ανατρέξτε στο θέμα [Χρήση Hive με HDInsight](hdinsight-use-hive.md)
