<properties 
    pageTitle="Ειδοποίηση Azure διανομείς - διάγνωση κατευθυντήριες γραμμές" 
    description="Οδηγίες σχετικά με τον τρόπο διάγνωση συνήθη ζητήματα με Azure ειδοποίηση διανομείς." 
    services="notification-hubs" 
    documentationCenter="Mobile" 
    authors="ysxu" 
    manager="dwrede" 
    editor=""/>

<tags 
    ms.service="notification-hubs" 
    ms.workload="mobile" 
    ms.tgt_pltfrm="NA" 
    ms.devlang="multiple" 
    ms.topic="article" 
    ms.date="10/03/2016" 
    ms.author="yuaxu"/>

#<a name="azure-notification-hubs---diagnosis-guidelines"></a>Azure ειδοποίηση διανομείς - διάγνωση κατευθυντήριες γραμμές

##<a name="overview"></a>Επισκόπηση

Μία από τις πιο συνήθεις ερωτήσεις θα σας ακούσουμε πελάτες Azure ειδοποίηση διανομείς είναι πώς να υπολογίσετε γιατί δεν εμφανίζεται μια ειδοποίηση που αποστέλλεται από την εφαρμογή παρασκηνίου εμφανίζονται στην τη συσκευή-πελάτη - όπου και γιατί απορρίφθηκαν ειδοποιήσεις και πώς μπορείτε να διορθώσετε αυτό το πρόβλημα. Σε αυτό το άρθρο θα εξετάσουμε τους διάφορους λόγους γιατί ειδοποιήσεις ενδέχεται να λάβετε αποτεθεί ή δεν τελειώνουν προς τα επάνω στις συσκευές. Θα σας θα δείτε επίσης τρόπους που μπορούν να ανάλυση και να υπολογίσετε τη ρίζα. 

Πρώτον, είναι σημαντικό να κατανοήσετε τον τρόπο προωθεί το Azure ειδοποίηση διανομείς ειδοποιήσεις για τις συσκευές.
![][0]

Σε τυπική Αποστολή ειδοποίησης ροή, το μήνυμα αποστέλλεται από την **εφαρμογή παρασκηνίου** **Διανομέα ειδοποίηση Azure (NH)** που λειτουργεί με τη σειρά ορισμένες επεξεργασίας σε όλες τις καταχωρήσεις λαμβάνοντας υπόψη τη ρυθμισμένη ετικέτες και παραστάσεις ετικέτα για τον καθορισμό "προορισμών" δηλαδή όλες τις καταχωρήσεις που πρέπει να λαμβάνετε ειδοποίηση push. Μπορεί να εκτείνεται σε αυτές τις καταχωρήσεις σε κάποιο ή όλα από τα υποστηριζόμενες πλατφόρμες - iOS, Google, Windows, Windows Phone, Kindle και Baidu για Android Κίνα. Όταν είναι εγκατεστημένες τους στόχους, NH, στη συνέχεια, ωθεί ειδοποιήσεις, Διαίρεση σε πολλές δέσμη καταχωρήσεων, για να την πλατφόρμα συσκευή συγκεκριμένα **Υπηρεσία ειδοποιήσεων Push (Γραμματίων)** - π.χ., APNS για Apple, GCM για Google κ.λπ. NH πραγματοποιεί έλεγχο ταυτότητας με το αντίστοιχο Γραμματίων με βάση τα διαπιστευτήρια που ορίζετε στην πύλη του Azure κλασική στη σελίδα Ρύθμιση παραμέτρων ειδοποιήσεων διανομέα. Το Γραμματίων προωθεί, στη συνέχεια, οι ειδοποιήσεις για τις αντίστοιχες **συσκευών-πελατών**. Αυτή είναι η πλατφόρμα προτεινόμενα τρόπος για να κάνουν τις ειδοποιήσεις push και να λάβετε υπόψη ότι το τελικό πόδι ειδοποίηση παράδοσης τίθεται σε ισχύ μεταξύ της πλατφόρμας Γραμματίων και της συσκευής. Επομένως, έχουμε τέσσερα κύρια στοιχεία - *πρόγραμμα-πελάτης*, *εφαρμογή παρασκηνίου*, *Διανομείς ειδοποίηση Azure (NH)* και *Τις υπηρεσίες ειδοποιήσεων Push (Γραμματίων)* και οποιαδήποτε από αυτές τις μπορεί να προκαλέσει ειδοποιήσεις να διακόπτονται. Περισσότερες λεπτομέρειες σχετικά με αυτήν την αρχιτεκτονική είναι διαθέσιμη στην [Ειδοποίηση Επισκόπηση διανομείς].

Αποτυχία παράδοσης ειδοποιήσεις μπορεί να συμβεί κατά την αρχική δοκιμή/οργάνωση φάση που μπορεί να υποδεικνύουν κάποιο πρόβλημα ρύθμισης παραμέτρων ή ότι μπορεί να συμβεί παραγωγή όπου όλες ή μερικές από τις ειδοποιήσεις μπορεί να γρήγορα απορρίφθηκαν που υποδεικνύει ότι ορισμένες βαθύτερη εφαρμογής ή μηνυμάτων ζήτημα μοτίβο. Στην ενότητα, κάτω από το στοιχείο θα εξετάσουμε διάφορα σενάρια απορρίφθηκαν ειδοποιήσεις διαβάθμιση από το κοινό για το είδος πιο σπάνιες, ορισμένες από τις οποίες μπορεί να διαπιστώσετε εμφανή και ορισμένα άλλα άτομα δεν τέτοιον. 

##<a name="azure-notifications-hub-mis-configuration"></a>Azure εσφαλμένης ρύθμισης διανομέα ειδοποιήσεων 

Azure διανομείς ειδοποίησης, πρέπει να τον έλεγχο ταυτότητας του εαυτού στο περιβάλλον ο προγραμματιστής της εφαρμογής για να μπορέσετε να στείλετε με επιτυχία ειδοποιήσεις για τα αντίστοιχα Γραμματίων. Αυτό γίνεται πιθανές από τον προγραμματιστή Δημιουργία λογαριασμού για προγραμματιστές με την αντίστοιχη πλατφόρμα (Google Apple, κλπ Windows) και, στη συνέχεια, την καταχώρηση εφαρμογής τους πού μπορεί να αποκτήσει διαπιστευτήρια που πρέπει να ρυθμιστούν στην πύλη του στην ενότητα Ρύθμιση παραμέτρων ειδοποιήσεων διανομείς. Εάν δεν υπάρχει ειδοποιήσεις κάρτες μέσω, πρώτο βήμα πρέπει να για να εξασφαλίσετε ότι τα σωστά διαπιστευτήρια έχουν ρυθμιστεί στην ενότητα ειδοποίησης που ταιριάζουν με τους με την εφαρμογή που δημιουργήθηκαν με το λογαριασμό της πλατφόρμας συγκεκριμένες προγραμματιστής. Θα βρείτε μας [Γρήγορα αποτελέσματα προγράμματα εκμάθησης] χρήσιμη για να μεταβείτε σε αυτήν τη διαδικασία σε, βήμα προς βήμα. Ακολουθούν ορισμένες κοινές ρυθμίσεις παραμέτρων εσφαλμένης:

1. **Γενικά**
 
    α) βεβαιωθείτε ότι το όνομα διανομέας ειδοποίησης (χωρίς τυπογραφικά λάθη) να είναι η ίδια:

    - Όπου καταχώρηση από το πρόγραμμα-πελάτη 
    - Όταν στέλνετε ειδοποιήσεις από την πλευρά του διακομιστή,  
    - Όπου έχετε ρυθμίσει τις παραμέτρους τα διαπιστευτήρια Γραμματίων και 
    - Των οποίων τα διαπιστευτήρια συσχετισμών Ασφαλείας που έχετε ρυθμίσει τις παραμέτρους του υπολογιστή-πελάτη και υπολογιστή στο παρασκήνιο. 
        
    β) βεβαιωθείτε ότι ότι χρησιμοποιείτε τις σωστές συμβολοσειρές ρύθμισης παραμέτρων συσχετισμών Ασφαλείας του υπολογιστή-πελάτη και την εφαρμογή παρασκηνίου. Ως ένα πρακτικός κανόνας, πρέπει να χρησιμοποιείτε το **DefaultListenSharedAccessSignature** στον υπολογιστή-πελάτη και **DefaultFullSharedAccessSignature** στο υπόβαθρο εφαρμογής (η οποία παρέχει δικαιώματα ώστε να είναι δυνατή η αποστολή ειδοποίησης για να την NH)

2. **Ρύθμιση παραμέτρων υπηρεσία ειδοποιήσεων Push Apple (APNS)**
 
    Πρέπει να διατηρήσετε δύο διαφορετικές διανομείς - μία για παραγωγής και ένα άλλο για τη δοκιμή χρήσης. Αυτό σημαίνει ότι αποστολή το πιστοποιητικό που πρόκειται να χρησιμοποιήσετε στο περιβάλλον φίλτρου σε ένα ξεχωριστό διανομέα και το πιστοποιητικό που πρόκειται να χρησιμοποιήσετε στο παραγωγής σε ένα ξεχωριστό διανομέα. Μην προσπαθήσετε να αποστείλετε διαφορετικούς τύπους πιστοποιητικών στον ίδιο διανομέα ενδέχεται να προκαλέσει αποτυχίες ειδοποίηση προς τα κάτω στη γραμμή. Εάν δεν μπορείτε να βρείτε τον εαυτό σας σε μια θέση όπου κατά λάθος έχετε αποστείλει διαφορετικούς τύπους πιστοποιητικών στον ίδιο διανομέα, καλό είναι να διαγράψετε την ενότητα και ξεκινήστε από την αρχή. Εάν για κάποιο λόγο, δεν μπορείτε να διαγράψετε την ενότητα, στη συνέχεια, τουλάχιστον, πρέπει να διαγράψετε όλες τις υπάρχουσες καταχωρήσεις από την ενότητα. 

3. **Ρύθμιση παραμέτρων Google Cloud ανταλλαγής μηνυμάτων (GCM)** 

    α) βεβαιωθείτε ότι ότι ενεργοποιείτε την "Google Cloud ανταλλαγής μηνυμάτων για Android" κάτω από το έργο σας cloud. 
    
    ![][2]
    
    β) βεβαιωθείτε ότι έχετε δημιουργήσει ένα κλειδί"διακομιστής" ενώ απόκτηση τα διαπιστευτήρια ποια NH θα χρησιμοποιήσετε για τον έλεγχο ταυτότητας με GCM. 
    
    ![][3]
    
    c) βεβαιωθείτε ότι ότι έχετε ρυθμίσει τις παραμέτρους "Αναγνωριστικό έργου" του υπολογιστή-πελάτη που είναι μια εντελώς αριθμητική οντότητα που μπορείτε να λάβετε από τον πίνακα εργαλείων:
    
    ![][1]

##<a name="application-issues"></a>Θέματα εφαρμογής

1) **Οι ετικέτες / Προσθήκη ετικετών σε παραστάσεις**

Εάν χρησιμοποιείτε ετικέτες ή οι παραστάσεις ετικέτα για να χωρίσετε το ακροατήριό σας, είναι πάντα δυνατή ότι όταν στέλνετε την ειδοποίηση, υπάρχει δεν είναι δυνατή η εύρεση με βάση τις παραστάσεις ετικέτες/ετικέτα που καθορίζετε στην κλήση σας αποστολή προορισμού. Είναι καλύτερα να αναθεωρήσετε τις καταχωρήσεις για να βεβαιωθείτε ότι δεν υπάρχουν ετικέτες που ταιριάζει κατά την αποστολή ειδοποιήσεων και, στη συνέχεια, επαληθεύστε την παραλαβή ειδοποίησης μόνο από τα προγράμματα-πελάτες με αυτές τις καταχωρήσεις. Π.χ. Εάν όλες τις καταχωρήσεις με NH ολοκλήρωση με πείτε ετικέτα "Πολιτική" και την αποστολή ειδοποίησης με ετικέτα "Sports", θα σταλεί δεν σε οποιαδήποτε συσκευή. Σύνθετη υπόθεσης μπορεί να περιλαμβάνουν παραστάσεις ετικέτα όπου μόνο εγγραφή με "Ετικέτα A" ή "Ετικέτα B" αλλά κατά την αποστολή ειδοποιήσεων, στοχεύετε "Ετικέτα A & & ετικέτα B". Στο παρακάτω την ενότητα αυτο-διάγνωση συμβουλές, υπάρχουν τρόποι στην οποία μπορείτε να αναθεωρήσετε τις καταχωρήσεις μαζί με τις ετικέτες που έχουν. 

2) **Πρότυπο θέματα**

Εάν χρησιμοποιείτε πρότυπα, βεβαιωθείτε ότι ακολουθώντας τις οδηγίες που περιγράφονται στο [πρότυπο οδηγίες]. 

3) **Μη έγκυροι καταχωρήσεων**

Υπό την προϋπόθεση ότι έχει ρυθμιστεί σωστά την ενότητα "Ειδοποίηση" και όλες τις παραστάσεις, οι ετικέτες/ετικέτα χρησιμοποιήθηκαν σωστά που προκύπτουν στο πλαίσιο Εύρεση έγκυρη στόχων στην οποία πρέπει να αποστέλλονται οι ειδοποιήσεις, NH ενεργοποιείται απενεργοποίηση πολλές δέσμες επεξεργασίας παράλληλα - κάθε μαζική αποστολή μηνυμάτων σε ένα σύνολο εγγραφών. 

> [AZURE.NOTE] Επειδή το κάνουμε αυτό η επεξεργασία παράλληλα, θα σας δεν εγγυάται τη σειρά με την οποία θα παραδίδονται οι ειδοποιήσεις. 

Τώρα Azure ειδοποιήσεις διανομέα είναι βελτιστοποιημένη για ένα μοντέλο παράδοσης του μηνύματος "μία φορά στο πιο". Αυτό σημαίνει ότι θα σας προσπαθήσει άρσεως επαναλήψεις, έτσι ώστε οι ειδοποιήσεις δεν θα παραδίδονται περισσότερες από μία φορές σε μια συσκευή. Για να βεβαιωθείτε ότι αυτό εξετάστε τις καταχωρήσεις και βεβαιωθείτε ότι το μόνο ένα μήνυμα αποστέλλεται ανά αναγνωριστικό συσκευής πριν από την αποστολή του μηνύματος στην πραγματικότητα τα Γραμματίων. Καθώς κάθε δέσμη αποστέλλεται Γραμματίων, η οποία με τη σειρά αποδοχή και την επικύρωση των καταχωρήσεων, είναι πιθανό ότι το Γραμματίων εντοπίζει σφάλμα με μία ή περισσότερες από τις καταχωρήσεις σε μια δέσμη, επιστρέφει ένα σφάλμα Azure NH και διακόπτει την επεξεργασία συνεπώς απόθεση εντελώς αυτήν τη δέσμη. Αυτό ισχύει ιδιαίτερα με APNS που χρησιμοποιεί ένα πρωτόκολλο ροή TCP. Παρόλο που θα σας είναι βελτιστοποιημένα για στο πιο αφού παράδοσης, σε αυτήν την περίπτωση, θα σας καταργηθεί η καταχώρηση σφάλματος από τη βάση δεδομένων και, στη συνέχεια, προσπαθήστε ξανά να ειδοποίηση παράδοσης για τα υπόλοιπα από τις συσκευές σε αυτήν τη δέσμη.

Μπορείτε να λάβετε πληροφορίες σφαλμάτων για την προσπάθεια παράδοσης απέτυχε σε σχέση με μια καταχώρηση χρησιμοποιώντας τα Azure ειδοποίηση διανομείς REST API: [ανά μήνυμα Τηλεμετρίας: λάβετε ειδοποίηση μηνύματος Τηλεμετρίας](https://msdn.microsoft.com/library/azure/mt608135.aspx) και τα [Σχόλια Γραμματίων](https://msdn.microsoft.com/library/azure/mt705560.aspx). Ανατρέξτε στο θέμα [SendRESTExample](https://github.com/Azure/azure-notificationhubs-samples/tree/master/dotnet/SendRestExample) για παράδειγμα κώδικα.

##<a name="pns-issues"></a>Θέματα Προκαθ.

Αφού το μήνυμα ειδοποίησης έχει ληφθεί από το αντίστοιχο Γραμματίων, στη συνέχεια, είναι την ευθύνη για την παράδοση την ειδοποίηση στη συσκευή. Azure ειδοποίηση διανομείς είναι εκτός των εδώ στην εικόνα και έχει κανένα στοιχείο ελέγχου όταν ή αν η ειδοποίηση πρόκειται να παραδοθεί στη συσκευή. Επειδή οι υπηρεσίες ειδοποίηση πλατφόρμα είναι αρκετά ισχυρή, συνήθως ειδοποιήσεις για την επίτευξη των συσκευών σε μερικά δευτερόλεπτα από το Γραμματίων. Εάν το Γραμματίων ωστόσο επιτάχυνσης στη συνέχεια διανομείς ειδοποίηση Azure εφαρμόστε μια εκθετική πίσω απενεργοποίηση στρατηγικής και αν το Γραμματίων παραμένει μη προσβάσιμος επί 30 λεπτά, στη συνέχεια, έχουμε μια πολιτική σε θέση να λήξει και αποθέστε οριστικά αυτά τα μηνύματα. 

Εάν μια Γραμματίων προσπαθεί να κάνουν μια ειδοποίηση, αλλά η συσκευή είναι εκτός σύνδεσης, την ειδοποίηση αποθηκεύονται με το Γραμματίων για ένα περιορισμένο χρονικό διάστημα, και παραδόθηκε στη συσκευή όταν θα είναι διαθέσιμο. Μόνο ένα πρόσφατα ειδοποίησης για μια συγκεκριμένη εφαρμογή είναι αποθηκευμένο. Εάν ενώ η συσκευή είναι χωρίς σύνδεση στην οποία αποστέλλονται πολλές ειδοποιήσεις, κάθε ειδοποίηση για νέα έχει ως αποτέλεσμα την εκ των προτέρων κοινοποίηση θα χαθούν. Αυτή η συμπεριφορά της διατήρηση μόνο την πιο πρόσφατη ειδοποίηση αναφέρεται ως coalescing ειδοποιήσεις στην APNS και σύμπτυξη στο GCM (που χρησιμοποιεί έναν αριθμό-κλειδί σύμπτυξης). Εάν η συσκευή παραμένει εκτός σύνδεσης για μεγάλο χρονικό διάστημα, απορρίπτονται τις ειδοποιήσεις που αποθηκεύτηκαν για αυτήν. Προέλευση - [καθοδήγηση APNS] & [GCM καθοδήγηση]

Με το Azure ειδοποίηση διανομείς -, τότε μπορείτε να καταχωρήσετε έναν αριθμό-κλειδί coalescing μέσω μια κεφαλίδα HTTP χρησιμοποιώντας το γενικό `SendNotification` API (π.χ. για .NET SDK – `SendNotificationAsync`) που θα λαμβάνει επίσης κεφαλίδες HTTP, οι οποίες μεταβιβάζονται ως είναι να το αντίστοιχο Γραμματίων. 

##<a name="self-diagnose-tips"></a>Συμβουλές για αυτόματη διάγνωση

Εδώ θα σας θα εξετάζει τις διάφορες τρόποι για τη διάγνωση και root προκαλούν προβλήματα διανομέα ειδοποίηση:

###<a name="verify-credentials"></a>Επαλήθευση των διαπιστευτηρίων

1. **Πύλη για προγραμματιστές Προκαθ.**

    Επαληθεύστε τις στην αντίστοιχη Γραμματίων προγραμματιστής πύλη (APNS, GCM, WNS κ.λπ.) χρησιμοποιώντας μας [Γρήγορα αποτελέσματα προγράμματα εκμάθησης].

2. **Azure κλασική πύλη**

    Μεταβείτε στην καρτέλα ρύθμιση παραμέτρων να αναθεωρείτε και να ταιριάζουν με τα διαπιστευτήρια με αυτές που λαμβάνονται από την πύλη για προγραμματιστές Γραμματίων. 

    ![][4]

###<a name="verify-registrations"></a>Επαλήθευση καταχωρήσεων

1. **Visual Studio**

    Εάν χρησιμοποιείτε το Visual Studio για την ανάπτυξη, στη συνέχεια, μπορείτε να συνδεθείτε στο Microsoft Azure και προβολή και διαχείριση μια ομάδα από Azure υπηρεσίες όπως το διανομέα ειδοποιήσεις από την "Εξερεύνηση διακομιστών". Αυτό είναι κυρίως χρήσιμη για το περιβάλλον ανάπτυξης/έλεγχο. 

    ![][9]

    Μπορείτε να προβάλετε και να διαχειριστείτε όλες τις καταχωρήσεις από την ενότητα που κατηγοριοποιούνται όμορφα για την πλατφόρμα, εγγενών ή πρότυπο δήλωσης, όλες τις ετικέτες, Γραμματίων αναγνωριστικό, αναγνωριστικό δήλωσης και την ημερομηνία λήξης. Μπορείτε επίσης να επεξεργαστείτε μια καταχώρηση δυναμική - που είναι χρήσιμο Καλώς εάν θέλετε να επεξεργαστείτε οποιεσδήποτε ετικέτες. 

    ![][8]
 
    > [AZURE.NOTE] Visual Studio λειτουργίες επεξεργασίας καταχωρήσεων πρέπει να χρησιμοποιείται μόνο κατά τη διάρκεια της ανάπτυξης/δοκιμή με περιορισμένο αριθμό καταχωρήσεων. Εάν υπάρχουν προκύψει ανάγκη για να διορθώσετε τις καταχωρήσεις μαζικά, εξετάστε το ενδεχόμενο να χρησιμοποιείτε τη λειτουργικότητα δήλωσης εξαγωγή/εισαγωγή που περιγράφονται εδώ - [Εξαγωγή/εισαγωγή καταχωρήσεων] (https://msdn.microsoft.com/library/dn790624.aspx)

2. **Εξερεύνηση Bus υπηρεσίας**

    Πολλοί πελάτες Χρησιμοποιήστε ServiceBus explorer που περιγράφονται εδώ - [ServiceBus Explorer] για την προβολή και διαχείριση διανομέα τους ειδοποίησης. Είναι διαθέσιμα από code.microsoft.com - [ServiceBus Explorer κώδικα] έργο Άνοιγμα αρχείου προέλευσης

###<a name="verify-message-notifications"></a>Επαλήθευση ειδοποιήσεις μηνυμάτων

1. **Azure κλασική πύλη**

    Μπορείτε να μεταβείτε στην καρτέλα "Εντοπισμός σφαλμάτων" για την αποστολή ειδοποιήσεων δοκιμή για τους πελάτες σας χωρίς να χρειάζεται οποιαδήποτε υπηρεσία υποστήριξης προς τα επάνω και την εκτέλεση. 

    ![][7]

2. **Visual Studio**

    Μπορείτε επίσης να στείλετε ειδοποιήσεις δοκιμής από το comforts του Visual Studio:

    ![][10]

    Μπορείτε να διαβάσετε περισσότερα για τη λειτουργικότητα explorer Visual Studio ειδοποίηση διανομέα Azure εδώ - 
    
    - [Επισκόπηση της Εξερεύνησης και στο διακομιστή]
    - [Δημοσίευση ιστολογίου Explorer διακομιστή και στο - 1]
    - [Δημοσίευση ιστολογίου Explorer διακομιστή και στο - 2]

###<a name="debug-failed-notifications-review-notification-outcome"></a>Εντοπισμός σφαλμάτων ειδοποιήσεων αποτυχίας / αναθεώρηση αποτέλεσμα ειδοποίησης

**Ιδιότητα EnableTestSend**

Όταν στέλνετε μια ειδοποίηση μέσω διανομείς ειδοποίηση, αρχικά το απλώς λαμβάνει στην ουρά προς τα επάνω για NH για να κάνετε επεξεργασία για να υπολογίσετε όλων των προορισμών το και το, στη συνέχεια, τελικά NH αποστέλλει το Γραμματίων. Αυτό σημαίνει ότι όταν χρησιμοποιείτε REST API ή σε οποιαδήποτε από το πρόγραμμα-πελάτη SDK, την επιτυχή επιστροφή της κλήσης αποστολή μόνο σημαίνει ότι το μήνυμα έχει έχουν με επιτυχία στην ουρά με ειδοποίηση διανομέα. Δεν σας προσφέρει μια πληροφορίες για τι συνέβη όταν NH τελικά στη διάθεσή σας για να στείλετε το μήνυμα σε Γραμματίων. Εάν δεν παραδίδονται την ειδοποίηση στο τη συσκευή-πελάτη, υπάρχει πιθανότητα ότι όταν NH προσπαθήσατε να παράδοση του μηνύματος σε Γραμματίων, Παρουσιάστηκε σφάλμα π.χ., το μέγεθος φορτίο υπερβεί το μέγιστο επιτρεπόμενο από το Γραμματίων ή τα διαπιστευτήρια που έχει ρυθμιστεί στο NH δεν είναι έγκυρη κ.λπ. Για να λάβετε μια πληροφορίες για τα σφάλματα Γραμματίων, θα σας να εισαχθεί μια ιδιότητα που ονομάζεται [EnableTestSend δυνατότητα]. Η ιδιότητα ενεργοποιείται αυτόματα όταν στέλνετε μηνύματα δοκιμής από την πύλη ή το Visual Studio προγράμματος-πελάτη και, συνεπώς, σας επιτρέπει να δείτε λεπτομερείς πληροφορίες εντοπισμού σφαλμάτων. Μπορείτε να χρησιμοποιήσετε αυτό μέσω APIs έχοντας ως παράδειγμα το .NET SDK όπου είναι διαθέσιμο τώρα και θα προστεθεί όλα SDK προγράμματος-πελάτη τελικά. Για να χρησιμοποιήσετε αυτή την κλήση ΥΠΌΛΟΙΠΑ, απλώς Προσάρτηση συμβολοσειρά ερωτήματος παραμέτρου που ονομάζεται "Έλεγχος" στο τέλος της κλήσης σας αποστολή π.χ. 

    https://mynamespace.servicebus.windows.net/mynotificationhub/messages?api-version=2013-10&test

*Παράδειγμα (.NET SDK)*
 
Ας υποθέσουμε ότι χρησιμοποιείτε το .NET SDK για να στείλετε μια εγγενή αναδυόμενη ειδοποίηση:

    NotificationHubClient hub = NotificationHubClient.CreateClientFromConnectionString(connString, hubName);
    var result = await hub.SendWindowsNativeNotificationAsync(toast);
    Console.WriteLine(result.State);
 
`result.State`θα απλώς κατάστασης `Enqueued` στο τέλος της εκτέλεσης χωρίς τις πληροφορίες για τι απέγινε το push. Τώρα μπορείτε να χρησιμοποιήσετε το `EnableTestSend` δυαδική ιδιότητα κατά την προετοιμασία του `NotificationHubClient` και να λάβετε λεπτομερή κατάσταση σχετικά με τα σφάλματα Γραμματίων κατά την αποστολή την ειδοποίηση. Η κλήση αποστολή εδώ θα διαρκέσει επιπλέον για να επιστρέψετε επειδή αυτό επιστρέφει μόνο αφού NH έχει παραδίδονται την ειδοποίηση Γραμματίων για να προσδιορίσετε το αποτέλεσμα. 
 
    bool enableTestSend = true;
    NotificationHubClient hub = NotificationHubClient.CreateClientFromConnectionString(connString, hubName, enableTestSend);
    
    var outcome = await hub.SendWindowsNativeNotificationAsync(toast);
    Console.WriteLine(outcome.State);
    
    foreach (RegistrationResult result in outcome.Results)
    {
        Console.WriteLine(result.ApplicationPlatform + "\n" + result.RegistrationId + "\n" + result.Outcome);
    }

*Δείγμα εξόδου*

    DetailedStateAvailable
    windows
    7619785862101227384-7840974832647865618-3
    The Token obtained from the Token Provider is wrong
 
Αυτό το μήνυμα υποδεικνύει είτε μη έγκυρα διαπιστευτήρια έχουν ρυθμιστεί στην ενότητα ειδοποίηση ή ένα θέμα με τις καταχωρήσεις στο διανομέα και θα ήταν τον κύκλο μαθημάτων του συνιστάται να διαγράψετε αυτήν την καταχώρηση και να αφήσετε το πρόγραμμα-πελάτη που δημιουργείτε ξανά πριν από την αποστολή του μηνύματος. 
 
> [AZURE.NOTE] Σημειώστε ότι είναι πολύ επιβραδύνει τη χρήση αυτής της ιδιότητας και επομένως, πρέπει να χρησιμοποιείτε μόνο αυτό στο περιβάλλον ανάπτυξης/έλεγχο με περιορισμένο σύνολο εγγραφών. Στείλουμε μόνο ειδοποιήσεις εντοπισμού σφαλμάτων σε 10 συσκευές. Έχουμε επίσης όριο επεξεργασίας αποστέλλει ο εντοπισμός σφαλμάτων 10 ανά λεπτό. 

###<a name="review-telemetry"></a>Αναθεώρηση τηλεμετρίας 

1. **Χρήση του Azure κλασική πύλη**

    Η πύλη σας δίνει τη δυνατότητα για να λάβετε μια γρήγορη επισκόπηση των όλη τη δραστηριότητα στο κέντρο σας ειδοποίηση. 
    
    ένα) από την καρτέλα "Πίνακας εργαλείων" μπορείτε να προβάλετε μια συγκεντρωτική προβολή τις καταχωρήσεις, ειδοποιήσεις καθώς και σφάλματα ανά πλατφόρμα. 
    
    ![][5]
    
    β) μπορείτε επίσης να προσθέσετε πολλές άλλες συγκεκριμένες μετρήσεις πλατφόρμας από την καρτέλα "Οθόνη" για να δούμε βαθύτερη ιδιαίτερα συγκεκριμένα σφάλματα Γραμματίων επιστρέφονται όταν NH προσπαθεί να στείλετε την ειδοποίηση για να το Γραμματίων. 
    
    ![][6]
    
    c) που θα πρέπει να ξεκινούν με αναθεώρηση τα **Εισερχόμενα μηνύματα**, **Λειτουργίες εγγραφής**, **Επιτυχής ειδοποιήσεις** και, στη συνέχεια, να ανά καρτέλα πλατφόρμας για να δείτε τα συγκεκριμένα σφάλματα Γραμματίων. 
    
    d) Εάν έχετε την ενότητα ειδοποίηση ρυθμιστεί σωστά με τις ρυθμίσεις ελέγχου ταυτότητας, στη συνέχεια, θα δείτε Γραμματίων σφάλμα ελέγχου ταυτότητας. Αυτή είναι μια καλή ένδειξη για να ελέγξετε τα διαπιστευτήρια Γραμματίων. 

2) **Πρόσβαση μέσω προγραμματισμού**

Περισσότερες λεπτομέρειες εδώ- 

- [Πρόσβαση μέσω προγραμματισμού Τηλεμετρίας]
- [Τηλεμετρίας Access μέσω APIs δείγματος] 

> [AZURE.NOTE] Διάφορες τηλεμετρίας που σχετίζονται με δυνατότητες όπως **Εξαγωγή/εισαγωγή καταχωρήσεων**, **Τηλεμετρίας Access μέσω APIs** κ.λπ είναι διαθέσιμες μόνο σε τυπική σειρά. Εάν προσπαθήσετε να χρησιμοποιήσετε αυτές τις δυνατότητες, εάν βρίσκεστε σε δωρεάν ή βασικού επιπέδου, στη συνέχεια, θα λάβετε το μήνυμα εξαίρεσης σε αυτό το εφέ κατά τη χρήση του SDK και ένα HTTP 403 (Απαγορεύεται) κατά τη χρήση τους απευθείας από τα ΥΠΌΛΟΙΠΑ API. Βεβαιωθείτε ότι έχετε μετακινήσει έως και τυπική σειρά μέσω Azure κλασική πύλη.  

<!-- IMAGES -->
[0]: ./media/notification-hubs-diagnosing/Architecture.png
[1]: ./media/notification-hubs-diagnosing/GCMConfigure.png
[2]: ./media/notification-hubs-diagnosing/GCMEnable.png
[3]: ./media/notification-hubs-diagnosing/GCMServerKey.png
[4]: ./media/notification-hubs-diagnosing/PortalConfigure.png
[5]: ./media/notification-hubs-diagnosing/PortalDashboard.png
[6]: ./media/notification-hubs-diagnosing/PortalMonitoring.png
[7]: ./media/notification-hubs-diagnosing/PortalTestNotification.png
[8]: ./media/notification-hubs-diagnosing/VSRegistrations.png
[9]: ./media/notification-hubs-diagnosing/VSServerExplorer.png
[10]: ./media/notification-hubs-diagnosing/VSTestNotification.png
 
<!-- LINKS -->
[Επισκόπηση διανομείς ειδοποίησης]: notification-hubs-push-notification-overview.md
[Γρήγορα αποτελέσματα προγράμματα εκμάθησης]: notification-hubs-windows-store-dotnet-get-started-wns-push-notification.md
[Καθοδήγηση προτύπου]: https://msdn.microsoft.com/library/dn530748.aspx 
[Καθοδήγηση APNS]: https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html#//apple_ref/doc/uid/TP40008194-CH100-SW4
[Καθοδήγηση GCM]: http://developer.android.com/google/gcm/adv.html
[Εξαγωγή/εισαγωγή καταχωρήσεων]: http://msdn.microsoft.com/library/dn790624.aspx
[Εξερεύνηση των ServiceBus]: http://msdn.microsoft.com/library/dn530751.aspx
[Εξερεύνηση ServiceBus κώδικα]: https://code.msdn.microsoft.com/windowsazure/Service-Bus-Explorer-f2abca5a
[Επισκόπηση της Εξερεύνησης και στο διακομιστή]: http://msdn.microsoft.com/library/windows/apps/xaml/dn792122.aspx 
[Δημοσίευση ιστολογίου Explorer διακομιστή και στο - 1]: http://azure.microsoft.com/blog/2014/04/09/deep-dive-visual-studio-2013-update-2-rc-and-azure-sdk-2-3/#NotificationHubs 
[Δημοσίευση ιστολογίου Explorer διακομιστή και στο - 2]: http://azure.microsoft.com/blog/2014/08/04/announcing-release-of-visual-studio-2013-update-3-and-azure-sdk-2-4/ 
[Η δυνατότητα EnableTestSend]: http://msdn.microsoft.com/library/microsoft.servicebus.notifications.notificationhubclient.enabletestsend.aspx
[Πρόσβαση μέσω προγραμματισμού Τηλεμετρίας]: http://msdn.microsoft.com/library/azure/dn458823.aspx
[Τηλεμετρίας Access μέσω APIs δείγματος]: https://github.com/Azure/azure-notificationhubs-samples/tree/master/FetchNHTelemetryInExcel

 