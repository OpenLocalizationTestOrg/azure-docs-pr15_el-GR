<properties
    pageTitle="Παραδείγματα ερωτημάτων Lucene για αναζήτηση Azure | Αναζήτηση Microsoft Azure"
    description="Σύνταξη ερωτήματος Lucene για αναζήτηση θολό, εγγύτητα αναζήτησης, ενίσχυση της ισχύος, κανονική έκφραση αναζήτησης και αναζήτηση με χαρακτήρες μπαλαντέρ."
    services="search"
    documentationCenter=""
    authors="LiamCa"
    manager="pablocas"
    editor=""
    tags="Lucene query analyzer syntax"
/>

<tags
    ms.service="search"
    ms.devlang="na"
    ms.workload="search"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.date="08/29/2016"
    ms.author="liamca"
/>

# <a name="lucene-query-syntax-examples-for-building-queries-in-azure-search"></a>Παραδείγματα σύνταξης ερωτήματος Lucene για τη δημιουργία ερωτημάτων στο πλαίσιο Αναζήτηση Azure

Όταν η κατασκευή ερωτήματα για αναζήτηση Azure, μπορείτε να χρησιμοποιήσετε την προεπιλεγμένη [σύνταξη απλού ερωτήματος](https://msdn.microsoft.com/library/azure/dn798920.aspx) ή το εναλλακτικό [Lucene ερωτήματος ανάλυσης στο πλαίσιο Αναζήτηση Azure](https://msdn.microsoft.com/library/azure/mt589323.aspx). Το πρόγραμμα ανάλυσης ερωτήματος Lucene υποστηρίζει πιο σύνθετες δομές, ερώτημα, όπως ερωτήματα πεδίο εμβέλεια, θολό αναζήτησης, εγγύτητα αναζήτησης, ενίσχυση της όρο και reqular έκφραση αναζήτησης.

Σε αυτό το άρθρο, μπορείτε να τα βήματα παραδείγματα που εμφανίζονται Lucene σύνταξη του ερωτήματος και τα αποτελέσματα σε παράθεση. Παραδείγματα εκτελεστεί σε ένα ευρετήριο αναζήτησης προ-φορτωμένου [JSFiddle](https://jsfiddle.net/), ένα πρόγραμμα επεξεργασίας online κώδικα για δοκιμών δέσμης ενεργειών και HTML. 

Κάντε δεξί κλικ στη τις διευθύνσεις URL παράδειγμα ερωτήματος για να ανοίξετε JSFiddle σε ένα ξεχωριστό παράθυρο προγράμματος περιήγησης.

> [AZURE.NOTE] Τα παρακάτω παραδείγματα αξιοποιήσετε ένα ευρετήριο αναζήτησης που αποτελείται από διαθέσιμα έργα που βασίζεται σε ένα σύνολο δεδομένων που παρέχεται από την πρωτοβουλία [Της πόλης στη Νέα Υόρκη OpenData](https://nycopendata.socrata.com/) . Αυτά τα δεδομένα δεν πρέπει να θεωρείται τρέχουσα ή ολοκλήρωσης. Το ευρετήριο είναι μια υπηρεσία φίλτρου που παρέχεται από τη Microsoft. Δεν χρειάζεται μια συνδρομή Azure ή Azure αναζήτησης για να δοκιμάσετε αυτά τα ερωτήματα.

## <a name="viewing-the-examples-in-this-article"></a>Προβολή τα παραδείγματα σε αυτό το άρθρο

Όλα τα παραδείγματα σε αυτό το άρθρο Καθορίστε την ανάλυση ερωτήματος Lucene μέσω της παραμέτρου**queryType** αναζήτησης. Κατά τη χρήση του προγράμματος ανάλυσης ερωτήματος Lucene από τον κωδικό, θα μπορείτε να καθορίσετε το **queryType** σε κάθε αίτηση.  Οι έγκυρες τιμές περιλαμβάνουν **απλή**|**πλήρους**, με **απλή** ως προεπιλεγμένη και **πλήρη** για την ανάλυση Lucene ερωτήματος. Για λεπτομέρειες σχετικά με τον καθορισμό παράμετροι ερωτήματος, ανατρέξτε στο θέμα [Αναζήτηση εγγράφων (Azure Search REST API της υπηρεσίας)](https://msdn.microsoft.com/library/azure/dn798927.aspx) .

**Παράδειγμα 1** --δεξιού κλικ το ακόλουθο ερώτημα τμήματος κώδικα για να το ανοίξετε σε μια νέα σελίδα του προγράμματος περιήγησης που φορτώνει JSFiddle και εκτελεί το ερώτημα:
- [& queryType = πλήρη & Αναζήτηση = *](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26searchFields=business_title%26$select=business_title%26queryType=full%26search=*)

Αυτό το ερώτημα επιστρέφει τα έγγραφα από το ευρετήριο εργασίες (φόρτωση σε μια υπηρεσία φίλτρου)

Στο νέο παράθυρο του προγράμματος περιήγησης, θα δείτε JavaScript προέλευσης και εξόδου HTML σε παράθεση. Η δέσμη ενεργειών αναφέρεται σε ένα ερώτημα, που παρέχεται από τις διευθύνσεις URL παράδειγμα σε αυτό το άρθρο. Για παράδειγμα, στο **παράδειγμα 1**, το υποκείμενο ερώτημα είναι ως εξής:

    http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26searchFields=business_title%26$select=business_title%26queryType=full%26search=*

Ειδοποίηση στο ερώτημα χρησιμοποιεί μια προκαθορισμένη ευρετήριο αναζήτησης Azure που ονομάζεται nycjobs. Η παράμετρος **searchFields** περιορίζει τα αποτελέσματα της αναζήτησης μόνο στο πεδίο Τίτλος επιχειρήσεις. Το **queryType** έχει οριστεί σε **πλήρη**, που καθοδηγεί Azure αναζήτησης για τη χρήση του προγράμματος ανάλυσης ερωτήματος Lucene για αυτό το ερώτημα.

### <a name="fielded-query-operation"></a>Η λειτουργία fielded ερωτήματος

Μπορείτε να τροποποιήσετε τα παραδείγματα σε αυτό το άρθρο, καθορίζοντας μια κατασκευή **fieldname:searchterm** για να ορίσετε μια λειτουργία fielded ερωτήματος, όπου το πεδίο είναι μία λέξη και τον όρο αναζήτησης είναι επίσης μία λέξη ή φράση, προαιρετικά με τελεστές Boolean. Ορισμένα παραδείγματα περιλαμβάνουν τα εξής:

- business_title:(senior NOT junior)
- κατάσταση: ("Νέα Υόρκη" και "Νέα Τζέρσεϊ")

Φροντίστε να τοποθετήσετε πολλαπλές συμβολοσειρές μέσα σε εισαγωγικά, εάν θέλετε δύο συμβολοσειρών προς αξιολόγηση ως μία οντότητα, όπως στο αυτήν την περίπτωση αναζήτηση για δύο ξεχωριστές πόλεις στο πεδίο θέση. Επίσης, βεβαιωθείτε ότι ο τελεστής είναι κεφαλαίο καθώς βλέπετε με δεν και AND.

Το πεδίο που καθορίζεται στο **fieldname:searchterm** πρέπει να είναι ένα πεδίο αναζήτησης. Για λεπτομέρειες σχετικά με πώς χρησιμοποιούνται τα χαρακτηριστικά ευρετηρίου στο πεδίο ορισμών, ανατρέξτε στο θέμα [Δημιουργία ευρετηρίου (Azure Search REST API της υπηρεσίας)](https://msdn.microsoft.com/library/azure/dn798941.aspx) .

## <a name="fuzzy-search"></a>Θολό αναζήτησης

Μια αναζήτηση θολό εντοπίζει συμφωνίες σε όρους που έχουν παρόμοια κατασκευή. Ανά [Lucene τεκμηρίωση](https://lucene.apache.org/core/4_10_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html), θολό αναζητήσεις βασίζονται σε [Απόσταση Damerau Levenshtein](https://en.wikipedia.org/wiki/Damerau%e2%80%93Levenshtein_distance).

Για να εκτελέσετε μια αναζήτηση θολό, χρησιμοποιήστε το περισπωμένη "~" σύμβολο στο τέλος της μίας λέξης με μια προαιρετική παράμετρος, μια τιμή μεταξύ του 0 και 2, που καθορίζει την απόσταση επεξεργασία. Για παράδειγμα, "μπλε ~" ή "μπλε ~ 1" θα επιστρέψει μπλε, μπλε και επικόλληση.

**Παράδειγμα 2** --δεξιού κλικ το παρακάτω τμήμα κώδικα ερωτήματος για να του δώσετε δοκιμή. Αυτό το ερώτημα αναζητά τίτλους επιχειρήσεις με το ανώτερων όρων στο τους, αλλά δεν νέους:

- [& queryType = πλήρη & Αναζήτηση = business_title:senior δεν νέους](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26$select=business_title%26queryType=full%26search=business_title:senior+NOT+junior)

## <a name="proximity-search"></a>Συνάφεια αναζήτησης

Αναζητήσεις εγγύτητα που χρησιμοποιούνται για να βρείτε τους όρους που βρίσκονται κοντά μεταξύ τους σε ένα έγγραφο. Εισαγάγετε μια περισπωμένη "~" σύμβολο στο τέλος της μια φράση ακολουθούμενο από τον αριθμό των λέξεων που δημιουργείτε στο όριο εγγύτητα. Για παράδειγμα, "ξενοδοχείο αεροδρόμιο" ~ 5 θα βρείτε το ξενοδοχείο τους όρους και αεροδρόμιο μέσα σε 5 λέξεις μεταξύ τους σε ένα έγγραφο.

**Παράδειγμα 3** --δεξιού κλικ το παρακάτω τμήμα κώδικα του ερωτήματος. Αυτό το ερώτημα πραγματοποιεί αναζήτηση για εργασίες με τη συσχέτιση όρων (όπου αυτό είναι λανθασμένη):

- [& queryType = πλήρη & Αναζήτηση = business_title:asosiate ~](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26$select=business_title%26queryType=full%26search=business_title:asosiate~)

**Παράδειγμα 4** --κάντε δεξί κλικ στο ερώτημα. Αναζήτηση για εργασίες με τον όρο "Εκπαιδευτική εκδρομή αναλυτής" όπου διαχωρίζεται κατά περισσότερων από μία λέξη:

- [& queryType = πλήρη & Αναζήτηση = business_title: "Εκπαιδευτική εκδρομή αναλυτής" ~ 1](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26$select=business_title%26queryType=full%26search=business_title:%22senior%20analyst%22~1)

**Παράδειγμα 5** --δοκιμάσω κατάργηση ξανά τις λέξεις μεταξύ ο όρος "Εκπαιδευτική εκδρομή αναλυτής".

- [& queryType = πλήρη & Αναζήτηση = business_title: "Εκπαιδευτική εκδρομή αναλυτής" ~ 0](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26$select=business_title%26queryType=full%26search=business_title:%22senior%20analyst%22~0)

## <a name="term-boosting"></a>Όρος Boosting

Ενίσχυση της όρο αναφέρεται σε κατάταξης ενός εγγράφου υψηλότερη εάν περιέχει τον όρο boosted, σε σχέση με τα έγγραφα που δεν περιέχουν τον όρο. Αυτό διαφέρει από βαθμολογίας προφίλ σε που βαθμολογίας προφίλ ενισχύσει ορισμένα πεδία, αντί να συγκεκριμένους όρους. Το παρακάτω παράδειγμα σάς βοηθά να απεικονίζουν τις διαφορές.

Εξετάστε το ενδεχόμενο βαθμολογίας προφίλ που ενισχύει αντιστοιχεί σε ένα συγκεκριμένο πεδίο, όπως στο παράδειγμα musicstoreindex **είδους** . Ενίσχυση της όρο μπορεί να χρησιμοποιηθεί για περαιτέρω ενισχύσει ορισμένες αναζήτησης όρους υψηλότερα από άλλους χρήστες. Για παράδειγμα, "Ροκ ^ 2 ηλεκτρονικών" θα ενισχύσει έγγραφα που περιέχουν τους όρους αναζήτησης στο πεδίο **είδους** υψηλότερα από άλλα πεδία με δυνατότητα αναζήτησης στο ευρετήριο. Επιπλέον, τα έγγραφα που περιέχουν τον όρο αναζήτησης "Ροκ" θα είναι υψηλότερη βαθμολογία από άλλα όρο αναζήτησης "ηλεκτρονικές" ως αποτέλεσμα την τιμή ενίσχυση όρων (2).

Για να ενισχύσει έναν όρο, χρησιμοποιήστε το δρομέα, "^", σύμβολο με συντελεστή ενίσχυση (αριθμός) στο τέλος του όρου που αναζητάτε. Όσο υψηλότερη στον παράγοντα ενίσχυση, η πιο συναφή τον όρο θα είναι σε σχέση με άλλους όρους αναζήτησης. Από προεπιλογή, το συντελεστή ενίσχυση είναι 1. Παρόλο που ο συντελεστής ενίσχυση πρέπει να είναι θετικό, μπορεί να είναι μικρότερο του 1 (για παράδειγμα, 0,2).

**Παράδειγμα 6** --κάντε δεξί κλικ στο ερώτημα. Αναζήτηση για εργασίες με τον όρο "υπολογιστή αναλυτής" όπου μπορούμε να δούμε ότι δεν υπάρχουν αποτελέσματα με τον υπολογιστή λέξεις και αναλυτής, αλλά οι εργασίες αναλυτής είναι στο επάνω μέρος των αποτελεσμάτων.

- [& queryType = πλήρη & Αναζήτηση = business_title:computer αναλυτή](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26$select=business_title%26queryType=full%26search=business_title:computer%5e2%20analyst)

**Παράδειγμα 7** --προσπαθήστε ξανά, αυτό ενίσχυση της ώρας τα αποτελέσματα με τον υπολογιστή όρων πάνω από τον αναλυτή όρων Εάν δεν υπάρχουν και τις δύο λέξεις.

- [& queryType = πλήρη & Αναζήτηση = business_title:computer ^ 2 αναλυτή](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26$select=business_title%26queryType=full%26search=business_title:computer%5e2%20analyst)

## <a name="regular-expression"></a>Κανονική έκφραση

Μια κανονική έκφραση αναζήτηση εντοπίζει μια αντιστοιχία με βάση το περιεχόμενο μεταξύ καθέτους "/", ως τεκμηρίωση στην [κλάση RegExp](http://lucene.apache.org/core/4_10_2/core/org/apache/lucene/util/automaton/RegExp.html).

**Παράδειγμα 8** --κάντε δεξί κλικ στο ερώτημα. Αναζήτηση για εργασίες με είτε ο όρος ανώτερων ή τρίτο έτος.

- `&queryType=full&$select=business_title&search=business_title:/(Sen|Jun)ior/`

Η διεύθυνση URL για αυτό το παράδειγμα δεν θα εμφανίζονται σωστά στη σελίδα. Ως λύση, αντιγράψτε τη διεύθυνση URL παρακάτω και επικολλήστε τη διεύθυνση URL του προγράμματος περιήγησης:    `http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26queryType=full%26$select=business_title%26search=business_title:/(Sen|Jun)ior/)`


## <a name="wildcard-search"></a>Αναζήτηση με χαρακτήρες μπαλαντέρ

Μπορείτε να χρησιμοποιήσετε γενικά αναγνωρίζεται σύνταξη για πολλαπλούς (\*) ή μονά (?) χαρακτήρων μπαλαντέρ αναζητήσεις. Σημείωση του προγράμματος ανάλυσης ερωτήματος Lucene υποστηρίζει τη χρήση αυτά τα σύμβολα με έναν όρο μόνο και όχι μια φράση.

**Παράδειγμα 9** --κάντε δεξί κλικ στο ερώτημα. Αναζήτηση για τις εργασίες που περιέχουν το πρόθεμα 'πρόγραμμα' που να περιλαμβάνει τίτλους επιχειρήσεις με τους όρους προγραμματισμού και προγραμματιστή σε αυτό.

- [& queryType = πλήρους & $select = business_title & αναζήτησης = business_title:prog*](http://fiddle.jshell.net/liamca/gkvfLe6s/1/?index=nycjobs&apikey=252044BE3886FE4A8E3BAA4F595114BB&query=api-version=2015-02-28-Preview%26queryType=full%26$select=business_title%26search=business_title:prog*)

Δεν μπορείτε να χρησιμοποιήσετε μια * ή; σύμβολο κατά τον πρώτο χαρακτήρα μιας αναζήτησης.


## <a name="next-steps"></a>Επόμενα βήματα

Προσπαθήστε να καθορίσετε την ανάλυση ερωτήματος Lucene στον κώδικά σας. Οι ακόλουθες συνδέσεις εξηγούν πώς μπορείτε να ρυθμίσετε ερωτήματα αναζήτησης για το .NET και το REST API. Οι συνδέσεις χρησιμοποιήσετε την προεπιλεγμένη σύνταξη απλή, θα χρειαστεί να εφαρμογή αυτών που μάθατε από αυτό το άρθρο για να καθορίσετε το **queryType**.

- [Υποβολή ερωτήματος του ευρετηρίου αναζήτησης Azure χρησιμοποιώντας το .NET SDK](search-query-dotnet.md)
- [Υποβολή ερωτήματος του ευρετηρίου αναζήτησης Azure χρησιμοποιώντας το REST API](search-query-rest-api.md)


 