<properties
    pageTitle="Δημιουργία ευρετηρίου αναζήτησης Azure χρησιμοποιώντας το REST API | Microsoft Azure | Υπηρεσία αναζήτησης φιλοξενούμενη cloud"
    description="Δημιουργήστε ένα ευρετήριο σε κώδικα, χρησιμοποιώντας το Azure αναζήτησης HTTP REST API."
    services="search"
    documentationCenter=""
    authors="ashmaka"
    manager="jhubbard"
    editor=""
    tags="azure-portal"/>

<tags
    ms.service="search"
    ms.devlang="rest-api"
    ms.workload="search"
    ms.topic="get-started-article"
    ms.tgt_pltfrm="na"
    ms.date="08/29/2016"
    ms.author="ashmaka"/>

# <a name="create-an-azure-search-index-using-the-rest-api"></a>Δημιουργία ευρετηρίου αναζήτησης Azure χρησιμοποιώντας το REST API
> [AZURE.SELECTOR]
- [Επισκόπηση](search-what-is-an-index.md)
- [Πύλη](search-create-index-portal.md)
- [.NET](search-create-index-dotnet.md)
- [ΥΠΌΛΟΙΠΟ](search-create-index-rest-api.md)


Σε αυτό το άρθρο θα σας καθοδηγήσει στη διαδικασία δημιουργίας Azure αναζήτηση [ευρετηρίου](https://msdn.microsoft.com/library/azure/dn798941.aspx) χρησιμοποιώντας το Azure Search REST API.

Πριν από την εκτέλεση αυτού του οδηγού και τη δημιουργία ευρετηρίου, θα πρέπει να έχετε ήδη [δημιουργήσει μια υπηρεσία αναζήτησης Azure](search-create-service-portal.md).

Για να δημιουργήσετε ένα ευρετήριο αναζήτησης Azure χρησιμοποιώντας το REST API, θα μπορείτε να εκδώσετε μια μεμονωμένη αίτηση HTTP POST τελικό σημείο διεύθυνση URL της υπηρεσίας αναζήτησης Azure σας. Ορισμός του ευρετηρίου θα περιέχονται στο σώμα της αίτησης ως μορφοποιηθεί σωστά JSON περιεχόμενο.


## <a name="i-identify-your-azure-search-services-admin-api-key"></a>Να. Προσδιορισμός κλειδιού api διαχείρισης της υπηρεσίας αναζήτησης Azure σας
Τώρα που έχουν παρασχεθεί μια υπηρεσία αναζήτησης Azure, μπορείτε να εκδώσετε αιτήσεις HTTP σε σχέση με το τελικό σημείο διεύθυνση URL της υπηρεσίας σας χρησιμοποιώντας το REST API. Ωστόσο, *Όλοι* API αιτήσεις πρέπει να περιλαμβάνουν το api-κλειδί που δημιουργήθηκε για την υπηρεσία αναζήτησης που παροχή της υπηρεσίας. Έχετε έναν έγκυρο αριθμό-κλειδί εμπιστευτεί, με βάση ανά αίτηση, μεταξύ της εφαρμογής που στέλνει την αίτηση και την υπηρεσία που χειρίζεται αυτό.

1. Για να βρείτε την υπηρεσία api-κλειδιά πρέπει να συνδεθείτε στην [Πύλη του Azure](https://portal.azure.com/)
2. Μεταβείτε στην υπηρεσία αναζήτησης Azure blade
3. Κάντε κλικ στο εικονίδιο "Πλήκτρα"

Υπηρεσία σας θα έχει *διαχείρισης* και τα *κλειδιά ερωτήματος*.

 - Σας κύριας και δευτερεύουσας *διαχείρισης κλειδιών* εκχώρηση πλήρη δικαιώματα για όλες τις λειτουργίες, συμπεριλαμβανομένης της δυνατότητας για να διαχειριστείτε την υπηρεσία, να δημιουργήσετε και να διαγράψετε τα ευρετήρια, οι δεικτοδότες και προελεύσεις δεδομένων. Υπάρχουν δύο κλειδιά, ώστε να μπορείτε να συνεχίσετε να χρησιμοποιείτε το δευτερεύον κλειδί Εάν αποφασίσετε να δημιουργήσετε ξανά το πρωτεύον κλειδί και το αντίστροφο.
 - Το *ερώτημα πλήκτρα* εκχωρήσετε πρόσβαση μόνο για ανάγνωση σε ευρετήρια και έγγραφα και διανέμονται συνήθως σε εφαρμογές προγράμματος-πελάτη που θεμάτων αιτήσεις αναζήτησης.

Για τους σκοπούς της δημιουργίας ευρετηρίου, μπορείτε να χρησιμοποιήσετε τον αριθμό-κλειδί πρωτεύον ή δευτερεύον διαχείρισης.

## <a name="ii-define-your-azure-search-index-using-well-formed-json"></a>II. Ορισμός του ευρετηρίου αναζήτησης Azure χρησιμοποιώντας JSON μορφοποιηθεί σωστά
Μια μεμονωμένη αίτηση HTTP POST στην υπηρεσία σας θα δημιουργήσει το ευρετήριο. Στο σώμα της αίτησής σας ΔΗΜΟΣΊΕΥΣΗ HTTP θα περιέχει ένα αντικείμενο JSON που ορίζει το ευρετήριο αναζήτησης Azure.

1. Η πρώτη ιδιότητα αυτού του αντικειμένου JSON είναι το όνομα του ευρετηρίου σας.
2. Η δεύτερη ιδιότητα αυτού του αντικειμένου JSON είναι ένας πίνακας JSON με το όνομα `fields` που περιέχει ένα ξεχωριστό αντικείμενο JSON για κάθε πεδίο του ευρετηρίου. Κάθε ένα από αυτά τα αντικείμενα JSON περιέχουν πολλά ζεύγη ονόματος/τιμής για κάθε μία από τις ιδιότητες του πεδίου όπως "όνομα", "Τύπος", κ.λπ.

Είναι σημαντικό να διατηρείτε αναζήτηση χρήστη εμπειρία και επιχειρηματικές ανάγκες σας υπόψη κατά τη σχεδίαση του ευρετηρίου όπως κάθε πεδίο πρέπει να έχει εκχωρηθεί η [σωστή χαρακτηριστικά](https://msdn.microsoft.com/library/azure/dn798941.aspx). Αυτά τα χαρακτηριστικά ελέγχετε τα αναζήτηση δυνατότητες (φιλτράρισμα, faceting, ταξινόμηση αναζήτησης πλήρους κειμένου, κ.λπ.) που ισχύουν για τα πεδία. Για οποιοδήποτε χαρακτηριστικό δεν καθορίσετε, η προεπιλογή θα είναι για να ενεργοποιήσετε την αντίστοιχη δυνατότητα αναζήτησης, εκτός εάν απενεργοποιήσετε συγκεκριμένα.

Για παράδειγμά μας, θα σας έχετε με το όνομα ευρετήριό μας "ξενοδοχεία" και να ορίσει τα πεδία ως εξής:

```JSON
{
    "name": "hotels",  
    "fields": [
        {"name": "hotelId", "type": "Edm.String", "key": true, "searchable": false, "sortable": false, "facetable": false},
        {"name": "baseRate", "type": "Edm.Double"},
        {"name": "description", "type": "Edm.String", "filterable": false, "sortable": false, "facetable": false},
        {"name": "description_fr", "type": "Edm.String", "filterable": false, "sortable": false, "facetable": false, "analyzer": "fr.lucene"},
        {"name": "hotelName", "type": "Edm.String", "facetable": false},
        {"name": "category", "type": "Edm.String"},
        {"name": "tags", "type": "Collection(Edm.String)"},
        {"name": "parkingIncluded", "type": "Edm.Boolean", "sortable": false},
        {"name": "smokingAllowed", "type": "Edm.Boolean", "sortable": false},
        {"name": "lastRenovationDate", "type": "Edm.DateTimeOffset"},
        {"name": "rating", "type": "Edm.Int32"},
        {"name": "location", "type": "Edm.GeographyPoint"}
    ]
}
```

Θα σας έχει επιλέξει προσεκτικά τα χαρακτηριστικά ευρετηρίου για κάθε πεδίο που βασίζονται σε πώς θα σας πιστεύετε ότι θα χρησιμοποιηθεί σε μια εφαρμογή του. Για παράδειγμα, `hotelId` είναι ένα μοναδικό κλειδί που οι χρήστες αναζήτηση δεν θα γνωρίζουν ξενοδοχεία πιθανότατα, ώστε να απενεργοποιήσουμε αναζήτησης πλήρους κειμένου για αυτό το πεδίο με τη ρύθμιση `searchable` σε `false`, που αποθηκεύει χώρο στο ευρετήριο.

Σημείωση που ακριβώς ένα πεδίο του ευρετηρίου του τύπου `Edm.String` πρέπει να έχει καθοριστεί ως πεδίο 'κλειδί'.

Ο ορισμός ευρετηρίου παραπάνω χρησιμοποιεί έναν αναλυτή προσαρμοσμένης γλώσσας για τα `description_fr` πεδίου επειδή πρόκειται να αποθηκεύσετε το κείμενο στα γαλλικά. Δείτε [τη γλώσσα που υποστηρίζει το θέμα στο MSDN](https://msdn.microsoft.com/library/azure/dn879793.aspx) , καθώς και το αντίστοιχο [ιστολογίου](https://azure.microsoft.com/blog/language-support-in-azure-search/) για περισσότερες πληροφορίες σχετικά με τη γλώσσα αναλυτές.

## <a name="iii-issue-the-http-request"></a>III. Η αίτηση HTTP θεμάτων
1. Χρησιμοποιώντας τον ορισμό ευρετηρίου ως σώμα της αίτησης, χορηγεί μια αίτηση HTTP POST διεύθυνσης URL τελικού σημείου υπηρεσίας αναζήτησης Azure. Στη διεύθυνση URL, φροντίστε να χρησιμοποιήσετε το όνομα της υπηρεσίας ως το όνομα κεντρικού υπολογιστή, και να τοποθετήσετε τη σωστή `api-version` ως παραμέτρου συμβολοσειράς ερωτήματος (η τρέχουσα έκδοση API είναι `2015-02-28` τη στιγμή της δημοσίευσης αυτού του εγγράφου).
2. Στις κεφαλίδες αίτησης, καθορίστε το `Content-Type` ως `application/json`. Θα πρέπει επίσης να καταχωρήσετε την υπηρεσία διαχείρισης αριθμό-κλειδί που εντοπίσατε στο βήμα I στο το `api-key` κεφαλίδα.


Θα πρέπει να παρέχουν τη δική σας υπηρεσία όνομα και api του αριθμού-κλειδιού για την έκδοση της αίτησης παρακάτω:


    POST https://[service name].search.windows.net/indexes?api-version=2015-02-28
    Content-Type: application/json
    api-key: [api-key]


Για μια αίτηση επιτυχής, θα πρέπει να εμφανιστεί ο κωδικός κατάστασης 201 (δημιουργία). Για περισσότερες πληροφορίες σχετικά με τη δημιουργία ευρετηρίου μέσω του REST API, επισκεφθείτε την αναφορά API στο [MSDN](https://msdn.microsoft.com/library/azure/dn798941.aspx). Για περισσότερες πληροφορίες σχετικά με άλλους κωδικούς κατάστασης HTTP που μπορεί να επιστραφεί σε περίπτωση αποτυχίας, ανατρέξτε στο θέμα [κωδικοί κατάστασης HTTP (Azure αναζήτηση)](https://msdn.microsoft.com/library/azure/dn798925.aspx).

Όταν ολοκληρώσετε την εργασία με ένα ευρετήριο και θέλετε να τη διαγράψετε, θεμάτων απλώς μια αίτηση HTTP ΔΙΑΓΡΑΦΉ. Για παράδειγμα, αυτό είναι πώς θα σας να διαγράψετε το ευρετήριο "ξενοδοχεία":

    DELETE https://[service name].search.windows.net/indexes/hotels?api-version=2015-02-28
    api-key: [api-key]


## <a name="next"></a>Επόμενο
Αφού δημιουργήσετε ένα ευρετήριο αναζήτησης Azure, θα είστε έτοιμοι να [στείλετε το περιεχόμενο στο ευρετήριο](search-what-is-data-import.md) , ώστε να μπορείτε να ξεκινήσετε την αναζήτηση των δεδομένων σας.
