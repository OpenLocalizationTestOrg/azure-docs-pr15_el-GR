<properties
pageTitle="Χώρος αποθήκευσης πινάκων του Azure Azure αναζήτηση ευρετηρίου"
description="Μάθετε πώς μπορείτε να δημιουργήσετε ευρετήριο δεδομένα που είναι αποθηκευμένα σε πίνακες Azure με αναζήτηση Azure"
services="search"
documentationCenter=""
authors="chaosrealm"
manager="pablocas"
editor="" />

<tags
ms.service="search"
ms.devlang="rest-api"
ms.workload="search" ms.topic="article"  
ms.tgt_pltfrm="na"
ms.date="08/16/2016"
ms.author="eugenesh" />

# <a name="indexing-azure-table-storage-with-azure-search"></a>Χώρος αποθήκευσης πινάκων του Azure Azure αναζήτηση ευρετηρίου

Σε αυτό το άρθρο δείχνει πώς μπορείτε να χρησιμοποιήσετε την αναζήτηση Azure δημιουργία ευρετηρίου δεδομένων που είναι αποθηκευμένα στο χώρο αποθήκευσης πινάκων του Azure. Το νέο ευρετήριο πίνακα αναζήτησης Azure κάνει αυτήν τη διαδικασία γρήγορης και απρόσκοπτη. 

> [AZURE.IMPORTANT] Προς το παρόν αυτή η λειτουργία είναι σε προεπισκόπηση. Είναι διαθέσιμη μόνο στα το REST API χρησιμοποιώντας την έκδοση **2015-02-28-προεπισκόπηση** και στην έκδοση 2.0-προεπισκόπηση του .NET SDK. Πρέπει να θυμάστε, προεπισκόπηση API προορίζονται για τον έλεγχο και αξιολόγησης και δεν πρέπει να χρησιμοποιούνται σε περιβάλλοντα παραγωγής.

## <a name="setting-up-azure-table-indexing"></a>Για τη ρύθμιση του ευρετηρίου πινάκων του Azure

Για να ρυθμίσετε και να ρυθμίσετε τις παραμέτρους ενός ευρετηρίου Azure πίνακα, μπορείτε να χρησιμοποιήσετε το Azure Search REST API για να δημιουργήσετε και να διαχειριστείτε **Οι δεικτοδότες** και **προελεύσεις δεδομένων** , όπως περιγράφεται στο [ευρετήριο λειτουργίες](https://msdn.microsoft.com/library/azure/dn946891.aspx). Μπορείτε επίσης να χρησιμοποιήσετε [την έκδοση 2.0-προεπισκόπηση](https://msdn.microsoft.com/library/mt761536%28v=azure.103%29.aspx) του .NET SDK. Στο μέλλον, η υποστήριξη για τη δημιουργία ευρετηρίου πίνακα θα προστεθεί στην πύλη του Azure.

Προέλευση δεδομένων καθορίζει των δεδομένων που θα δημιουργήσετε ευρετήριο, διαπιστευτήρια που απαιτείται για την πρόσβαση σε δεδομένα και πολιτικές με δυνατότητα αναζήτησης Azure για αποτελεσματική τον προσδιορισμό των αλλαγών στα δεδομένα (δημιουργία, τροποποίηση ή διαγραφή γραμμών).

Ένα ευρετήριο διαβάζει δεδομένα από μια προέλευση δεδομένων και φορτώνει την σε ένα ευρετήριο αναζήτησης προορισμού.

Για να ρυθμίσετε τη δημιουργία ευρετηρίου πίνακα:

1. Δημιουργία προέλευσης δεδομένων
    - Ορίστε το `type` παράμετρος`azuretable`
    - Μεταβίβαση στη συμβολοσειρά σύνδεσης λογαριασμού χώρου αποθήκευσης ως το `credentials.connectionString` παραμέτρου
    - Καθορίστε το όνομα του πίνακα χρησιμοποιώντας το `container.name` παραμέτρου
    - Προαιρετικά, καθορίστε ένα ερώτημα χρησιμοποιώντας το `container.query` παραμέτρου. Όταν είναι δυνατόν, χρησιμοποιήστε ένα φίλτρο σε PartitionKey για καλύτερες επιδόσεις; οποιοδήποτε άλλο ερώτημα θα έχει ως αποτέλεσμα μια σάρωση πλήρους πίνακα, γεγονός το οποίο μπορεί να προκαλεί κακή απόδοση για μεγάλους πίνακες.
2. Δημιουργία ευρετηρίου αναζήτησης με το σχήμα που αντιστοιχεί στις στήλες του πίνακα που θέλετε να συμπεριλάβετε στο ευρετήριο. 
3. Δημιουργήστε το ευρετήριο με σύνδεση στο αρχείο προέλευσης δεδομένων για το ευρετήριο αναζήτησης.

### <a name="create-data-source"></a>Δημιουργία προέλευσης δεδομένων

    POST https://[service name].search.windows.net/datasources?api-version=2015-02-28-Preview
    Content-Type: application/json
    api-key: [admin key]

    {
        "name" : "table-datasource",
        "type" : "azuretable",
        "credentials" : { "connectionString" : "<my storage connection string>" },
        "container" : { "name" : "my-table", "query" : "PartitionKey eq '123'" }
    }   

Για περισσότερες πληροφορίες σχετικά με το API του Δημιουργία προέλευσης δεδομένων, ανατρέξτε στο θέμα [Δημιουργία προέλευσης δεδομένων](search-api-indexers-2015-02-28-preview.md#create-data-source).

### <a name="create-index"></a>Δημιουργία ευρετηρίου 

    POST https://[service name].search.windows.net/indexes?api-version=2015-02-28
    Content-Type: application/json
    api-key: [admin key]

    {
        "name" : "my-target-index",
        "fields": [
            { "name": "key", "type": "Edm.String", "key": true, "searchable": false },
            { "name": "SomeColumnInMyTable", "type": "Edm.String", "searchable": true }
        ]
    }

Για περισσότερες πληροφορίες σχετικά με το API ευρετηρίου δημιουργία, ανατρέξτε στο θέμα [Δημιουργία ευρετηρίου](https://msdn.microsoft.com/library/dn798941.aspx)

### <a name="create-indexer"></a>Δημιουργία ευρετηρίου 

Τέλος, δημιουργήστε το ευρετήριο που αναφέρεται στην προέλευση δεδομένων και το ευρετήριο προορισμού. Για παράδειγμα:

    POST https://[service name].search.windows.net/indexers?api-version=2015-02-28-Preview
    Content-Type: application/json
    api-key: [admin key]

    {
      "name" : "table-indexer",
      "dataSourceName" : "table-datasource",
      "targetIndexName" : "my-target-index",
      "schedule" : { "interval" : "PT2H" }
    }

Για περισσότερες λεπτομέρειες σχετικά με το API ευρετηρίου δημιουργία, ανατρέξτε στο θέμα [Δημιουργία ευρετηρίου](search-api-indexers-2015-02-28-preview.md#create-indexer).

Που είναι όλα υπάρχει σε αυτήν - ικανοποιημένοι ευρετηρίου!

## <a name="dealing-with-different-field-names"></a>Χειρισμός ονόματα διαφορετικό πεδίο

Συχνά, τα ονόματα των πεδίων του υπάρχοντος ευρετηρίου θα είναι διαφορετικές από τα ονόματα των ιδιοτήτων στον πίνακά σας. Μπορείτε να χρησιμοποιήσετε **αντιστοιχίσεις πεδίων** για να αντιστοιχίσετε τα ονόματα των ιδιοτήτων από τον πίνακα για να τα ονόματα των πεδίων του ευρετηρίου αναζήτησης. Για να μάθετε περισσότερα σχετικά με τις αντιστοιχίσεις πεδίων, ανατρέξτε στο θέμα [αντιστοιχίσεις πεδίων ευρετήριο αναζήτησης Azure φέρουμε κοντά τις διαφορές μεταξύ των προελεύσεων δεδομένων και των ευρετηρίων αναζήτησης](search-indexer-field-mappings.md).

## <a name="handling-document-keys"></a>Χειρισμός πλήκτρα εγγράφου

Στο πλαίσιο Αναζήτηση Azure, τον αριθμό-κλειδί εγγράφου προσδιορίζει με μοναδικό τρόπο ενός εγγράφου. Κάθε ευρετήριο αναζήτησης πρέπει να έχει ακριβώς ένα πεδίο κλειδιού του τύπου `Edm.String`. Το πεδίο κλειδιού είναι απαραίτητη για κάθε έγγραφο που προστίθεται στο ευρετήριο (στην πραγματικότητα, είναι το μόνο απαιτούμενο πεδίο).

Επειδή οι γραμμές πίνακα που έχει ένα σύνθετο κλειδί, αναζήτηση Azure δημιουργεί ένα πεδίο σύνθετων που ονομάζεται `Key` που είναι μια συνένωση partition κλειδί και γραμμή βασικές τιμές. Για παράδειγμα, εάν μια γραμμή ενός PartitionKey είναι `PK1` και RowKey είναι `RK1`, στη συνέχεια, `Key` θα είναι η τιμή του πεδίου `PK1RK1`. 

> [AZURE.NOTE] Το `Key` τιμή μπορεί να περιέχει χαρακτήρες που δεν είναι έγκυρα στο έγγραφο κλειδιά, όπως παύλες. Μπορείτε να ασχοληθείτε με μη έγκυρους χαρακτήρες, χρησιμοποιώντας το `base64Encode` [συνάρτηση αντιστοίχισης πεδίων](search-indexer-field-mappings.md#base64EncodeFunction). Εάν το κάνετε αυτό, θυμηθείτε να χρησιμοποιήσετε κωδικοποίηση URL ασφαλείς Base64 όταν διέρχεται πλήκτρα εγγράφου στο API καλεί όπως αναζήτησης.

## <a name="incremental-indexing-and-deletion-detection"></a>Τμηματική εντοπισμού δημιουργίας ευρετηρίου και διαγραφής
 
Όταν ρυθμίζετε ένα ευρετήριο πίνακα για να εκτελέσετε σε ένα χρονοδιάγραμμα, το reindexes μόνο νέο ή ενημερωμένο γραμμές, όπως καθορίζονται από μια γραμμή `Timestamp` τιμή. Δεν χρειάζεται να καθορίσετε μια πολιτική εντοπισμού αλλαγή-Επαυξητική δημιουργία ευρετηρίου είναι ενεργοποιημένη για εσάς αυτόματα. 

Για να υποδείξετε ότι ορισμένα έγγραφα πρέπει να καταργηθούν από το ευρετήριο, μπορείτε να χρησιμοποιήσετε μια στρατηγική απαλές διαγραφή – αντί για τη διαγραφή μιας γραμμής, προσθέστε μια ιδιότητα για να υποδείξει ότι έχει διαγραφεί και ορίστε μια πολιτική εντοπισμού απαλές διαγραφής στην προέλευση δεδομένων. Για παράδειγμα, την πολιτική που φαίνεται παρακάτω θα λάβετε υπόψη ότι έχει διαγραφεί μια γραμμή εάν έχει μια ιδιότητα `IsDeleted` με την τιμή `"true"`: 

    PUT https://[service name].search.windows.net/datasources?api-version=2015-02-28-Preview
    Content-Type: application/json
    api-key: [admin key]
    
    {
        "name" : "my-table-datasource",
        "type" : "azuretable",
        "credentials" : { "connectionString" : "<your storage connection string>" },
        "container" : { "name" : "table name", "query" : "query" },
        "dataDeletionDetectionPolicy" : { "@odata.type" : "#Microsoft.Azure.Search.SoftDeleteColumnDeletionDetectionPolicy", "softDeleteColumnName" : "IsDeleted", "softDeleteMarkerValue" : "true" }
    }   


## <a name="help-us-make-azure-search-better"></a>Βοηθήστε μας να βελτιώσουμε το Azure αναζήτησης

Εάν έχετε αιτήσεις για δυνατότητες ή ιδέες για βελτιώσεις, επικοινωνήστε επικοινωνία μας μας [UserVoice τοποθεσίας](https://feedback.azure.com/forums/263029-azure-search/).