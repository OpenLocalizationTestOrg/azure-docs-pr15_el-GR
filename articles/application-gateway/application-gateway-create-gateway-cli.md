<properties
   pageTitle="Δημιουργία μιας εφαρμογής πύλης χρησιμοποιώντας το Azure CLI στη Διαχείριση πόρων | Microsoft Azure"
   description="Μάθετε πώς μπορείτε να δημιουργήσετε μια πύλη εφαρμογής, χρησιμοποιώντας το Azure CLI στη Διαχείριση πόρων"
   services="application-gateway"
   documentationCenter="na"
   authors="georgewallace"
   manager="carmonm"
   editor=""
   tags="azure-resource-manager"
/>
<tags  
   ms.service="application-gateway"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="infrastructure-services"
   ms.date="10/25/2016"
   ms.author="gwallace" />

# <a name="create-an-application-gateway-by-using-the-azure-cli"></a>Δημιουργήστε μια πύλη εφαρμογής, χρησιμοποιώντας το CLI Azure

> [AZURE.SELECTOR]
- [Πύλη του Azure](application-gateway-create-gateway-portal.md)
- [Azure του PowerShell για τη διαχείριση πόρων](application-gateway-create-gateway-arm.md)
- [Azure κλασική PowerShell](application-gateway-create-gateway.md)
- [Azure προτύπου για τη διαχείριση πόρων](application-gateway-create-gateway-arm-template.md)
- [Azure CLI](application-gateway-create-gateway-cli.md)

Azure πύλη εφαρμογής είναι μια μονάδα εξισορρόπησης φόρτου επιπέδου-7. Παρέχει ανακατεύθυνση, δρομολόγησης επιδόσεων αιτήσεις HTTP ανάμεσα σε διαφορετικούς διακομιστές, είτε είναι στο cloud ή εσωτερικής εγκατάστασης. Πύλη εφαρμογής περιλαμβάνει τις ακόλουθες δυνατότητες παράδοσης εφαρμογής: HTTP φόρτωση εξισορρόπηση συσχέτισης βασίζεται σε cookie περιόδου λειτουργίας και μείωση φόρτου Secure Sockets Layer (SSL), καθετήρες προσαρμοσμένο εύρυθμης λειτουργίας και υποστήριξης για πολλούς τοποθεσίας.

## <a name="prerequisite-install-the-azure-cli"></a>Προϋπόθεση: Εγκαταστήστε το Azure CLI

Για να εκτελέσετε τα βήματα σε αυτό το άρθρο, πρέπει να [εγκαταστήσετε το περιβάλλον γραμμής εντολών Azure για Mac, Linux, και Windows (Azure CLI)](../xplat-cli-install.md) και πρέπει να [συνδεθείτε με Azure](../xplat-cli-connect.md). 

> [AZURE.NOTE] Εάν δεν έχετε λογαριασμό Azure, χρειάζεστε ένα. Μεταβείτε εισόδου για μια [δωρεάν δοκιμαστική έκδοση εδώ](../active-directory/sign-up-organization.md).

## <a name="scenario"></a>Σενάριο

Σε αυτό το σενάριο, θα μάθετε πώς μπορείτε να δημιουργήσετε μια πύλη εφαρμογής με την πύλη Azure.

Αυτό το σενάριο θα:

- Δημιουργήστε μια πύλη Μεσαίο εφαρμογής με δύο παρουσίες.
- Δημιουργήστε ένα εικονικό δίκτυο με το όνομα AdatumAppGatewayVNET με ένα δεσμευμένο μπλοκ CIDR 10.0.0.0/16.
- Δημιουργήστε ένα δευτερεύον που ονομάζεται Appgatewaysubnet που χρησιμοποιεί 10.0.0.0/28 ως το μπλοκ CIDR.
- Ρύθμιση παραμέτρων ενός πιστοποιητικού για μείωση φόρτου SSL.

![Παράδειγμα σεναρίου][scenario]

>[AZURE.NOTE] Πρόσθετες ρυθμίσεις παραμέτρων της πύλης εφαρμογής, συμπεριλαμβανομένων των προσαρμοσμένων εύρυθμης λειτουργίας probes, διευθύνσεις χώρου συγκέντρωσης παρασκηνίου επιπλέον κανόνες ρυθμίζονται και μετά τη ρύθμιση παραμέτρων της πύλης εφαρμογής και όχι κατά την αρχική ανάπτυξη.

## <a name="before-you-begin"></a>Πριν ξεκινήσετε

Azure πύλη εφαρμογής απαιτεί ξεχωριστή υποδικτύου. Κατά τη δημιουργία ενός εικονικού δικτύου, βεβαιωθείτε ότι έχετε αφήσει αρκετό χώρο διεύθυνση να έχει πολλά δευτερεύοντα δίκτυα. Αφού αναπτύξετε μια πύλη εφαρμογής με ένα δευτερεύον, πύλες μόνο πρόσθετα εφαρμογής είναι μπορούν να προστεθούν στο υποδίκτυο.

## <a name="log-in-to-azure"></a>Συνδεθείτε στο Azure

Ανοίξτε τη **γραμμή εντολών του Microsoft Azure**και συνδεθείτε. 

    azure login

Αφού πληκτρολογήσετε το προηγούμενο παράδειγμα, έναν κωδικό παρέχεται. Περιήγηση στο https://aka.ms/devicelogin σε ένα πρόγραμμα περιήγησης για να συνεχίσετε τη διαδικασία σύνδεσης.

![cmd που εμφανίζει τη συσκευή σύνδεσης][1]

Στο πρόγραμμα περιήγησης, πληκτρολογήστε τον κωδικό που λάβατε. Ανακατευθύνεστε σε μια σελίδα εισόδου.

![πρόγραμμα περιήγησης για να εισαγάγετε κωδικό][2]

Όταν ο κωδικός έχει καταχωρηθεί έχετε εισέλθει, κλείστε το πρόγραμμα περιήγησης για να, συνεχίστε με το σενάριο.

![είσοδος ολοκληρώθηκε με επιτυχία][3]

## <a name="switch-to-resource-manager-mode"></a>Μετάβαση σε κατάσταση λειτουργίας διαχειριστή πόρων

    azure config mode arm

## <a name="create-the-resource-group"></a>Δημιουργήστε την ομάδα των πόρων

Πριν από τη δημιουργία της πύλης εφαρμογής, ώστε να περιέχει την πύλη εφαρμογής δημιουργείται μια ομάδα πόρων. Η ακόλουθη εικόνα δείχνει την εντολή.

    azure group create -n AdatumAppGatewayRG -l eastus

## <a name="create-a-virtual-network"></a>Δημιουργήστε ένα εικονικό δίκτυο

Όταν δημιουργηθεί η ομάδα πόρων, ένα εικονικό δίκτυο δημιουργείται για την πύλη εφαρμογής.  Στο παρακάτω παράδειγμα, το χώρο διευθύνσεων ήταν ως 10.0.0.0/16 όπως καθορίζεται στις σημειώσεις προηγούμενο σενάριο.

    azure network vnet create -n AdatumAppGatewayVNET -a 10.0.0.0/16 -g AdatumAppGatewayRG -l eastus

## <a name="create-a-subnet"></a>Δημιουργήστε ένα υποδίκτυο

Αφού δημιουργηθεί το εικονικό δίκτυο, προστίθεται ένα υποδίκτυο για την πύλη εφαρμογής.  Εάν σκοπεύετε να χρησιμοποιήσετε πύλη εφαρμογής με μια εφαρμογή web που φιλοξενείται στο ίδιο δίκτυο εικονικού με την πύλη εφαρμογής, φροντίστε να Αφήστε αρκετό χώρο για μια άλλη υποδικτύου.

    azure network vnet subnet create -g AdatumAppGatewayRG -n Appgatewaysubnet -v AdatumAppGatewayVNET -a 10.0.0.0/28 

## <a name="create-the-application-gateway"></a>Δημιουργία της πύλης εφαρμογής

Αφού δημιουργηθεί το εικονικού δικτύου και το δευτερεύον, τα προαπαιτούμενα για την πύλη εφαρμογής έχουν ολοκληρωθεί. Επιπλέον ένα πιστοποιητικό προηγουμένως εξαγόμενο αρχείο .pfx και τον κωδικό πρόσβασης για το πιστοποιητικό που απαιτούνται για το παρακάτω βήμα: διευθύνσεις IP του που χρησιμοποιείται για υπολογιστή στο παρασκήνιο είναι οι διευθύνσεις IP για το διακομιστή παρασκηνίου. Αυτές οι τιμές μπορεί να είναι είτε ιδιωτικό διευθύνσεις IP του εικονικού δικτύου, δημόσια διευθύνσεις IP ή έγκυρα ονόματα τομέα για τους διακομιστές παρασκηνίου.

    azure network application-gateway create -n AdatumAppGateway -l eastus -g AdatumAppGatewayRG -e AdatumAppGatewayVNET -m Appgatewaysubnet -r 134.170.185.46,134.170.188.221,134.170.185.50 -y c:\AdatumAppGateway\adatumcert.pfx -x P@ssw0rd -z 2 -a Standard_Medium -w Basic -j 443 -f Enabled -o 80 -i http -b https -u Standard

> [AZURE.NOTE] Για μια λίστα των παραμέτρων που παρέχονται κατά τη δημιουργία, εκτελέστε την ακόλουθη εντολή: **Δημιουργία πύλη εφαρμογής azure δικτύου--Βοήθεια**.

Αυτό το παράδειγμα δημιουργεί μια πύλη βασικές εφαρμογής με τις προεπιλεγμένες ρυθμίσεις για το ακρόασης, χώρος συγκέντρωσης παρασκηνίου, ρυθμίσεις http παρασκηνίου και κανόνων. Ρυθμίζει επίσης τις μείωση φόρτου SSL. Μπορείτε να τροποποιήσετε αυτές τις ρυθμίσεις ώστε να ανταποκρίνονται ανάπτυξή σας μετά την προμήθεια είναι επιτυχής.
Εάν έχετε ήδη την εφαρμογή web σας με το χώρο συγκέντρωσης παρασκηνίου στα προηγούμενα βήματα, αφού δημιουργηθεί, εξισορρόπηση φόρτου ξεκινά.

## <a name="next-steps"></a>Επόμενα βήματα

Μάθετε πώς να δημιουργείτε καθετήρες εύρυθμη λειτουργία των προσαρμοσμένων μεταβαίνοντας [Δημιουργήστε μια δοκιμή του προσαρμοσμένου εύρυθμης λειτουργίας](application-gateway-create-probe-portal.md)

Μάθετε πώς μπορείτε να ρυθμίσετε τις παραμέτρους μείωση φόρτου SSL και διαρκέσει η κοστίζουν αποκρυπτογράφηση SSL απενεργοποίηση διακομιστές web με την επίσκεψή σας [Ρύθμιση παραμέτρων μείωση φόρτου SSL](application-gateway-ssl-arm.md)

<!--Image references-->

[scenario]: ./media/application-gateway-create-gateway-cli/scenario.png
[1]: ./media/application-gateway-create-gateway-cli/figure1.png
[2]: ./media/application-gateway-create-gateway-cli/figure2.png
[3]: ./media/application-gateway-create-gateway-cli/figure3.png