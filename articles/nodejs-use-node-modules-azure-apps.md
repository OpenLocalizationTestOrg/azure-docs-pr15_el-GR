<properties
    pageTitle="Εργασία με Node.js λειτουργικές μονάδες"
    description="Μάθετε πώς μπορείτε να εργαστείτε με λειτουργικές μονάδες Node.js κατά τη χρήση εφαρμογής υπηρεσίας Azure ή υπηρεσίες Cloud."
    services=""
    documentationCenter="nodejs"
    authors="rmcmurray"
    manager="wpickett"
    editor=""/>

<tags
    ms.service="multiple"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="nodejs"
    ms.topic="article"
    ms.date="08/11/2016"
    ms.author="robmcm"/>


# <a name="using-nodejs-modules-with-azure-applications"></a>Χρήση Node.js λειτουργικές μονάδες με εφαρμογές του Azure

Αυτό το έγγραφο παρέχει οδηγίες σχετικά με τη χρήση Node.js λειτουργικές μονάδες με τις εφαρμογές που φιλοξενούνται στο Azure. Παρέχει οδηγίες εξασφαλίζει ότι η εφαρμογή σας χρησιμοποιεί μια συγκεκριμένη έκδοση της λειτουργικής μονάδας, καθώς και με χρήση εγγενούς λειτουργικές μονάδες με Azure.

Εάν είστε ήδη εξοικειωμένοι με χρήση Node.js λειτουργικές μονάδες, αρχεία **package.json** και **npm shrinkwrap.json** , τα παρακάτω είναι μια γρήγορη σύνοψη των τι περιγράφεται σε αυτό το άρθρο:

* Azure εφαρμογής υπηρεσίας κατανοούν **package.json** και **npm shrinkwrap.json** αρχεία και να εγκαταστήσετε λειτουργικές μονάδες με βάση τις καταχωρήσεις σε αυτά τα αρχεία.
* Όλες οι λειτουργικές μονάδες να έχουν εγκατασταθεί στο περιβάλλον ανάπτυξης, περιμένετε Azure Cloud Services και το **κόμβος\_λειτουργικές μονάδες** καταλόγου που θα συμπεριληφθούν ως τμήμα του πακέτου ανάπτυξης. Είναι δυνατή η ενεργοποίηση της υποστήριξης για την εγκατάσταση του λειτουργικές μονάδες χρησιμοποιώντας **package.json** ή **npm shrinkwrap.json** αρχεία σε υπηρεσίες Cloud, ωστόσο, αυτή η ενέργεια απαιτεί προσαρμογής από τις προεπιλεγμένες δέσμες ενεργειών που χρησιμοποιούνται από μια υπηρεσία Cloud έργα. Για ένα παράδειγμα του τρόπου για να γίνει αυτό, ανατρέξτε στο θέμα [εργασία Azure εκκίνησης για την εκτέλεση npm εγκατάσταση για να αποφύγετε την ανάπτυξη κόμβου λειτουργικές μονάδες](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)

> [AZURE.NOTE] Azure εικονικές μηχανές δεν αναφέρονται σε αυτό το άρθρο, επειδή η εμπειρία ανάπτυξης σε μια Εικονική θα εξαρτάται από το λειτουργικό σύστημα που φιλοξενούνται από την εικονική μηχανή.

##<a name="nodejs-modules"></a>Λειτουργικές μονάδες node.js

Λειτουργικές μονάδες είναι φορτιζόμενους πακέτα JavaScript που παρέχουν συγκεκριμένα λειτουργικότητα για την εφαρμογή σας. Μια λειτουργική μονάδα συνήθως εγκαθίσταται χρησιμοποιώντας το εργαλείο γραμμής εντολών **npm** , ωστόσο, ορισμένες (όπως η λειτουργική μονάδα http) παρέχονται ως τμήμα του πακέτου Node.js πυρήνα.

Όταν είναι εγκατεστημένες λειτουργικές μονάδες, είναι αποθηκευμένα στο το **κόμβος\_λειτουργικές μονάδες** καταλόγου στον ριζικό κατάλογο της τη δομή του καταλόγου εφαρμογών σας. Κάθε λειτουργική μονάδα μέσα το **κόμβου\_λειτουργικές μονάδες** καταλόγου διατηρεί το δικό της **κόμβου\_λειτουργικές μονάδες** καταλόγου που περιέχει οποιαδήποτε λειτουργικές μονάδες που εξαρτάται και αυτό επαναλαμβάνει ξανά για κάθε λειτουργική μονάδα πλήρως προς τα κάτω την αλυσίδα εξάρτηση. Αυτό σας επιτρέπει σε κάθε λειτουργική μονάδα εγκατεστημένο να έχει το δικό της απαιτήσεων έκδοσης για τις λειτουργικές μονάδες εξαρτάται, ωστόσο μπορεί να οδηγήσει σε αρκετά μεγάλο καταλόγου δομή.

Κατά την ανάπτυξη του **κόμβου\_λειτουργικές μονάδες** καταλόγου ως μέρος της εφαρμογής σας, θα αυξήσει το μέγεθος της ανάπτυξης σε σύγκριση με τη χρήση του αρχείου **package.json** ή **npm shrinkwrap.json** ; Ωστόσο, το εγγυάται ότι η έκδοση του οι λειτουργικές μονάδες που χρησιμοποιούνται για την παραγωγή είναι η ίδια με αυτά που χρησιμοποιούνται στην ανάπτυξη.

###<a name="native-modules"></a>Εγγενής λειτουργικές μονάδες

Ενώ οι περισσότερες λειτουργικές μονάδες είναι αρχεία JavaScript απλώς απλού κειμένου, ορισμένες λειτουργικές μονάδες είναι συγκεκριμένης πλατφόρμας δυαδικές εικόνες. Αυτές οι λειτουργικές μονάδες μεταγλωττίζεται κατά την εγκατάσταση, συνήθως με τη χρήση Python και gyp κόμβο. Επειδή το Azure Cloud υπηρεσίες βασίζονται σε το **κόμβου\_λειτουργικές μονάδες** φάκελο αναπτύσσεται ως μέρος της εφαρμογής, κάθε εγγενούς λειτουργικής μονάδας περιλαμβάνονται ως μέρος του εγκατεστημένες λειτουργικές μονάδες πρέπει να λειτουργεί σε μια υπηρεσία cloud, με την προϋπόθεση ότι το έχει εγκατασταθεί και να μεταγλωττιστεί σε σύστημα ανάπτυξης των Windows.

Azure εφαρμογής υπηρεσίας δεν υποστηρίζει όλες τις εγγενείς λειτουργικές μονάδες και μπορεί να αποτύχει κατά τη μεταγλώττιση εκείνα που έχουν πολύ συγκεκριμένες προϋποθέσεις. Ενώ ορισμένες δημοφιλείς λειτουργικές μονάδες όπως MongoDB έχει προαιρετικό εγγενούς εξαρτήσεις και εργασίας μόλις λεπτομερές χωρίς τους, δύο λύσεις αποδείξει επιτυχής με σχεδόν όλες εγγενούς λειτουργικές μονάδες διαθέσιμοι σήμερα:

* Εκτελέστε την **εγκατάσταση του npm** σε υπολογιστή Windows που έχει εγκατασταθεί προϋποθέσεις όλα τα εγγενή της λειτουργικής μονάδας. Στη συνέχεια, αναπτύξτε τη που δημιουργήθηκε **κόμβου\_λειτουργικές μονάδες** φάκελο ως μέρος της εφαρμογής για να Azure εφαρμογής υπηρεσίας.
* Azure εφαρμογής υπηρεσίας μπορεί να ρυθμιστεί για την εκτέλεση προσαρμοσμένων πάρτι ή δεσμών ενεργειών κελύφους κατά την ανάπτυξη, δίνοντάς σας τη δυνατότητα να την εκτέλεση προσαρμοσμένων εντολών και επακριβώς ρύθμιση των παραμέτρων του τρόπο την **εγκατάσταση npm** εκτελείται. Για ένα βίντεο που δείχνει πώς να το κάνετε αυτό, ανατρέξτε στο θέμα [Προσαρμογή τοποθεσίας Web ανάπτυξης δέσμες ενεργειών με Kudu].

###<a name="using-a-packagejson-file"></a>Χρησιμοποιώντας ένα αρχείο package.json

Το αρχείο **package.json** είναι ένας τρόπος για να καθορίσετε τις εξαρτήσεις ανώτατου επιπέδου απαιτεί την εφαρμογή σας, έτσι ώστε να εγκαταστήσετε την πλατφόρμα φιλοξενίας τις εξαρτήσεις, αντί να χρειάζεται να συμπεριλάβετε το **κόμβου\_πακέτων** φακέλου ως τμήμα της ανάπτυξης. Μετά την ανάπτυξη της εφαρμογής, η εντολή **εγκατάσταση npm** χρησιμοποιείται για την ανάλυση του αρχείου **package.json** και εγκατάσταση όλων των εξαρτήσεων που παρατίθενται.

Κατά την ανάπτυξη, μπορείτε να χρησιμοποιήσετε το **--Αποθήκευση**, **--την αποθήκευση**, ή **--προαιρετικό αποθήκευση** κατά την εγκατάσταση του λειτουργικές μονάδες για να προσθέσετε μια εγγραφή για τη λειτουργική μονάδα στο αρχείο σας **package.json** αυτόματα τις παραμέτρους. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [npm της εγκατάστασης](https://docs.npmjs.com/cli/install).

Μία πιθανή πρόβλημα με το αρχείο **package.json** είναι ότι μόνο Καθορίζει την έκδοση για εξαρτήσεις ανώτατου επιπέδου. Εγκατεστημένη κάθε λειτουργική μονάδα μπορεί να ή δεν μπορεί να καθορίσετε την έκδοση των ενοτήτων εξαρτάται και έτσι είναι πιθανό ότι μπορεί να καταλήξετε με διαφορετικό εξάρτηση αλυσίδα από αυτήν που χρησιμοποιούνται στην ανάπτυξη.

> [AZURE.NOTE]
> Κατά την ανάπτυξη σε Azure εφαρμογής υπηρεσίας, εάν το αρχείο <b>package.json</b> αναφέρεται σε μια λειτουργική μονάδα εγγενούς εμφανίζεται παρόμοιο με το ακόλουθο σφάλμα κατά τη δημοσίευση της εφαρμογής χρησιμοποιώντας Git:

>       npm ERR! module-name@0.6.0 install: 'node-gyp configure build'

>       npm ERR! 'cmd "/c" "node-gyp configure build"' failed with 1


###<a name="using-a-npm-shrinkwrapjson-file"></a>Χρησιμοποιώντας ένα αρχείο npm shrinkwrap.json

Το αρχείο **npm-shrinkwrap.json** είναι η προσπάθεια διεύθυνση τους περιορισμούς λειτουργική μονάδα διαχείρισης εκδόσεων του αρχείου **package.json** . Ενώ το αρχείο **package.json** περιλαμβάνει μόνο εκδόσεις για τις λειτουργικές μονάδες ανώτατου επιπέδου, το αρχείο **npm shrinkwrap.json** περιέχει των απαιτήσεων έκδοσης για την πλήρη λειτουργική μονάδα αλυσίδα εξάρτηση.

Όταν είστε έτοιμοι για την παραγωγή την εφαρμογή σας, μπορείτε να κλειδώσετε-κάτω απαιτήσεων έκδοσης και δημιουργήστε ένα αρχείο **npm shrinkwrap.json** , χρησιμοποιώντας την εντολή **npm shrinkwrap** . Αυτό θα χρησιμοποιήσει τις εκδόσεις εγκαταστήσει αυτήν τη στιγμή το **κόμβου\_λειτουργικές μονάδες** φακέλου, και να καταγράψετε τα εξής στο αρχείο **npm shrinkwrap.json** . Μετά την ανάπτυξη της εφαρμογής για το περιβάλλον φιλοξενίας, η εντολή **εγκατάσταση npm** χρησιμοποιείται για την ανάλυση του αρχείου **npm shrinkwrap.json** και εγκατάσταση όλων των εξαρτήσεων που παρατίθενται. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [npm shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).

> [AZURE.NOTE]
>Κατά την ανάπτυξη σε Azure εφαρμογής υπηρεσίας, εάν το αρχείο <b>npm shrinkwrap.json</b> αναφέρεται σε μια λειτουργική μονάδα εγγενούς εμφανίζεται παρόμοιο με το ακόλουθο σφάλμα κατά τη δημοσίευση της εφαρμογής χρησιμοποιώντας Git:

>       npm ERR! module-name@0.6.0 install: 'node-gyp configure build'

>       npm ERR! 'cmd "/c" "node-gyp configure build"' failed with 1


##<a name="next-steps"></a>Επόμενα βήματα

Τώρα που γνωρίζετε τον τρόπο για να χρησιμοποιήσετε λειτουργικές μονάδες Node.js με Azure, μάθετε πώς μπορείτε να [καθορίσετε την έκδοση Node.js], [Δημιουργήστε και αναπτύξτε μια εφαρμογή web Node.js]και [πώς μπορείτε να χρησιμοποιήσετε το περιβάλλον γραμμής εντολών Azure για Mac και το Linux].

Για περισσότερες πληροφορίες, ανατρέξτε στο [Κέντρο για προγραμματιστές του Node.js](/develop/nodejs/).

[Καθορίστε την έκδοση Node.js]: nodejs-specify-node-version-azure-apps.md
[Πώς μπορείτε να χρησιμοποιήσετε το περιβάλλον γραμμής εντολών Azure για Mac και το Linux]: xplat-cli-install.md
[Δημιουργήστε και αναπτύξτε μια εφαρμογή web Node.js]: web-sites-nodejs-develop-deploy-mac.md
[Node.js Web Application with Storage on MongoDB (MongoLab)]: store-mongolab-web-sites-nodejs-store-data-mongodb.md
[Build and deploy a Node.js application to an Azure Cloud Service]: cloud-services-nodejs-develop-deploy-app.md
[Οι δέσμες ενεργειών ανάπτυξης Προσαρμογή τοποθεσίας Web με Kudu]: /documentation/videos/custom-web-site-deployment-scripts-with-kudu/
