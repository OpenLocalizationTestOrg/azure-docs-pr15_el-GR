<properties
    pageTitle="Ανάπτυξη της υπηρεσίας παροχής πόρων MySQL σε στοίβα Azure | Microsoft Azure"
    description="Λεπτομερείς οδηγίες για να αναπτύξετε την υπηρεσία παροχής του πόρου MySQL σε στοίβα Azure."
    services="azure-stack"
    documentationCenter=""
    authors="Dumagar"
    manager="byronr"
    editor=""/>

<tags
    ms.service="multiple"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/26/2016"
    ms.author="dumagar"/>


# <a name="deploy-the-mysql-resource-provider-on-azure-stack-to-use-with-webapps"></a>Ανάπτυξη της υπηρεσίας παροχής πόρων MySQL σε στοίβα Azure για χρήση με WebApps

> [AZURE.NOTE] Οι ακόλουθες πληροφορίες ισχύει μόνο για αναπτύξεις Azure στοίβα TP1.

Χρησιμοποιήστε αυτό το άρθρο για να ακολουθήσετε τα λεπτομερή βήματα για τη ρύθμιση του στην υπηρεσία παροχής πόρων MySQL στο αποδεικτικό Azure στοίβας λειτουργίας (POC) ώστε να μπορείτε να ξεκινήσετε να [χρησιμοποιείτε βάσεις δεδομένων MySQL](azure-stack-mysql-rp-deploy-short.md) στη στοίβα Azure, συμπεριλαμβανομένης της χρήσης MySQL ως υπόβαθρο για τις τοποθεσίες WordPress που δημιουργήθηκαν με [Azure Web Apps](azure-stack-webapps-deploy.md).

## <a name="set-up-steps-before-you-deploy"></a>Ρύθμιση βήματα πριν από την ανάπτυξη

Πριν να αναπτύξετε την υπηρεσία παροχής του πόρου, πρέπει να:

- Έχει μια προεπιλεγμένη εικόνα Windows Server με το .NET 3.5
- Απενεργοποιήστε την επιλογή Βελτιωμένη ασφάλεια του Internet Explorer (IE)
- Εγκαταστήστε την πιο πρόσφατη έκδοση του Azure PowerShell

### <a name="create-an-image-of-windows-server-including-net-35"></a>Δημιουργήστε μια εικόνα του Windows Server, συμπεριλαμβανομένων των .NET 3.5

Μπορείτε να παραλείψετε αυτό το βήμα εάν έχετε κάνει λήψη τα bit στοίβας Azure μετά 23/2/2016 επειδή η προεπιλεγμένη εικόνα Windows Server 2012 R2 base περιλαμβάνει .NET 3.5 framework σε αυτό, κάντε λήψη και νεότερες εκδόσεις.

Εάν έχετε κάνει λήψη πριν 23/2/2016, πρέπει να δημιουργήσετε έναν VHD κέντρου δεδομένων του Windows Server 2012 R2 με εικόνα .NET 3.5 και σύνολο είναι με την προεπιλεγμένη εικόνα στο αποθετήριο εικόνα πλατφόρμας.

### <a name="turn-off-ie-enhanced-security-and-enable-cookies"></a>Απενεργοποιήστε την επιλογή IE βελτιωμένη ασφάλεια και την ενεργοποίηση cookies

Για να αναπτύξετε μια υπηρεσία παροχής πόρων, εκτελείτε το περιβάλλον ενσωματωμένη δέσμες ενεργειών στο PowerShell (ISE) ως διαχειριστής, ώστε να πρέπει να επιτρέψετε cookies και JavaScript στο προφίλ του Internet Explorer που χρησιμοποιείτε για να συνδεθείτε Azure Active Directory για το διαχειριστή και χρηστών πρόσθετα εισόδου.

**Για να απενεργοποιήσετε IE βελτιωμένη ασφάλεια:**

1. Είσοδος στον υπολογιστή στοίβας Azure απόδειξη λειτουργίας (PoC) ως AzureStack/διαχειριστής και, στη συνέχεια, ανοίξτε τη Διαχείριση διακομιστή.

2. Απενεργοποιήστε την επιλογή **IE παραμέτρων ασφαλείας** για διαχειριστές και χρήστες.

3. Πραγματοποιήστε είσοδο στο η εικονική μηχανή **ClientVM.AzureStack.local** ως διαχειριστής και, στη συνέχεια, ανοίξτε τη Διαχείριση διακομιστή.

4. Απενεργοποιήστε την επιλογή **IE παραμέτρων ασφαλείας** για διαχειριστές και χρήστες.

**Για να ενεργοποιήσετε τα cookies:**

1. Στην οθόνη έναρξης των Windows, κάντε κλικ στην επιλογή **όλες οι εφαρμογές**, κάντε κλικ στην επιλογή **Βοηθήματα των Windows**, κάντε δεξί κλικ **Του Internet Explorer**, τοποθετήστε το δείκτη σε **περισσότερες**, και, στη συνέχεια, επιλέξτε **Εκτέλεση ως διαχειριστής**.

2. Εάν σας ζητηθεί, επιλέξτε **Χρήση προτεινόμενα ασφαλείας**και, στη συνέχεια, κάντε κλικ στο κουμπί **OK**.

3. Στον Internet Explorer, κάντε κλικ στην επιλογή τα **Εργαλεία (γρανάζι) εικονίδιο** &gt; **Επιλογές Internet** &gt; καρτέλα **προστασία προσωπικών δεδομένων** .

4. Κάντε κλικ στην επιλογή **για προχωρημένους**, βεβαιωθείτε ότι είναι επιλεγμένα και τα δύο κουμπιά **Αποδοχή** , κάντε κλικ στο κουμπί **OK**και, στη συνέχεια, κάντε ξανά κλικ στο κουμπί **OK** .

5. Κλείστε τον Internet Explorer και επανεκκινήστε το PowerShell ISE ως διαχειριστής.

### <a name="install-an-azure-stack-compatible-release-of-azure-powershell"></a>Εγκαταστήσετε μια έκδοση συμβατά Azure στοίβας του Azure PowerShell

1. Καταργήστε την εγκατάσταση τυχόν υπάρχουσες Azure PowerShell από το πρόγραμμα-πελάτη Εικονική.

2. Πραγματοποιήστε είσοδο στο υπολογιστή POC στοίβας Azure ως AzureStack/διαχειριστής.

3. Χρήση απομακρυσμένης επιφάνειας εργασίας, πραγματοποιήστε είσοδο στο η εικονική μηχανή **ClientVM.AzureStack.local** ως διαχειριστής.

4. Ανοίξτε τον πίνακα ελέγχου, κάντε κλικ στην επιλογή **Κατάργηση εγκατάστασης ενός προγράμματος** &gt; κάντε κλικ στην επιλογή **Azure PowerShell** &gt; κάντε κλικ στην επιλογή **Κατάργηση εγκατάστασης**.

5. [Λήψη την πιο πρόσφατη Azure PowerShell που υποστηρίζει στοίβας Azure](http://aka.ms/azstackpsh) και να την εγκαταστήσετε.

    Μετά την εγκατάσταση του PowerShell, μπορείτε να εκτελέσετε αυτή η επαλήθευση δέσμη ενεργειών του PowerShell για να βεβαιωθείτε ότι μπορείτε να συνδεθείτε στην περίοδο λειτουργίας του Azure στοίβας (θα πρέπει να εμφανίζεται μια ιστοσελίδα login).

## <a name="bootstrap-the-resource-provider-deployment-powershell"></a>Ανάπτυξη παροχής πόρων PowerShell εκκίνησης

1. Σύνδεση απομακρυσμένης επιφάνειας εργασίας POC στοίβας Azure με clientVm.AzureStack.Local και πραγματοποιήστε είσοδο ως azurestack\\azurestackuser.

2. [Λήψη τα δυαδικά αρχεία MySQL RP](http://aka.ms/masmysqlrp) αρχείο και να το εξαγάγετε σε δ:\\MySQLRP.

3. Εκτελέστε το δ:\\MySQLRP\\Bootstrap.cmd αρχείο ως διαχειριστής (azurestack\administrator).

    Έτσι ανοίγει το αρχείο Bootstrap.ps1 στο PowerShell ISE.

4. Όταν το windows PowerShell ISE ολοκληρώσει τη φόρτωση, κάντε κλικ στο κουμπί "Αναπαραγωγή" ή πατήστε το πλήκτρο F5.

    Θα φορτώσετε δύο κύριες καρτέλες, κάθε που περιέχει όλες τις δέσμες ενεργειών και τα αρχεία που θέλετε να αναπτύξετε την υπηρεσία παροχής πόρων MySQL.

## <a name="prepare-prerequisites"></a>Προετοιμασία τις προϋποθέσεις

Κάντε κλικ στην καρτέλα **Προετοιμασία τις προϋποθέσεις** για να:

- Δημιουργία απαιτούμενων πιστοποιητικών
- Λήψη MySQL δυαδικά δεδομένα σε στοίβα σας Azure
- Αποστολή αντικείμενα σε ένα λογαριασμό χώρου αποθήκευσης στη στοίβα Azure
- Δημοσίευση συλλογή στοιχείων

### <a name="create-the-required-certificates"></a>Δημιουργία απαιτούμενων πιστοποιητικών
Αυτή η δέσμη ενεργειών **Δημιουργία SslCert.ps1** προσθέτει το \_. Το πιστοποιητικό AzureStack.local.pfx SSL για να το δ:\\MySQLRP\\τις προϋποθέσεις\\BlobStorage\\φάκελο κοντέινερ. Το πιστοποιητικό διασφαλίζει επικοινωνία μεταξύ την υπηρεσία παροχής του πόρου και την τοπική παρουσία της διαχείρισης πόρων Azure.

1. Στην καρτέλα κύρια **Προετοιμασία τις προϋποθέσεις** , κάντε κλικ στην καρτέλα **Δημιουργία SslCert.ps1** και εκτελέστε το.

2. Στη γραμμή εντολών που εμφανίζεται, πληκτρολογήστε έναν κωδικό πρόσβασης PFX που προστατεύει το ιδιωτικό κλειδί και **Σημειώστε αυτόν τον κωδικό πρόσβασης**. Που θα το χρειαστείτε αργότερα.

### <a name="download-mysql-binaries-to-your-azure-stack"></a>Λήψη MySQL δυαδικά δεδομένα σε στοίβα σας Azure

1. Επιλέξτε την καρτέλα **MySqlServer.ps1 λήψης** και εκτελέστε το.
2. Όταν σας ζητηθεί, κάντε κλικ στο κουμπί **Ναι** στο παράθυρο διαλόγου επιβεβαίωση για να αποδεχτείτε την άδεια ΧΡΉΣΗΣ.

    Αυτή η εντολή προσθέτει δύο zip αρχεία στο φάκελο D:\MySql\Prerequisites\BlobStorage\Container.

### <a name="upload-all-artifacts-to-a-storage-account-on-azure-stack"></a>Αποστολή όλα τα αντικείμενα σε ένα λογαριασμό χώρου αποθήκευσης στη στοίβα Azure

1. Κάντε κλικ στην καρτέλα **Αποστολή-Microsoft.MySql-RP.ps1** και εκτελέστε το.

2. Στο Windows PowerShell διαπιστευτηρίων αίτηση πλαίσιο, πληκτρολογήστε τα διαπιστευτήρια διαχειριστή υπηρεσίας Azure στοίβας.

3. Όταν σας ζητηθεί για το Αναγνωριστικό Azure Active Directory μισθωτή, πληκτρολογήστε το Azure Active Directory μισθωτή πλήρως προσδιορισμένο όνομα τομέα: για παράδειγμα, microsoftazurestack.onmicrosoft.com.

    Ένα αναδυόμενο παράθυρο ζητά διαπιστευτήρια.

    > [AZURE.TIP] Αν δεν εμφανιστεί το αναδυόμενο παράθυρο, μπορείτε είτε δεν έχετε απενεργοποιήσει IE βελτιωμένη ασφάλεια για να ενεργοποιήσετε την JavaScript σε αυτόν τον υπολογιστή και χρήστη ή δεν έχετε αποδοχή cookies σε IE. Ανατρέξτε στο θέμα [Ρύθμιση βήματα πριν να αναπτύξετε](#set-up-steps-before-you-deploy).

4. Πληκτρολογήστε τα διαπιστευτήρια διαχειριστή υπηρεσίας στοίβας Azure και, στη συνέχεια, κάντε κλικ στην επιλογή **Sign In**.

### <a name="publish-gallery-items-for-later-resource-creation"></a>Δημοσίευση συλλογή στοιχείων για μελλοντική δημιουργία πόρων

Επιλέξτε την καρτέλα **Δημοσίευση GalleryPackages.ps1** και εκτελέστε το. Αυτή η δέσμη ενεργειών προσθέτει δύο στοιχεία marketplace με την πύλη του POC στοίβας Azure marketplace που μπορείτε να χρησιμοποιήσετε για την ανάπτυξη πόρους βάσεων δεδομένων ως στοιχεία marketplace.

## <a name="deploy-the-mysql-resource-provider-vm"></a>Ανάπτυξη στην υπηρεσία παροχής πόρων MySQL Εικονική

Τώρα που έχουν προετοιμαστεί το Azure PoC στοίβα με τα πιστοποιητικά είναι απαραίτητο και τα στοιχεία marketplace, μπορείτε να αναπτύξετε μια υπηρεσία παροχής πόρων του SQL Server. Κάντε κλικ στην καρτέλα **Ανάπτυξη MySQL υπηρεσία παροχής που χρησιμοποιείτε** για να:

   - Δώστε τις τιμές σε ένα αρχείο JSON που αναφέρει τη διαδικασία ανάπτυξης
   - Αναπτύξτε την υπηρεσία παροχής του πόρου
   - Ενημέρωση του τοπικού DNS
   - Καταχώρηση του SQL Server πόρων παροχής προσαρμογέα

### <a name="provide-values-in-the-json-file"></a>Δώστε τις τιμές στο αρχείο JSON

Κάντε κλικ στην επιλογή **Microsoft.MySqlprovider.Parameters.JSON**. Αυτό το αρχείο έχει παραμέτρους που χρειάζεται το πρότυπο διαχείρισης πόρων Azure για να αναπτύξετε σωστά σε στοίβα Azure.

1. Συμπληρώστε τις παραμέτρους **κενή** στο αρχείο JSON:

    - Βεβαιωθείτε ότι παρέχετε τις **adminusername** και **adminpassword** για την εικονική Μηχανή MySQL πόρου υπηρεσίας παροχής.

    - Βεβαιωθείτε ότι μπορείτε να δώσετε τον κωδικό πρόσβασης για την παράμετρο **SetupPfxPassword** που κάνει μια σημείωση στο βήμα [Προετοιμασία prequisites](#prepare-prerequisites) .

    - Βεβαιωθείτε ότι δώσατε παράμετροι **basicAuthUserName** και **basicAuthPassword** . **Δημιουργήστε μια σημείωση από αυτές τις τιμές.** Θα χρειαστείτε αργότερα να εγγραφείτε στην υπηρεσία παροχής του πόρου.

2. Κάντε κλικ στην επιλογή **Αποθήκευση**.

### <a name="deploy-the-resource-provider"></a>Αναπτύξτε την υπηρεσία παροχής του πόρου

1. Κάντε κλικ στην καρτέλα **Ανάπτυξη-Microsoft.Mysql-provider.PS1** και εκτελέστε τη δέσμη ενεργειών.
2. Πληκτρολογήστε το όνομα του μισθωτή του Azure Active Directory, όταν σας ζητηθεί.
3. Στο αναδυόμενο παράθυρο, να υποβάλετε τα διαπιστευτήρια διαχειριστή υπηρεσίας Azure στοίβας.

Πλήρης ανάπτυξη ενδέχεται να χρειαστούν μεταξύ 15 και 45 λεπτά σε ορισμένες ιδιαίτερα εκμεταλλευθεί POCs στοίβας Azure.

### <a name="update-the-local-dns"></a>Ενημέρωση του τοπικού DNS

1. Κάντε κλικ στην καρτέλα **Register-Microsoft.MySQL-fqdn.ps1** και εκτελέστε τη δέσμη ενεργειών.
2. Όταν σας ζητηθεί για Azure Active Directory μισθωτή ID, εισαγάγετε το Azure Active Directory μισθωτή πλήρως προσδιορισμένο όνομα τομέα: για παράδειγμα, **microsoftazurestack.onmicrosoft.com**.

### <a name="register-the-sql-rp-resource-provider"></a>Καταχώρηση της υπηρεσίας παροχής πόρων SQL RP

1. Κάντε κλικ στην καρτέλα **Register-Microsoft.My-provider.ps1** και εκτελέστε τη δέσμη ενεργειών.

2. Όταν σας ζητηθεί για τα διαπιστευτήρια, χρησιμοποιήστε σημειώσατε ως οι παράμετροι **basicAuthUserName** και **basicAuthPassword** .

## <a name="verify-the-deployment-using-the-azure-stack-portal"></a>Επαληθεύστε την ανάπτυξη με την πύλη στοίβας Azure

1. Αποσυνδεθείτε από το ClientVM και συνδεθείτε ξανά ως **AzureStack\User**.

2. Στην επιφάνεια εργασίας, κάντε κλικ στην επιλογή **Azure στοίβας POC πύλη** και πραγματοποιήστε είσοδο στην πύλη του ως διαχειριστή υπηρεσίας.

3. Βεβαιωθείτε ότι η ανάπτυξη ολοκληρώθηκε με επιτυχία. Κάντε κλικ στην επιλογή **Αναζήτηση** &gt; **Ομάδες πόρων**, κάντε κλικ στην ομάδα πόρων που χρησιμοποιήσατε (η προεπιλογή είναι **MySQLRP**), και, στη συνέχεια, βεβαιωθείτε ότι το τμήμα βασικά στοιχεία της το blade (επάνω μισό) διαβάζει **ανάπτυξης ολοκληρώθηκε με επιτυχία**.


4. Βεβαιωθείτε ότι η καταχώρηση ολοκληρώθηκε με επιτυχία. Κάντε κλικ στην επιλογή **Αναζήτηση** &gt; **υπηρεσίες παροχής πόρων**και, στη συνέχεια, κοιτάξτε για **Τοπική MySQL**.

## <a name="create-your-first-mysql-database-to-test-your-deployment"></a>Δημιουργία του πρώτου βάση δεδομένων MySQL για να ελέγξετε την ανάπτυξη

1. Εισέλθετε στην πύλη του Azure στοίβας POC ως διαχειριστή υπηρεσίας.

2. Κάντε κλικ στην επιλογή το **+** κουμπί &gt; **προσαρμοσμένη** &gt; **διακομιστής MySQL & βάσεις δεδομένων**.

3. Συμπληρώστε τη φόρμα με λεπτομέρειες βάσης δεδομένων.

    **Σημειώστε το "όνομα διακομιστή" που πληκτρολογείτε.** Η συμβολοσειρά συνδέσεις για τη βάση δεδομένων περιλαμβάνει το "όνομα διακομιστή" ως μέρος του ονόματος χρήστη: για παράδειγμα, ** "user@ <ServerName>"**. Θα χρειαστεί να εισαγάγετε ένα όνομα χρήστη σε αυτήν τη μορφή όταν συνδέεστε με τη βάση δεδομένων: για παράδειγμα, όταν αναπτύσσετε μια τοποθεσία web MySQL χρησιμοποιώντας την υπηρεσία παροχής πόρων Azure τοποθεσίας Web


## <a name="next-steps"></a>Επόμενα βήματα

Δοκιμάστε άλλες [υπηρεσίες PaaS](azure-stack-tools-paas-services.md) όπως την υπηρεσία [παροχής πόρων SQL Server](azure-stack-sql-rp-deploy-short.md) και της [υπηρεσίας παροχής πόρων Web Apps](azure-stack-webapps-deploy.md).
