
<properties
    pageTitle="Χρήση χαρακτηριστικά για τη δημιουργία σύνθετων κανόνων για την ιδιότητα μέλους ομάδας στην προεπισκόπηση Azure Active Directory | Microsoft Azure"
    description="Πώς μπορείτε να δημιουργήσετε σύνθετων κανόνων για τη συμπερίληψη ιδιότητα μέλους ομάδας δυναμικής υποστηρίζονται τελεστές κανόνα παράσταση και παράμετροι."
    services="active-directory"
    documentationCenter=""
    authors="curtand"
    manager="femila"
    editor=""/>

<tags
    ms.service="active-directory"
    ms.workload="identity"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/12/2016"
    ms.author="curtand"/>


# <a name="using-attributes-to-create-advanced-rules-for-group-membership-in-azure-active-directory-preview"></a>Χρήση χαρακτηριστικά για τη δημιουργία σύνθετων κανόνων για την ιδιότητα μέλους ομάδας στην προεπισκόπηση Azure Active Directory

Πύλη του Azure σάς δίνει τη δυνατότητα για τη δημιουργία σύνθετων κανόνων για να ενεργοποιήσετε την πιο σύνθετες βασίζεται στο χαρακτηριστικό δυναμικές ιδιότητες μελών για ομάδες προεπισκόπηση Azure Active Directory (Azure AD). [Τι περιέχει η προεπισκόπηση;](active-directory-preview-explainer.md) Αυτό το άρθρο περιγράφει τα χαρακτηριστικά κανόνα και σύνταξη για να δημιουργήσετε αυτές τις κανόνες για προχωρημένους.

## <a name="to-create-the-advanced-rule"></a>Για να δημιουργήσετε τον κανόνα για προχωρημένους

1.  Είσοδος στην [πύλη του Azure](https://portal.azure.com) με ένα λογαριασμό που είναι καθολικός διαχειριστής για τον κατάλογο.

2.  Επιλέξτε **περισσότερες υπηρεσίες**, εισαγάγετε **χρήστες και ομάδες** στο πλαίσιο κειμένου και, στη συνέχεια, πατήστε το **πλήκτρο Enter**.

  ![Άνοιγμα Διαχείριση χρηστών](./media/active-directory-groups-dynamic-membership-azure-portal/search-user-management.png)

3.  Στην blade **χρήστες και ομάδες** , επιλέξτε **όλες τις ομάδες**.

  ![Άνοιγμα του blade ομάδες](./media/active-directory-groups-dynamic-membership-azure-portal/view-groups-blade.png)

4. Στο blade **χρήστες και ομάδες - όλες τις ομάδες** , επιλέξτε την εντολή **Προσθήκη** .

  ![Προσθήκη νέας ομάδας](./media/active-directory-groups-dynamic-membership-azure-portal/add-group-type.png)

5. Στην blade την **ομάδα** , πληκτρολογήστε ένα όνομα και μια περιγραφή για τη νέα ομάδα. Επιλέξτε μια **ιδιότητα μέλους πληκτρολογήστε** **Δυναμικής χρήστη** ή **Δυναμικής συσκευή**, ανάλογα με το εάν θέλετε να δημιουργήσετε έναν κανόνα για τους χρήστες ή τις συσκευές και, στη συνέχεια, επιλέξτε **Προσθήκη δυναμικού ερωτήματος**. Για τα χαρακτηριστικά που χρησιμοποιούνται για τους κανόνες συσκευών, ανατρέξτε στο θέμα [Χρήση χαρακτηριστικά για να δημιουργήσετε κανόνες για τη συσκευή αντικείμενα](#using-attributes-to-create-rules-for-device-objects).

  ![Προσθήκη κανόνα δυναμική ιδιότητα μέλους](./media/active-directory-groups-dynamic-membership-azure-portal/add-dynamic-group-rule.png)

6. Στην το blade **κανόνες δυναμικής συμμετοχής** , εισαγάγετε τον κανόνα στο πλαίσιο **Προσθήκη κανόνων για προχωρημένους δυναμικής συμμετοχή ως μέλος** , πατήστε το πλήκτρο Enter και, στη συνέχεια, επιλέξτε **Δημιουργία** στο κάτω μέρος του blade.

7. Επιλέξτε **Δημιουργία** στην το blade **ομάδας** για να δημιουργήσετε την ομάδα.

## <a name="constructing-the-body-of-an-advanced-rule"></a>Η κατασκευή στο κυρίως σώμα του κανόνα για προχωρημένους

Ο κανόνας για προχωρημένους που μπορείτε να δημιουργήσετε για τη δυναμική ιδιότητες μελών για τις ομάδες είναι ουσιαστικά μια δυαδική παράσταση που αποτελείται από τρία τμήματα και τα αποτελέσματα σε ένα αποτέλεσμα true ή false. Τα τρία τμήματα είναι οι εξής:

- Αριστερό παραμέτρου
- Δυαδικό τελεστή
- Δεξιά σταθερά

Μια ολοκληρωμένη κανόνων για προχωρημένους μοιάζει με αυτήν: (leftParameter binaryOperator "RightConstant"), όπου το άνοιγμα και τη δεξιά παρένθεση απαιτούνται για ολόκληρη την έκφραση δυαδικό διπλά εισαγωγικά είναι απαραίτητα για τη σταθερά δεξιά και η σύνταξη για την παράμετρο αριστερό είναι user.property. Κανόνα για προχωρημένους μπορούν να περιλαμβάνουν περισσότερες από μία παραστάσεων δυαδικό διαχωρίζονται με το - και, - ή, και - δεν λογικούς τελεστές.

Ακολουθούν παραδείγματα κανόνα σωστά κατασκευαστεί για προχωρημένους:

- (user.department - eq "Πωλήσεις")- ή (user.department - eq "μάρκετινγκ")
- (user.department - eq "Πωλήσεις")- και - δεν (user.jobTitle-περιέχει "SDE")

Για την πλήρη λίστα των υποστηριζόμενων παραμέτρων και τους τελεστές κανόνα παράστασης, ανατρέξτε στο θέμα παρακάτω ενότητες. Για τα χαρακτηριστικά που χρησιμοποιούνται για τη συσκευή κανόνες, ανατρέξτε στο θέμα [Χρήση χαρακτηριστικά για να δημιουργήσετε κανόνες για τη συσκευή αντικείμενα](#using-attributes-to-create-rules-for-device-objects).

Το συνολικό μήκος του οργανισμού σας για προχωρημένους κανόνα δεν πρέπει να υπερβαίνει 2048 χαρακτήρες.

> [AZURE.NOTE]
>Λειτουργίες συμβολοσειράς και regex είναι διάκριση πεζών-κεφαλαίων. Μπορείτε επίσης να εκτελέσετε ελέγχους Null, χρησιμοποιώντας $null ως σταθερά, για παράδειγμα, user.department - eq $null.
Συμβολοσειρές που περιέχει προσφορές "θα πρέπει να είναι διαφυγής χρησιμοποιώντας ' χαρακτήρας, για παράδειγμα, user.department - eq \`"Πωλήσεις".

## <a name="supported-expression-rule-operators"></a>Υποστηριζόμενες παράσταση τελεστές κανόνα
Ο παρακάτω πίνακας παραθέτει όλους τους τελεστές κανόνα υποστηριζόμενη παράσταση και τους σύνταξη για χρήση στο σώμα του κανόνα για προχωρημένους:

| Τελεστής        | Σύνταξη         |
|-----------------|----------------|
| Δεν ισούται με      | Επόμενο-            |
| Ισούται με          | -eq            |
| Δεν ξεκινά με | -notStartsWith |
| Ξεκινά με     | -startsWith    |
| Δεν περιέχει    | -notContains   |
| Περιέχει        | -περιέχει      |
| Δεν Match       | -notMatch      |
| MATCH           | -ταιριάζει με         |


## <a name="query-error-remediation"></a>Επιδιόρθωση σφάλματος ερωτήματος
Ο παρακάτω πίνακας παραθέτει τα πιθανά σφάλματα και πώς μπορείτε να τα διορθώσετε εάν προκύπτουν

| Σφάλμα ανάλυσης ερωτήματος     | Χρήση σφάλματος       | Χρήση διορθωμένο             |
|-----------------------|-------------------|-----------------------------|
| Σφάλμα: Χαρακτηριστικό δεν υποστηρίζονται.                                      | (user.invalidProperty - eq "Τιμή")       | (user.department - eq "τιμή")<br/>Ιδιότητα θα πρέπει να ταιριάζει με μία από τη [λίστα ιδιοτήτων που υποστηρίζονται](#supported-properties).                          |
| Σφάλμα: Δεν υποστηρίζεται τελεστή στο χαρακτηριστικό.                       | (user.accountEnabled-περιέχει true)                                                                               | (user.accountEnabled - eq true)<br/>Η ιδιότητα είναι τύπου boolean. Υποστηρίζονται οι τελεστές (-eq ή - επόμενη) σε δυαδική τύπο από τη λίστα παραπάνω.                                                                                                                                   |
| Σφάλμα: Σφάλμα μεταγλώττισης ερωτήματος.                                      | (user.department - eq "Πωλήσεις")- και (user.department - eq "μάρκετινγκ")(user.userPrincipalName-match"*@domain.ext") | (user.department - eq "Πωλήσεις")- και (user.department - eq "μάρκετινγκ")<br/>Λογικό τελεστή πρέπει να συμφωνεί με ένα από τη λίστα υποστηριζόμενες ιδιότητες παραπάνω. (user.userPrincipalName-ταιριάζουν με ".*@domain.ext")or(user.userPrincipalName -ταιριάζουν με "@domain.ext$")Error σε κανονική παράσταση. |
| Σφάλμα: Δυαδική παράσταση δεν είναι στη σωστή μορφή.                     | (user.department – eq "Πωλήσεις") (user.department - eq "Πωλήσεις") (user.department-eq "Πωλήσεις")                             | (true - eq user.accountEnabled)- και (user.userPrincipalName-περιέχει"alias@domain")<br/>Ερώτημα έχει πολλά σφάλματα. Παρενθέσεις δεν στο σωστό μέρος.                                                                                                                            |
| Σφάλμα: Άγνωστο σφάλμα κατά τη ρύθμιση του δυναμικού μελών. | (user.accountEnabled - eq "True" και user.userPrincipalName-περιέχει"alias@domain")                               | (true - eq user.accountEnabled)- και (user.userPrincipalName-περιέχει"alias@domain")<br/>Ερώτημα έχει πολλά σφάλματα. Παρενθέσεις δεν στο σωστό μέρος.                                                                                                                            |

## <a name="supported-properties"></a>Υποστηριζόμενες ιδιότητες
Οι παρακάτω είναι όλες τις ιδιότητες χρήστη που μπορείτε να χρησιμοποιήσετε στον κανόνα για προχωρημένους σας:

### <a name="properties-of-type-boolean"></a>Ιδιότητες του τύπου boolean

Οι επιτρεπόμενοι τελεστές

* -eq


* Επόμενο-


| Ιδιότητες     | Επιτρεπόμενη τιμή  | Χρήση                          |
|----------------|-----------------|--------------------------------|
| accountEnabled | τιμή true false      | user.accountEnabled - eq true)  |
| dirSyncEnabled | TRUE, false null | (user.dirSyncEnabled - eq true) |

### <a name="properties-of-type-string"></a>Ιδιότητες του τύπου συμβολοσειράς

Οι επιτρεπόμενοι τελεστές

* -eq


* Επόμενο-


* -notStartsWith


* -StartsWith


* -περιέχει


* -notContains


* -ταιριάζει με


* -notMatch

| Ιδιότητες                 | Επιτρεπόμενη τιμή                                                                                        | Χρήση                                                     |
|----------------------------|-------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
| Πόλη                       | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                           | (user.city - eq "τιμή")                                   |
| χώρα                    | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.country - eq "τιμή")                                |
| τμήμα                 | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                          | (user.department - eq "τιμή")                             |
| Εμφανιζόμενο όνομα                | Κάθε τιμή συμβολοσειράς                                                                                 | (user.displayName - eq "τιμή")                            |
| facsimileTelephoneNumber   | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                           | (user.facsimileTelephoneNumber - eq "τιμή")               |
| givenName                  | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                           | (user.givenName - eq "τιμή")                              |
| Τίτλος εργασίας                   | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                           | (user.jobTitle - eq "τιμή")                               |
| Αλληλογραφία                       | Οποιαδήποτε τιμή συμβολοσειράς ή $null (διεύθυνση SMTP του χρήστη)                                                  | (user.mail - eq "τιμή")                                   |
| mailNickName               | Κάθε τιμή συμβολοσειράς (ψευδώνυμο ηλεκτρονικού ταχυδρομείου του χρήστη)                                                            | (user.mailNickName - eq "τιμή")                           |
| κινητές συσκευές                     | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                           | (user.mobile - eq "τιμή")                                 |
| objectId                   | GUID του αντικειμένου χρήστη                                                                            | (user.objectId - eq "1111111-1111-1111-1111-111111111111") |
| passwordPolicies           | Καμία DisableStrongPassword DisablePasswordExpiration DisablePasswordExpiration, DisableStrongPassword |   (user.passwordPolicies - eq "DisableStrongPassword")                                                      |
| physicalDeliveryOfficeName | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.physicalDeliveryOfficeName - eq "τιμή")             |
| "Ταχυδρομικός κώδικας"                 | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.postalCode - eq "τιμή")                             |
| preferredLanguage          | Κωδικός ISO 639-1                                                                                        | (user.preferredLanguage - eq "en-US")                      |
| sipProxyAddress            | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.sipProxyAddress - eq "τιμή")                        |
| κατάσταση                      | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.state - eq "τιμή")                                  |
| streetAddress              | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.streetAddress - eq "τιμή")                          |
| Επώνυμο                    | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.surname - eq "τιμή")                                |
| telephoneNumber            | Οποιαδήποτε τιμή συμβολοσειράς ή $null                                                                            | (user.telephoneNumber - eq "τιμή")                        |
| usageLocation              | Κωδικός χώρας δύο γράμματα                                                                           | (user.usageLocation - eq "ΗΠΑ")                             |
| userPrincipalName          | Κάθε τιμή συμβολοσειράς                                                                                     | (user.userPrincipalName - eq"alias@domain")               |
| userType                   | μέλος επισκέπτη $null                                                                                    | (user.userType - eq "Μέλος")                              |

### <a name="properties-of-type-string-collection"></a>Ιδιότητες συλλογής τύπου συμβολοσειράς

Οι επιτρεπόμενοι τελεστές

* -περιέχει


* -notContains

| Poperties      | Επιτρεπόμενη τιμή                        | Χρήση                                                |
|----------------|---------------------------------------|------------------------------------------------------|
| otherMails     | Κάθε τιμή συμβολοσειράς                      | (user.otherMails-περιέχει"alias@domain")           |
| proxyAddresses | SMTP: alias@domain smtp:alias@domain | (user.proxyAddresses-περιέχει "SMTP:alias@domain") |

## <a name="extension-attributes-and-custom-attributes"></a>Επέκταση χαρακτηριστικά και προσαρμοσμένα χαρακτηριστικά
Επέκταση χαρακτηριστικά και προσαρμοσμένα χαρακτηριστικά υποστηρίζονται σε κανόνες δυναμικής συμμετοχής.

Επέκταση χαρακτηριστικά έχουν συγχρονιστεί από στην εσωτερική εγκατάσταση παραθύρου διακομιστή AD και λήψη της μορφής "ExtensionAttributeX", όπου X είναι ίσο με 1-15.
Ένα παράδειγμα ενός κανόνα που χρησιμοποιεί ένα χαρακτηριστικό επέκταση είναι

(user.extensionAttribute15 - eq "μάρκετινγκ")

Προσαρμοσμένα χαρακτηριστικά συγχρονίζονται από στην εσωτερική εγκατάσταση Windows Server AD ή από ένα συνδεδεμένο εφαρμογή ΑΔΑ και το της μορφής "user.extension_[GUID]\__ [χαρακτηριστικό]", όπου [GUID] είναι το μοναδικό αναγνωριστικό στη AAD για την εφαρμογή που δημιούργησε το χαρακτηριστικό στο AAD και [χαρακτηριστικό] είναι το όνομα του χαρακτηριστικού όπως δημιουργήθηκε.
Είναι ένα παράδειγμα ενός κανόνα που χρησιμοποιεί ένα προσαρμοσμένο χαρακτηριστικό

User.extension_c272a57b722d4eb29bfe327874ae79cb__OfficeNumber  

Το όνομα του προσαρμοσμένου χαρακτηριστικού βρίσκονται στον κατάλογο κατά την υποβολή ερωτημάτων χρήστη του χαρακτηριστικού χρησιμοποιώντας την Εξερεύνηση Graph και αναζήτηση για το χαρακτηριστικό όνομα.

## <a name="direct-reports-rule"></a>Άμεσες αναφορές κανόνα
Τώρα, μπορείτε να συμπληρώσετε τα μέλη σε μια ομάδα με βάση το χαρακτηριστικό manager ενός χρήστη.

**Για να ρυθμίσετε τις παραμέτρους μιας ομάδας ως ομάδα "Διαχείριση"**

1. Ακολουθήστε τα βήματα 1-5 για να [δημιουργήσετε τον κανόνα για προχωρημένους](#to-create-the-advanced-rule)και επιλέξτε έναν **τύπο συμμετοχής** **Δυναμικής**χρήστη.

2. Στη το blade **κανόνες δυναμικής συμμετοχής** , καταχωρήστε τον κανόνα με την ακόλουθη σύνταξη:

    Άμεσες αναφορές για *άμεσους υφισταμένους για {obectID_of_manager}*. Ένα παράδειγμα έναν έγκυρο κανόνα για άμεσους υφισταμένους είναι

                    Direct Reports for "62e19b97-8b3d-4d4a-a106-4ce66896a863”

    όπου "62e19b97-8b3d-4d4a-a106-4ce66896a863" είναι Αναγνωριστικό_αντικειμένου του διαχειριστή. Μπορείτε να βρείτε το Αναγνωριστικό αντικειμένου στο το Azure AD στην **καρτέλα προφίλ** της σελίδας του χρήστη για το χρήστη που είναι ο διευθυντής.

3. Κατά την αποθήκευση αυτού του κανόνα, όλοι οι χρήστες που πληρούν τον κανόνα θα συμμετάσχετε ως μέλη της ομάδας. Ενδέχεται να χρειαστούν λίγα λεπτά για την ομάδα για να συμπληρώσετε αρχικά.


## <a name="using-attributes-to-create-rules-for-device-objects"></a>Χρήση ιδιοτήτων για να δημιουργήσετε κανόνες για αντικείμενα συσκευής

Μπορείτε επίσης να δημιουργήσετε έναν κανόνα που επιλέγει αντικείμενα συσκευής για συμμετοχή σε μια ομάδα. Τα παρακάτω χαρακτηριστικά συσκευής μπορούν να χρησιμοποιηθούν:

| Ιδιότητες           | Επιτρεπόμενη τιμή                  | Χρήση                                                |
|----------------------|---------------------------------|------------------------------------------------------|
| Εμφανιζόμενο όνομα          | κάθε τιμή συμβολοσειράς                | (device.displayName - eq "Ιωάννης Iphone")                 |
| deviceOSType         | κάθε τιμή συμβολοσειράς                | (device.deviceOSType - eq "IOS")                      |
| deviceOSVersion      | κάθε τιμή συμβολοσειράς                | (συσκευή. OSVersion - eq "9.1")                         |
| isDirSynced          | TRUE, false null                 | (device.isDirSynced - eq "true")                      |
| isManaged            | TRUE, false null                 | (device.isManaged - eq "false")                       |
| isCompliant          | TRUE, false null                 | (device.isCompliant - eq "true")                      |


## <a name="additional-information"></a>Πρόσθετες πληροφορίες
Αυτά τα άρθρα παρέχουν πρόσθετες πληροφορίες σχετικά με ομάδες στο Azure Active Directory.

* [Ανατρέξτε στο θέμα υπάρχουσες ομάδες](active-directory-groups-view-azure-portal.md)
* [Δημιουργήστε μια νέα ομάδα και προσθήκη μελών](active-directory-groups-create-azure-portal.md)
* [Διαχείριση ρυθμίσεων ομάδας](active-directory-groups-settings-azure-portal.md)
* [Διαχείριση μελών μιας ομάδας](active-directory-groups-membership-azure-portal.md)
* [Διαχείριση δυναμικών κανόνων για τους χρήστες σε μια ομάδα](active-directory-groups-dynamic-membership-azure-portal.md)
