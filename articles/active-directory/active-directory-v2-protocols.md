<properties
    pageTitle="Azure AD v2.0 πρωτόκολλα | Microsoft Azure"
    description="Ένας οδηγός για πρωτόκολλα που υποστηρίζονται από το τελικό σημείο v2.0 Azure AD."
    services="active-directory"
    documentationCenter=""
    authors="dstrockis"
    manager="mbaldwin"
    editor=""/>

<tags
    ms.service="active-directory"
    ms.workload="identity"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/16/2016"
    ms.author="dastrock"/>

# <a name="v20-protocols---oauth-20--openid-connect"></a>Σύνδεση πρωτόκολλα - διακριτικό 2.0 & OpenID v2.0

Το τελικό σημείο v2.0 να χρησιμοποιήσετε Azure AD ταυτότητα-ως-a-υπηρεσίας με κλάδο τυπική πρωτόκολλα, σύνδεση OpenID και OAuth 2.0.  Ενώ η υπηρεσία δεν είναι συμβατό με τα πρότυπα, μπορεί να είναι μικρές διαφορές υλοποιήσεις δύο από αυτά τα πρωτόκολλα.  Οι πληροφορίες εδώ θα είναι χρήσιμο εάν επιλέξετε να σύνταξη κώδικα σας απευθείας στέλνοντας & χειρισμού αιτήσεων HTTP ή χρήση τρίτου κατασκευαστή ανοίξετε Βιβλιοθήκη αρχείων προέλευσης, αντί να χρησιμοποιείτε ένα μας βιβλιοθηκών Άνοιγμα αρχείου προέλευσης.
<!-- TODO: Need link to libraries above -->

> [AZURE.NOTE]
    Δεν όλα τα σενάρια Azure Active Directory και δυνατότητες που υποστηρίζονται από το τελικό σημείο v2.0.  Για να καθορίσετε εάν θα πρέπει να χρησιμοποιήσετε το τελικό σημείο v2.0, διαβάστε σχετικά με [τους περιορισμούς v2.0](active-directory-v2-limitations.md).

## <a name="the-basics"></a>Τα βασικά στοιχεία
Σε σχεδόν όλες τις OAuth & σύνδεση OpenID ροές, υπάρχουν τέσσερα μέρη που περιλαμβάνονται στο exchange:

![Ρόλοι διακριτικό 2.0](../media/active-directory-v2-flows/protocols_roles.png)

- **Εξουσιοδότηση Server** είναι το τελικό σημείο v2.0.  Είναι υπεύθυνος για εξασφάλιση την ταυτότητα του χρήστη, εκχώρηση και ανάκληση πρόσβασης σε πόρους και εκδίδει διακριτικά.  Είναι επίσης γνωστή ως την υπηρεσία παροχής ταυτότητας - με ασφαλή τρόπο χειρισμού σχετίζεται με τα στοιχεία του χρήστη, την πρόσβασή τους και τις σχέσεις αξιοπιστίας μεταξύ μερών σε μια ροή.
- Ο **Κάτοχος του πόρου** είναι συνήθως ο τελικός χρήστης.  Είναι το μέρος που ανήκουν τα δεδομένα και έχει στη δύναμη για να επιτρέψετε σε τρίτους κατασκευαστές για να αποκτήσετε πρόσβαση δεδομένων, ή πόρου.
- Το **Διακριτικό προγράμματος-πελάτη** είναι την εφαρμογή σας, που προσδιορίζονται με το αναγνωριστικό εφαρμογής.  Είναι συνήθως το μέρος που ο τελικός χρήστης αλληλεπιδρά με και απαιτεί τα διακριτικά από το διακομιστή εξουσιοδότησης.  Ο υπολογιστής-πελάτης πρέπει να έχετε το δικαίωμα για πρόσβαση στον πόρο από τον κάτοχο του πόρου.
- Ο **Διακομιστής πόρων** είναι όπου βρίσκεται ο πόρος ή δεδομένα.  Το εμπιστεύεται ο διακομιστής εξουσιοδότησης για τον έλεγχο ταυτότητας με ασφάλεια και την εξουσιοδότηση του προγράμματος-πελάτη OAuth και χρησιμοποιεί access_tokens φορέα για να βεβαιωθείτε ότι μπορεί να σας έχει εκχωρηθεί πρόσβαση σε έναν πόρο.


## <a name="app-registration"></a>Καταχώρηση εφαρμογής
Κάθε εφαρμογή που χρησιμοποιεί το τελικό σημείο v2.0 θα πρέπει να είναι καταχωρημένος στο [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList) πριν από το να αλληλεπιδράσετε με τη χρήση OAuth ή OpenID σύνδεση.  Η διαδικασία καταχώρησης εφαρμογής θα συλλογής & αντιστοίχιση μερικές τιμές σε εφαρμογή σας:

- **Αναγνωριστικό εφαρμογής** που προσδιορίζει με μοναδικό τρόπο την εφαρμογή σας
- Μια **Ανακατεύθυνση URI** ή **Αναγνωριστικό πακέτου** που μπορούν να χρησιμοποιηθούν για να κατευθύνετε απαντήσεων Επιστροφή στην εφαρμογή σας
- Μερικές άλλες τιμές αφορούν συγκεκριμένα το σενάριο.

Για περισσότερες λεπτομέρειες, μάθετε πώς μπορείτε να [καταχωρήσετε μια εφαρμογή](active-directory-v2-app-registration.md).

## <a name="endpoints"></a>Τα τελικά σημεία
Αφού καταχωρηθεί, η εφαρμογή επικοινωνεί με Azure AD με την αποστολή προσκλήσεων για το τελικό σημείο v2.0:

```
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/token
```

Όπου το `{tenant}` μπορεί να διαρκέσει μία από τις τέσσερις διαφορετικές τιμές:

| Τιμή | Περιγραφή |
| ----------------------- | ------------------------------- |
| `common` | Επιτρέπει στους χρήστες με προσωπικοί λογαριασμοί Microsoft και εταιρικό/σχολικό λογαριασμούς από το Azure Active Directory για να συνδεθείτε στην εφαρμογή. |
| `organizations` | Επιτρέπει μόνο οι χρήστες με εταιρικό/σχολικό λογαριασμούς από το Azure Active Directory για να συνδεθείτε στην εφαρμογή. |
| `consumers` | Επιτρέπει μόνο οι χρήστες με προσωπικοί λογαριασμοί Microsoft (MSA) για να συνδεθείτε στην εφαρμογή. |
| `8eaef023-2b34-4da1-9baa-8bc8c9d6a490`ή`contoso.onmicrosoft.com` | Επιτρέπει μόνο οι χρήστες με λογαριασμούς εταιρικό/σχολικό από έναν συγκεκριμένο μισθωτή Azure Active Directory για να συνδεθείτε στην εφαρμογή.  Μπορεί να χρησιμοποιηθεί είτε το φιλικό όνομα τομέα του μισθωτή του Azure AD ή αναγνωριστικό guid του μισθωτή.  |

Για περισσότερες πληροφορίες σχετικά με τον τρόπο για να αλληλεπιδράσετε με αυτά τα τελικά σημεία, επιλέξτε έναν τύπο συγκεκριμένης εφαρμογής παρακάτω.

## <a name="tokens"></a>Διακριτικά
Την υλοποίηση v2.0 διακριτικό 2.0 και σύνδεση OpenID κάνετε εκτεταμένη χρήση των διακριτικά φορέα, όπως τα διακριτικά φορέα αναπαριστώνται ως JWTs. Διακριτικό φορέα είναι διακριτικό ελαφριά ασφαλείας που εκχωρεί πρόσβαση "φορέα" σε ένα προστατευμένο πόρο. Με αυτήν την έννοια, "φορέα" είναι οποιοδήποτε μέρος που μπορεί να παρουσιάζουν το διακριτικό. Αν και ένα πάρτι πρέπει να πρώτα τον έλεγχο ταυτότητας με Azure AD για να λάβετε το διακριτικό φορέα, εάν δεν έχουν ληφθεί τα απαραίτητα βήματα για την ασφάλιση το διακριτικό στο μετάδοση και το χώρο αποθήκευσης, μπορεί να υποκλοπής και να χρησιμοποιούνται από ένα ανεπιθύμητα μέρη. Ενώ ορισμένες διακριτικά ασφαλείας έχει ένα ενσωματωμένο μηχανισμό για την αποτροπή μη εξουσιοδοτημένα άτομα από τη χρήση τους, τα διακριτικά φορέα δεν έχουν αυτός ο μηχανισμός και πρέπει να μεταφέρονται σε ασφαλούς καναλιού όπως ασφάλεια επιπέδου μεταφοράς (HTTPS). Εάν ένα διακριτικό φορέα μεταδίδονται στο Απαλοιφή, μια Άντρας στο το μεσαίο επίθεση μπορεί να χρησιμοποιηθεί από ένα κακόβουλο μέρος για να αποκτήσετε το διακριτικό και να το χρησιμοποιήσετε για μια μη εξουσιοδοτημένη πρόσβαση σε ένα προστατευμένο πόρο. Τις ίδιες βασικές αρχές ασφαλείας εφαρμογή κατά την αποθήκευση ή την προσωρινή αποθήκευση διακριτικά φορέα για μελλοντική χρήση. Πάντα βεβαιωθείτε ότι η εφαρμογή σας μεταδίδει και αποθηκεύει τα διακριτικά φορέα με ασφαλή τρόπο. Για περισσότερες ζητήματα ασφαλείας στην διακριτικά φορέα, ανατρέξτε στο θέμα [RFC 6750 τμήμα 5](http://tools.ietf.org/html/rfc6750).

Λεπτομέρειες σχετικά με διαφορετικούς τύπους διακριτικά που χρησιμοποιείται σε το τελικό σημείο v2.0 είναι διαθέσιμη στην [περιοχή αναφοράς διακριτικού τελικού σημείου v2.0](active-directory-v2-tokens.md).

## <a name="protocols"></a>Τα πρωτόκολλα

Εάν είστε έτοιμοι για να δείτε ορισμένες αιτήσεις παράδειγμα, να ξεκινήσετε με ένα από τα παρακάτω προγράμματα εκμάθησης.  Κάθε μία αντιστοιχεί σε ένα σενάριο συγκεκριμένο έλεγχο ταυτότητας.  Εάν χρειάζεστε βοήθεια για να προσδιορίσετε ποιο είναι το σωστό ροής για εσάς, ανατρέξτε στο θέμα [τους τύπους των εφαρμογών που μπορείτε να δημιουργήσετε με το v2.0](active-directory-v2-flows.md).

- [Δόμηση Mobile και εγγενή εφαρμογή με το διακριτικό 2.0](active-directory-v2-protocols-oauth-code.md)
- [Δημιουργία Web Apps με το άνοιγμα Αναγνωριστικό σύνδεσης](active-directory-v2-protocols-oidc.md)
- [Δημιουργία εφαρμογών μεμονωμένη σελίδα με την μη ρητή ροή διακριτικό 2.0](active-directory-v2-protocols-implicit.md)
- [Τα στοιχεία daemon Δόμηση ή διεργασίες πλευρά του διακομιστή με τα διαπιστευτήρια του προγράμματος-πελάτη διακριτικό 2.0 ροής](active-directory-v2-protocols-oauth-client-creds.md)
- Λάβετε τα διακριτικά σε ένα API Web με το διακριτικό 2.0 On μέρους της ροής (σύντομα διαθέσιμο)

<!-- - Get tokens using a username & password with the OAuth 2.0 Resource Owner Password Credentials Flow (coming soon) --> 
