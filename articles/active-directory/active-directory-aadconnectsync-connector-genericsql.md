<properties
   pageTitle="Γραμμή σύνδεσης γενικής χρήσης SQL | Microsoft Azure"
   description="Σε αυτό το άρθρο περιγράφει τον τρόπο ρύθμισης των παραμέτρων σύνδεσης γενικής χρήσης SQL της Microsoft."
   services="active-directory"
   documentationCenter=""
   authors="AndKjell"
   manager="femila"
   editor=""/>

<tags
   ms.service="active-directory"
   ms.workload="identity"
   ms.tgt_pltfrm="na"
   ms.devlang="na"
   ms.topic="article"
   ms.date="08/30/2016"
   ms.author="billmath"/>

# <a name="generic-sql-connector-technical-reference"></a>Τεχνική αναφορά γενικής χρήσης σύνδεσης SQL

Σε αυτό το άρθρο περιγράφει το γενικό Connector SQL. Το άρθρο ισχύει για τα ακόλουθα προϊόντα:

- Διαχείριση ταυτοτήτων Microsoft 2016 (MIM2016)
- Διαχείριση ταυτοτήτων Forefront 2010 R2 (FIM2010R2)
    -   Πρέπει να χρησιμοποιήσετε την άμεση επιδιόρθωση 4.1.3671.0 ή νεότερη έκδοση [KB3092178](https://support.microsoft.com/kb/3092178).

Για MIM2016 και FIM2010R2, η σύνδεση είναι διαθέσιμο για λήψη από το [Κέντρο λήψης της Microsoft](http://go.microsoft.com/fwlink/?LinkId=717495).

Για να δείτε αυτή η γραμμή σύνδεσης σε δράση, ανατρέξτε στο άρθρο [Γενικής χρήσης SQL σύνδεσης βήμα προς βήμα](active-directory-aadconnectsync-connector-genericsql-step-by-step.md) .

## <a name="overview-of-the-generic-sql-connector"></a>Επισκόπηση της γραμμής σύνδεσης γενικής χρήσης SQL

Το γενικό Connector SQL σάς επιτρέπει να ενοποίηση της υπηρεσίας συγχρονισμού σε ένα σύστημα βάσης δεδομένων που προσφέρει συνδεσιμότητας ODBC.  

Από μια προοπτική υψηλού επιπέδου, οι ακόλουθες δυνατότητες που υποστηρίζονται από την τρέχουσα έκδοση της γραμμής σύνδεσης:

Η δυνατότητα | Υποστήριξη
--- | ---
Συνδεδεμένο αρχείο προέλευσης δεδομένων | Η γραμμή σύνδεσης υποστηρίζεται με όλα τα προγράμματα οδήγησης ODBC 64-bit. Έχει ελεγχθεί με τα εξής: <li>Microsoft SQL Server και SQL Azure</li><li>IBM DB2 10.x</li><li>IBM DB2 9.x</li><li>Oracle 10 και 11 g</li><li>MySQL 5.x</li>
Σενάρια   | <li>Διαχείριση κύκλου ζωής αντικειμένου</li><li>Διαχείριση κωδικών πρόσβασης</li>
Λειτουργίες | <li>Πλήρους εισαγωγής και Delta εισαγωγής, εξαγωγής</li><li>Για την εξαγωγή: Προσθήκη, διαγραφή, ενημέρωση, και αντικατάσταση</li><li>Ορισμός κωδικού πρόσβασης, αλλάξτε τον κωδικό πρόσβασης</li>
Σχήμα | <li>Δυναμικές εντοπισμού αντικείμενα και χαρακτηριστικά</li>

### <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία
Πριν χρησιμοποιήσετε τη γραμμή σύνδεσης, βεβαιωθείτε ότι έχετε τις ακόλουθες ενέργειες από το διακομιστή συγχρονισμού:

- 4.5.2 του Microsoft .NET Framework ή νεότερη έκδοση
- προγράμματα οδήγησης προγράμματος-πελάτη ODBC 64-bit

### <a name="permissions-in-connected-data-source"></a>Δικαιώματα στο συνδεδεμένο αρχείο προέλευσης δεδομένων
Για να δημιουργήσετε ή να εκτελέσετε οποιαδήποτε από τις υποστηριζόμενες εργασίες στη γραμμή σύνδεσης γενικής χρήσης SQL, πρέπει να έχετε:

- db_datareader
- db_datawriter

### <a name="ports-and-protocols"></a>Θύρες και πρωτόκολλα
Για τις θύρες που απαιτούνται για το πρόγραμμα οδήγησης ODBC για να εργαστείτε, συμβουλευτείτε την τεκμηρίωση του προμηθευτή βάσης δεδομένων.

## <a name="create-a-new-connector"></a>Δημιουργήστε μια νέα γραμμή σύνδεσης
Για να δημιουργήσετε μια γραμμή σύνδεσης γενικής χρήσης SQL, στην **Υπηρεσία συγχρονισμού** επιλέξτε **Παράγοντας διαχείρισης** και **Δημιουργία**. Επιλέξτε τη γραμμή σύνδεσης **γενικής χρήσης SQL (Microsoft)** .

![CreateConnector](./media/active-directory-aadconnectsync-connector-genericsql/createconnector.png)

### <a name="connectivity"></a>Συνδεσιμότητα
Η γραμμή σύνδεσης χρησιμοποιεί ένα αρχείο ODBC DSN για τη σύνδεση. Δημιουργήστε το αρχείο DSN χρησιμοποιώντας βρίσκεται στο μενού "Έναρξη" στην περιοχή **Εργαλεία διαχείρισης** **Προελεύσεων δεδομένων ODBC** . Στο εργαλείο διαχείρισης, δημιουργήστε ένα **Αρχείο DSN** , ώστε να παρέχεται στη γραμμή σύνδεσης.

![CreateConnector](./media/active-directory-aadconnectsync-connector-genericsql/connectivity.png)

Η οθόνη σύνδεσης είναι το πρώτο όταν δημιουργείτε μια νέα γραμμή σύνδεσης γενικής χρήσης SQL. Πρέπει πρώτα να δώσετε τις παρακάτω πληροφορίες:

- Διαδρομή αρχείου DSN
- Έλεγχος ταυτότητας
    - Όνομα χρήστη
    - Κωδικός πρόσβασης

Η βάση δεδομένων πρέπει να υποστηρίζει μία από τις παρακάτω μεθόδους ελέγχου ταυτότητας:

- **Έλεγχος ταυτότητας των Windows**: Η βάση δεδομένων ελέγχου ταυτότητας χρησιμοποιεί τα διαπιστευτήρια των Windows για να επαληθεύσετε το χρήστη. Το όνομα/κωδικού πρόσβασης χρήστη που καθορίζεται χρησιμοποιείται για τον έλεγχο ταυτότητας με τη βάση δεδομένων. Αυτός ο λογαριασμός πρέπει δικαιώματα για τη βάση δεδομένων.
- **Έλεγχος ταυτότητας του SQL**: το ελέγχου ταυτότητας χρησιμοποιεί βάσης δεδομένων του κωδικού πρόσβασης χρήστη/που ορίζονται από μία οθόνη συνδεσιμότητας, για να συνδεθείτε στη βάση δεδομένων. Εάν αποθηκεύετε το όνομα χρήστη/πρόσβασης στο αρχείο DSN, τα διαπιστευτήρια που παρέχονται στην οθόνη συνδεσιμότητας έχουν προτεραιότητα.
- **Έλεγχος ταυτότητας βάσης δεδομένων SQL Azure**: για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [σύνδεση με βάση δεδομένων με χρησιμοποιώντας Azure Active Directory έλεγχος ταυτότητας του SQL](..\sql-database\sql-database-aad-authentication.md).

**DN είναι αγκύρωσης**: Εάν ενεργοποιήσετε αυτήν την επιλογή, το DN χρησιμοποιείται επίσης ως το χαρακτηριστικό αγκύρωσης. Αυτό μπορεί να χρησιμοποιηθεί για μια απλή υλοποίηση αλλά έχει επίσης τον ακόλουθο περιορισμό:

-   Γραμμή σύνδεσης υποστηρίζει τον τύπο μόνο ένα αντικείμενο. Επομένως, οποιαδήποτε χαρακτηριστικά αναφορά μπορεί να αναφέρεται μόνο τον ίδιο τύπο αντικειμένου.

**Τύπος εξαγωγής: αντικείμενο αντικατάσταση**: κατά την εξαγωγή, όταν έχετε αλλάξει μόνο ορισμένες ιδιότητες, ολόκληρο το αντικείμενο με όλα τα χαρακτηριστικά εξάγεται και αντικαθιστά το υπάρχον αντικείμενο.

### <a name="schema-1-detect-object-types"></a>Σχήμα 1 (τύποι αντικειμένων εντοπισμός)
Σε αυτήν τη σελίδα που πρόκειται να ρυθμίσετε τις παραμέτρους πώς θα τη γραμμή σύνδεσης για να βρείτε τους τύπους διαφορετικό αντικείμενο στη βάση δεδομένων.

Κάθε τύπος αντικειμένου είναι που παρουσιάζονται ως ένα διαμερίσματα και να ρυθμίσει τις παραμέτρους περαιτέρω στη **Ρύθμιση παραμέτρων διαμερίσματα και ιεραρχίες**.

![schema1a](./media/active-directory-aadconnectsync-connector-genericsql/schema1a.png)

**Μέθοδος ανίχνευσης τύπος αντικειμένου**: Η γραμμή σύνδεσης υποστηρίζει τις παρακάτω μεθόδους εντοπισμού τύπος αντικειμένου.

- **Σταθερή τιμή**: παρέχει τη λίστα των τύπων αντικειμένου με μια λίστα διαχωρισμένες με κόμματα. Για παράδειγμα: `User,Group,Department`.  
![schema1b](./media/active-directory-aadconnectsync-connector-genericsql/schema1b.png)
- **Πίνακας/Προβολή/αποθηκευμένη διαδικασία**: παρέχει το όνομα του πίνακα, προβολή/την αποθηκευμένη διαδικασία και, στη συνέχεια, το όνομα της στήλης που παρέχει μια λίστα των τύπων αντικειμένων. Εάν χρησιμοποιείτε μια αποθηκευμένη διαδικασία, στη συνέχεια, παρέχουν επίσης τις παραμέτρους για το στη μορφή **[όνομα]: [κατεύθυνση]: [τιμή]**. Δώστε κάθε παράμετρο σε ξεχωριστή γραμμή (χρήση Ctrl + Enter για να λάβετε μια νέα γραμμή).  
![schema1c](./media/active-directory-aadconnectsync-connector-genericsql/schema1c.png)
- **Ερώτημα SQL**: Αυτή η επιλογή σάς επιτρέπει να παράσχετε ένα ερώτημα SQL που επιστρέφει μόνο μία στήλη με τύπους αντικειμένου, για παράδειγμα `SELECT [Column Name] FROM TABLENAME`. Στήλη επιστρέφεται πρέπει να είναι τύπου συμβολοσειράς (varchar).

### <a name="schema-2-detect-attribute-types"></a>Σχήμα 2 (τύποι χαρακτηριστικό εντοπισμός)
Σε αυτήν τη σελίδα που πρόκειται να ρυθμίσετε τις παραμέτρους πώς θα το χαρακτηριστικό ονόματα και τους τύπους που θα εντοπιστούν. Οι επιλογές ρύθμισης παραμέτρων παρατίθενται για κάθε τύπο αντικειμένου εντοπίζονται στην προηγούμενη σελίδα.

![schema2a](./media/active-directory-aadconnectsync-connector-genericsql/schema2a.png)

**Τύπος χαρακτηριστικού μέθοδος ανίχνευσης**: Η γραμμή σύνδεσης υποστηρίζει τις παρακάτω μεθόδους χαρακτηριστικό τύπο εντοπισμού με κάθε τύπο εντοπίστηκε αντικειμένου στο σχήμα 1 οθόνης.

- **Πίνακας/Προβολή/αποθηκευμένη διαδικασία**: Εισαγάγετε το όνομα του πίνακα, προβολή/την αποθηκευμένη διαδικασία που πρέπει να χρησιμοποιούνται για να βρείτε τα ονόματα των χαρακτηριστικών. Εάν χρησιμοποιείτε μια αποθηκευμένη διαδικασία, στη συνέχεια, παρέχουν επίσης τις παραμέτρους για το στη μορφή **[όνομα]: [κατεύθυνση]: [τιμή]**. Δώστε κάθε παράμετρο σε ξεχωριστή γραμμή (χρήση Ctrl + Enter για να λάβετε μια νέα γραμμή). Για να εντοπίσετε τα ονόματα των χαρακτηριστικών σε ένα χαρακτηριστικό πολλών τιμών, παρέχουν ένα διαχωρισμένες με κόμματα λίστα πίνακες ή προβολές. Σενάρια πολλών τιμών δεν υποστηρίζονται όταν γονικής και θυγατρικής πίνακας έχει ίδια ονόματα στηλών.
- **Ερώτημα SQL**: Αυτή η επιλογή σάς επιτρέπει να παράσχετε ένα ερώτημα SQL που επιστρέφει μόνο μία στήλη με ονόματα χαρακτηριστικό, για παράδειγμα `SELECT [Column Name] FROM TABLENAME`. Στήλη επιστρέφεται πρέπει να είναι τύπου συμβολοσειράς (varchar).

### <a name="schema-3-define-anchor-and-dn"></a>Σχήμα 3 (ορισμός αγκύρωσης και DN)
Αυτή η σελίδα σάς επιτρέπει να ρύθμιση παραμέτρων αγκύρωσης και χαρακτηριστικό DN για κάθε τύπο αντικειμένου που εντοπίστηκε. Μπορείτε να επιλέξετε πολλές χαρακτηριστικό για να κάνετε την αγκύρωση μοναδικών τιμών.

![schema3a](./media/active-directory-aadconnectsync-connector-genericsql/schema3a.png)

- Χαρακτηριστικά πολλαπλών τιμών και δυαδικών τιμών δεν εμφανίζονται.
- Ίδιο χαρακτηριστικό δεν είναι δυνατό να χρησιμοποιήσετε για DN και αγκύρωσης, εκτός εάν **DN είναι αγκύρωσης** είναι επιλεγμένο στη σελίδα σύνδεσης.
- Εάν **DN είναι αγκύρωσης** είναι επιλεγμένο στη σελίδα συνδεσιμότητας, αυτή η σελίδα απαιτεί μόνο το χαρακτηριστικό DN. Αυτό το χαρακτηριστικό μπορεί επίσης να χρησιμοποιηθεί ως το χαρακτηριστικό αγκύρωσης.
![schema3b](./media/active-directory-aadconnectsync-connector-genericsql/schema3b.png)

### <a name="schema-4-define-attribute-type-reference-and-direction"></a>Σχήμα 4 (ορισμός τύπου χαρακτηριστικού, αναφοράς και κατεύθυνση)
Αυτή η σελίδα σάς επιτρέπει να ρυθμίσετε τον τύπο χαρακτηριστικό, όπως το ακέραιο αριθμό, δυαδικό ή Boolean και κατεύθυνση για κάθε χαρακτηριστικό. Όλα τα χαρακτηριστικά από τη σελίδα **σχήματος 2** παρατίθενται μαζί με πολλές τιμές χαρακτηριστικά.

![schema4a](./media/active-directory-aadconnectsync-connector-genericsql/schema4a.png)

- **Τύπος δεδομένων**: χρησιμοποιείται για να αντιστοιχίσετε τον τύπο χαρακτηριστικού σε αυτούς τους τύπους γνωστά από το μηχανισμό συγχρονισμού. Η προεπιλογή είναι να χρησιμοποιήσετε τον ίδιο τύπο όπως εντοπίζονται στο σχήμα SQL, αλλά ημερομηνίας/ώρας και αναφοράς μπορούν να μην εντοπιστούν εύκολα. Για όσους, πρέπει να καθορίσετε **DateTime** ή μια **αναφορά**.
- **Κατεύθυνση**: μπορείτε να ορίσετε την κατεύθυνση χαρακτηριστικό για εισαγωγή, εξαγωγή ή εγκατεστημένη. Προεπιλεγμένη τιμή είναι εγκατεστημένη.
![schema4b](./media/active-directory-aadconnectsync-connector-genericsql/schema4b.png)

Σημειώσεις:

- Εάν ένας τύπος χαρακτηριστικού δεν ανιχνεύεται από τη γραμμή σύνδεσης, που χρησιμοποιεί τον τύπο δεδομένων συμβολοσειρά.
- **Ένθετες πίνακες** μπορούν να θεωρούνται πίνακες βάσεων δεδομένων μίας στήλης. Oracle αποθηκεύει τις γραμμές του ένθετου πίνακα με κάποια συγκεκριμένη σειρά. Ωστόσο, όταν κάνετε ανάκτηση του ένθετου πίνακα σε μεταβλητή PL/SQL, τις γραμμές δίνεται διαδοχικές δείκτες ξεκινώντας από το 1. Που παρέχει πρόσβαση τύπου πίνακα για μεμονωμένες γραμμές.
- **VARRYS** δεν υποστηρίζονται στο στη γραμμή σύνδεσης.

### <a name="schema-5-define-partition-for-reference-attributes"></a>Σχήμα 5 (ορισμός διαμερίσματα για ιδιότητες αναφοράς)
Σε αυτήν τη σελίδα, μπορείτε να ρυθμίσετε για ποια διαμερίσματα (τύπος αντικειμένου) ένα χαρακτηριστικό αναφορά σε όλα τα χαρακτηριστικά αναφοράς.

![schema5](./media/active-directory-aadconnectsync-connector-genericsql/schema5.png)

Εάν χρησιμοποιείτε το **DN είναι αγκύρωσης**, στη συνέχεια, πρέπει να χρησιμοποιείτε τον ίδιο τύπο αντικειμένου ως αναφέρεστε από αυτήν. Δεν μπορείτε να αναφέρετε έναν άλλο τύπο αντικειμένου.

### <a name="global-parameters"></a>Καθολικές παραμέτρους
Στη σελίδα καθολικών παραμέτρων χρησιμοποιείται για τη ρύθμιση παραμέτρων εισαγωγής Delta, τη μορφή ημερομηνίας/ώρας και μεθόδου κωδικού πρόσβασης.

![globalparameters1](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters1.png)

Το γενικό Connector SQL υποστηρίζει τις ακόλουθες μεθόδους για την εισαγωγή Delta:

- **Έναυσμα**: ανατρέξτε στο θέμα [Δημιουργία Delta προβολές με τη χρήση εναυσμάτων](https://technet.microsoft.com/library/cc708665.aspx).
- **Υδατογράφημα**: μια γενική προσέγγιση που μπορούν να χρησιμοποιηθούν με οποιαδήποτε βάση δεδομένων. Το ερώτημα υδατογράφημα είναι ήδη συμπληρωμένα με βάση τον προμηθευτή της βάσης δεδομένων. Μια στήλη υδατογράφημα πρέπει να υπάρχουν σε κάθε πίνακα/προβολή που χρησιμοποιείται. Αυτή η στήλη πρέπει να παρακολουθείτε εισάγει και ενημερώσεις για τους πίνακες ως και των εξαρτώμενων (πολλαπλών τιμών ή κάποιου θυγατρικού) πίνακες. Πρέπει να συγχρονιστούν του ρολογιού μεταξύ υπηρεσίας συγχρονισμού και του διακομιστή βάσης δεδομένων. Εάν όχι, μπορεί να παραλειφθούν κάποιες καταχωρήσεις στο πλαίσιο εισαγωγή delta.  
Περιορισμός:
    - Υδατογράφημα στρατηγικής δεν δεν υποστήριξη διαγραμμένων αντικειμένων.
- **Στιγμιότυπο**: (λειτουργεί μόνο με το Microsoft SQL Server) [παραγωγής Delta προβολές με τη χρήση στιγμιότυπα](https://technet.microsoft.com/library/cc720640.aspx)
- **Παρακολούθηση αλλαγών**: (λειτουργεί μόνο με το Microsoft SQL Server) [σχετικά με την παρακολούθηση αλλαγών](https://msdn.microsoft.com/library/bb933875.aspx)  
Περιορισμοί:
    - Αγκύρωση & DN χαρακτηριστικού πρέπει να είναι μέρος του πρωτεύοντος κλειδιού για το επιλεγμένο αντικείμενο στον πίνακα.
    - Ερώτημα SQL που δεν υποστηρίζεται κατά τη διάρκεια της εισαγωγής και εξαγωγής με παρακολούθηση αλλαγών.

**Πρόσθετες παράμετροι**: Καθορίστε τη ζώνη ώρας διακομιστή βάσης δεδομένων που υποδεικνύει όπου βρίσκεται το διακομιστή βάσης δεδομένων. Αυτή η τιμή χρησιμοποιείται για την υποστήριξη οι διάφορες μορφές ημερομηνίας και ώρας χαρακτηριστικών.

Η γραμμή σύνδεσης αποθηκεύει πάντα ημερομηνία και την ημερομηνία-ώρα σε μορφή UTC. Πρέπει να καθοριστεί για να μπορέσετε να μετατρέψετε σωστά την ημερομηνία και ώρα, τη ζώνη ώρας του διακομιστή βάσης δεδομένων και τη μορφή που χρησιμοποιείται. Η μορφοποίηση θα πρέπει να εκφράζεται σε μορφή .net.

Κατά την εξαγωγή πρέπει να δοθεί κάθε χαρακτηριστικό ώρας ημερομηνίας στη γραμμή σύνδεσης σε μορφή ώρας UTC.

![globalparameters2](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters2.png)

**Ρύθμιση παραμέτρων του κωδικού πρόσβασης**: τη γραμμή σύνδεσης παρέχει δυνατότητες συγχρονισμό κωδικού πρόσβασης και υποστηρίζει ορίσετε και να αλλάξετε τον κωδικό πρόσβασης.

Η γραμμή σύνδεσης παρέχει δύο μεθόδους για την υποστήριξη συγχρονισμό κωδικού πρόσβασης:

- **Αποθηκευμένη διαδικασία**: Αυτή η μέθοδος απαιτεί δύο αποθηκευμένες διαδικασίες για την υποστήριξη Ορισμός & Αλλαγή κωδικού πρόσβασης. Πληκτρολογήστε όλες τις παραμέτρους για προσθήκη και αλλαγή της λειτουργίας τον κωδικό πρόσβασης στο πλαίσιο **Ορισμός SP τον κωδικό πρόσβασης** και **Αλλαγή κωδικού πρόσβασης SP** παραμέτρους αντίστοιχα ως ανά παρακάτω παράδειγμα.
![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters3.png)
- **Επέκταση του κωδικού πρόσβασης**: Αυτή η μέθοδος απαιτεί τον κωδικό πρόσβασης DLL για την επέκταση (πρέπει να παρέχετε το όνομα DLL επέκτασης που υλοποιεί το περιβάλλον εργασίας [IMAExtensible2Password](https://msdn.microsoft.com/library/microsoft.metadirectoryservices.imaextensible2password.aspx) ). Συγκρότησης επέκταση του κωδικού πρόσβασης πρέπει να τοποθετηθούν σε φάκελο επέκταση, έτσι ώστε η γραμμή σύνδεσης να φορτώσετε το DLL κατά το χρόνο εκτέλεσης.
![globalparameters4](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters4.png)

Πρέπει επίσης να ενεργοποιήσετε τη Διαχείριση κωδικών πρόσβασης στη σελίδα **Ρύθμιση παραμέτρων επέκτασης** .
![globalparameters5](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters5.png)

### <a name="configure-partitions-and-hierarchies"></a>Ρύθμιση παραμέτρων διαμερίσματα και ιεραρχίες
Στη σελίδα τα διαμερίσματα και ιεραρχίες, επιλέξτε όλοι οι τύποι αντικειμένων. Κάθε τύπος αντικειμένου είναι το δικό της διαμερίσματα.

![partitions1](./media/active-directory-aadconnectsync-connector-genericsql/partitions1.png)

Επίσης, μπορείτε να παρακάμψετε τις τιμές που προσδιορίζονται στη σελίδα **συνδεσιμότητας** ή **Καθολικές παραμέτρους** .

![partitions2](./media/active-directory-aadconnectsync-connector-genericsql/partitions2.png)

### <a name="configure-anchors"></a>Ρύθμιση παραμέτρων οι αγκυρώσεις
Αυτή η σελίδα είναι μόνο για ανάγνωση, επειδή η αγκύρωση έχει ήδη οριστεί. Το χαρακτηριστικό επιλεγμένο αγκύρωσης προσαρτάται πάντα με τον τύπο αντικειμένου για να βεβαιωθείτε ότι παραμένει μοναδικών τιμών σε τύπους αντικειμένου.

![οι αγκυρώσεις](./media/active-directory-aadconnectsync-connector-genericsql/anchors.png)

## <a name="configure-run-step-parameter"></a>Ρύθμιση παραμέτρων εκτέλεση βήμα παραμέτρου
Αυτά τα βήματα ρυθμίζονται από την εκτέλεση προφίλ στη γραμμή σύνδεσης. Αυτές οι ρυθμίσεις παραμέτρων κάντε την πραγματική εργασία από την εισαγωγή και εξαγωγή δεδομένων.

### <a name="full-and-delta-import"></a>Πλήρης και εισαγωγή Delta
Γενικό σύνδεσης SQL υποστήριξης πλήρους και Delta εισαγωγής χρησιμοποιώντας τις παρακάτω μεθόδους:

- Πίνακας
- Προβολή
- Αποθηκευμένη διαδικασία
- Ερώτημα SQL

![runstep1](./media/active-directory-aadconnectsync-connector-genericsql/runstep1.png)

**Προβολή/πίνακα**  
Για να εισαγάγετε πολλές τιμές χαρακτηριστικά για ένα αντικείμενο, πρέπει να παρέχετε το όνομα διαχωρισμένο με κόμματα/προβολή πίνακα στο **όνομα της Multi-Valued πίνακα/προβολές** και τις προϋποθέσεις αντίστοιχα συμμετοχή στο τη **συνθήκη συνδέσμου** γονικό πίνακα.

Παράδειγμα: Που θέλετε να εισαγάγετε το αντικείμενο υπαλλήλου και όλα τα χαρακτηριστικά του πολλαπλών τιμών. Υπάρχουν δύο πίνακες, με το όνομα υπαλλήλου (κύριο πίνακα) και τμήμα (πολλαπλών τιμών).
Κάντε τα εξής:

- Τύπος **υπαλλήλου** στον **Πίνακα/προβολή SP**.
- Πληκτρολογήστε τμήμα στο **όνομα της Multi-Valued προβολές/πίνακα**.
- Πληκτρολογήστε τη συνθήκη συνδέσμου μεταξύ υπαλλήλων & τμήμα με **Συνθήκη συνδέσμου**, για παράδειγμα `Employee.DEPTID=Department.DepartmentID`.
![runstep2](./media/active-directory-aadconnectsync-connector-genericsql/runstep2.png)

**Αποθηκευμένες διαδικασίες**  
![runstep3](./media/active-directory-aadconnectsync-connector-genericsql/runstep3.png)

- Εάν έχετε πολλά δεδομένα, συνιστάται να υλοποιήσετε σελιδοποίηση με τις αποθηκευμένες διαδικασίες.
- Για την αποθηκευμένη διαδικασία για την υποστήριξη σελιδοποίηση, πρέπει να παρέχουν ευρετηρίου Έναρξη και τέλος ευρετηρίου. Ανατρέξτε στο άρθρο: [αποτελεσματικά σελιδοποίηση μεγάλες ποσότητες δεδομένων](https://msdn.microsoft.com/library/bb445504.aspx).
- @StartIndexκαι @EndIndex αντικαθίστανται κατά το χρόνο εκτέλεσης με τιμή μέγεθος αντίστοιχη σελίδα που έχει ρυθμιστεί στη σελίδα **Ρύθμιση παραμέτρων βήμα** . Για παράδειγμα, όταν η γραμμή σύνδεσης ανακτά στην πρώτη σελίδα και το μέγεθος της σελίδας έχει οριστεί 500, σε αυτή την περίπτωση @StartIndex θα ήταν 1 και @EndIndex 500. Αυτές οι τιμές αύξηση όταν σύνδεσης ανακτά οι επόμενες σελίδες και αλλάξτε το @StartIndex & @EndIndex τιμή.
- Για να εκτελέσετε αποθηκευμένη διαδικασία με παραμέτρους, παρέχουν οι παράμετροι `[Name]:[Direction]:[Value]` μορφή. Εισαγάγετε κάθε παράμετρο σε ξεχωριστή γραμμή (χρήση Ctrl + Enter για να λάβετε μια νέα γραμμή).
- Γενικό σύνδεσης SQL υποστηρίζει επίσης λειτουργία εισαγωγής από διακομιστές συνδεδεμένο στο Microsoft SQL Server. Εάν πρέπει να ανακτηθούν πληροφορίες από έναν πίνακα στο συνδεδεμένο διακομιστή, θα πρέπει να παρέχονται πίνακα με τη μορφή:`[ServerName].[Database].[Schema].[TableName]`
- Γενικό σύνδεσης SQL υποστηρίζει μόνο τα αντικείμενα που έχουν παρόμοια δομή (τόσο ψευδώνυμο όνομα και τύπο δεδομένων) μεταξύ εκτελέστε βήματα τον εντοπισμό πληροφοριών και σχήματος. Εάν το επιλεγμένο αντικείμενο από το σχήμα και οι πληροφορίες που δόθηκαν στο βήμα εκτέλεση είναι διαφορετικό, στη συνέχεια, γραμμής σύνδεσης SQL είναι δυνατό να υποστηρίζουν αυτόν τον τύπο σενάρια.

**Ερώτημα SQL**  
![runstep4](./media/active-directory-aadconnectsync-connector-genericsql/runstep4.png)

![runstep5](./media/active-directory-aadconnectsync-connector-genericsql/runstep5.png)

- Το σύνολο αποτελεσμάτων πολλών ερωτημάτων που δεν υποστηρίζονται.
- Ερώτημα SQL που υποστηρίζει τη σελιδοποίηση και δώστε έναρξης ευρετηρίου και τέλος ευρετήριο ως μεταβλητή για την υποστήριξη σελιδοποίηση.

### <a name="delta-import"></a>Εισαγωγή Delta
![runstep6](./media/active-directory-aadconnectsync-connector-genericsql/runstep6.png)

Ρύθμιση παραμέτρων εισαγωγής Delta απαιτεί ορισμένες περισσότερες ρύθμιση παραμέτρων σε σύγκριση με πλήρους εισαγωγής.

- Εάν επιλέξετε το έναυσμα ή στιγμιότυπου προσέγγιση για την παρακολούθηση αλλαγών delta, στη συνέχεια, καταχωρήστε βάσης δεδομένων πίνακα ιστορικού ή στιγμιότυπου στο πλαίσιο **πίνακα ιστορικού ή στιγμιότυπου όνομα βάσης δεδομένων** .
- Πρέπει επίσης να δώσετε συνθήκη συνδέσμου μεταξύ του πίνακα ιστορικού και γονικό πίνακα, για παράδειγμα`Employee.ID=History.EmployeeID`
- Για την παρακολούθηση της συναλλαγής στο γονικό πίνακα από τον πίνακα ιστορικού, πρέπει να παρέχετε το όνομα της στήλης που περιέχει τις πληροφορίες λειτουργία (Προσθήκη/ενημέρωση/διαγραφή).
- Εάν επιλέξετε το υδατογράφημα για την παρακολούθηση αλλαγών delta, στη συνέχεια, καταχωρήστε το όνομα της στήλης που περιέχει τις πληροφορίες λειτουργίας στο **Όνομα της στήλης σήμανση νερό**.
- Η στήλη **Αλλαγή χαρακτηριστικό τύπου** είναι απαραίτητη για την αλλαγή τύπου. Αυτή η στήλη αντιστοιχίζει μια αλλαγή που παρουσιάζεται στον πρωτεύοντα πίνακα ή πίνακα πολλαπλών τιμών σε έναν τύπο αλλαγή στην προβολή delta. Αυτή η στήλη μπορεί να περιέχει τον τύπο αλλαγής Modify_Attribute για αλλαγή επιπέδου χαρακτηριστικό ή μια προσθήκη, τροποποίηση, ή διαγραφή Αλλαγή τύπου για έναν τύπο Αλλαγή επιπέδου αντικειμένου. Εάν είναι διαφορετική από την προεπιλεγμένη τιμή Προσθήκη, τροποποίηση, ή διαγραφή, στη συνέχεια, μπορείτε να ορίσετε αυτές τις τιμές χρησιμοποιώντας αυτήν την επιλογή.

### <a name="export"></a>Εξαγωγή
![runstep7](./media/active-directory-aadconnectsync-connector-genericsql/runstep7.png)

Υποστήριξη γενικής χρήσης σύνδεσης SQL εξαγωγή χρήση τέσσερις μέθοδοι που υποστηρίζονται, όπως:

- Πίνακας
- Προβολή
- Αποθηκευμένη διαδικασία
- Ερώτημα SQL

**Προβολή/πίνακα**  
Εάν επιλέξετε την επιλογή πίνακα/προβολή, στη συνέχεια, η γραμμή σύνδεσης δημιουργεί τα αντίστοιχα ερωτήματα για την εξαγωγή.

**Αποθηκευμένες διαδικασίες**  
![runstep8](./media/active-directory-aadconnectsync-connector-genericsql/runstep8.png)

Εάν επιλέξετε την επιλογή αποθηκευμένη διαδικασία, η εξαγωγή απαιτεί τρεις διαφορετικές αποθηκευμένες διαδικασίες για την εκτέλεση λειτουργιών εισαγωγή/ενημέρωση/διαγραφή.

- **Προσθήκη ονόματος SP**: αυτή SP εκτελείται εάν οποιοδήποτε αντικείμενο παραδίδεται connector για εισαγωγής στον πίνακα αντίστοιχα.
- **Ενημέρωση όνομα SP**: αυτή SP εκτελείται εάν οποιοδήποτε αντικείμενο παραδίδεται connector για ενημέρωση στον αντίστοιχο πίνακα.
- **Διαγραφή ονόματος SP**: αυτή SP εκτελείται εάν οποιοδήποτε αντικείμενο έρχεται στη γραμμή σύνδεσης για διαγραφή στον αντίστοιχο πίνακα.
- Χαρακτηριστικό επιλεγεί από το σχήμα που χρησιμοποιείται ως μια τιμή παραμέτρου για την αποθηκευμένη διαδικασία. Για παράδειγμα, `EmployeeName: INPUT: @EmployeeName` (EmployeeName είναι επιλεγμένο στο σχήμα γραμμής σύνδεσης και τη γραμμή σύνδεσης αντικαθιστά την αντίστοιχη τιμή ενώ κάνετε εξαγωγή)
- Για να εκτελέσετε αποθηκευμένη διαδικασία με παραμέτρους, παρέχουν παραμέτρων σε `[Name]:[Direction]:[Value]` μορφή. Εισαγάγετε κάθε παράμετρο σε ξεχωριστή γραμμή (χρήση Ctrl + Enter για να λάβετε μια νέα γραμμή).

**Ερώτημα SQL**  
![runstep9](./media/active-directory-aadconnectsync-connector-genericsql/runstep9.png)

Εάν επιλέξετε την επιλογή ερωτήματος SQL, η εξαγωγή απαιτεί τρία διαφορετικά ερωτήματα για την εκτέλεση λειτουργιών εισαγωγή/ενημέρωση/διαγραφή.

- **Εισαγωγή ερωτήματος**: αυτό το ερώτημα εκτελείται εάν οποιοδήποτε αντικείμενο παραδίδεται connector για εισαγωγής στον πίνακα αντίστοιχα.
- **Ενημέρωση ερωτήματος**: αυτό το ερώτημα εκτελείται εάν οποιοδήποτε αντικείμενο παραδίδεται connector για ενημέρωση στον αντίστοιχο πίνακα.
- **Διαγραφή ερωτήματος**: αυτό το ερώτημα εκτελείται εάν οποιοδήποτε αντικείμενο έρχεται στη γραμμή σύνδεσης για διαγραφή στον αντίστοιχο πίνακα.
- Χαρακτηριστικό επιλεγεί από το σχήμα που χρησιμοποιείται ως μια τιμή παραμέτρου για το ερώτημα, για παράδειγμα`Insert into Employee (ID, Name) Values (@ID, @EmployeeName)`

## <a name="troubleshooting"></a>Αντιμετώπιση προβλημάτων

-   Για πληροφορίες σχετικά με τον τρόπο για να ενεργοποιήσετε την καταγραφή για την αντιμετώπιση προβλημάτων στη γραμμή σύνδεσης, ανατρέξτε στο θέμα [πώς μπορείτε να ενεργοποιήσετε την ανίχνευση ETW για γραμμές σύνδεσης](http://go.microsoft.com/fwlink/?LinkId=335731).
