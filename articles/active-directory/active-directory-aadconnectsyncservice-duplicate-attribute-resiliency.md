<properties
    pageTitle="Υποστηρίζεται ταυτότητας το συγχρονισμό και την αναπαραγωγή χαρακτηριστικό | Microsoft Azure"
    description="Νέα συμπεριφορά του τρόπου χειρισμού αντικείμενα με διενέξεις (UPN) ή ProxyAddress κατά τη διάρκεια του συγχρονισμού καταλόγου χρησιμοποιώντας Azure AD Connect."
    services="active-directory"
    documentationCenter=""
    authors="markusvi"
    manager="femila"
    editor=""/>

<tags
    ms.service="active-directory"
    ms.workload="identity"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/29/2016"
    ms.author="markusvi"/>



# <a name="identity-synchronization-and-duplicate-attribute-resiliency"></a>Υποστηρίζεται χαρακτηριστικό ταυτότητας το συγχρονισμό και την αναπαραγωγή
Διπλότυπο χαρακτηριστικό ανοχή είναι μια δυνατότητα στο Azure Active Directory που θα αποφύγετε τριβής που προκαλούνται από **UserPrincipalName** και **ProxyAddress** διενέξεις όταν εκτελείται ένα από τα εργαλεία συγχρονισμού της Microsoft.

Αυτά τα δύο χαρακτηριστικά απαιτούνται γενικά να είναι μοναδικό σε όλες **χρήστη**, **ομάδας**ή **επαφής** αντικειμένων σε μια δεδομένη μισθωτή Azure Active Directory.

> [AZURE.NOTE] Μόνο οι χρήστες μπορούν να έχουν UPN.

Είναι η νέα συμπεριφορά που αυτή η δυνατότητα επιτρέπει στο cloud τμήμα της της διοχέτευσης συγχρονισμού, επομένως είναι προγράμματος-πελάτη είναι ανεξάρτητο και σχετικές για κάθε προϊόν συγχρονισμού Microsoft συμπεριλαμβανομένων Azure AD Connect, DirSync και MIM + γραμμή σύνδεσης. Ο όρος γενικής χρήσης "πρόγραμμα-πελάτη συγχρονισμού" χρησιμοποιείται σε αυτό το έγγραφο για να αντιπροσωπεύει ένα από αυτά τα προϊόντα.

## <a name="current-behavior"></a>Τρέχουσα συμπεριφορά
Εάν υπάρχει μιας προσπάθειας για την παροχή ενός νέου αντικειμένου με μια τιμή (UPN) ή ProxyAddress που παραβιάζει αυτόν τον περιορισμό μοναδικότητας, Azure Active Directory αποκλείει δημιουργία αυτό το αντικείμενο. Ομοίως, εάν ένα αντικείμενο είναι ενημερωθεί με μια μη μοναδικής (UPN) ή ProxyAddress, η ενημέρωση θα αποτύχει. Την απόπειρα παροχής ή την ενημέρωση είναι επαναληφθεί από το πρόγραμμα-πελάτη συγχρονισμού με κάθε κύκλου εξαγωγή και εξακολουθεί να αποτυγχάνει μέχρι να επιλυθεί η διένεξη. Δημιουργείται ένα μήνυμα ηλεκτρονικού ταχυδρομείου αναφορά σφάλματος κατά την προσπάθεια κάθε και σφάλμα έχει συνδεθεί με το πρόγραμμα-πελάτη συγχρονισμού.

## <a name="behavior-with-duplicate-attribute-resiliency"></a>Συμπεριφορά με ανοχή Διπλότυπο χαρακτηριστικό
Αντί να εντελώς αποτυγχάνει να προμηθεύσουν και να ενημερώσετε ένα αντικείμενο με ένα διπλότυπο χαρακτηριστικό, Azure Active Directory "τοποθετήσει σε καραντίνα" το Διπλότυπο χαρακτηριστικό, το οποίο θα παραβίαση του περιορισμού μοναδικότητας. Εάν το χαρακτηριστικό είναι απαραίτητο για την προμήθεια του, όπως UserPrincipalName, η υπηρεσία αντιστοιχίζει μια τιμή κράτησης θέσης. Είναι η μορφή για αυτές τις τιμές προσωρινά  
"***<OriginalPrefix>+<4DigitNumber>@<InitialTenantDomain>. onmicrosoft.com***".  
Εάν το χαρακτηριστικό δεν είναι απαραίτητη, όπως ένα **ProxyAddress**, τοποθετήσει το χαρακτηριστικό διένεξης σε καραντίνα απλώς Azure Active Directory και συνεχίζει με τη δημιουργία αντικειμένων ή update.

Κατά την απομόνωσης το χαρακτηριστικό, αποστέλλονται πληροφορίες σχετικά με τη διένεξη στο ίδιο email αναφορά σφάλματος χρησιμοποιείται στην παλιά συμπεριφορά. Ωστόσο, αυτή η κατάσταση εμφανίζεται μόνο στην αναφορά σφάλματος μία φορά, όταν συμβαίνει το απομόνωσης, αυτό δεν συνεχίζει να συνδεθείτε σε μελλοντικά μηνύματα ηλεκτρονικού ταχυδρομείου. Επίσης, επειδή η εξαγωγή για αυτό το αντικείμενο ολοκληρώθηκε με επιτυχία, το πρόγραμμα-πελάτη συγχρονισμού δεν καταγράφει ένα μήνυμα σφάλματος και επανάληψης όχι η δημιουργία / ενημέρωση λειτουργία κατά κύκλους επόμενες συγχρονισμού.

Για να υποστηρίζουν αυτήν τη συμπεριφορά ενός νέου χαρακτηριστικού έχει προστεθεί στις κλάσεις αντικείμενο χρήστη, ομάδας και επαφών:  
**DirSyncProvisioningErrors**

Αυτό είναι ένα χαρακτηριστικό πολλών τιμών που χρησιμοποιείται για να αποθηκεύσετε τα χαρακτηριστικά που βρίσκονται σε διένεξη που θα παραβίαση του περιορισμού μοναδικότητας αυτά προστίθενται οι κανονικά. Έχει ενεργοποιηθεί η εργασίας χρονομέτρησης φόντου στην Azure Active Directory που θα εκτελείται κάθε ώρα για να αναζητήσετε διπλότυπες χαρακτηριστικό διενέξεων που έχουν επιλυθεί και καταργεί αυτόματα τα εν λόγω χαρακτηριστικά από την καραντίνα.

### <a name="enabling-duplicate-attribute-resiliency"></a>Ενεργοποίηση ανοχή Διπλότυπο χαρακτηριστικό
Διπλότυπο χαρακτηριστικό ανοχή θα είναι η νέα προεπιλεγμένη συμπεριφορά κατά μήκος όλα μισθωτές Azure Active Directory. Ότι θα είναι ενεργοποιημένη από προεπιλογή για όλες τις μισθωτές που με δυνατότητα συγχρονισμού για πρώτη φορά σε 22η Αυγούστου 2016 ή νεότερη έκδοση. Μισθωτές που με δυνατότητα συγχρονισμού πριν από αυτήν την ημερομηνία θα έχουν τη δυνατότητα ενεργοποιημένη σε δέσμες. Υλοποίηση αυτό θα ξεκινήσει στο 2016 Σεπτεμβρίου και μια ειδοποίηση ηλεκτρονικού ταχυδρομείου θα σταλεί του μισθωτή κάθε επαφή τεχνική ειδοποίηση με μια συγκεκριμένη ημερομηνία πότε θα είναι ενεργοποιημένη η δυνατότητα.

Όταν έχει ενεργοποιηθεί διπλότυπες ανοχή χαρακτηριστικού δεν μπορεί να απενεργοποιηθεί.

Για να ελέγξετε εάν είναι ενεργοποιημένη η δυνατότητα για το μισθωτή, μπορείτε να το κάνετε κάνοντας λήψη την πιο πρόσφατη έκδοση του τη λειτουργική μονάδα Azure Active Directory PowerShell και εκτελείται:

`Get-MsolDirSyncFeatures -Feature DuplicateUPNResiliency`

`Get-MsolDirSyncFeatures -Feature DuplicateProxyAddressResiliency`

Εάν θέλετε να ενεργοποιήσετε εκ των προτέρων τη δυνατότητα πριν είναι ενεργοποιημένη για το μισθωτή, μπορείτε να το κάνετε κάνοντας λήψη την πιο πρόσφατη έκδοση του τη λειτουργική μονάδα Azure Active Directory PowerShell και εκτελείται:

`Set-MsolDirSyncFeature -Feature DuplicateUPNResiliency -Enable $true`

`Set-MsolDirSyncFeature -Feature DuplicateProxyAddressResiliency -Enable $true`

## <a name="identifying-objects-with-dirsyncprovisioningerrors"></a>Εντοπισμός αντικειμένων με DirSyncProvisioningErrors
Υπάρχουν αυτήν τη στιγμή δύο μέθοδοι για να εντοπίσετε τα αντικείμενα που περιέχουν αυτά τα σφάλματα λόγω διενέξεων διπλών ιδιοτήτων, Azure Active Directory PowerShell και πύλη διαχείρισης του Office 365. Υπάρχουν προγράμματα για να επεκτείνετε επιπλέον πύλης με βάση αναφοράς στο μέλλον.

### <a name="azure-active-directory-powershell"></a>PowerShell καταλόγου Azure Active Directory
Για τα cmdlet του PowerShell σε αυτό το θέμα, τα παρακάτω είναι αληθές:

- Όλα τα ακόλουθα cmdlet είναι διάκριση πεζών-κεφαλαίων.
- Το **– ErrorCategory PropertyConflict** πρέπει πάντα να συμπεριλαμβάνονται. Υπάρχουν αυτήν τη στιγμή δεν υπάρχει άλλους τύπους **ErrorCategory**, αλλά αυτό μπορεί να επεκταθεί στο μέλλον.

Πρώτα, ξεκινήστε εκτελώντας **Σύνδεση MsolService** και εισαγωγή διαπιστευτηρίων για διαχειριστής μισθωτή.

Στη συνέχεια, χρησιμοποιήστε τις παρακάτω cmdlet του και τους τελεστές για να δείτε τα σφάλματα με διάφορους τρόπους:

1. [Δείτε όλες](#see-all)

2. [Κατά τύπο ιδιότητας](#by-property-type)

3. [Από την τιμή που βρίσκονται σε διένεξη](#by-conflicting-value)

4. [Χρήση μιας συμβολοσειράς αναζήτησης](#using-a-string-search)

5. [Ταξινομημένες](#sorted)

6. [Σε μια περιορισμένη ποσότητα ή όλα](#in-a-limited-quantity-or-all)


#### <a name="see-all"></a>Δείτε όλες
Μετά τη σύνδεση, για να δείτε μια γενική λίστα των χαρακτηριστικών προμήθεια σφάλματα στο μισθωτή εκτελέσετε:

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict`

Αυτό παράγει ένα αποτέλεσμα όπως το εξής:  
 ![Get-MsolDirSyncProvisioningError](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1.png "Get-MsolDirSyncProvisioningError")  


#### <a name="by-property-type"></a>Κατά τύπο ιδιότητας
Για να δείτε τα σφάλματα κατά τύπο ιδιότητας, προσθέστε τη σημαία **- PropertyName** με το όρισμα **UserPrincipalName** ή **ProxyAddresses** :

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName UserPrincipalName`

Ή

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName ProxyAddresses`

#### <a name="by-conflicting-value"></a>Από την τιμή που βρίσκονται σε διένεξη
Για να δείτε τα σφάλματα που σχετίζονται με μια συγκεκριμένη ιδιότητα προσθέστε τη σημαία **- PropertyValue** (**- PropertyName** πρέπει να χρησιμοποιείται επίσης κατά την προσθήκη αυτής της σημαίας):

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyValue User@domain.com -PropertyName UserPrincipalName`


#### <a name="using-a-string-search"></a>Χρήση μιας συμβολοσειράς αναζήτησης
Για να κάνετε μια ευρεία συμβολοσειρά αναζήτησης Χρησιμοποιήστε τη σημαία **- SearchString** . Αυτό μπορεί να χρησιμοποιηθεί ανεξάρτητα από όλες τις παραπάνω σημαίες, με εξαίρεση τα **-ErrorCategory PropertyConflict**, που είναι πάντα απαιτείται:

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -SearchString User`

#### <a name="in-a-limited-quantity-or-all"></a>Σε μια περιορισμένη ποσότητα ή όλα
1. **MaxResults <Int> ** μπορούν να χρησιμοποιηθούν για να περιορίσετε το ερώτημα σε ένα συγκεκριμένο πλήθος των τιμών.

2. Για να βεβαιωθείτε ότι όλα τα αποτελέσματα ανακτώνται στην περίπτωση που υπάρχει μεγάλου αριθμού σφαλμάτων μπορεί να χρησιμοποιηθεί **όλων** .

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -MaxResults 5`

## <a name="office-365-admin-portal"></a>Πύλη διαχείρισης του Office 365

Μπορείτε να προβάλετε τα σφάλματα συγχρονισμού καταλόγου στο Κέντρο διαχείρισης του Office 365. Η αναφορά στην πύλη του Office 365 εμφανίζει μόνο αντικείμενα **χρήστη** που έχετε αυτά τα σφάλματα. Δεν εμφανίζει πληροφορίες σχετικά με τις διενέξεις ανάμεσα σε **ομάδες** και **τις επαφές**.


![Ενεργοί χρήστες] (./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1234.png "Ενεργοί χρήστες")

Για οδηγίες σχετικά με τον τρόπο για να δείτε τα σφάλματα συγχρονισμού καταλόγου στο Κέντρο διαχείρισης του Office 365, ανατρέξτε στο θέμα [αναγνώριση σφαλμάτων συγχρονισμού καταλόγου στο Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067).


### <a name="identity-synchronization-error-report"></a>Αναφορά σφάλματος συγχρονισμού ταυτότητας
Όταν γίνεται ένα αντικείμενο με διένεξη Διπλότυπο χαρακτηριστικό με αυτήν τη νέα συμπεριφορά συμπεριλαμβάνεται μια ειδοποίηση στη βασική αναφορά σφάλματος συγχρονισμού ταυτότητας ηλεκτρονικού ταχυδρομείου που αποστέλλονται σε αυτήν την τεχνική ειδοποίηση επαφής για το μισθωτή. Ωστόσο, υπάρχει μια σημαντική αλλαγή σε αυτήν τη συμπεριφορά. Στο παρελθόν, πληροφορίες σχετικά με τη διένεξη Διπλότυπο χαρακτηριστικό θα συμπεριληφθούν στο κάθε αναφορά σφάλματος οι επόμενες μέχρι η διένεξη έχει επιλυθεί. Με αυτήν τη νέα συμπεριφορά, η ειδοποίηση σφάλματος για μια δεδομένη διένεξη εμφανίζεται μόνο μία φορά - την ώρα που είναι σε καραντίνα το χαρακτηριστικό που βρίσκονται σε διένεξη.

Ακολουθεί ένα παράδειγμα του τι εμφανίζεται η ειδοποίηση μέσω ηλεκτρονικού ταχυδρομείου για μια διένεξη ProxyAddress:  
    ![Ενεργοί χρήστες](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")  

## <a name="resolving-conflicts"></a>Επίλυση διενέξεων
Αντιμετώπιση προβλημάτων στρατηγική και ανάλυση τακτικές για αυτά τα σφάλματα δεν πρέπει να διαφέρουν από το χειρισμό των διπλότυπων χαρακτηριστικό σφάλματα έχουν στο παρελθόν. Η μόνη διαφορά είναι ότι η εργασία χρονομέτρησης Εκκαθαρίσεις μέσω του μισθωτή στην πλευρά της υπηρεσίας για να προσθέσετε αυτόματα το εν λόγω χαρακτηριστικό το πρώτο γράμμα κάθε λέξης αντικείμενο μόλις επίλυση της διένεξης.

Το ακόλουθο άρθρο περιγράφει διάφορες στρατηγικές αντιμετώπιση και επίλυση προβλημάτων: [αναπαραγωγή ή μη έγκυρα χαρακτηριστικά που αποτρέπουν το συγχρονισμό καταλόγου στο Office 365](https://support.microsoft.com/kb/2647098).

## <a name="known-issues"></a>Γνωστά θέματα
Κανένα από αυτά τα γνωστά ζητήματα έχει ως αποτέλεσμα υποβάθμιση απώλεια ή υπηρεσία δεδομένων. Πολλές από αυτές έχουν αισθητικής, άλλους τυπικές "*προ-ανοχή*" Διπλότυπο χαρακτηριστικό να προκαλέσει σφάλματα είναι προέκυψε αντί για το χαρακτηριστικό διένεξης απομόνωσης και μια άλλη προκαλεί ορισμένα σφάλματα ώστε να απαιτεί επιπλέον μη αυτόματη επιδιόρθωση ασφαλείας.

**Συμπεριφορά πυρήνα:**

1. Αντικείμενα με συγκεκριμένο χαρακτηριστικό ρυθμίσεις παραμέτρων συνεχίζετε να λαμβάνετε σφάλματα εξαγωγή σε σύγκριση με το διπλότυπο χαρακτηριστικά που έχει τεθεί σε καραντίνα.  
Για παράδειγμα:

    μια. Νέος χρήστης δημιουργείται στο AD με το UPN του **Joe@contoso.com** και ProxyAddress**smtp:Joe@contoso.com**

    β. Υπάρχει διένεξη μεταξύ των ιδιοτήτων αυτού του αντικειμένου με μια υπάρχουσα ομάδα, όπου είναι ProxyAddress **SMTP:Joe@contoso.com**.

    c. Κατά την εξαγωγή, ένα σφάλμα **ProxyAddress διένεξης** προκαλείται, αντί να χρειάζεται τα χαρακτηριστικά βρίσκονται σε διένεξη σε καραντίνα. Η λειτουργία έχει επαναληφθεί σε κάθε κύκλο οι επόμενες συγχρονισμού, όπως θα ήταν πριν από την ήταν ενεργοποιημένη η δυνατότητα υποστηρίζεται.

2. Εάν δύο ομάδες δημιουργούνται εσωτερικής εγκατάστασης με την ίδια διεύθυνση SMTP, μία αποτυγχάνει για την παροχή των με την πρώτη προσπάθεια με ένα τυπικό σφάλμα διπλότυπων **ProxyAddress** . Ωστόσο, τη διπλότυπη τιμή που είναι σωστά σε καραντίνα κατά την επόμενη περίοδο συγχρονισμού.

**Αναφορά πύλης του office**:

1. Το μήνυμα σφάλματος λεπτομερείς για δύο αντικείμενα σε ένα σύνολο διένεξης UPN είναι η ίδια. Αυτό υποδεικνύει ότι που έχετε και τα δύο είχαν τους UPN αλλάξει / σε καραντίνα, όταν στην πραγματικότητα μόνο ένα από αυτά τα δεδομένα που έχουν αλλάξει.

2. Το μήνυμα σφάλματος λεπτομερείς για μια διένεξη UPN εμφανίζει το λάθος εμφανιζόμενο όνομα για ένα χρήστη που έχει τους UPN αλλάξει/σε καραντίνα. Για παράδειγμα:

    μια. **Ο χρήστης A** συγχρονίζει πρώτα με **UPN = User@contoso.com **.

    β. **B χρήστη** είναι επιχειρήσατε να συγχρονίζονται ακολουθεί με **UPN = User@contoso.com **.

    c. **Ο χρήστης του B** UPN αλλάζει σε **User1234@contoso.onmicrosoft.com** και **User@contoso.com** προστίθεται **DirSyncProvisioningErrors**.

    d. Το μήνυμα σφάλματος για το **Χρήστη Β** θα πρέπει να υποδείξετε ότι **χρήστη A** έχει ήδη **User@contoso.com** όπως UPN, αλλά εμφανίζει displayName δικό **Του χρήστη Β** .



**Αναφορά σφάλματος συγχρονισμού ταυτότητας**:

Η σύνδεση για *οδηγίες σχετικά με τον τρόπο για να επιλύσετε αυτό το ζήτημα* είναι εσφαλμένο:  
    ![Ενεργοί χρήστες](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")  

Αυτό πρέπει να κατευθύνουν στο [https://aka.ms/duplicateattributeresiliency](https://aka.ms/duplicateattributeresiliency).


## <a name="see-also"></a>Δείτε επίσης

- [Συγχρονισμός Azure AD Connect](active-directory-aadconnectsync-whatis.md)

- [Ενοποίηση του ταυτοτήτων εσωτερικής εγκατάστασης με το Azure Active Directory](active-directory-aadconnect.md)

- [Προσδιορισμός σφάλματα συγχρονισμού καταλόγου στο Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067)
