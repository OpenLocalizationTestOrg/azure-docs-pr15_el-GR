<properties
   pageTitle="Azure AD Connect συγχρονισμού: Scheduler | Microsoft Azure"
   description="Αυτό το θέμα περιγράφει τη δυνατότητα ενσωματωμένη χρονοδιάγραμμα στο Azure AD Connect συγχρονισμός."
   services="active-directory"
   documentationCenter=""
   authors="AndKjell"
   manager="femila"
   editor=""/>

<tags
   ms.service="active-directory"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="identity"
   ms.date="08/04/2016"
   ms.author="billmath"/>

# <a name="azure-ad-connect-sync-scheduler"></a>Azure AD Connect συγχρονισμού: Χρονοδιάγραμμα
Αυτό το θέμα περιγράφει το ενσωματωμένο χρονοδιάγραμμα στο συγχρονισμός Azure AD Connect (ρομποτική μηχανισμός συγχρονισμού).

Αυτή η δυνατότητα Παρουσιάστηκε με Δόμηση 1.1.105.0 (κυκλοφορήσει Φεβρουαρίου 2016).

## <a name="overview"></a>Επισκόπηση
Azure AD Connect συγχρονισμού θα συγχρονίσει τις αλλαγές συμβαίνει στον κατάλογο εσωτερικής εγκατάστασης χρησιμοποιώντας ένα χρονοδιάγραμμα. Υπάρχουν δύο διεργασίες χρονοδιάγραμμα, μία για το συγχρονισμό κωδικού πρόσβασης και άλλο για το αντικείμενο/χαρακτηριστικό συγχρονισμού και εργασίες συντήρησης. Αυτό το θέμα καλύπτει το τελευταίο.

Σε παλαιότερες εκδόσεις το χρονοδιάγραμμα για αντικείμενα και χαρακτηριστικά ήταν εκτός του μηχανισμού συγχρονισμού και το Χρονοδιάγραμμα εργασιών των Windows ή μια ξεχωριστή υπηρεσία των Windows που χρησιμοποιήθηκε για να ενεργοποιήσετε τη διαδικασία συγχρονισμού. Είναι το χρονοδιάγραμμα με τα ενσωματωμένα 1.1 εκδόσεις για το συγχρονισμό μηχανισμό και να επιτρέψετε ορισμένες προσαρμογής. Η νέα προεπιλεγμένη συχνότητα συγχρονισμού είναι 30 λεπτά.

Το χρονοδιάγραμμα είναι υπεύθυνος για δύο εργασίες:

- **Κυκλική εναλλαγή συγχρονισμού**. Η διαδικασία για να εισαγάγετε, συγχρονισμός και εξαγωγή αλλαγές.
- **Εργασίες συντήρησης**. Ανανέωση κλειδιά και πιστοποιητικά για επαναφορά του κωδικού πρόσβασης και συσκευή εγγραφής υπηρεσίας (DRS). Εκκαθάριση παλιές εγγραφές στο αρχείο καταγραφής λειτουργίες.

Το χρονοδιάγραμμα ίδια εκτελείται πάντα, αλλά μπορούν να ρυθμιστούν για να εκτελέσετε μόνο μία ή καμία από αυτές τις εργασίες. Για παράδειγμα εάν πρέπει να έχετε τις δικές σας διαδικασία κύκλος συγχρονισμού, μπορείτε να απενεργοποιήσετε αυτήν την εργασία από το χρονοδιάγραμμα αλλά να εξακολουθείτε να εκτελέσετε την εργασία συντήρηση.

## <a name="scheduler-configuration"></a>Ρύθμιση παραμέτρων χρονοδιαγράμματος
Για να δείτε τις τρέχουσες ρυθμίσεις παραμέτρων, μεταβείτε στο PowerShell και εκτέλεση `Get-ADSyncScheduler`. Αυτό θα σας δείξουν κάπως έτσι:

![GetSyncScheduler](./media/active-directory-aadconnectsync-feature-scheduler/getsynccyclesettings.png)

Εάν βλέπετε **την εντολή συγχρονισμού ή cmdlet δεν είναι διαθέσιμη** όταν εκτελείτε αυτό το cmdlet, στη συνέχεια, της λειτουργικής μονάδας PowerShell δεν φορτώνεται. Αυτό θα μπορούσε να συμβεί εάν εκτελείτε Azure AD Connect στον ελεγκτή τομέα ή σε ένα διακομιστή με υψηλότερη επίπεδα περιορισμού PowerShell από τις προεπιλεγμένες ρυθμίσεις. Εάν δείτε αυτό το σφάλμα, στη συνέχεια, εκτελέστε `Import-Module ADSync` για να διαθέσετε το cmdlet.

- **AllowedSyncCycleInterval**. Η πιο συχνά Azure AD επιτρέπει συγχρονισμών για να προκύψει. Δεν είναι δυνατό να συγχρονιστούν συχνότερα από αυτό και εξακολουθείτε να υποστηρίζονται.
- **CurrentlyEffectiveSyncCycleInterval**. Το χρονοδιάγραμμα αυτήν τη στιγμή στο εφέ. Θα έχει την ίδια τιμή με CustomizedSyncInterval (Εάν ορίσετε) Εάν δεν είναι πιο συχνά από AllowedSyncInterval. Εάν αλλάξετε CustomizedSyncCycleInterval, αυτό θα ισχύσει μετά την επόμενη περίοδο συγχρονισμού.
- **CustomizedSyncCycleInterval**. Εάν θέλετε το χρονοδιάγραμμα για να εκτελέσετε οποιαδήποτε άλλα συχνότητα από την προεπιλεγμένη 30 λεπτά, θα μπορείτε να ρυθμίσετε αυτήν τη ρύθμιση. Στην εικόνα επάνω από το χρονοδιάγραμμα έχει οριστεί να εκτελείται κάθε ώρα αντί για αυτό. Εάν αυτό με μια τιμή μικρότερη από AllowedSyncInterval, το τελευταίο θα χρησιμοποιηθεί.
- **NextSyncCyclePolicyType**. Delta ή αρχικά. Καθορίζει εάν την επόμενη εκτέλεση, πρέπει να μόνο αλλαγές delta διαδικασιών, ή εάν την επόμενη εκτέλεση θα πρέπει να κάνετε μια πλήρη εισαγωγή και συγχρονισμός, που θα επανάληψη επίσης επεξεργασία οποιαδήποτε νέα ή τροποποιημένα κανόνων.
- **NextSyncCycleStartTimeInUTC**. Επόμενη φορά που το χρονοδιάγραμμα θα ξεκινήσει την επόμενη περίοδο συγχρονισμού.
- **PurgeRunHistoryInterval**. Ο χρόνος που πρέπει να διατηρούνται αρχεία καταγραφής λειτουργίας. Αυτά μπορείτε να αναθεωρήσετε στη Διαχείριση υπηρεσίας συγχρονισμού. Η προεπιλογή είναι να διατηρήσετε τα εξής για διάστημα 7 ημερών.
- **SyncCycleEnabled**. Υποδεικνύει εάν το χρονοδιάγραμμα εκτελείται η εισαγωγή συγχρονισμού και διεργασίες εξαγωγή ως μέρος του τη λειτουργία.
- **MaintenanceEnabled**. Εμφανίζει εάν είναι ενεργοποιημένη η διαδικασία συντήρηση. Θα ενημερώσετε τα πιστοποιητικά/πλήκτρα και εκκαθάριση του αρχείου καταγραφής λειτουργίες.
- **IsStagingModeEnabled**. Εμφανίζει εάν είναι ενεργοποιημένη η [ενδιάμεσου λειτουργία](active-directory-aadconnectsync-operations.md#staging-mode) .

Μπορείτε να αλλάξετε ορισμένες από αυτές τις ρυθμίσεις με `Set-ADSyncScheduler`. Είναι δυνατή η τροποποίηση τις ακόλουθες παραμέτρους:

- CustomizedSyncCycleInterval
- NextSyncCyclePolicyType
- PurgeRunHistoryInterval
- SyncCycleEnabled
- MaintenanceEnabled

Η ρύθμιση παραμέτρων χρονοδιαγράμματος αποθηκεύεται στο Azure AD. Εάν έχετε ένα διακομιστή δοκιμής, οποιαδήποτε αλλαγή στο κύριο διακομιστή θα επιφέρει διακομιστή δοκιμής (με εξαίρεση τα IsStagingModeEnabled).

### <a name="customizedsynccycleinterval"></a>CustomizedSyncCycleInterval
Σύνταξη:`Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`  
δ - ημέρες, ΩΩ - ώρες, mm - λεπτά, δδ - δευτερόλεπτα

Παράδειγμα:`Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`  
Θα αλλάξει το χρονοδιάγραμμα για να εκτελέσετε κάθε 3 ώρες.

Παράδειγμα:`Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`  
Θα αλλάξει το χρονοδιάγραμμα για να εκτελείται κάθε μέρα.

## <a name="start-the-scheduler"></a>Ξεκινήστε το χρονοδιάγραμμα
Το χρονοδιάγραμμα, από προεπιλογή θα εκτελείται κάθε 30 λεπτά. Σε ορισμένες περιπτώσεις ίσως θέλετε να εκτελέσετε έναν κύκλο συγχρονισμού ανάμεσα στα τους κύκλους προγραμματισμένη ή χρειάζεστε για να εκτελέσετε έναν διαφορετικό τύπο.

**Κύκλος συγχρονισμού Delta**  
Ένας κύκλος συγχρονισμού delta περιλαμβάνει τα παρακάτω βήματα:

- Εισαγωγή Delta σε όλες τις γραμμές σύνδεσης
- Συγχρονισμός Delta με όλες τις γραμμές σύνδεσης
- Εξαγωγή σε όλες τις γραμμές σύνδεσης

Μπορεί να είναι ότι έχετε ένα επείγοντα αλλαγή που πρέπει να συγχρονιστούν αμέσως που είναι ο λόγος που χρειάζεστε για να εκτελέσετε με μη αυτόματο τρόπο έναν κύκλο. Εάν χρειάζεστε για να εκτελέσετε έναν κύκλο, και, στη συνέχεια, από το PowerShell, εκτελέστε `Start-ADSyncSyncCycle -PolicyType Delta`.

**Κύκλος πλήρους συγχρονισμού**  
Εάν έχετε κάνει μία από τις ακόλουθες αλλαγές ρύθμισης παραμέτρων, πρέπει να εκτελείτε έναν κύκλο πλήρους συγχρονισμού (ρομποτική Αρχικό):

- Προσθέσατε περισσότερα αντικείμενα ή χαρακτηριστικά προς εισαγωγή από έναν κατάλογο προέλευσης
- Κάνει αλλαγές στο τους κανόνες συγχρονισμού
- Αλλάξει [το φιλτράρισμα](active-directory-aadconnectsync-configure-filtering.md) , επομένως πρέπει να περιλαμβάνονται διαφορετικό αριθμό αντικειμένων

Εάν έχετε κάνει μία από αυτές τις αλλαγές, στη συνέχεια, πρέπει να εκτελέσετε έναν κύκλο πλήρη συγχρονισμό, ώστε ο μηχανισμός συγχρονισμού έχει τη δυνατότητα να δημιουργήσετε πάλι συνολική εικόνα κενά γραμμή σύνδεσης. Ένας κύκλος πλήρη συγχρονισμό περιλαμβάνει τα παρακάτω βήματα:

- Πλήρους εισαγωγής σε όλες τις γραμμές σύνδεσης
- Πλήρης συγχρονισμός με όλες τις γραμμές σύνδεσης
- Εξαγωγή σε όλες τις γραμμές σύνδεσης

Για να ξεκινήσετε έναν πλήρη συγχρονισμό κύκλο, εκτελέστε `Start-ADSyncSyncCycle -PolicyType Initial` από μια γραμμή εντολών του PowerShell. Αυτό θα ξεκινήσει έναν κύκλο πλήρους συγχρονισμού.

## <a name="stop-the-scheduler"></a>Διακοπή του χρονοδιαγράμματος
Εάν το χρονοδιάγραμμα είναι ήδη σε εξέλιξη έναν κύκλο συγχρονισμού που ενδέχεται να χρειαστεί να την διακόψετε. Για παράδειγμα, εάν μπορείτε να ξεκινήσετε τον Οδηγό εγκατάστασης και λαμβάνετε αυτό το σφάλμα:

![SyncCycleRunningError](./media/active-directory-aadconnectsync-feature-scheduler/synccyclerunningerror.png)

Κατά την εκτέλεση ενός κύκλου συγχρονισμού, δεν μπορείτε να κάνετε αλλαγές στη ρύθμιση παραμέτρων. Θα μπορούσατε να περιμένετε μέχρι το χρονοδιάγραμμα έχει ολοκληρωθεί η διαδικασία, αλλά μπορείτε επίσης να διακόψετε την, ώστε να μπορείτε να κάνετε τις αλλαγές σας αμέσως. Διακοπή του τρέχοντος κύκλου δεν είναι επιβλαβείς και θα γίνει επεξεργασία τυχόν αλλαγές που εξακολουθεί να μην υποβάλλονται σε επεξεργασία με επόμενη εκτέλεση.

1. Ξεκινήστε κάνοντας που υποδεικνύει το χρονοδιάγραμμα για να διακόψετε την κύκλου τρέχουσα με το cmdlet του PowerShell `Stop-ADSyncSyncCycle`.
2. Διακοπή το χρονοδιάγραμμα θα διακοπεί η τρέχουσα γραμμή σύνδεσης από την τρέχουσα εργασία. Για να επιβάλετε τη γραμμή σύνδεσης για να διακόψετε, εκτελέστε τις εξής ενέργειες: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)
    - Ξεκινήστε την **Υπηρεσία Sychronization** από το μενού Έναρξη. Μεταβείτε στις **γραμμές σύνδεσης**, επισημάνετε τη γραμμή σύνδεσης με την κατάσταση που **εκτελείται** και επιλέξτε **Διακοπή** από τις ενέργειες.

Το χρονοδιάγραμμα είναι ακόμη ενεργή και θα ξεκινήσει ξανά στην επόμενη ευκαιρία.

## <a name="custom-scheduler"></a>Προσαρμοσμένο χρονοδιάγραμμα
Τα cmdlet που τεκμηριώνονται σε αυτήν την ενότητα είναι μόνο διαθέσιμο στη Δόμηση [1.1.130.0](active-directory-aadconnect-version-history.md#111300) και νεότερες εκδόσεις.

Εάν το ενσωματωμένο scheduler δεν πληροί τις απαιτήσεις σας, μπορείτε να προγραμματίσετε τις συνδέσεις με χρήση του PowerShell.

### <a name="invoke-adsyncrunprofile"></a>Κλήση ADSyncRunProfile
Μπορείτε να ξεκινήσετε ένα προφίλ για μια γραμμή σύνδεσης με αυτόν τον τρόπο:

```
Invoke-ADSyncRunProfile -ConnectorName "name of connector" -RunProfileName "name of profile"
```

Μπορείτε να βρείτε τα ονόματα για να χρησιμοποιήσετε για [τα ονόματα σύνδεσης](active-directory-aadconnectsync-service-manager-ui-connectors.md) και [προφίλ εκτέλεση](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) στο το [Περιβάλλον εργασίας Χρήστη Διαχείριση υπηρεσίας συγχρονισμού](active-directory-aadconnectsync-service-manager-ui.md).

![Κλήση εκτέλεση προφίλ](./media/active-directory-aadconnectsync-feature-scheduler/invokerunprofile.png)  

Το `Invoke-ADSyncRunProfile` cmdlet είναι σύγχρονη, δηλαδή δεν επιστρέφει στοιχείου ελέγχου μέχρι να ολοκληρωθεί η λειτουργία, η γραμμή σύνδεσης, είτε με επιτυχία είτε με το μήνυμα σφάλματος.

Όταν προγραμματίζετε τις γραμμές σύνδεσης, η σύσταση είναι να προγραμματίσετε τους με την εξής σειρά:

1. (Πλήρους Delta) Εισαγωγή από καταλόγους εσωτερικής εγκατάστασης, όπως η υπηρεσία καταλόγου Active Directory
2. (Πλήρους Delta) Εισαγωγή από το Azure AD
3. (Πλήρους Delta) Συγχρονισμός από καταλόγους εσωτερικής εγκατάστασης, όπως η υπηρεσία καταλόγου Active Directory
4. (Πλήρους Delta) Συγχρονισμός από το Azure AD
5. Εξαγωγή σε Azure AD
6. Εξαγωγή σε καταλόγους εσωτερικής εγκατάστασης, όπως η υπηρεσία καταλόγου Active Directory

Εάν κοιτάξετε το ενσωματωμένο χρονοδιάγραμμα, αυτή είναι η σειρά τις συνδέσεις θα εκτελείται.

### <a name="get-adsyncconnectorrunstatus"></a>Get-ADSyncConnectorRunStatus
Μπορείτε επίσης να παρακολουθήσετε το μηχανισμό συγχρονισμού για να δείτε εάν είναι απασχολημένος ή αδράνειας. Αυτό το cmdlet θα επιστρέψει ένα κενό κελί, εάν ο μηχανισμός συγχρονισμού είναι σε αδράνεια και δεν εκτελείται μια γραμμή σύνδεσης. Εάν εκτελείται μια γραμμή σύνδεσης, θα επιστρέψει το όνομα της γραμμής σύνδεσης.

```
Get-ADSyncConnectorRunStatus
```

![Γραμμή σύνδεσης εκτέλεση κατάστασης](./media/active-directory-aadconnectsync-feature-scheduler/getconnectorrunstatus.png)  
Στην παραπάνω εικόνα, η πρώτη γραμμή είναι από την κατάσταση όπου ο μηχανισμός συγχρονισμού είναι σε αδράνεια. Η δεύτερη γραμμή από όταν εκτελείται η γραμμή σύνδεσης Azure AD.

## <a name="scheduler-and-installation-wizard"></a>Οδηγός εγκατάστασης του χρονοδιαγράμματος
Εάν ξεκινήσετε τον "Οδηγό εγκατάστασης", στη συνέχεια, το χρονοδιάγραμμα θα αναστέλλεται προσωρινά. Αυτό συμβαίνει επειδή θεωρείται πρόκειται να κάνετε αλλαγές στη ρύθμιση παραμέτρων και αυτές δεν μπορεί να εφαρμοστεί αν ενεργά εκτελείται ο μηχανισμός συγχρονισμού. Για αυτόν το λόγο, δεν αποχώρηση από τον "Οδηγό εγκατάστασης" Άνοιγμα δεδομένου ότι θα σταματήσει ο μηχανισμός συγχρονισμού από την εκτέλεση τυχόν ενέργειες συγχρονισμού.

## <a name="next-steps"></a>Επόμενα βήματα
Μάθετε περισσότερα σχετικά με τη ρύθμιση παραμέτρων [Azure AD Connect συγχρονισμός](active-directory-aadconnectsync-whatis.md) .

Μάθετε περισσότερα σχετικά με την [ενσωμάτωση του ταυτοτήτων εσωτερικής εγκατάστασης με Azure Active Directory](active-directory-aadconnect.md).
