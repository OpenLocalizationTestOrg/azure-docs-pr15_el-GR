<properties
    pageTitle="Κλιμάκωση μέτρηση παρουσιών αυτόματα ή με μη αυτόματο τρόπο | Microsoft Azure"
    description="Μάθετε πώς μπορείτε να περιορίσετε το μέγεθος των υπηρεσιών σας Azure."
    authors="rboucher"
    manager="carolz"
    editor=""
    services="monitoring-and-diagnostics"
    documentationCenter="monitoring-and-diagnostics"/>

<tags
    ms.service="monitoring-and-diagnostics"
    ms.workload="na"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/08/2015"
    ms.author="robb"/>

# <a name="scale-instance-count-manually-or-automatically"></a>Κλιμάκωση μέτρηση παρουσιών αυτόματα ή με μη αυτόματο τρόπο

Στην [Πύλη του Azure](https://portal.azure.com/), μπορείτε να ρυθμίσετε με μη αυτόματο τρόπο το πλήθος παρουσία της υπηρεσίας σας ή, μπορείτε να ορίσετε τις παραμέτρους για να την αυτόματη κλίμακα βάσει απαιτήσεων. Αυτό συνήθως αναφέρεται ως *κλίμακα ανάληψη* ή την *κλίμακα σε*.

Πριν από την κλιμάκωση βάσει πλήθους παρουσία, πρέπει να λάβετε υπόψη ότι κλίμακας επηρεάζεται από **επίπεδο Τιμολόγηση** εκτός από την καταμέτρηση παρουσία. Μπορούν να έχουν διαφορετικά επίπεδα τιμολόγησης πυρήνων διαφορετικούς αριθμούς και τη μνήμη και, επομένως, θα έχουν καλύτερες επιδόσεις για τον ίδιο αριθμό παρουσίες (που είναι *κλίμακας προς τα επάνω* ή την *κλίμακα προς τα κάτω*). Σε αυτό το άρθρο περιγράφει συγκεκριμένα *κλίμακα σε* και *ανάληψη*.

Μπορείτε να περιορίσετε το μέγεθος στην πύλη και μπορείτε επίσης να χρησιμοποιήσετε το [REST API](https://msdn.microsoft.com/library/azure/dn931953.aspx) ή [.NET SDK](https://www.nuget.org/packages/Microsoft.Azure.Insights/) για να προσαρμόσετε την κλίμακα αυτόματα ή με μη αυτόματο τρόπο.

> [AZURE.NOTE] Σε αυτό το άρθρο περιγράφει τον τρόπο για να δημιουργήσετε μια ρύθμιση autoscale στην πύλη του στο [http://portal.azure.com](http://portal.azure.com). Ρυθμίσεις Autoscale που δημιουργήθηκε σε αυτήν την πύλη δεν είναι δυνατή η επεξεργασία του κλασική πύλη ([http://manage.windowsazure.com](http://manage.windowsazure.com)).

## <a name="scaling-manually"></a>Κλιμάκωση με μη αυτόματο τρόπο

1. Στην [Πύλη του Azure](https://portal.azure.com/), κάντε κλικ στην επιλογή **Αναζήτηση**και, στη συνέχεια, μεταβείτε στον πόρο που θέλετε να κλιμακωθεί, όπως ένα **πρόγραμμα εφαρμογής υπηρεσίας**.

2. Το πλακίδιο **κλίμακα** σε **Λειτουργίες** θα σας ενημερώσει την κατάσταση της κλίμακας: **Απενεργοποίηση** για όταν που κλίμακα με μη αυτόματο τρόπο, **σε** για το πότε κλίμακας κατά μία ή περισσότερες μετρικών απόδοσης.
    ![Πλακίδιο κλίμακας](./media/insights-how-to-scale/Insights_UsageLens.png)

3. Κάνοντας κλικ στο πλακίδιο θα σας μεταφέρουν σε blade την **κλίμακα** . Στο επάνω μέρος του blade κλίμακα μπορείτε να δείτε ένα ιστορικό των ενεργειών autoscale της υπηρεσίας.  
    ![Κλίμακα blade](./media/insights-how-to-scale/Insights_ScaleBladeDayZero.png)

>[AZURE.NOTE] Μόνο οι ενέργειες που εκτελούνται από autoscale θα εμφανίζεται σε αυτό το γράφημα. Εάν ρυθμίζετε με μη αυτόματο τρόπο το πλήθος παρουσία, η αλλαγή δεν θα εφαρμόζονται σε αυτό το γράφημα.

4. Μπορείτε να ρυθμίσετε με μη αυτόματο τρόπο τις **παρουσίες** με το ρυθμιστικό.
5. Κάντε κλικ στην εντολή **Αποθήκευση** και που θα γίνει κλιμάκωση σε αυτόν τον αριθμό των παρουσιών σχεδόν αμέσως.

## <a name="scaling-based-on-a-pre-set-metric"></a>Κλιμάκωση με βάση ένα μετρικό προκαθορισμένων

Εάν θέλετε ο αριθμός των παρουσιών για την αυτόματη προσαρμογή με βάση ένα μετρικό, επιλέξτε το μετρικό που θέλετε στην αναπτυσσόμενη λίστα **κλίμακα από** . Για παράδειγμα, για ένα **σχέδιο παροχής υπηρεσιών εφαρμογής** που μπορεί να κλιμακωθεί με **Ποσοστό της CPU**.

1. Όταν επιλέγετε ένα μετρικό θα λάβετε ένα ρυθμιστικό ή/και, πλαίσια κειμένου για να εισαγάγετε τον αριθμό των παρουσιών που θέλετε να περιορίσετε το μέγεθος των μεταξύ:

    ![Κλίμακα blade με το ποσοστό της CPU](./media/insights-how-to-scale/Insights_ScaleBladeCPU.png)

    Autoscale θα χρειαστούν ποτέ την υπηρεσία κάτω ή επάνω από τα όρια που έχετε ορίσει, ανεξάρτητα από το φόρτο.

2. Δεύτερον, μπορείτε να επιλέξετε την περιοχή προορισμού για τη μέτρηση. Για παράδειγμα, εάν επιλέξατε **ποσοστό της CPU**, μπορείτε να ορίσετε μια προορισμού για τη μέση CPU σε όλες τις παρουσίες στην υπηρεσία. Μια κλίμακα ανάληψη θα συμβεί όταν η μέση CPU υπερβεί το μέγιστο όριο, μπορείτε να καθορίσετε, με τον ίδιο τρόπο, θα συμβεί μια κλίμακα σε κάθε φορά που το μέσο όρο CPU αποθέτει κάτω από το ελάχιστο.

3. Κάντε κλικ στην εντολή **Αποθήκευση** . Autoscale θα ελέγξει κάθε λίγα λεπτά για να βεβαιωθείτε ότι είστε στην περιοχή παρουσία και προορισμού για το μετρικό. Όταν την υπηρεσία λαμβάνει επιπλέον κίνηση, θα λάβετε περισσότερες παρουσίες χωρίς να κάνετε οτιδήποτε.

## <a name="scale-based-on-other-metrics"></a>Κλίμακα που βασίζεται σε άλλα μετρικά

Μπορείτε να κλιμάκωση βάσει μετρικά εκτός από τις προκαθορισμένες ρυθμίσεις που εμφανίζονται στην αναπτυσσόμενη λίστα **κλιμακωθεί με** , και να ακόμα και έχουν ένα σύνθετο σύνολο κλίμακα ανάληψη και κλιμάκωση σε κανόνες.

### <a name="adding-or-changing-a-rule"></a>Προσθήκη ή αλλαγή ενός κανόνα

1. Επιλέξτε το **Χρονοδιάγραμμα και επιδόσεων κανόνες** στην αναπτυσσόμενη λίστα **κλίμακα από** : ![κανόνες επιδόσεων](./media/insights-how-to-scale/Insights_PerformanceRules.png)

2. Εάν είχατε προηγουμένως autoscale, σε θα δείτε μια προβολή από την ακριβή κανόνες που είχατε.

3. Για να περιορίσετε το μέγεθος με βάση άλλο μετρικό κάντε κλικ στην επιλογή γραμμή **Προσθήκη κανόνα** . Μπορείτε επίσης να επιλέξετε μία από τις υπάρχουσες γραμμές για να αλλάξετε από τη μέτρηση που είχαν για τη μέτρηση που θέλετε να κλιμακωθεί με.
![Προσθήκη κανόνα](./media/insights-how-to-scale/Insights_AddRule.png)

4. Τώρα θα πρέπει να επιλέξετε ποια μετρικό σύστημα που θέλετε να κλιμακωθεί με. Όταν επιλέγετε ένα μετρικό υπάρχουν μερικά πράγματα που πρέπει να λάβετε υπόψη:
    * Ο *πόρος* τη μέτρηση προέρχεται από. Συνήθως, αυτό θα είναι το ίδιο με του πόρου που κλίμακας. Ωστόσο, εάν θέλετε να κλιμακωθεί με το βάθος μιας ουράς χώρου αποθήκευσης, ο πόρος είναι ουρά που θέλετε να κλιμακωθεί με.
    * Το ίδιο το *μετρικό όνομα* .
    * Την *ώρα συνάθροιση* των τη μέτρηση. Αυτό είναι πώς τα δεδομένα είναι συνδυασμός κατά τη *διάρκεια*.

5. Αφού επιλέξετε το μετρικό σύστημα μπορείτε να επιλέξετε το όριο για τη μέτρηση και τον τελεστή. Για παράδειγμα, μπορεί να πείτε **μεγαλύτερη από** **80%**.

6. Στη συνέχεια, επιλέξτε την ενέργεια που θέλετε να κρατήσετε. Υπάρχουν μερικά διαφορετικό τύπο ενέργειες:
    * Αύξηση ή μείωση κατά - αυτό θα προσθέσετε ή να καταργήσετε την **τιμή** αριθμού παρουσιών που μπορείτε να καθορίσετε
    * Αύξηση ή μείωση percent - αυτό θα αλλάξει το πλήθος παρουσία κάνοντας ένα ποσοστό. Για παράδειγμα, μπορείτε να τοποθετήσετε 25 στο πεδίο **τιμών** και, εάν είχατε τη συγκεκριμένη στιγμή 8 παρουσίες, 2 θα προστεθούν.
    * Αύξηση ή μείωση - αυτό θα ορίσει το πλήθος παρουσία στην **τιμή** που εσείς καθορίζετε.

7. Τέλος, μπορείτε να επιλέξετε εντυπωσιακές προς τα κάτω - πόσο χρόνο αυτός ο κανόνας θα πρέπει να περιμένω μετά την προηγούμενη ενέργεια κλίμακα για να κλιμακωθεί ξανά.

8. Αφού ρυθμίσετε τον κανόνα πατήσετε **OK**.

9. Αφού έχετε ρυθμίσει τις παραμέτρους όλους τους κανόνες που θέλετε, φροντίστε να πατήσετε την εντολή **Αποθήκευση** .

### <a name="scaling-with-multiple-steps"></a>Κλιμάκωση με πολλά βήματα

Τα παραπάνω παραδείγματα είναι πολύ βασικά. Ωστόσο, εάν θέλετε να είναι πιο αυστηρές σχετικά με την κλιμάκωση προς τα επάνω (ή προς τα κάτω), μπορείτε ακόμα να προσθέσετε πολλούς κανόνες κλίμακα για το ίδιο μετρικό. Για παράδειγμα, μπορείτε να ορίσετε κανόνες δύο κλίμακα σε ποσοστό της CPU:

1. Κλιμάκωση με την παρουσία 1 εάν το ποσοστό της CPU είναι μεγαλύτερη από 60%
2. Κλιμάκωση με 3 παρουσίες εάν το ποσοστό της CPU είναι παραπάνω 85%

![Πολλούς κανόνες κλίμακας](./media/insights-how-to-scale/Insights_MultipleScaleRules.png)

Με αυτόν τον κανόνα επιπλέον, εάν σας φόρτωση υπερβαίνει 85% πριν από μια ενέργεια κλίμακα, θα λάβετε δύο πρόσθετες εμφανίσεις αντί για ένα.

## <a name="scale-based-on-a-schedule"></a>Κλίμακα που βασίζεται σε ένα χρονοδιάγραμμα


Από προεπιλογή, όταν δημιουργείτε έναν κανόνα κλίμακα θα πάντα ισχύει. Μπορείτε να δείτε που όταν κάνετε κλικ στην επικεφαλίδα προφίλ:

![Προφίλ](./media/insights-how-to-scale/Insights_Profile.png)

Ωστόσο, μπορείτε να έχετε πιο αυστηρές κλιμάκωση κατά τη διάρκεια της ημέρας ή εβδομάδας, από το Σαββατοκύριακο. Θα ακόμα και θα μπορούσε να τερματίσετε την υπηρεσία εντελώς εκτός εργάσιμες ώρες.

1. Για να το κάνετε αυτό, στο προφίλ που έχετε, επιλέξτε **Περιοδικότητα** αντί για **πάντα,** και επιλέξτε την ώρα που θέλετε να εφαρμόσετε το προφίλ.

2. Για παράδειγμα, για να έχετε ένα προφίλ που ισχύει κατά τη διάρκεια της εβδομάδας, στην αναπτυσσόμενη λίστα **ημέρες** καταργήστε την επιλογή **Σάββατο** και η **Κυριακή**.

3. Για να έχετε ένα προφίλ που ισχύει την ημέρα, ορίστε την **ώρα έναρξης** για να την ώρα της ημέρας που θέλετε να ξεκινά με.
    ![Προεπιλεγμένη περιοδικότητας](./media/insights-how-to-scale/Insights_ProfileRecurrence.png)

4. Κάντε κλικ στο **κουμπί OK**.

5. Στη συνέχεια, θα πρέπει να προσθέσετε το προφίλ που θέλετε να εφαρμόσετε άλλες φορές. Κάντε κλικ στη γραμμή **Προσθήκη προφίλ** .
    ![Εκτός γραφείου](./media/insights-how-to-scale/Insights_ProfileOffWork.png)

6. Το όνομα του νέου, δεύτερο, προφίλ, για παράδειγμα θα μπορούσε να καλείτε **εκτός γραφείου**.

7. Στη συνέχεια, επιλέξτε **Περιοδικότητα** ξανά, και επιλέξτε την περιοχή count παρουσία που θέλετε σε αυτό το διάστημα.

8. Όπως με το προεπιλεγμένο προφίλ, επιλέξτε τις **ημέρες** που θέλετε να εφαρμόσετε σε αυτό το προφίλ και την **ώρα έναρξης** στη διάρκεια της ημέρας.

>[AZURE.NOTE] Autoscale θα χρησιμοποιήσει τη θερινή κανόνες για τη ρύθμιση για οποιαδήποτε **ζώνη ώρας** που επιλέγετε. Ωστόσο, κατά τη θερινή ώρα την απόκλιση UTC θα εμφανίσει τη μετατόπιση βασική ζώνη ώρας, όχι τη θερινή μετατόπιση εξοικονόμησης UTC.

9. Κάντε κλικ στο **κουμπί OK**.

10. Τώρα, θα πρέπει να προσθέσετε οποιονδήποτε κανόνων που θέλετε να εφαρμόσετε κατά το δεύτερο προφίλ. Κάντε κλικ στην επιλογή **Προσθήκη κανόνα**και, στη συνέχεια, μπορείτε να δημιουργήσετε τον ίδιο κανόνα που έχετε κατά τη διάρκεια του προεπιλεγμένου προφίλ.
    ![Προσθήκη κανόνα για να απενεργοποιήσετε την εργασία](./media/insights-how-to-scale/Insights_RuleOffWork.png)

11. Φροντίστε να δημιουργήσετε δύο έναν κανόνα για την κλίμακα ανάληψη και κλίμακα σε ή κατά τη διάρκεια του προφίλ το πλήθος παρουσία μόνο θα αυξηθεί (ή μείωση).

12. Τέλος, κάντε κλικ στην επιλογή **Αποθήκευση**.

## <a name="next-steps"></a>Επόμενα βήματα

* [Οθόνη μετρικά υπηρεσίας](insights-how-to-customize-monitoring.md) για να βεβαιωθείτε ότι η υπηρεσία σας είναι διαθέσιμο και αποκρίνεται.
* [Ενεργοποίηση παρακολούθησης και διαγνωστικών](insights-how-to-use-diagnostics.md) για τη συλλογή λεπτομερείς μετρικά υψηλής συχνότητας την υπηρεσία.
* [Λήψη ειδοποίησης ειδοποιήσεις](insights-receive-alert-notifications.md) κάθε φορά που συμβαίνουν λειτουργικές συμβάντα ή μετρικά cross μια οριακή τιμή.
* [Παρακολούθηση εφαρμογών απόδοσης](../application-insights/app-insights-azure-web-apps.md) εάν θέλετε να κατανοήσετε ακριβώς πώς σας κώδικα αποδίδει στο cloud.
* [Προβολή συμβάντων και αρχεία καταγραφής ελέγχου](insights-debugging-with-events.md) για να μάθετε τα πάντα που έχει γίνει στην υπηρεσία σας.
* Η [οθόνη διαθεσιμότητα και την απόκριση οποιασδήποτε σελίδας web](../application-insights/app-insights-monitor-web-app-availability.md) με εφαρμογή ιδέες, ώστε να μπορείτε να μάθετε αν σελίδα σας είναι προς τα κάτω.
