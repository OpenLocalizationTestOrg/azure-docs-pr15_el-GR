<properties
pageTitle="Ενεργοποίηση σύνδεση απομακρυσμένης επιφάνειας εργασίας για ένα ρόλο στις υπηρεσίες Cloud Azure χρησιμοποιώντας το PowerShell"
description="Πώς μπορείτε να ρυθμίσετε τις παραμέτρους του εφαρμογής υπηρεσίας azure cloud με χρήση του PowerShell για να επιτρέψετε συνδέσεις απομακρυσμένης επιφάνειας εργασίας"
services="cloud-services"
documentationCenter=""
authors="thraka"
manager="timlt"
editor=""/>
<tags
ms.service="cloud-services"
ms.workload="tbd"
ms.tgt_pltfrm="na"
ms.devlang="na"
ms.topic="article"
ms.date="08/05/2016"
ms.author="adegeo"/>

# <a name="enable-remote-desktop-connection-for-a-role-in-azure-cloud-services-using-powershell"></a>Ενεργοποίηση σύνδεση απομακρυσμένης επιφάνειας εργασίας για ένα ρόλο στις υπηρεσίες Cloud Azure χρησιμοποιώντας το PowerShell

>[AZURE.SELECTOR]
- [Azure κλασική πύλη](cloud-services-role-enable-remote-desktop.md)
- [PowerShell](cloud-services-role-enable-remote-desktop-powershell.md)
- [Visual Studio](../vs-azure-tools-remote-desktop-roles.md)


Σύνδεση απομακρυσμένης επιφάνειας εργασίας σάς επιτρέπει να αποκτήσετε πρόσβαση στην επιφάνεια εργασίας του ρόλου εκτελείται στο Azure. Μπορείτε να χρησιμοποιήσετε μια σύνδεση απομακρυσμένης επιφάνειας εργασίας για αντιμετώπιση προβλημάτων και διάγνωση προβλημάτων με την εφαρμογή σας, ενώ εκτελείται.

Σε αυτό το άρθρο περιγράφει τον τρόπο ενεργοποίησης της απομακρυσμένης επιφάνειας εργασίας σας τους ρόλους υπηρεσία Cloud χρησιμοποιώντας το PowerShell. Δείτε [πώς μπορείτε να εγκαταστήσετε και να ρυθμίσετε τις παραμέτρους του PowerShell Azure](../powershell-install-configure.md) για τις προϋποθέσεις που χρειάζονται για αυτό το άρθρο. PowerShell χρησιμοποιεί την επέκταση απομακρυσμένης επιφάνειας εργασίας, ώστε να μπορείτε να ενεργοποιήσετε την απομακρυσμένη επιφάνεια εργασίας μετά την ανάπτυξη της εφαρμογής.


## <a name="configure-remote-desktop-from-powershell"></a>Ρύθμιση παραμέτρων απομακρυσμένης επιφάνειας εργασίας από το PowerShell

Το cmdlet [Set-AzureServiceRemoteDesktopExtension](https://msdn.microsoft.com/library/azure/dn495117.aspx) σάς επιτρέπει να ενεργοποίηση της απομακρυσμένης επιφάνειας εργασίας στην καθορισμένη ρόλους ή όλους τους ρόλους της ανάπτυξης υπηρεσία cloud. Το cmdlet σάς επιτρέπει να καθορίσετε το όνομα χρήστη και τον κωδικό πρόσβασης για τον απομακρυσμένο υπολογιστή χρήστη μέσω της παραμέτρου *διαπιστευτηρίων* που δέχεται ένα αντικείμενο PSCredential.

Εάν χρησιμοποιείτε το PowerShell αλληλεπιδραστικά, μπορείτε να ορίσετε εύκολα το αντικείμενο PSCredential καλώντας το cmdlet [Get-διαπιστευτήρια](https://technet.microsoft.com/library/hh849815.aspx) .

```
$remoteusercredentials = Get-Credential
```

Η εντολή αυτή εμφανίζει ένα παράθυρο διαλόγου επιτρέποντάς σας να εισαγάγετε το όνομα χρήστη και τον κωδικό πρόσβασης για τον απομακρυσμένο χρήστη με ασφαλή τρόπο.

Επειδή το PowerShell βοηθά στην αυτοματοποίηση σενάρια, μπορείτε επίσης να ρυθμίσετε το αντικείμενο **PSCredential** με τον τρόπο που δεν απαιτούν παρέμβαση του χρήστη. Αρχικά, πρέπει να ρυθμίσετε έναν ασφαλή κωδικό πρόσβασης. Ξεκινάτε με που καθορίζει έναν κωδικό πρόσβασης απλού κειμένου, μετατρέψτε το σε ασφαλή συμβολοσειρά με [ConvertTo SecureString](https://technet.microsoft.com/library/hh849818.aspx). Στη συνέχεια, πρέπει να μετατρέψετε αυτήν τη συμβολοσειρά ασφαλούς σε μια κρυπτογραφημένη συμβολοσειρά τυπική χρησιμοποιώντας [ConvertFrom SecureString](https://technet.microsoft.com/library/hh849814.aspx). Τώρα μπορείτε να αποθηκεύσετε αυτήν τη συμβολοσειρά κρυπτογραφημένο τυπική σε ένα αρχείο χρησιμοποιώντας το [Σύνολο περιεχομένου](https://technet.microsoft.com/library/ee176959.aspx).

Μπορείτε επίσης να δημιουργήσετε ένα αρχείο ασφαλούς κωδικού πρόσβασης ώστε να μην χρειάζεται να πληκτρολογήσετε τον κωδικό πρόσβασης κάθε φορά. Επίσης, ένα αρχείο ασφαλούς κωδικού πρόσβασης είναι καλύτερη από ένα αρχείο απλού κειμένου. Χρησιμοποιήστε το παρακάτω PowerShell για να δημιουργήσετε ένα αρχείο ασφαλούς κωδικού πρόσβασης:

```
ConvertTo-SecureString -String "Password123" -AsPlainText -Force | ConvertFrom-SecureString | Set-Content "password.txt"
```

>[AZURE.IMPORTANT] Κατά τη ρύθμιση του κωδικού πρόσβασης, βεβαιωθείτε ότι πληρούνται οι [απαιτήσεις πολυπλοκότητα](https://technet.microsoft.com/library/cc786468.aspx).

Για να δημιουργήσετε το αντικείμενο διαπιστευτηρίων από το αρχείο ασφαλούς κωδικού πρόσβασης, πρέπει να διαβάσετε τα περιεχόμενα του αρχείου και να μετατρέψετε ξανά σε ασφαλή συμβολοσειρά με [ConvertTo SecureString](https://technet.microsoft.com/library/hh849818.aspx).

Το cmdlet [Set-AzureServiceRemoteDesktopExtension](https://msdn.microsoft.com/library/azure/dn495117.aspx) αποδέχεται επίσης μια παράμετρο *λήξης* , η οποία καθορίζει μια **ημερομηνία/ώρα** κατά την οποία λήγει το λογαριασμό χρήστη. Για παράδειγμα, μπορείτε να ορίσετε το λογαριασμό που θα λήξει σε λίγες ημέρες από την τρέχουσα ημερομηνία και ώρα.

Αυτό το παράδειγμα PowerShell δείχνει πώς μπορείτε να ορίσετε την επέκταση απομακρυσμένης επιφάνειας εργασίας σε μια υπηρεσία cloud:

```
$servicename = "cloudservice"
$username = "RemoteDesktopUser"
$securepassword = Get-Content -Path "password.txt" | ConvertTo-SecureString
$expiry = $(Get-Date).AddDays(1)
$credential = New-Object System.Management.Automation.PSCredential $username,$securepassword
Set-AzureServiceRemoteDesktopExtension -ServiceName $servicename -Credential $credential -Expiration $expiry
```
Επίσης, προαιρετικά, μπορείτε να καθορίσετε την υποδοχή ανάπτυξης και τους ρόλους που θέλετε να ενεργοποιήσετε το απομακρυσμένης επιφάνειας εργασίας σε. Εάν δεν καθορίζονται αυτές τις παραμέτρους, το cmdlet δίνει τη δυνατότητα απομακρυσμένης επιφάνειας εργασίας σε όλους τους ρόλους στην υποδοχή ανάπτυξης **παραγωγής** .

Η επέκταση απομακρυσμένης επιφάνειας εργασίας είναι συσχετισμένη με μια ανάπτυξη. Εάν δημιουργήσετε μια νέα ανάπτυξη για την υπηρεσία, πρέπει να ενεργοποιήσετε απομακρυσμένης επιφάνειας εργασίας σε αυτήν την ανάπτυξη. Εάν θέλετε πάντα να έχουν απομακρυσμένης επιφάνειας εργασίας είναι ενεργοποιημένη, στη συνέχεια, θα πρέπει να την ενοποίηση των δεσμών ενεργειών του PowerShell στη ροή εργασίας ανάπτυξης.


## <a name="remote-desktop-into-a-role-instance"></a>Σύνδεση απομακρυσμένης επιφάνειας εργασίας σε μια παρουσία ρόλων
Το cmdlet [Get-AzureRemoteDesktopFile](https://msdn.microsoft.com/library/azure/dn495261.aspx) χρησιμοποιείται για σύνδεση απομακρυσμένης επιφάνειας εργασίας σε ένα συγκεκριμένο ρόλο παρουσία της υπηρεσίας cloud. Μπορείτε να χρησιμοποιήσετε την παράμετρο *LocalPath* για να κάνετε λήψη του αρχείου RDP τοπικά. Ή μπορείτε να χρησιμοποιήσετε την παράμετρο *Εκκίνηση* για εκκίνηση απευθείας το παράθυρο διαλόγου σύνδεση απομακρυσμένης επιφάνειας εργασίας για να αποκτήσετε πρόσβαση η παρουσία ρόλο της υπηρεσίας cloud.

```
Get-AzureRemoteDesktopFile -ServiceName $servicename -Name "WorkerRole1_IN_0" -Launch
```


## <a name="check-if-remote-desktop-extension-is-enabled-on-a-service"></a>Ελέγξτε εάν είναι ενεργοποιημένη η επέκταση απομακρυσμένης επιφάνειας εργασίας σε μια υπηρεσία
Εμφανίζει το cmdlet [Get-AzureServiceRemoteDesktopExtension](https://msdn.microsoft.com/library/azure/dn495261.aspx) που είναι ενεργοποιημένη ή απενεργοποιημένη σε μια ανάπτυξη υπηρεσίας απομακρυσμένης επιφάνειας εργασίας. Το cmdlet επιστρέφει το όνομα χρήστη για το χρήστη απομακρυσμένης επιφάνειας εργασίας και τους ρόλους που την επέκταση απομακρυσμένης επιφάνειας εργασίας είναι ενεργοποιημένη για. Από προεπιλογή, αυτό συμβαίνει με την υποδοχή ανάπτυξης και μπορείτε να επιλέξετε να χρησιμοποιήσετε την υποδοχή ενδιάμεσου σταδίου αντί για αυτό.

```
Get-AzureServiceRemoteDesktopExtension -ServiceName $servicename
```

## <a name="remove-remote-desktop-extension-from-a-service"></a>Κατάργηση επέκταση απομακρυσμένης επιφάνειας εργασίας από μια υπηρεσία
Εάν έχετε ήδη ενεργοποιήσει την επέκταση απομακρυσμένης επιφάνειας εργασίας σε μια ανάπτυξη και πρέπει να ενημερώσετε τις ρυθμίσεις απομακρυσμένης επιφάνειας εργασίας, καταργήστε πρώτα την επέκταση. Και ενεργοποιήστε το ξανά με τις νέες ρυθμίσεις. Για παράδειγμα, εάν θέλετε να ορίσετε έναν νέο κωδικό πρόσβασης για το λογαριασμό χρήστη απομακρυσμένης ή λήξει το λογαριασμό. Αυτή η ενέργεια είναι απαραίτητη στην υπάρχουσα αναπτύξεις που έχουν επέκταση απομακρυσμένης επιφάνειας εργασίας με δυνατότητα. Για νέες αναπτύξεις, μπορείτε απλά να εφαρμόσετε την επέκταση απευθείας.

Για να καταργήσετε την επέκταση απομακρυσμένης επιφάνειας εργασίας από την ανάπτυξη, μπορείτε να χρησιμοποιήσετε το cmdlet [Κατάργηση AzureServiceRemoteDesktopExtension](https://msdn.microsoft.com/library/azure/dn495280.aspx) . Επίσης, προαιρετικά, μπορείτε να καθορίσετε το υποδιαίρεση ανάπτυξης και το ρόλο από την οποία θέλετε να καταργήσετε την επέκταση απομακρυσμένης επιφάνειας εργασίας.

```
Remove-AzureServiceRemoteDesktopExtension -ServiceName $servicename -UninstallConfiguration
```

>[AZURE.NOTE] Για να καταργήσετε πλήρως τις παραμέτρους επέκταση, θα πρέπει να καλέσετε το cmdlet *Κατάργηση* με την παράμετρο **UninstallConfiguration** .
>
>Η παράμετρος **UninstallConfiguration** καταργεί οποιαδήποτε ρύθμιση παραμέτρων επέκτασης που εφαρμόζεται για την υπηρεσία. Κάθε επέκταση ρύθμισης παραμέτρων έχει συσχετιστεί με τη ρύθμιση παραμέτρων της υπηρεσίας. Καλεί το cmdlet *Κατάργηση* χωρίς **UninstallConfiguration** καταργείται <mark>ανάπτυξης</mark> από τη ρύθμιση παραμέτρων επέκταση, έτσι αποτελεσματική καταργώντας την επέκταση. Ωστόσο, η ρύθμιση παραμέτρων επέκταση παραμένει σχετίζεται με την υπηρεσία.



## <a name="additional-resources"></a>Πρόσθετοι πόροι

[Πώς μπορείτε να ρυθμίσετε τις υπηρεσίες Cloud](cloud-services-how-to-configure.md)
