<properties 
    pageTitle="Ρύθμιση παραμέτρων του περιεχομένου με την πύλη Azure πολιτική εξουσιοδότησης του αριθμού-κλειδιού | Microsoft Azure" 
    description="Μάθετε πώς μπορείτε να ρυθμίσετε μια πολιτική εξουσιοδότησης για έναν αριθμό-κλειδί περιεχομένου." 
    services="media-services" 
    documentationCenter="" 
    authors="juliako" 
    manager="erikre" 
    editor=""/>

<tags 
    ms.service="media-services" 
    ms.workload="media" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="10/12/2016" 
    ms.author="juliako"/>



#<a name="configure-content-key-authorization-policy"></a>Ρύθμιση παραμέτρων της πολιτικής εξουσιοδότησης κλειδιού περιεχομένου
[AZURE.INCLUDE [media-services-selector-content-key-auth-policy](../../includes/media-services-selector-content-key-auth-policy.md)]


##<a name="overview"></a>Επισκόπηση

Υπηρεσίες πολυμέσων Azure Microsoft σάς επιτρέπει να κάνουν MPEG-ΔΙΑΚΕΚΟΜΜΈΝΗ ομαλή ροή και HTTP Live ροής (HLS) ροές που προστατεύονται με Advanced πρότυπο κρυπτογράφησης (AES) (με χρήση κλειδιών κρυπτογράφησης 128 bit) ή [Microsoft PlayReady DRM](https://www.microsoft.com/playready/overview/). Αθροιστικής μέτρησης ενισχύσεων σάς επιτρέπει επίσης να παράδοση κρυπτογραφημένα με Widevine DRM ροών ΠΑΎΛΑΣ. PlayReady και Widevine είναι κρυπτογραφημένα ανά της προδιαγραφής κοινές κρυπτογράφησης (ISO/IEC CENC 23001-7).

Υπηρεσίες πολυμέσων παρέχει επίσης μια **Υπηρεσία παράδοσης κλειδί/άδειας χρήσης** από το οποίο οι υπολογιστές-πελάτες να προμηθευτείτε AES πλήκτρα ή PlayReady/Widevine άδειες χρήσης για να αναπαραγάγετε το κρυπτογραφημένο περιεχόμενο.

Αυτό το θέμα δείχνει πώς μπορείτε να χρησιμοποιήσετε την πύλη του Azure για τη ρύθμιση παραμέτρων της πολιτικής περιεχομένου εξουσιοδότησης κλειδιού. Το κλειδί αργότερα μπορεί να χρησιμοποιηθεί για την κρυπτογράφηση δυναμικά το περιεχόμενό σας. Σημείωση ότι τη συγκεκριμένη στιγμή μπορείτε να κρυπτογραφήσετε το παρακάτω ροή μορφές: HLS ΠΑΎΛΑΣ MPEG και ομαλή ροή. Δεν μπορείτε να κρυπτογραφήσετε σκληροί ΔΊΣΚΟΙ μορφή ροής ή προοδευτική στοιχεία λήψης.

Όταν ένα πρόγραμμα αναπαραγωγής ζητά μια ροή που έχει οριστεί σε δυναμικό είναι κρυπτογραφημένα, Media Services χρησιμοποιεί τον αριθμό-κλειδί έχει ρυθμιστεί για την κρυπτογράφηση δυναμικά το περιεχόμενό σας χρησιμοποιεί κρυπτογράφηση AES ή DRM. Για να αποκρυπτογραφήσετε τη ροή, το πρόγραμμα αναπαραγωγής θα ζητήσει τον αριθμό-κλειδί από την υπηρεσία παράδοσης κλειδιού. Για να αποφασίσετε αν ο χρήστης έχει δικαίωμα για να λάβετε τον αριθμό-κλειδί, την υπηρεσία υπολογίζει τις πολιτικές εξουσιοδότησης που έχετε καθορίσει για τον αριθμό-κλειδί.


Εάν σκοπεύετε να έχει πολλές πλήκτρα περιεχομένου ή θέλετε να καθορίσετε μια διεύθυνση URL **Υπηρεσίας παράδοσης κλειδί/άδειας χρήσης** εκτός από την υπηρεσία παράδοσης κλειδιού Media Services, χρησιμοποιήστε Media Services .NET SDK ή REST API.

[Ρύθμιση παραμέτρων περιεχομένου χρησιμοποιώντας Media Services .NET SDK πολιτική εξουσιοδότησης του αριθμού-κλειδιού](media-services-dotnet-configure-content-key-auth-policy.md)

[Ρύθμιση παραμέτρων περιεχομένου πολιτική εξουσιοδότησης αριθμού-κλειδιού χρησιμοποιώντας υπηρεσίες πολυμέσων REST API](media-services-rest-configure-content-key-auth-policy.md)

###<a name="some-considerations-apply"></a>Εφαρμογή ορισμένα ζητήματα:

- Για να μπορέσετε να χρησιμοποιήσετε δυναμικές συσκευασία και δυναμική κρυπτογράφηση, πρέπει να βεβαιωθείτε ότι έχουν τουλάχιστον μία ροή δεσμευμένη μονάδα. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Τρόπος για να κλιμακωθεί υπηρεσίας πολυμέσων](media-services-portal-manage-streaming-endpoints.md).
- Σας περιουσιακών στοιχείων πρέπει να περιέχει ένα σύνολο προσαρμόσιμων ρυθμό μετάδοσης bit MP4s ή αρχεία ομαλή ροή προσαρμόσιμη ρυθμό μετάδοσης bit. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [κωδικοποίηση ενός περιουσιακού στοιχείου](media-services-encode-asset.md).
- Η υπηρεσία παράδοσης κλειδί αποθηκεύει προσωρινά ContentKeyAuthorizationPolicy και τα σχετικά αντικείμενα (επιλογές της πολιτικής και τους περιορισμούς) για 15 λεπτά.  Εάν δημιουργείτε μια ContentKeyAuthorizationPolicy και καθορίστε τη χρήση ενός περιορισμού "Διακριτικού", στη συνέχεια, δοκιμάστε ξανά, και, στη συνέχεια, να ενημερώσετε την πολιτική με περιορισμό "Άνοιγμα", θα χρειαστεί περίπου 15 λεπτά πριν από την πολιτική μεταβαίνει στην έκδοση "Άνοιγμα" της πολιτικής.


##<a name="how-to-configure-the-key-authorization-policy"></a>Πώς μπορείτε να: ρύθμιση παραμέτρων της πολιτικής εξουσιοδότησης κλειδιού

Για να ρυθμίσετε τις παραμέτρους της πολιτικής εξουσιοδότησης κλειδιού, επιλέξτε τη σελίδα **ΠΡΟΣΤΑΣΊΑΣ του ΠΕΡΙΕΧΟΜΈΝΟΥ** .

Υπηρεσίες πολυμέσων υποστηρίζει πολλές τρόποι για τον έλεγχο ταυτότητας τους χρήστες που κάνουν αιτήσεις κλειδιού. Η πολιτική εξουσιοδότησης κλειδιού περιεχομένου μπορεί να έχει **Άνοιγμα**, **διακριτικού**ή περιορισμοί άδειας **IP** (**IP** μπορούν να ρυθμιστούν με ΥΠΌΛΟΙΠΟ ή .NET SDK).

###<a name="open-restriction"></a>Άνοιγμα περιορισμού

Ο περιορισμός **Άνοιγμα** σημαίνει ότι το σύστημα θα κάνετε τον αριθμό-κλειδί σε οποιονδήποτε κάνει μια αίτηση κλειδιού. Αυτός ο περιορισμός μπορεί να είναι χρήσιμες για σκοπούς δοκιμής.

![OpenPolicy][open_policy]

###<a name="token-restriction"></a>Ο περιορισμός διακριτικού

Για να επιλέξετε την πολιτική διακριτικού περιορισμένα, πατήστε το κουμπί **ΔΙΑΚΡΙΤΙΚΟΎ** .

Η πολιτική **διακριτικού** περιορισμένων πρέπει να συνοδεύεται από ένα διακριτικό εκδοθεί από μια **Υπηρεσία ασφαλούς διακριτικού** (STS). Υπηρεσίες πολυμέσων υποστηρίζει τα διακριτικά σε το **Απλό διακριτικά Web** ([SWT](https://msdn.microsoft.com/library/gg185950.aspx#BKMK_2)) και της μορφής **JSON Web διακριτικού** (JWT). Για πληροφορίες, ανατρέξτε στο θέμα [JWT διακριτικού ελέγχου ταυτότητας](http://www.gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).

Υπηρεσίες πολυμέσων δεν παρέχει **Ασφαλούς διακριτικού υπηρεσίες**. Μπορείτε να δημιουργήσετε μια προσαρμοσμένη STS ή να αξιοποιήσετε Microsoft Azure ACS για να τα διακριτικά το ζήτημα. Το STS πρέπει να ρυθμιστεί για τη δημιουργία ενός διακριτικού συνδεδεμένοι με το συγκεκριμένο πρόβλημα και αριθμού-κλειδιού αξιώσεων που καθορίσατε στο στη ρύθμιση παραμέτρων διακριτικού περιορισμού. Η υπηρεσία παράδοσης κλειδιού Media Services θα επιστρέψει του κλειδιού κρυπτογράφησης στον υπολογιστή-πελάτη, εάν ισχύει το διακριτικό και το αξιώσεων στο διακριτικό ταιριάζουν με αυτές που έχουν ρυθμιστεί για το κλειδί περιεχομένου. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Χρήση Azure ACS για να τα διακριτικά το ζήτημα](http://mingfeiy.com/acs-with-key-services).

Κατά τη ρύθμιση των παραμέτρων του **ΔΙΑΚΡΙΤΙΚΟΎ** περιορισμένων πολιτική, πρέπει να ορίσετε τιμές για **το κλειδί επαλήθευσης**, **εκδότη** και **ακροατηρίου**. Το κλειδί πρωτεύοντος επαλήθευσης περιέχει τον αριθμό-κλειδί που υπογράφηκε με το διακριτικό, εκδότης είναι η υπηρεσία ασφαλούς διακριτικών που εκδίδει το διακριτικό. Το ακροατήριο (μερικές φορές ονομάζεται εύρος) περιγράφει πρόθεση το διακριτικό ή ο πόρος το διακριτικό παράσχει εξουσιοδότηση πρόσβασης. Η υπηρεσία παράδοσης κλειδιού Media Services επαληθεύει ότι αυτές οι τιμές στο διακριτικό ταιριάζουν με τις τιμές στο πρότυπο.

###<a name="playready"></a>PlayReady

Κατά την προστασία του περιεχομένου με **PlayReady**, ένα από τα πράγματα που πρέπει να καθορίσετε σε σας πολιτική εξουσιοδότησης είναι μια συμβολοσειρά XML που καθορίζει το πρότυπο PlayReady άδεια χρήσης. Από προεπιλογή, ορίζεται την ακόλουθη πολιτική:

<PlayReadyLicenseResponseTemplate xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/Azure/MediaServices/KeyDelivery/PlayReadyTemplate/v1">
      <LicenseTemplates>
        <PlayReadyLicenseTemplate><AllowTestDevices>true</AllowTestDevices>
          <ContentKey i:type="ContentEncryptionKeyFromHeader" />
          <LicenseType>Nonpersistent</LicenseType>
          <PlayRight>
            <AllowPassingVideoContentToUnknownOutput>Allowed</AllowPassingVideoContentToUnknownOutput>
          </PlayRight>
        </PlayReadyLicenseTemplate>
      </LicenseTemplates>
    </PlayReadyLicenseResponseTemplate>

Μπορείτε να κάντε κλικ στο κουμπί **Εισαγωγή πολιτικής xml** και να παρέχουν μια διαφορετική XML που συμφωνεί με το σχήμα XML που ορίζονται από [εδώ](https://msdn.microsoft.com/library/azure/dn783459.aspx).


##<a name="next-step"></a>Επόμενο βήμα

Αναθεώρηση Media Services διαδικασίες εκμάθησης.

[AZURE.INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

##<a name="provide-feedback"></a>Παροχή σχολίων

[AZURE.INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]





[open_policy]: ./media/media-services-portal-configure-content-key-auth-policy/media-services-protect-content-with-open-restriction.png
[token_policy]: ./media/media-services-key-authorization-policy/media-services-protect-content-with-token-restriction.png

